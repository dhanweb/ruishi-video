(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["common/vendor"],[
/* 0 */,
/* 1 */
/*!************************************************************!*\
  !*** ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {Object.defineProperty(exports, "__esModule", { value: true });exports.createApp = createApp;exports.createComponent = createComponent;exports.createPage = createPage;exports.createPlugin = createPlugin;exports.createSubpackageApp = createSubpackageApp;exports.default = void 0;var _uniI18n = __webpack_require__(/*! @dcloudio/uni-i18n */ 3);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 4));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _slicedToArray(arr, i) {return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();}function _nonIterableRest() {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr, i) {if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"] != null) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}function _arrayWithHoles(arr) {if (Array.isArray(arr)) return arr;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _iterableToArray(iter) {if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}

var realAtob;

var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
var b64re = /^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;

if (typeof atob !== 'function') {
  realAtob = function realAtob(str) {
    str = String(str).replace(/[\t\n\f\r ]+/g, '');
    if (!b64re.test(str)) {throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");}

    // Adding the padding if missing, for semplicity
    str += '=='.slice(2 - (str.length & 3));
    var bitmap;var result = '';var r1;var r2;var i = 0;
    for (; i < str.length;) {
      bitmap = b64.indexOf(str.charAt(i++)) << 18 | b64.indexOf(str.charAt(i++)) << 12 |
      (r1 = b64.indexOf(str.charAt(i++))) << 6 | (r2 = b64.indexOf(str.charAt(i++)));

      result += r1 === 64 ? String.fromCharCode(bitmap >> 16 & 255) :
      r2 === 64 ? String.fromCharCode(bitmap >> 16 & 255, bitmap >> 8 & 255) :
      String.fromCharCode(bitmap >> 16 & 255, bitmap >> 8 & 255, bitmap & 255);
    }
    return result;
  };
} else {
  // 注意atob只能在全局对象上调用，例如：`const Base64 = {atob};Base64.atob('xxxx')`是错误的用法
  realAtob = atob;
}

function b64DecodeUnicode(str) {
  return decodeURIComponent(realAtob(str).split('').map(function (c) {
    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(''));
}

function getCurrentUserInfo() {
  var token = wx.getStorageSync('uni_id_token') || '';
  var tokenArr = token.split('.');
  if (!token || tokenArr.length !== 3) {
    return {
      uid: null,
      role: [],
      permission: [],
      tokenExpired: 0 };

  }
  var userInfo;
  try {
    userInfo = JSON.parse(b64DecodeUnicode(tokenArr[1]));
  } catch (error) {
    throw new Error('获取当前用户信息出错，详细错误信息为：' + error.message);
  }
  userInfo.tokenExpired = userInfo.exp * 1000;
  delete userInfo.exp;
  delete userInfo.iat;
  return userInfo;
}

function uniIdMixin(Vue) {
  Vue.prototype.uniIDHasRole = function (roleId) {var _getCurrentUserInfo =


    getCurrentUserInfo(),role = _getCurrentUserInfo.role;
    return role.indexOf(roleId) > -1;
  };
  Vue.prototype.uniIDHasPermission = function (permissionId) {var _getCurrentUserInfo2 =


    getCurrentUserInfo(),permission = _getCurrentUserInfo2.permission;
    return this.uniIDHasRole('admin') || permission.indexOf(permissionId) > -1;
  };
  Vue.prototype.uniIDTokenValid = function () {var _getCurrentUserInfo3 =


    getCurrentUserInfo(),tokenExpired = _getCurrentUserInfo3.tokenExpired;
    return tokenExpired > Date.now();
  };
}

var _toString = Object.prototype.toString;
var hasOwnProperty = Object.prototype.hasOwnProperty;

function isFn(fn) {
  return typeof fn === 'function';
}

function isStr(str) {
  return typeof str === 'string';
}

function isPlainObject(obj) {
  return _toString.call(obj) === '[object Object]';
}

function hasOwn(obj, key) {
  return hasOwnProperty.call(obj, key);
}

function noop() {}

/**
                    * Create a cached version of a pure function.
                    */
function cached(fn) {
  var cache = Object.create(null);
  return function cachedFn(str) {
    var hit = cache[str];
    return hit || (cache[str] = fn(str));
  };
}

/**
   * Camelize a hyphen-delimited string.
   */
var camelizeRE = /-(\w)/g;
var camelize = cached(function (str) {
  return str.replace(camelizeRE, function (_, c) {return c ? c.toUpperCase() : '';});
});

function sortObject(obj) {
  var sortObj = {};
  if (isPlainObject(obj)) {
    Object.keys(obj).sort().forEach(function (key) {
      sortObj[key] = obj[key];
    });
  }
  return !Object.keys(sortObj) ? obj : sortObj;
}

var HOOKS = [
'invoke',
'success',
'fail',
'complete',
'returnValue'];


var globalInterceptors = {};
var scopedInterceptors = {};

function mergeHook(parentVal, childVal) {
  var res = childVal ?
  parentVal ?
  parentVal.concat(childVal) :
  Array.isArray(childVal) ?
  childVal : [childVal] :
  parentVal;
  return res ?
  dedupeHooks(res) :
  res;
}

function dedupeHooks(hooks) {
  var res = [];
  for (var i = 0; i < hooks.length; i++) {
    if (res.indexOf(hooks[i]) === -1) {
      res.push(hooks[i]);
    }
  }
  return res;
}

function removeHook(hooks, hook) {
  var index = hooks.indexOf(hook);
  if (index !== -1) {
    hooks.splice(index, 1);
  }
}

function mergeInterceptorHook(interceptor, option) {
  Object.keys(option).forEach(function (hook) {
    if (HOOKS.indexOf(hook) !== -1 && isFn(option[hook])) {
      interceptor[hook] = mergeHook(interceptor[hook], option[hook]);
    }
  });
}

function removeInterceptorHook(interceptor, option) {
  if (!interceptor || !option) {
    return;
  }
  Object.keys(option).forEach(function (hook) {
    if (HOOKS.indexOf(hook) !== -1 && isFn(option[hook])) {
      removeHook(interceptor[hook], option[hook]);
    }
  });
}

function addInterceptor(method, option) {
  if (typeof method === 'string' && isPlainObject(option)) {
    mergeInterceptorHook(scopedInterceptors[method] || (scopedInterceptors[method] = {}), option);
  } else if (isPlainObject(method)) {
    mergeInterceptorHook(globalInterceptors, method);
  }
}

function removeInterceptor(method, option) {
  if (typeof method === 'string') {
    if (isPlainObject(option)) {
      removeInterceptorHook(scopedInterceptors[method], option);
    } else {
      delete scopedInterceptors[method];
    }
  } else if (isPlainObject(method)) {
    removeInterceptorHook(globalInterceptors, method);
  }
}

function wrapperHook(hook) {
  return function (data) {
    return hook(data) || data;
  };
}

function isPromise(obj) {
  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';
}

function queue(hooks, data) {
  var promise = false;
  for (var i = 0; i < hooks.length; i++) {
    var hook = hooks[i];
    if (promise) {
      promise = Promise.resolve(wrapperHook(hook));
    } else {
      var res = hook(data);
      if (isPromise(res)) {
        promise = Promise.resolve(res);
      }
      if (res === false) {
        return {
          then: function then() {} };

      }
    }
  }
  return promise || {
    then: function then(callback) {
      return callback(data);
    } };

}

function wrapperOptions(interceptor) {var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  ['success', 'fail', 'complete'].forEach(function (name) {
    if (Array.isArray(interceptor[name])) {
      var oldCallback = options[name];
      options[name] = function callbackInterceptor(res) {
        queue(interceptor[name], res).then(function (res) {
          /* eslint-disable no-mixed-operators */
          return isFn(oldCallback) && oldCallback(res) || res;
        });
      };
    }
  });
  return options;
}

function wrapperReturnValue(method, returnValue) {
  var returnValueHooks = [];
  if (Array.isArray(globalInterceptors.returnValue)) {
    returnValueHooks.push.apply(returnValueHooks, _toConsumableArray(globalInterceptors.returnValue));
  }
  var interceptor = scopedInterceptors[method];
  if (interceptor && Array.isArray(interceptor.returnValue)) {
    returnValueHooks.push.apply(returnValueHooks, _toConsumableArray(interceptor.returnValue));
  }
  returnValueHooks.forEach(function (hook) {
    returnValue = hook(returnValue) || returnValue;
  });
  return returnValue;
}

function getApiInterceptorHooks(method) {
  var interceptor = Object.create(null);
  Object.keys(globalInterceptors).forEach(function (hook) {
    if (hook !== 'returnValue') {
      interceptor[hook] = globalInterceptors[hook].slice();
    }
  });
  var scopedInterceptor = scopedInterceptors[method];
  if (scopedInterceptor) {
    Object.keys(scopedInterceptor).forEach(function (hook) {
      if (hook !== 'returnValue') {
        interceptor[hook] = (interceptor[hook] || []).concat(scopedInterceptor[hook]);
      }
    });
  }
  return interceptor;
}

function invokeApi(method, api, options) {for (var _len = arguments.length, params = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {params[_key - 3] = arguments[_key];}
  var interceptor = getApiInterceptorHooks(method);
  if (interceptor && Object.keys(interceptor).length) {
    if (Array.isArray(interceptor.invoke)) {
      var res = queue(interceptor.invoke, options);
      return res.then(function (options) {
        return api.apply(void 0, [wrapperOptions(interceptor, options)].concat(params));
      });
    } else {
      return api.apply(void 0, [wrapperOptions(interceptor, options)].concat(params));
    }
  }
  return api.apply(void 0, [options].concat(params));
}

var promiseInterceptor = {
  returnValue: function returnValue(res) {
    if (!isPromise(res)) {
      return res;
    }
    return new Promise(function (resolve, reject) {
      res.then(function (res) {
        if (res[0]) {
          reject(res[0]);
        } else {
          resolve(res[1]);
        }
      });
    });
  } };


var SYNC_API_RE =
/^\$|Window$|WindowStyle$|sendHostEvent|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getLocale|setLocale|invokePushCallback|getWindowInfo|getDeviceInfo|getAppBaseInfo|getSystemSetting|getAppAuthorizeSetting/;

var CONTEXT_API_RE = /^create|Manager$/;

// Context例外情况
var CONTEXT_API_RE_EXC = ['createBLEConnection'];

// 同步例外情况
var ASYNC_API = ['createBLEConnection', 'createPushMessage'];

var CALLBACK_API_RE = /^on|^off/;

function isContextApi(name) {
  return CONTEXT_API_RE.test(name) && CONTEXT_API_RE_EXC.indexOf(name) === -1;
}
function isSyncApi(name) {
  return SYNC_API_RE.test(name) && ASYNC_API.indexOf(name) === -1;
}

function isCallbackApi(name) {
  return CALLBACK_API_RE.test(name) && name !== 'onPush';
}

function handlePromise(promise) {
  return promise.then(function (data) {
    return [null, data];
  }).
  catch(function (err) {return [err];});
}

function shouldPromise(name) {
  if (
  isContextApi(name) ||
  isSyncApi(name) ||
  isCallbackApi(name))
  {
    return false;
  }
  return true;
}

/* eslint-disable no-extend-native */
if (!Promise.prototype.finally) {
  Promise.prototype.finally = function (callback) {
    var promise = this.constructor;
    return this.then(
    function (value) {return promise.resolve(callback()).then(function () {return value;});},
    function (reason) {return promise.resolve(callback()).then(function () {
        throw reason;
      });});

  };
}

function promisify(name, api) {
  if (!shouldPromise(name)) {
    return api;
  }
  return function promiseApi() {var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {params[_key2 - 1] = arguments[_key2];}
    if (isFn(options.success) || isFn(options.fail) || isFn(options.complete)) {
      return wrapperReturnValue(name, invokeApi.apply(void 0, [name, api, options].concat(params)));
    }
    return wrapperReturnValue(name, handlePromise(new Promise(function (resolve, reject) {
      invokeApi.apply(void 0, [name, api, Object.assign({}, options, {
        success: resolve,
        fail: reject })].concat(
      params));
    })));
  };
}

var EPS = 1e-4;
var BASE_DEVICE_WIDTH = 750;
var isIOS = false;
var deviceWidth = 0;
var deviceDPR = 0;

function checkDeviceWidth() {var _wx$getSystemInfoSync =




  wx.getSystemInfoSync(),platform = _wx$getSystemInfoSync.platform,pixelRatio = _wx$getSystemInfoSync.pixelRatio,windowWidth = _wx$getSystemInfoSync.windowWidth; // uni=>wx runtime 编译目标是 uni 对象，内部不允许直接使用 uni

  deviceWidth = windowWidth;
  deviceDPR = pixelRatio;
  isIOS = platform === 'ios';
}

function upx2px(number, newDeviceWidth) {
  if (deviceWidth === 0) {
    checkDeviceWidth();
  }

  number = Number(number);
  if (number === 0) {
    return 0;
  }
  var result = number / BASE_DEVICE_WIDTH * (newDeviceWidth || deviceWidth);
  if (result < 0) {
    result = -result;
  }
  result = Math.floor(result + EPS);
  if (result === 0) {
    if (deviceDPR === 1 || !isIOS) {
      result = 1;
    } else {
      result = 0.5;
    }
  }
  return number < 0 ? -result : result;
}

var LOCALE_ZH_HANS = 'zh-Hans';
var LOCALE_ZH_HANT = 'zh-Hant';
var LOCALE_EN = 'en';
var LOCALE_FR = 'fr';
var LOCALE_ES = 'es';

var messages = {};

var locale;

{
  locale = normalizeLocale(wx.getSystemInfoSync().language) || LOCALE_EN;
}

function initI18nMessages() {
  if (!isEnableLocale()) {
    return;
  }
  var localeKeys = Object.keys(__uniConfig.locales);
  if (localeKeys.length) {
    localeKeys.forEach(function (locale) {
      var curMessages = messages[locale];
      var userMessages = __uniConfig.locales[locale];
      if (curMessages) {
        Object.assign(curMessages, userMessages);
      } else {
        messages[locale] = userMessages;
      }
    });
  }
}

initI18nMessages();

var i18n = (0, _uniI18n.initVueI18n)(
locale,
{});

var t = i18n.t;
var i18nMixin = i18n.mixin = {
  beforeCreate: function beforeCreate() {var _this = this;
    var unwatch = i18n.i18n.watchLocale(function () {
      _this.$forceUpdate();
    });
    this.$once('hook:beforeDestroy', function () {
      unwatch();
    });
  },
  methods: {
    $$t: function $$t(key, values) {
      return t(key, values);
    } } };


var setLocale = i18n.setLocale;
var getLocale = i18n.getLocale;

function initAppLocale(Vue, appVm, locale) {
  var state = Vue.observable({
    locale: locale || i18n.getLocale() });

  var localeWatchers = [];
  appVm.$watchLocale = function (fn) {
    localeWatchers.push(fn);
  };
  Object.defineProperty(appVm, '$locale', {
    get: function get() {
      return state.locale;
    },
    set: function set(v) {
      state.locale = v;
      localeWatchers.forEach(function (watch) {return watch(v);});
    } });

}

function isEnableLocale() {
  return typeof __uniConfig !== 'undefined' && __uniConfig.locales && !!Object.keys(__uniConfig.locales).length;
}

function include(str, parts) {
  return !!parts.find(function (part) {return str.indexOf(part) !== -1;});
}

function startsWith(str, parts) {
  return parts.find(function (part) {return str.indexOf(part) === 0;});
}

function normalizeLocale(locale, messages) {
  if (!locale) {
    return;
  }
  locale = locale.trim().replace(/_/g, '-');
  if (messages && messages[locale]) {
    return locale;
  }
  locale = locale.toLowerCase();
  if (locale === 'chinese') {
    // 支付宝
    return LOCALE_ZH_HANS;
  }
  if (locale.indexOf('zh') === 0) {
    if (locale.indexOf('-hans') > -1) {
      return LOCALE_ZH_HANS;
    }
    if (locale.indexOf('-hant') > -1) {
      return LOCALE_ZH_HANT;
    }
    if (include(locale, ['-tw', '-hk', '-mo', '-cht'])) {
      return LOCALE_ZH_HANT;
    }
    return LOCALE_ZH_HANS;
  }
  var lang = startsWith(locale, [LOCALE_EN, LOCALE_FR, LOCALE_ES]);
  if (lang) {
    return lang;
  }
}
// export function initI18n() {
//   const localeKeys = Object.keys(__uniConfig.locales || {})
//   if (localeKeys.length) {
//     localeKeys.forEach((locale) =>
//       i18n.add(locale, __uniConfig.locales[locale])
//     )
//   }
// }

function getLocale$1() {
  // 优先使用 $locale
  var app = getApp({
    allowDefault: true });

  if (app && app.$vm) {
    return app.$vm.$locale;
  }
  return normalizeLocale(wx.getSystemInfoSync().language) || LOCALE_EN;
}

function setLocale$1(locale) {
  var app = getApp();
  if (!app) {
    return false;
  }
  var oldLocale = app.$vm.$locale;
  if (oldLocale !== locale) {
    app.$vm.$locale = locale;
    onLocaleChangeCallbacks.forEach(function (fn) {return fn({
        locale: locale });});

    return true;
  }
  return false;
}

var onLocaleChangeCallbacks = [];
function onLocaleChange(fn) {
  if (onLocaleChangeCallbacks.indexOf(fn) === -1) {
    onLocaleChangeCallbacks.push(fn);
  }
}

if (typeof global !== 'undefined') {
  global.getLocale = getLocale$1;
}

var interceptors = {
  promiseInterceptor: promiseInterceptor };


var baseApi = /*#__PURE__*/Object.freeze({
  __proto__: null,
  upx2px: upx2px,
  getLocale: getLocale$1,
  setLocale: setLocale$1,
  onLocaleChange: onLocaleChange,
  addInterceptor: addInterceptor,
  removeInterceptor: removeInterceptor,
  interceptors: interceptors });


function findExistsPageIndex(url) {
  var pages = getCurrentPages();
  var len = pages.length;
  while (len--) {
    var page = pages[len];
    if (page.$page && page.$page.fullPath === url) {
      return len;
    }
  }
  return -1;
}

var redirectTo = {
  name: function name(fromArgs) {
    if (fromArgs.exists === 'back' && fromArgs.delta) {
      return 'navigateBack';
    }
    return 'redirectTo';
  },
  args: function args(fromArgs) {
    if (fromArgs.exists === 'back' && fromArgs.url) {
      var existsPageIndex = findExistsPageIndex(fromArgs.url);
      if (existsPageIndex !== -1) {
        var delta = getCurrentPages().length - 1 - existsPageIndex;
        if (delta > 0) {
          fromArgs.delta = delta;
        }
      }
    }
  } };


var previewImage = {
  args: function args(fromArgs) {
    var currentIndex = parseInt(fromArgs.current);
    if (isNaN(currentIndex)) {
      return;
    }
    var urls = fromArgs.urls;
    if (!Array.isArray(urls)) {
      return;
    }
    var len = urls.length;
    if (!len) {
      return;
    }
    if (currentIndex < 0) {
      currentIndex = 0;
    } else if (currentIndex >= len) {
      currentIndex = len - 1;
    }
    if (currentIndex > 0) {
      fromArgs.current = urls[currentIndex];
      fromArgs.urls = urls.filter(
      function (item, index) {return index < currentIndex ? item !== urls[currentIndex] : true;});

    } else {
      fromArgs.current = urls[0];
    }
    return {
      indicator: false,
      loop: false };

  } };


var UUID_KEY = '__DC_STAT_UUID';
var deviceId;
function useDeviceId(result) {
  deviceId = deviceId || wx.getStorageSync(UUID_KEY);
  if (!deviceId) {
    deviceId = Date.now() + '' + Math.floor(Math.random() * 1e7);
    wx.setStorage({
      key: UUID_KEY,
      data: deviceId });

  }
  result.deviceId = deviceId;
}

function addSafeAreaInsets(result) {
  if (result.safeArea) {
    var safeArea = result.safeArea;
    result.safeAreaInsets = {
      top: safeArea.top,
      left: safeArea.left,
      right: result.windowWidth - safeArea.right,
      bottom: result.screenHeight - safeArea.bottom };

  }
}

function populateParameters(result) {var _result$brand =





  result.brand,brand = _result$brand === void 0 ? '' : _result$brand,_result$model = result.model,model = _result$model === void 0 ? '' : _result$model,_result$system = result.system,system = _result$system === void 0 ? '' : _result$system,_result$language = result.language,language = _result$language === void 0 ? '' : _result$language,theme = result.theme,version = result.version,platform = result.platform,fontSizeSetting = result.fontSizeSetting,SDKVersion = result.SDKVersion,pixelRatio = result.pixelRatio,deviceOrientation = result.deviceOrientation;
  // const isQuickApp = "mp-weixin".indexOf('quickapp-webview') !== -1

  // osName osVersion
  var osName = '';
  var osVersion = '';
  {
    osName = system.split(' ')[0] || '';
    osVersion = system.split(' ')[1] || '';
  }
  var hostVersion = version;

  // deviceType
  var deviceType = getGetDeviceType(result, model);

  // deviceModel
  var deviceBrand = getDeviceBrand(brand);

  // hostName
  var _hostName = getHostName(result);

  // deviceOrientation
  var _deviceOrientation = deviceOrientation; // 仅 微信 百度 支持

  // devicePixelRatio
  var _devicePixelRatio = pixelRatio;

  // SDKVersion
  var _SDKVersion = SDKVersion;

  // hostLanguage
  var hostLanguage = language.replace(/_/g, '-');

  // wx.getAccountInfoSync

  var parameters = {
    appId: "__UNI__CD30AC2",
    appName: "ruishi-video-user",
    appVersion: "1.0.0",
    appVersionCode: "100",
    appLanguage: getAppLanguage(hostLanguage),
    uniCompileVersion: "3.6.4",
    uniRuntimeVersion: "3.6.4",
    uniPlatform: undefined || "mp-weixin",
    deviceBrand: deviceBrand,
    deviceModel: model,
    deviceType: deviceType,
    devicePixelRatio: _devicePixelRatio,
    deviceOrientation: _deviceOrientation,
    osName: osName.toLocaleLowerCase(),
    osVersion: osVersion,
    hostTheme: theme,
    hostVersion: hostVersion,
    hostLanguage: hostLanguage,
    hostName: _hostName,
    hostSDKVersion: _SDKVersion,
    hostFontSizeSetting: fontSizeSetting,
    windowTop: 0,
    windowBottom: 0,
    // TODO
    osLanguage: undefined,
    osTheme: undefined,
    ua: undefined,
    hostPackageName: undefined,
    browserName: undefined,
    browserVersion: undefined };


  Object.assign(result, parameters);
}

function getGetDeviceType(result, model) {
  var deviceType = result.deviceType || 'phone';
  {
    var deviceTypeMaps = {
      ipad: 'pad',
      windows: 'pc',
      mac: 'pc' };

    var deviceTypeMapsKeys = Object.keys(deviceTypeMaps);
    var _model = model.toLocaleLowerCase();
    for (var index = 0; index < deviceTypeMapsKeys.length; index++) {
      var _m = deviceTypeMapsKeys[index];
      if (_model.indexOf(_m) !== -1) {
        deviceType = deviceTypeMaps[_m];
        break;
      }
    }
  }
  return deviceType;
}

function getDeviceBrand(brand) {
  var deviceBrand = brand;
  if (deviceBrand) {
    deviceBrand = brand.toLocaleLowerCase();
  }
  return deviceBrand;
}

function getAppLanguage(defaultLanguage) {
  return getLocale$1 ?
  getLocale$1() :
  defaultLanguage;
}

function getHostName(result) {
  var _platform = 'WeChat';
  var _hostName = result.hostName || _platform; // mp-jd
  {
    if (result.environment) {
      _hostName = result.environment;
    } else if (result.host && result.host.env) {
      _hostName = result.host.env;
    }
  }

  return _hostName;
}

var getSystemInfo = {
  returnValue: function returnValue(result) {
    useDeviceId(result);
    addSafeAreaInsets(result);
    populateParameters(result);
  } };


var showActionSheet = {
  args: function args(fromArgs) {
    if (typeof fromArgs === 'object') {
      fromArgs.alertText = fromArgs.title;
    }
  } };


var getAppBaseInfo = {
  returnValue: function returnValue(result) {var _result =
    result,version = _result.version,language = _result.language,SDKVersion = _result.SDKVersion,theme = _result.theme;

    var _hostName = getHostName(result);

    var hostLanguage = language.replace('_', '-');

    result = sortObject(Object.assign(result, {
      appId: "__UNI__CD30AC2",
      appName: "ruishi-video-user",
      appVersion: "1.0.0",
      appVersionCode: "100",
      appLanguage: getAppLanguage(hostLanguage),
      hostVersion: version,
      hostLanguage: hostLanguage,
      hostName: _hostName,
      hostSDKVersion: SDKVersion,
      hostTheme: theme }));

  } };


var getDeviceInfo = {
  returnValue: function returnValue(result) {var _result2 =
    result,brand = _result2.brand,model = _result2.model;
    var deviceType = getGetDeviceType(result, model);
    var deviceBrand = getDeviceBrand(brand);
    useDeviceId(result);

    result = sortObject(Object.assign(result, {
      deviceType: deviceType,
      deviceBrand: deviceBrand,
      deviceModel: model }));

  } };


var getWindowInfo = {
  returnValue: function returnValue(result) {
    addSafeAreaInsets(result);

    result = sortObject(Object.assign(result, {
      windowTop: 0,
      windowBottom: 0 }));

  } };


var getAppAuthorizeSetting = {
  returnValue: function returnValue(result) {var
    locationReducedAccuracy = result.locationReducedAccuracy;

    result.locationAccuracy = 'unsupported';
    if (locationReducedAccuracy === true) {
      result.locationAccuracy = 'reduced';
    } else if (locationReducedAccuracy === false) {
      result.locationAccuracy = 'full';
    }
  } };


// import navigateTo from 'uni-helpers/navigate-to'

var protocols = {
  redirectTo: redirectTo,
  // navigateTo,  // 由于在微信开发者工具的页面参数，会显示__id__参数，因此暂时关闭mp-weixin对于navigateTo的AOP
  previewImage: previewImage,
  getSystemInfo: getSystemInfo,
  getSystemInfoSync: getSystemInfo,
  showActionSheet: showActionSheet,
  getAppBaseInfo: getAppBaseInfo,
  getDeviceInfo: getDeviceInfo,
  getWindowInfo: getWindowInfo,
  getAppAuthorizeSetting: getAppAuthorizeSetting };

var todos = [
'vibrate',
'preloadPage',
'unPreloadPage',
'loadSubPackage'];

var canIUses = [];

var CALLBACKS = ['success', 'fail', 'cancel', 'complete'];

function processCallback(methodName, method, returnValue) {
  return function (res) {
    return method(processReturnValue(methodName, res, returnValue));
  };
}

function processArgs(methodName, fromArgs) {var argsOption = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};var returnValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};var keepFromArgs = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  if (isPlainObject(fromArgs)) {// 一般 api 的参数解析
    var toArgs = keepFromArgs === true ? fromArgs : {}; // returnValue 为 false 时，说明是格式化返回值，直接在返回值对象上修改赋值
    if (isFn(argsOption)) {
      argsOption = argsOption(fromArgs, toArgs) || {};
    }
    for (var key in fromArgs) {
      if (hasOwn(argsOption, key)) {
        var keyOption = argsOption[key];
        if (isFn(keyOption)) {
          keyOption = keyOption(fromArgs[key], fromArgs, toArgs);
        }
        if (!keyOption) {// 不支持的参数
          console.warn("The '".concat(methodName, "' method of platform '\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F' does not support option '").concat(key, "'"));
        } else if (isStr(keyOption)) {// 重写参数 key
          toArgs[keyOption] = fromArgs[key];
        } else if (isPlainObject(keyOption)) {// {name:newName,value:value}可重新指定参数 key:value
          toArgs[keyOption.name ? keyOption.name : key] = keyOption.value;
        }
      } else if (CALLBACKS.indexOf(key) !== -1) {
        if (isFn(fromArgs[key])) {
          toArgs[key] = processCallback(methodName, fromArgs[key], returnValue);
        }
      } else {
        if (!keepFromArgs) {
          toArgs[key] = fromArgs[key];
        }
      }
    }
    return toArgs;
  } else if (isFn(fromArgs)) {
    fromArgs = processCallback(methodName, fromArgs, returnValue);
  }
  return fromArgs;
}

function processReturnValue(methodName, res, returnValue) {var keepReturnValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  if (isFn(protocols.returnValue)) {// 处理通用 returnValue
    res = protocols.returnValue(methodName, res);
  }
  return processArgs(methodName, res, returnValue, {}, keepReturnValue);
}

function wrapper(methodName, method) {
  if (hasOwn(protocols, methodName)) {
    var protocol = protocols[methodName];
    if (!protocol) {// 暂不支持的 api
      return function () {
        console.error("Platform '\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F' does not support '".concat(methodName, "'."));
      };
    }
    return function (arg1, arg2) {// 目前 api 最多两个参数
      var options = protocol;
      if (isFn(protocol)) {
        options = protocol(arg1);
      }

      arg1 = processArgs(methodName, arg1, options.args, options.returnValue);

      var args = [arg1];
      if (typeof arg2 !== 'undefined') {
        args.push(arg2);
      }
      if (isFn(options.name)) {
        methodName = options.name(arg1);
      } else if (isStr(options.name)) {
        methodName = options.name;
      }
      var returnValue = wx[methodName].apply(wx, args);
      if (isSyncApi(methodName)) {// 同步 api
        return processReturnValue(methodName, returnValue, options.returnValue, isContextApi(methodName));
      }
      return returnValue;
    };
  }
  return method;
}

var todoApis = Object.create(null);

var TODOS = [
'onTabBarMidButtonTap',
'subscribePush',
'unsubscribePush',
'onPush',
'offPush',
'share'];


function createTodoApi(name) {
  return function todoApi(_ref)


  {var fail = _ref.fail,complete = _ref.complete;
    var res = {
      errMsg: "".concat(name, ":fail method '").concat(name, "' not supported") };

    isFn(fail) && fail(res);
    isFn(complete) && complete(res);
  };
}

TODOS.forEach(function (name) {
  todoApis[name] = createTodoApi(name);
});

var providers = {
  oauth: ['weixin'],
  share: ['weixin'],
  payment: ['wxpay'],
  push: ['weixin'] };


function getProvider(_ref2)




{var service = _ref2.service,success = _ref2.success,fail = _ref2.fail,complete = _ref2.complete;
  var res = false;
  if (providers[service]) {
    res = {
      errMsg: 'getProvider:ok',
      service: service,
      provider: providers[service] };

    isFn(success) && success(res);
  } else {
    res = {
      errMsg: 'getProvider:fail service not found' };

    isFn(fail) && fail(res);
  }
  isFn(complete) && complete(res);
}

var extraApi = /*#__PURE__*/Object.freeze({
  __proto__: null,
  getProvider: getProvider });


var getEmitter = function () {
  var Emitter;
  return function getUniEmitter() {
    if (!Emitter) {
      Emitter = new _vue.default();
    }
    return Emitter;
  };
}();

function apply(ctx, method, args) {
  return ctx[method].apply(ctx, args);
}

function $on() {
  return apply(getEmitter(), '$on', Array.prototype.slice.call(arguments));
}
function $off() {
  return apply(getEmitter(), '$off', Array.prototype.slice.call(arguments));
}
function $once() {
  return apply(getEmitter(), '$once', Array.prototype.slice.call(arguments));
}
function $emit() {
  return apply(getEmitter(), '$emit', Array.prototype.slice.call(arguments));
}

var eventApi = /*#__PURE__*/Object.freeze({
  __proto__: null,
  $on: $on,
  $off: $off,
  $once: $once,
  $emit: $emit });


/**
                    * 框架内 try-catch
                    */
/**
                        * 开发者 try-catch
                        */
function tryCatch(fn) {
  return function () {
    try {
      return fn.apply(fn, arguments);
    } catch (e) {
      // TODO
      console.error(e);
    }
  };
}

function getApiCallbacks(params) {
  var apiCallbacks = {};
  for (var name in params) {
    var param = params[name];
    if (isFn(param)) {
      apiCallbacks[name] = tryCatch(param);
      delete params[name];
    }
  }
  return apiCallbacks;
}

var cid;
var cidErrMsg;
var enabled;

function normalizePushMessage(message) {
  try {
    return JSON.parse(message);
  } catch (e) {}
  return message;
}

function invokePushCallback(
args)
{
  if (args.type === 'enabled') {
    enabled = true;
  } else if (args.type === 'clientId') {
    cid = args.cid;
    cidErrMsg = args.errMsg;
    invokeGetPushCidCallbacks(cid, args.errMsg);
  } else if (args.type === 'pushMsg') {
    var message = {
      type: 'receive',
      data: normalizePushMessage(args.message) };

    for (var i = 0; i < onPushMessageCallbacks.length; i++) {
      var callback = onPushMessageCallbacks[i];
      callback(message);
      // 该消息已被阻止
      if (message.stopped) {
        break;
      }
    }
  } else if (args.type === 'click') {
    onPushMessageCallbacks.forEach(function (callback) {
      callback({
        type: 'click',
        data: normalizePushMessage(args.message) });

    });
  }
}

var getPushCidCallbacks = [];

function invokeGetPushCidCallbacks(cid, errMsg) {
  getPushCidCallbacks.forEach(function (callback) {
    callback(cid, errMsg);
  });
  getPushCidCallbacks.length = 0;
}

function getPushClientId(args) {
  if (!isPlainObject(args)) {
    args = {};
  }var _getApiCallbacks =




  getApiCallbacks(args),success = _getApiCallbacks.success,fail = _getApiCallbacks.fail,complete = _getApiCallbacks.complete;
  var hasSuccess = isFn(success);
  var hasFail = isFn(fail);
  var hasComplete = isFn(complete);

  Promise.resolve().then(function () {
    if (typeof enabled === 'undefined') {
      enabled = false;
      cid = '';
      cidErrMsg = 'uniPush is not enabled';
    }
    getPushCidCallbacks.push(function (cid, errMsg) {
      var res;
      if (cid) {
        res = {
          errMsg: 'getPushClientId:ok',
          cid: cid };

        hasSuccess && success(res);
      } else {
        res = {
          errMsg: 'getPushClientId:fail' + (errMsg ? ' ' + errMsg : '') };

        hasFail && fail(res);
      }
      hasComplete && complete(res);
    });
    if (typeof cid !== 'undefined') {
      invokeGetPushCidCallbacks(cid, cidErrMsg);
    }
  });
}

var onPushMessageCallbacks = [];
// 不使用 defineOnApi 实现，是因为 defineOnApi 依赖 UniServiceJSBridge ，该对象目前在小程序上未提供，故简单实现
var onPushMessage = function onPushMessage(fn) {
  if (onPushMessageCallbacks.indexOf(fn) === -1) {
    onPushMessageCallbacks.push(fn);
  }
};

var offPushMessage = function offPushMessage(fn) {
  if (!fn) {
    onPushMessageCallbacks.length = 0;
  } else {
    var index = onPushMessageCallbacks.indexOf(fn);
    if (index > -1) {
      onPushMessageCallbacks.splice(index, 1);
    }
  }
};

var api = /*#__PURE__*/Object.freeze({
  __proto__: null,
  getPushClientId: getPushClientId,
  onPushMessage: onPushMessage,
  offPushMessage: offPushMessage,
  invokePushCallback: invokePushCallback });


var MPPage = Page;
var MPComponent = Component;

var customizeRE = /:/g;

var customize = cached(function (str) {
  return camelize(str.replace(customizeRE, '-'));
});

function initTriggerEvent(mpInstance) {
  var oldTriggerEvent = mpInstance.triggerEvent;
  var newTriggerEvent = function newTriggerEvent(event) {for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {args[_key3 - 1] = arguments[_key3];}
    // 事件名统一转驼峰格式，仅处理：当前组件为 vue 组件、当前组件为 vue 组件子组件
    if (this.$vm || this.dataset && this.dataset.comType) {
      event = customize(event);
    } else {
      // 针对微信/QQ小程序单独补充驼峰格式事件，以兼容历史项目
      var newEvent = customize(event);
      if (newEvent !== event) {
        oldTriggerEvent.apply(this, [newEvent].concat(args));
      }
    }
    return oldTriggerEvent.apply(this, [event].concat(args));
  };
  try {
    // 京东小程序 triggerEvent 为只读
    mpInstance.triggerEvent = newTriggerEvent;
  } catch (error) {
    mpInstance._triggerEvent = newTriggerEvent;
  }
}

function initHook(name, options, isComponent) {
  var oldHook = options[name];
  if (!oldHook) {
    options[name] = function () {
      initTriggerEvent(this);
    };
  } else {
    options[name] = function () {
      initTriggerEvent(this);for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {args[_key4] = arguments[_key4];}
      return oldHook.apply(this, args);
    };
  }
}
if (!MPPage.__$wrappered) {
  MPPage.__$wrappered = true;
  Page = function Page() {var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    initHook('onLoad', options);
    return MPPage(options);
  };
  Page.after = MPPage.after;

  Component = function Component() {var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    initHook('created', options);
    return MPComponent(options);
  };
}

var PAGE_EVENT_HOOKS = [
'onPullDownRefresh',
'onReachBottom',
'onAddToFavorites',
'onShareTimeline',
'onShareAppMessage',
'onPageScroll',
'onResize',
'onTabItemTap'];


function initMocks(vm, mocks) {
  var mpInstance = vm.$mp[vm.mpType];
  mocks.forEach(function (mock) {
    if (hasOwn(mpInstance, mock)) {
      vm[mock] = mpInstance[mock];
    }
  });
}

function hasHook(hook, vueOptions) {
  if (!vueOptions) {
    return true;
  }

  if (_vue.default.options && Array.isArray(_vue.default.options[hook])) {
    return true;
  }

  vueOptions = vueOptions.default || vueOptions;

  if (isFn(vueOptions)) {
    if (isFn(vueOptions.extendOptions[hook])) {
      return true;
    }
    if (vueOptions.super &&
    vueOptions.super.options &&
    Array.isArray(vueOptions.super.options[hook])) {
      return true;
    }
    return false;
  }

  if (isFn(vueOptions[hook])) {
    return true;
  }
  var mixins = vueOptions.mixins;
  if (Array.isArray(mixins)) {
    return !!mixins.find(function (mixin) {return hasHook(hook, mixin);});
  }
}

function initHooks(mpOptions, hooks, vueOptions) {
  hooks.forEach(function (hook) {
    if (hasHook(hook, vueOptions)) {
      mpOptions[hook] = function (args) {
        return this.$vm && this.$vm.__call_hook(hook, args);
      };
    }
  });
}

function initUnknownHooks(mpOptions, vueOptions) {var excludes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
  findHooks(vueOptions).forEach(function (hook) {return initHook$1(mpOptions, hook, excludes);});
}

function findHooks(vueOptions) {var hooks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  if (vueOptions) {
    Object.keys(vueOptions).forEach(function (name) {
      if (name.indexOf('on') === 0 && isFn(vueOptions[name])) {
        hooks.push(name);
      }
    });
  }
  return hooks;
}

function initHook$1(mpOptions, hook, excludes) {
  if (excludes.indexOf(hook) === -1 && !hasOwn(mpOptions, hook)) {
    mpOptions[hook] = function (args) {
      return this.$vm && this.$vm.__call_hook(hook, args);
    };
  }
}

function initVueComponent(Vue, vueOptions) {
  vueOptions = vueOptions.default || vueOptions;
  var VueComponent;
  if (isFn(vueOptions)) {
    VueComponent = vueOptions;
  } else {
    VueComponent = Vue.extend(vueOptions);
  }
  vueOptions = VueComponent.options;
  return [VueComponent, vueOptions];
}

function initSlots(vm, vueSlots) {
  if (Array.isArray(vueSlots) && vueSlots.length) {
    var $slots = Object.create(null);
    vueSlots.forEach(function (slotName) {
      $slots[slotName] = true;
    });
    vm.$scopedSlots = vm.$slots = $slots;
  }
}

function initVueIds(vueIds, mpInstance) {
  vueIds = (vueIds || '').split(',');
  var len = vueIds.length;

  if (len === 1) {
    mpInstance._$vueId = vueIds[0];
  } else if (len === 2) {
    mpInstance._$vueId = vueIds[0];
    mpInstance._$vuePid = vueIds[1];
  }
}

function initData(vueOptions, context) {
  var data = vueOptions.data || {};
  var methods = vueOptions.methods || {};

  if (typeof data === 'function') {
    try {
      data = data.call(context); // 支持 Vue.prototype 上挂的数据
    } catch (e) {
      if (Object({"VUE_APP_NAME":"ruishi-video-user","VUE_APP_PLATFORM":"mp-weixin","NODE_ENV":"development","BASE_URL":"/"}).VUE_APP_DEBUG) {
        console.warn('根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。', data);
      }
    }
  } else {
    try {
      // 对 data 格式化
      data = JSON.parse(JSON.stringify(data));
    } catch (e) {}
  }

  if (!isPlainObject(data)) {
    data = {};
  }

  Object.keys(methods).forEach(function (methodName) {
    if (context.__lifecycle_hooks__.indexOf(methodName) === -1 && !hasOwn(data, methodName)) {
      data[methodName] = methods[methodName];
    }
  });

  return data;
}

var PROP_TYPES = [String, Number, Boolean, Object, Array, null];

function createObserver(name) {
  return function observer(newVal, oldVal) {
    if (this.$vm) {
      this.$vm[name] = newVal; // 为了触发其他非 render watcher
    }
  };
}

function initBehaviors(vueOptions, initBehavior) {
  var vueBehaviors = vueOptions.behaviors;
  var vueExtends = vueOptions.extends;
  var vueMixins = vueOptions.mixins;

  var vueProps = vueOptions.props;

  if (!vueProps) {
    vueOptions.props = vueProps = [];
  }

  var behaviors = [];
  if (Array.isArray(vueBehaviors)) {
    vueBehaviors.forEach(function (behavior) {
      behaviors.push(behavior.replace('uni://', "wx".concat("://")));
      if (behavior === 'uni://form-field') {
        if (Array.isArray(vueProps)) {
          vueProps.push('name');
          vueProps.push('value');
        } else {
          vueProps.name = {
            type: String,
            default: '' };

          vueProps.value = {
            type: [String, Number, Boolean, Array, Object, Date],
            default: '' };

        }
      }
    });
  }
  if (isPlainObject(vueExtends) && vueExtends.props) {
    behaviors.push(
    initBehavior({
      properties: initProperties(vueExtends.props, true) }));


  }
  if (Array.isArray(vueMixins)) {
    vueMixins.forEach(function (vueMixin) {
      if (isPlainObject(vueMixin) && vueMixin.props) {
        behaviors.push(
        initBehavior({
          properties: initProperties(vueMixin.props, true) }));


      }
    });
  }
  return behaviors;
}

function parsePropType(key, type, defaultValue, file) {
  // [String]=>String
  if (Array.isArray(type) && type.length === 1) {
    return type[0];
  }
  return type;
}

function initProperties(props) {var isBehavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';var options = arguments.length > 3 ? arguments[3] : undefined;
  var properties = {};
  if (!isBehavior) {
    properties.vueId = {
      type: String,
      value: '' };

    {
      if (options.virtualHost) {
        properties.virtualHostStyle = {
          type: null,
          value: '' };

        properties.virtualHostClass = {
          type: null,
          value: '' };

      }
    }
    // scopedSlotsCompiler auto
    properties.scopedSlotsCompiler = {
      type: String,
      value: '' };

    properties.vueSlots = { // 小程序不能直接定义 $slots 的 props，所以通过 vueSlots 转换到 $slots
      type: null,
      value: [],
      observer: function observer(newVal, oldVal) {
        var $slots = Object.create(null);
        newVal.forEach(function (slotName) {
          $slots[slotName] = true;
        });
        this.setData({
          $slots: $slots });

      } };

  }
  if (Array.isArray(props)) {// ['title']
    props.forEach(function (key) {
      properties[key] = {
        type: null,
        observer: createObserver(key) };

    });
  } else if (isPlainObject(props)) {// {title:{type:String,default:''},content:String}
    Object.keys(props).forEach(function (key) {
      var opts = props[key];
      if (isPlainObject(opts)) {// title:{type:String,default:''}
        var value = opts.default;
        if (isFn(value)) {
          value = value();
        }

        opts.type = parsePropType(key, opts.type);

        properties[key] = {
          type: PROP_TYPES.indexOf(opts.type) !== -1 ? opts.type : null,
          value: value,
          observer: createObserver(key) };

      } else {// content:String
        var type = parsePropType(key, opts);
        properties[key] = {
          type: PROP_TYPES.indexOf(type) !== -1 ? type : null,
          observer: createObserver(key) };

      }
    });
  }
  return properties;
}

function wrapper$1(event) {
  // TODO 又得兼容 mpvue 的 mp 对象
  try {
    event.mp = JSON.parse(JSON.stringify(event));
  } catch (e) {}

  event.stopPropagation = noop;
  event.preventDefault = noop;

  event.target = event.target || {};

  if (!hasOwn(event, 'detail')) {
    event.detail = {};
  }

  if (hasOwn(event, 'markerId')) {
    event.detail = typeof event.detail === 'object' ? event.detail : {};
    event.detail.markerId = event.markerId;
  }

  if (isPlainObject(event.detail)) {
    event.target = Object.assign({}, event.target, event.detail);
  }

  return event;
}

function getExtraValue(vm, dataPathsArray) {
  var context = vm;
  dataPathsArray.forEach(function (dataPathArray) {
    var dataPath = dataPathArray[0];
    var value = dataPathArray[2];
    if (dataPath || typeof value !== 'undefined') {// ['','',index,'disable']
      var propPath = dataPathArray[1];
      var valuePath = dataPathArray[3];

      var vFor;
      if (Number.isInteger(dataPath)) {
        vFor = dataPath;
      } else if (!dataPath) {
        vFor = context;
      } else if (typeof dataPath === 'string' && dataPath) {
        if (dataPath.indexOf('#s#') === 0) {
          vFor = dataPath.substr(3);
        } else {
          vFor = vm.__get_value(dataPath, context);
        }
      }

      if (Number.isInteger(vFor)) {
        context = value;
      } else if (!propPath) {
        context = vFor[value];
      } else {
        if (Array.isArray(vFor)) {
          context = vFor.find(function (vForItem) {
            return vm.__get_value(propPath, vForItem) === value;
          });
        } else if (isPlainObject(vFor)) {
          context = Object.keys(vFor).find(function (vForKey) {
            return vm.__get_value(propPath, vFor[vForKey]) === value;
          });
        } else {
          console.error('v-for 暂不支持循环数据：', vFor);
        }
      }

      if (valuePath) {
        context = vm.__get_value(valuePath, context);
      }
    }
  });
  return context;
}

function processEventExtra(vm, extra, event, __args__) {
  var extraObj = {};

  if (Array.isArray(extra) && extra.length) {
    /**
                                              *[
                                              *    ['data.items', 'data.id', item.data.id],
                                              *    ['metas', 'id', meta.id]
                                              *],
                                              *[
                                              *    ['data.items', 'data.id', item.data.id],
                                              *    ['metas', 'id', meta.id]
                                              *],
                                              *'test'
                                              */
    extra.forEach(function (dataPath, index) {
      if (typeof dataPath === 'string') {
        if (!dataPath) {// model,prop.sync
          extraObj['$' + index] = vm;
        } else {
          if (dataPath === '$event') {// $event
            extraObj['$' + index] = event;
          } else if (dataPath === 'arguments') {
            extraObj['$' + index] = event.detail ? event.detail.__args__ || __args__ : __args__;
          } else if (dataPath.indexOf('$event.') === 0) {// $event.target.value
            extraObj['$' + index] = vm.__get_value(dataPath.replace('$event.', ''), event);
          } else {
            extraObj['$' + index] = vm.__get_value(dataPath);
          }
        }
      } else {
        extraObj['$' + index] = getExtraValue(vm, dataPath);
      }
    });
  }

  return extraObj;
}

function getObjByArray(arr) {
  var obj = {};
  for (var i = 1; i < arr.length; i++) {
    var element = arr[i];
    obj[element[0]] = element[1];
  }
  return obj;
}

function processEventArgs(vm, event) {var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];var extra = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];var isCustom = arguments.length > 4 ? arguments[4] : undefined;var methodName = arguments.length > 5 ? arguments[5] : undefined;
  var isCustomMPEvent = false; // wxcomponent 组件，传递原始 event 对象

  // fixed 用户直接触发 mpInstance.triggerEvent
  var __args__ = isPlainObject(event.detail) ?
  event.detail.__args__ || [event.detail] :
  [event.detail];

  if (isCustom) {// 自定义事件
    isCustomMPEvent = event.currentTarget &&
    event.currentTarget.dataset &&
    event.currentTarget.dataset.comType === 'wx';
    if (!args.length) {// 无参数，直接传入 event 或 detail 数组
      if (isCustomMPEvent) {
        return [event];
      }
      return __args__;
    }
  }

  var extraObj = processEventExtra(vm, extra, event, __args__);

  var ret = [];
  args.forEach(function (arg) {
    if (arg === '$event') {
      if (methodName === '__set_model' && !isCustom) {// input v-model value
        ret.push(event.target.value);
      } else {
        if (isCustom && !isCustomMPEvent) {
          ret.push(__args__[0]);
        } else {// wxcomponent 组件或内置组件
          ret.push(event);
        }
      }
    } else {
      if (Array.isArray(arg) && arg[0] === 'o') {
        ret.push(getObjByArray(arg));
      } else if (typeof arg === 'string' && hasOwn(extraObj, arg)) {
        ret.push(extraObj[arg]);
      } else {
        ret.push(arg);
      }
    }
  });

  return ret;
}

var ONCE = '~';
var CUSTOM = '^';

function isMatchEventType(eventType, optType) {
  return eventType === optType ||

  optType === 'regionchange' && (

  eventType === 'begin' ||
  eventType === 'end');


}

function getContextVm(vm) {
  var $parent = vm.$parent;
  // 父组件是 scoped slots 或者其他自定义组件时继续查找
  while ($parent && $parent.$parent && ($parent.$options.generic || $parent.$parent.$options.generic || $parent.$scope._$vuePid)) {
    $parent = $parent.$parent;
  }
  return $parent && $parent.$parent;
}

function handleEvent(event) {var _this2 = this;
  event = wrapper$1(event);

  // [['tap',[['handle',[1,2,a]],['handle1',[1,2,a]]]]]
  var dataset = (event.currentTarget || event.target).dataset;
  if (!dataset) {
    return console.warn('事件信息不存在');
  }
  var eventOpts = dataset.eventOpts || dataset['event-opts']; // 支付宝 web-view 组件 dataset 非驼峰
  if (!eventOpts) {
    return console.warn('事件信息不存在');
  }

  // [['handle',[1,2,a]],['handle1',[1,2,a]]]
  var eventType = event.type;

  var ret = [];

  eventOpts.forEach(function (eventOpt) {
    var type = eventOpt[0];
    var eventsArray = eventOpt[1];

    var isCustom = type.charAt(0) === CUSTOM;
    type = isCustom ? type.slice(1) : type;
    var isOnce = type.charAt(0) === ONCE;
    type = isOnce ? type.slice(1) : type;

    if (eventsArray && isMatchEventType(eventType, type)) {
      eventsArray.forEach(function (eventArray) {
        var methodName = eventArray[0];
        if (methodName) {
          var handlerCtx = _this2.$vm;
          if (handlerCtx.$options.generic) {// mp-weixin,mp-toutiao 抽象节点模拟 scoped slots
            handlerCtx = getContextVm(handlerCtx) || handlerCtx;
          }
          if (methodName === '$emit') {
            handlerCtx.$emit.apply(handlerCtx,
            processEventArgs(
            _this2.$vm,
            event,
            eventArray[1],
            eventArray[2],
            isCustom,
            methodName));

            return;
          }
          var handler = handlerCtx[methodName];
          if (!isFn(handler)) {
            var _type = _this2.$vm.mpType === 'page' ? 'Page' : 'Component';
            var path = _this2.route || _this2.is;
            throw new Error("".concat(_type, " \"").concat(path, "\" does not have a method \"").concat(methodName, "\""));
          }
          if (isOnce) {
            if (handler.once) {
              return;
            }
            handler.once = true;
          }
          var params = processEventArgs(
          _this2.$vm,
          event,
          eventArray[1],
          eventArray[2],
          isCustom,
          methodName);

          params = Array.isArray(params) ? params : [];
          // 参数尾部增加原始事件对象用于复杂表达式内获取额外数据
          if (/=\s*\S+\.eventParams\s*\|\|\s*\S+\[['"]event-params['"]\]/.test(handler.toString())) {
            // eslint-disable-next-line no-sparse-arrays
            params = params.concat([,,,,,,,,,, event]);
          }
          ret.push(handler.apply(handlerCtx, params));
        }
      });
    }
  });

  if (
  eventType === 'input' &&
  ret.length === 1 &&
  typeof ret[0] !== 'undefined')
  {
    return ret[0];
  }
}

var eventChannels = {};

var eventChannelStack = [];

function getEventChannel(id) {
  if (id) {
    var eventChannel = eventChannels[id];
    delete eventChannels[id];
    return eventChannel;
  }
  return eventChannelStack.shift();
}

var hooks = [
'onShow',
'onHide',
'onError',
'onPageNotFound',
'onThemeChange',
'onUnhandledRejection'];


function initEventChannel() {
  _vue.default.prototype.getOpenerEventChannel = function () {
    // 微信小程序使用自身getOpenerEventChannel
    {
      return this.$scope.getOpenerEventChannel();
    }
  };
  var callHook = _vue.default.prototype.__call_hook;
  _vue.default.prototype.__call_hook = function (hook, args) {
    if (hook === 'onLoad' && args && args.__id__) {
      this.__eventChannel__ = getEventChannel(args.__id__);
      delete args.__id__;
    }
    return callHook.call(this, hook, args);
  };
}

function initScopedSlotsParams() {
  var center = {};
  var parents = {};

  _vue.default.prototype.$hasScopedSlotsParams = function (vueId) {
    var has = center[vueId];
    if (!has) {
      parents[vueId] = this;
      this.$on('hook:destroyed', function () {
        delete parents[vueId];
      });
    }
    return has;
  };

  _vue.default.prototype.$getScopedSlotsParams = function (vueId, name, key) {
    var data = center[vueId];
    if (data) {
      var object = data[name] || {};
      return key ? object[key] : object;
    } else {
      parents[vueId] = this;
      this.$on('hook:destroyed', function () {
        delete parents[vueId];
      });
    }
  };

  _vue.default.prototype.$setScopedSlotsParams = function (name, value) {
    var vueIds = this.$options.propsData.vueId;
    if (vueIds) {
      var vueId = vueIds.split(',')[0];
      var object = center[vueId] = center[vueId] || {};
      object[name] = value;
      if (parents[vueId]) {
        parents[vueId].$forceUpdate();
      }
    }
  };

  _vue.default.mixin({
    destroyed: function destroyed() {
      var propsData = this.$options.propsData;
      var vueId = propsData && propsData.vueId;
      if (vueId) {
        delete center[vueId];
        delete parents[vueId];
      }
    } });

}

function parseBaseApp(vm, _ref3)


{var mocks = _ref3.mocks,initRefs = _ref3.initRefs;
  initEventChannel();
  {
    initScopedSlotsParams();
  }
  if (vm.$options.store) {
    _vue.default.prototype.$store = vm.$options.store;
  }
  uniIdMixin(_vue.default);

  _vue.default.prototype.mpHost = "mp-weixin";

  _vue.default.mixin({
    beforeCreate: function beforeCreate() {
      if (!this.$options.mpType) {
        return;
      }

      this.mpType = this.$options.mpType;

      this.$mp = _defineProperty({
        data: {} },
      this.mpType, this.$options.mpInstance);


      this.$scope = this.$options.mpInstance;

      delete this.$options.mpType;
      delete this.$options.mpInstance;
      if (this.mpType === 'page' && typeof getApp === 'function') {// hack vue-i18n
        var app = getApp();
        if (app.$vm && app.$vm.$i18n) {
          this._i18n = app.$vm.$i18n;
        }
      }
      if (this.mpType !== 'app') {
        initRefs(this);
        initMocks(this, mocks);
      }
    } });


  var appOptions = {
    onLaunch: function onLaunch(args) {
      if (this.$vm) {// 已经初始化过了，主要是为了百度，百度 onShow 在 onLaunch 之前
        return;
      }
      {
        if (wx.canIUse && !wx.canIUse('nextTick')) {// 事实 上2.2.3 即可，简单使用 2.3.0 的 nextTick 判断
          console.error('当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上');
        }
      }

      this.$vm = vm;

      this.$vm.$mp = {
        app: this };


      this.$vm.$scope = this;
      // vm 上也挂载 globalData
      this.$vm.globalData = this.globalData;

      this.$vm._isMounted = true;
      this.$vm.__call_hook('mounted', args);

      this.$vm.__call_hook('onLaunch', args);
    } };


  // 兼容旧版本 globalData
  appOptions.globalData = vm.$options.globalData || {};
  // 将 methods 中的方法挂在 getApp() 中
  var methods = vm.$options.methods;
  if (methods) {
    Object.keys(methods).forEach(function (name) {
      appOptions[name] = methods[name];
    });
  }

  initAppLocale(_vue.default, vm, normalizeLocale(wx.getSystemInfoSync().language) || LOCALE_EN);

  initHooks(appOptions, hooks);
  initUnknownHooks(appOptions, vm.$options);

  return appOptions;
}

var mocks = ['__route__', '__wxExparserNodeId__', '__wxWebviewId__'];

function findVmByVueId(vm, vuePid) {
  var $children = vm.$children;
  // 优先查找直属(反向查找:https://github.com/dcloudio/uni-app/issues/1200)
  for (var i = $children.length - 1; i >= 0; i--) {
    var childVm = $children[i];
    if (childVm.$scope._$vueId === vuePid) {
      return childVm;
    }
  }
  // 反向递归查找
  var parentVm;
  for (var _i = $children.length - 1; _i >= 0; _i--) {
    parentVm = findVmByVueId($children[_i], vuePid);
    if (parentVm) {
      return parentVm;
    }
  }
}

function initBehavior(options) {
  return Behavior(options);
}

function isPage() {
  return !!this.route;
}

function initRelation(detail) {
  this.triggerEvent('__l', detail);
}

function selectAllComponents(mpInstance, selector, $refs) {
  var components = mpInstance.selectAllComponents(selector);
  components.forEach(function (component) {
    var ref = component.dataset.ref;
    $refs[ref] = component.$vm || component;
    {
      if (component.dataset.vueGeneric === 'scoped') {
        component.selectAllComponents('.scoped-ref').forEach(function (scopedComponent) {
          selectAllComponents(scopedComponent, selector, $refs);
        });
      }
    }
  });
}

function initRefs(vm) {
  var mpInstance = vm.$scope;
  Object.defineProperty(vm, '$refs', {
    get: function get() {
      var $refs = {};
      selectAllComponents(mpInstance, '.vue-ref', $refs);
      // TODO 暂不考虑 for 中的 scoped
      var forComponents = mpInstance.selectAllComponents('.vue-ref-in-for');
      forComponents.forEach(function (component) {
        var ref = component.dataset.ref;
        if (!$refs[ref]) {
          $refs[ref] = [];
        }
        $refs[ref].push(component.$vm || component);
      });
      return $refs;
    } });

}

function handleLink(event) {var _ref4 =



  event.detail || event.value,vuePid = _ref4.vuePid,vueOptions = _ref4.vueOptions; // detail 是微信,value 是百度(dipatch)

  var parentVm;

  if (vuePid) {
    parentVm = findVmByVueId(this.$vm, vuePid);
  }

  if (!parentVm) {
    parentVm = this.$vm;
  }

  vueOptions.parent = parentVm;
}

function parseApp(vm) {
  return parseBaseApp(vm, {
    mocks: mocks,
    initRefs: initRefs });

}

function createApp(vm) {
  App(parseApp(vm));
  return vm;
}

var encodeReserveRE = /[!'()*]/g;
var encodeReserveReplacer = function encodeReserveReplacer(c) {return '%' + c.charCodeAt(0).toString(16);};
var commaRE = /%2C/g;

// fixed encodeURIComponent which is more conformant to RFC3986:
// - escapes [!'()*]
// - preserve commas
var encode = function encode(str) {return encodeURIComponent(str).
  replace(encodeReserveRE, encodeReserveReplacer).
  replace(commaRE, ',');};

function stringifyQuery(obj) {var encodeStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : encode;
  var res = obj ? Object.keys(obj).map(function (key) {
    var val = obj[key];

    if (val === undefined) {
      return '';
    }

    if (val === null) {
      return encodeStr(key);
    }

    if (Array.isArray(val)) {
      var result = [];
      val.forEach(function (val2) {
        if (val2 === undefined) {
          return;
        }
        if (val2 === null) {
          result.push(encodeStr(key));
        } else {
          result.push(encodeStr(key) + '=' + encodeStr(val2));
        }
      });
      return result.join('&');
    }

    return encodeStr(key) + '=' + encodeStr(val);
  }).filter(function (x) {return x.length > 0;}).join('&') : null;
  return res ? "?".concat(res) : '';
}

function parseBaseComponent(vueComponentOptions)


{var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},isPage = _ref5.isPage,initRelation = _ref5.initRelation;var _initVueComponent =
  initVueComponent(_vue.default, vueComponentOptions),_initVueComponent2 = _slicedToArray(_initVueComponent, 2),VueComponent = _initVueComponent2[0],vueOptions = _initVueComponent2[1];

  var options = _objectSpread({
    multipleSlots: true,
    addGlobalClass: true },
  vueOptions.options || {});


  {
    // 微信 multipleSlots 部分情况有 bug，导致内容顺序错乱 如 u-list，提供覆盖选项
    if (vueOptions['mp-weixin'] && vueOptions['mp-weixin'].options) {
      Object.assign(options, vueOptions['mp-weixin'].options);
    }
  }

  var componentOptions = {
    options: options,
    data: initData(vueOptions, _vue.default.prototype),
    behaviors: initBehaviors(vueOptions, initBehavior),
    properties: initProperties(vueOptions.props, false, vueOptions.__file, options),
    lifetimes: {
      attached: function attached() {
        var properties = this.properties;

        var options = {
          mpType: isPage.call(this) ? 'page' : 'component',
          mpInstance: this,
          propsData: properties };


        initVueIds(properties.vueId, this);

        // 处理父子关系
        initRelation.call(this, {
          vuePid: this._$vuePid,
          vueOptions: options });


        // 初始化 vue 实例
        this.$vm = new VueComponent(options);

        // 处理$slots,$scopedSlots（暂不支持动态变化$slots）
        initSlots(this.$vm, properties.vueSlots);

        // 触发首次 setData
        this.$vm.$mount();
      },
      ready: function ready() {
        // 当组件 props 默认值为 true，初始化时传入 false 会导致 created,ready 触发, 但 attached 不触发
        // https://developers.weixin.qq.com/community/develop/doc/00066ae2844cc0f8eb883e2a557800
        if (this.$vm) {
          this.$vm._isMounted = true;
          this.$vm.__call_hook('mounted');
          this.$vm.__call_hook('onReady');
        }
      },
      detached: function detached() {
        this.$vm && this.$vm.$destroy();
      } },

    pageLifetimes: {
      show: function show(args) {
        this.$vm && this.$vm.__call_hook('onPageShow', args);
      },
      hide: function hide() {
        this.$vm && this.$vm.__call_hook('onPageHide');
      },
      resize: function resize(size) {
        this.$vm && this.$vm.__call_hook('onPageResize', size);
      } },

    methods: {
      __l: handleLink,
      __e: handleEvent } };


  // externalClasses
  if (vueOptions.externalClasses) {
    componentOptions.externalClasses = vueOptions.externalClasses;
  }

  if (Array.isArray(vueOptions.wxsCallMethods)) {
    vueOptions.wxsCallMethods.forEach(function (callMethod) {
      componentOptions.methods[callMethod] = function (args) {
        return this.$vm[callMethod](args);
      };
    });
  }

  if (isPage) {
    return componentOptions;
  }
  return [componentOptions, VueComponent];
}

function parseComponent(vueComponentOptions) {
  return parseBaseComponent(vueComponentOptions, {
    isPage: isPage,
    initRelation: initRelation });

}

var hooks$1 = [
'onShow',
'onHide',
'onUnload'];


hooks$1.push.apply(hooks$1, PAGE_EVENT_HOOKS);

function parseBasePage(vuePageOptions, _ref6)


{var isPage = _ref6.isPage,initRelation = _ref6.initRelation;
  var pageOptions = parseComponent(vuePageOptions);

  initHooks(pageOptions.methods, hooks$1, vuePageOptions);

  pageOptions.methods.onLoad = function (query) {
    this.options = query;
    var copyQuery = Object.assign({}, query);
    delete copyQuery.__id__;
    this.$page = {
      fullPath: '/' + (this.route || this.is) + stringifyQuery(copyQuery) };

    this.$vm.$mp.query = query; // 兼容 mpvue
    this.$vm.__call_hook('onLoad', query);
  };
  initUnknownHooks(pageOptions.methods, vuePageOptions, ['onReady']);

  return pageOptions;
}

function parsePage(vuePageOptions) {
  return parseBasePage(vuePageOptions, {
    isPage: isPage,
    initRelation: initRelation });

}

function createPage(vuePageOptions) {
  {
    return Component(parsePage(vuePageOptions));
  }
}

function createComponent(vueOptions) {
  {
    return Component(parseComponent(vueOptions));
  }
}

function createSubpackageApp(vm) {
  var appOptions = parseApp(vm);
  var app = getApp({
    allowDefault: true });

  vm.$scope = app;
  var globalData = app.globalData;
  if (globalData) {
    Object.keys(appOptions.globalData).forEach(function (name) {
      if (!hasOwn(globalData, name)) {
        globalData[name] = appOptions.globalData[name];
      }
    });
  }
  Object.keys(appOptions).forEach(function (name) {
    if (!hasOwn(app, name)) {
      app[name] = appOptions[name];
    }
  });
  if (isFn(appOptions.onShow) && wx.onAppShow) {
    wx.onAppShow(function () {for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {args[_key5] = arguments[_key5];}
      vm.__call_hook('onShow', args);
    });
  }
  if (isFn(appOptions.onHide) && wx.onAppHide) {
    wx.onAppHide(function () {for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {args[_key6] = arguments[_key6];}
      vm.__call_hook('onHide', args);
    });
  }
  if (isFn(appOptions.onLaunch)) {
    var args = wx.getLaunchOptionsSync && wx.getLaunchOptionsSync();
    vm.__call_hook('onLaunch', args);
  }
  return vm;
}

function createPlugin(vm) {
  var appOptions = parseApp(vm);
  if (isFn(appOptions.onShow) && wx.onAppShow) {
    wx.onAppShow(function () {for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {args[_key7] = arguments[_key7];}
      vm.__call_hook('onShow', args);
    });
  }
  if (isFn(appOptions.onHide) && wx.onAppHide) {
    wx.onAppHide(function () {for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {args[_key8] = arguments[_key8];}
      vm.__call_hook('onHide', args);
    });
  }
  if (isFn(appOptions.onLaunch)) {
    var args = wx.getLaunchOptionsSync && wx.getLaunchOptionsSync();
    vm.__call_hook('onLaunch', args);
  }
  return vm;
}

todos.forEach(function (todoApi) {
  protocols[todoApi] = false;
});

canIUses.forEach(function (canIUseApi) {
  var apiName = protocols[canIUseApi] && protocols[canIUseApi].name ? protocols[canIUseApi].name :
  canIUseApi;
  if (!wx.canIUse(apiName)) {
    protocols[canIUseApi] = false;
  }
});

var uni = {};

if (typeof Proxy !== 'undefined' && "mp-weixin" !== 'app-plus') {
  uni = new Proxy({}, {
    get: function get(target, name) {
      if (hasOwn(target, name)) {
        return target[name];
      }
      if (baseApi[name]) {
        return baseApi[name];
      }
      if (api[name]) {
        return promisify(name, api[name]);
      }
      {
        if (extraApi[name]) {
          return promisify(name, extraApi[name]);
        }
        if (todoApis[name]) {
          return promisify(name, todoApis[name]);
        }
      }
      if (eventApi[name]) {
        return eventApi[name];
      }
      if (!hasOwn(wx, name) && !hasOwn(protocols, name)) {
        return;
      }
      return promisify(name, wrapper(name, wx[name]));
    },
    set: function set(target, name, value) {
      target[name] = value;
      return true;
    } });

} else {
  Object.keys(baseApi).forEach(function (name) {
    uni[name] = baseApi[name];
  });

  {
    Object.keys(todoApis).forEach(function (name) {
      uni[name] = promisify(name, todoApis[name]);
    });
    Object.keys(extraApi).forEach(function (name) {
      uni[name] = promisify(name, todoApis[name]);
    });
  }

  Object.keys(eventApi).forEach(function (name) {
    uni[name] = eventApi[name];
  });

  Object.keys(api).forEach(function (name) {
    uni[name] = promisify(name, api[name]);
  });

  Object.keys(wx).forEach(function (name) {
    if (hasOwn(wx, name) || hasOwn(protocols, name)) {
      uni[name] = promisify(name, wrapper(name, wx[name]));
    }
  });
}

wx.createApp = createApp;
wx.createPage = createPage;
wx.createComponent = createComponent;
wx.createSubpackageApp = createSubpackageApp;
wx.createPlugin = createPlugin;

var uni$1 = uni;var _default =

uni$1;exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 2)))

/***/ }),
/* 2 */
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 3 */
/*!*************************************************************!*\
  !*** ./node_modules/@dcloudio/uni-i18n/dist/uni-i18n.es.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, global) {Object.defineProperty(exports, "__esModule", { value: true });exports.compileI18nJsonStr = compileI18nJsonStr;exports.hasI18nJson = hasI18nJson;exports.initVueI18n = initVueI18n;exports.isI18nStr = isI18nStr;exports.normalizeLocale = normalizeLocale;exports.parseI18nJson = parseI18nJson;exports.resolveLocale = resolveLocale;exports.isString = exports.LOCALE_ZH_HANT = exports.LOCALE_ZH_HANS = exports.LOCALE_FR = exports.LOCALE_ES = exports.LOCALE_EN = exports.I18n = exports.Formatter = void 0;function _slicedToArray(arr, i) {return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();}function _nonIterableRest() {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}function _iterableToArrayLimit(arr, i) {if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"] != null) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}function _arrayWithHoles(arr) {if (Array.isArray(arr)) return arr;}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var isArray = Array.isArray;
var isObject = function isObject(val) {return val !== null && typeof val === 'object';};
var defaultDelimiters = ['{', '}'];var
BaseFormatter = /*#__PURE__*/function () {
  function BaseFormatter() {_classCallCheck(this, BaseFormatter);
    this._caches = Object.create(null);
  }_createClass(BaseFormatter, [{ key: "interpolate", value: function interpolate(
    message, values) {var delimiters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultDelimiters;
      if (!values) {
        return [message];
      }
      var tokens = this._caches[message];
      if (!tokens) {
        tokens = parse(message, delimiters);
        this._caches[message] = tokens;
      }
      return compile(tokens, values);
    } }]);return BaseFormatter;}();exports.Formatter = BaseFormatter;

var RE_TOKEN_LIST_VALUE = /^(?:\d)+/;
var RE_TOKEN_NAMED_VALUE = /^(?:\w)+/;
function parse(format, _ref) {var _ref2 = _slicedToArray(_ref, 2),startDelimiter = _ref2[0],endDelimiter = _ref2[1];
  var tokens = [];
  var position = 0;
  var text = '';
  while (position < format.length) {
    var char = format[position++];
    if (char === startDelimiter) {
      if (text) {
        tokens.push({ type: 'text', value: text });
      }
      text = '';
      var sub = '';
      char = format[position++];
      while (char !== undefined && char !== endDelimiter) {
        sub += char;
        char = format[position++];
      }
      var isClosed = char === endDelimiter;
      var type = RE_TOKEN_LIST_VALUE.test(sub) ?
      'list' :
      isClosed && RE_TOKEN_NAMED_VALUE.test(sub) ?
      'named' :
      'unknown';
      tokens.push({ value: sub, type: type });
    }
    //  else if (char === '%') {
    //   // when found rails i18n syntax, skip text capture
    //   if (format[position] !== '{') {
    //     text += char
    //   }
    // }
    else {
        text += char;
      }
  }
  text && tokens.push({ type: 'text', value: text });
  return tokens;
}
function compile(tokens, values) {
  var compiled = [];
  var index = 0;
  var mode = isArray(values) ?
  'list' :
  isObject(values) ?
  'named' :
  'unknown';
  if (mode === 'unknown') {
    return compiled;
  }
  while (index < tokens.length) {
    var token = tokens[index];
    switch (token.type) {
      case 'text':
        compiled.push(token.value);
        break;
      case 'list':
        compiled.push(values[parseInt(token.value, 10)]);
        break;
      case 'named':
        if (mode === 'named') {
          compiled.push(values[token.value]);
        } else
        {
          if (true) {
            console.warn("Type of token '".concat(token.type, "' and format of value '").concat(mode, "' don't match!"));
          }
        }
        break;
      case 'unknown':
        if (true) {
          console.warn("Detect 'unknown' type of token!");
        }
        break;}

    index++;
  }
  return compiled;
}

var LOCALE_ZH_HANS = 'zh-Hans';exports.LOCALE_ZH_HANS = LOCALE_ZH_HANS;
var LOCALE_ZH_HANT = 'zh-Hant';exports.LOCALE_ZH_HANT = LOCALE_ZH_HANT;
var LOCALE_EN = 'en';exports.LOCALE_EN = LOCALE_EN;
var LOCALE_FR = 'fr';exports.LOCALE_FR = LOCALE_FR;
var LOCALE_ES = 'es';exports.LOCALE_ES = LOCALE_ES;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var hasOwn = function hasOwn(val, key) {return hasOwnProperty.call(val, key);};
var defaultFormatter = new BaseFormatter();
function include(str, parts) {
  return !!parts.find(function (part) {return str.indexOf(part) !== -1;});
}
function startsWith(str, parts) {
  return parts.find(function (part) {return str.indexOf(part) === 0;});
}
function normalizeLocale(locale, messages) {
  if (!locale) {
    return;
  }
  locale = locale.trim().replace(/_/g, '-');
  if (messages && messages[locale]) {
    return locale;
  }
  locale = locale.toLowerCase();
  if (locale.indexOf('zh') === 0) {
    if (locale.indexOf('-hans') > -1) {
      return LOCALE_ZH_HANS;
    }
    if (locale.indexOf('-hant') > -1) {
      return LOCALE_ZH_HANT;
    }
    if (include(locale, ['-tw', '-hk', '-mo', '-cht'])) {
      return LOCALE_ZH_HANT;
    }
    return LOCALE_ZH_HANS;
  }
  var lang = startsWith(locale, [LOCALE_EN, LOCALE_FR, LOCALE_ES]);
  if (lang) {
    return lang;
  }
}var
I18n = /*#__PURE__*/function () {
  function I18n(_ref3) {var locale = _ref3.locale,fallbackLocale = _ref3.fallbackLocale,messages = _ref3.messages,watcher = _ref3.watcher,formater = _ref3.formater;_classCallCheck(this, I18n);
    this.locale = LOCALE_EN;
    this.fallbackLocale = LOCALE_EN;
    this.message = {};
    this.messages = {};
    this.watchers = [];
    if (fallbackLocale) {
      this.fallbackLocale = fallbackLocale;
    }
    this.formater = formater || defaultFormatter;
    this.messages = messages || {};
    this.setLocale(locale || LOCALE_EN);
    if (watcher) {
      this.watchLocale(watcher);
    }
  }_createClass(I18n, [{ key: "setLocale", value: function setLocale(
    locale) {var _this = this;
      var oldLocale = this.locale;
      this.locale = normalizeLocale(locale, this.messages) || this.fallbackLocale;
      if (!this.messages[this.locale]) {
        // 可能初始化时不存在
        this.messages[this.locale] = {};
      }
      this.message = this.messages[this.locale];
      // 仅发生变化时，通知
      if (oldLocale !== this.locale) {
        this.watchers.forEach(function (watcher) {
          watcher(_this.locale, oldLocale);
        });
      }
    } }, { key: "getLocale", value: function getLocale()
    {
      return this.locale;
    } }, { key: "watchLocale", value: function watchLocale(
    fn) {var _this2 = this;
      var index = this.watchers.push(fn) - 1;
      return function () {
        _this2.watchers.splice(index, 1);
      };
    } }, { key: "add", value: function add(
    locale, message) {var override = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      var curMessages = this.messages[locale];
      if (curMessages) {
        if (override) {
          Object.assign(curMessages, message);
        } else
        {
          Object.keys(message).forEach(function (key) {
            if (!hasOwn(curMessages, key)) {
              curMessages[key] = message[key];
            }
          });
        }
      } else
      {
        this.messages[locale] = message;
      }
    } }, { key: "f", value: function f(
    message, values, delimiters) {
      return this.formater.interpolate(message, values, delimiters).join('');
    } }, { key: "t", value: function t(
    key, locale, values) {
      var message = this.message;
      if (typeof locale === 'string') {
        locale = normalizeLocale(locale, this.messages);
        locale && (message = this.messages[locale]);
      } else
      {
        values = locale;
      }
      if (!hasOwn(message, key)) {
        console.warn("Cannot translate the value of keypath ".concat(key, ". Use the value of keypath as default."));
        return key;
      }
      return this.formater.interpolate(message[key], values).join('');
    } }]);return I18n;}();exports.I18n = I18n;


function watchAppLocale(appVm, i18n) {
  // 需要保证 watch 的触发在组件渲染之前
  if (appVm.$watchLocale) {
    // vue2
    appVm.$watchLocale(function (newLocale) {
      i18n.setLocale(newLocale);
    });
  } else
  {
    appVm.$watch(function () {return appVm.$locale;}, function (newLocale) {
      i18n.setLocale(newLocale);
    });
  }
}
function getDefaultLocale() {
  if (typeof uni !== 'undefined' && uni.getLocale) {
    return uni.getLocale();
  }
  // 小程序平台，uni 和 uni-i18n 互相引用，导致访问不到 uni，故在 global 上挂了 getLocale
  if (typeof global !== 'undefined' && global.getLocale) {
    return global.getLocale();
  }
  return LOCALE_EN;
}
function initVueI18n(locale) {var messages = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};var fallbackLocale = arguments.length > 2 ? arguments[2] : undefined;var watcher = arguments.length > 3 ? arguments[3] : undefined;
  // 兼容旧版本入参
  if (typeof locale !== 'string') {var _ref4 =
    [
    messages,
    locale];locale = _ref4[0];messages = _ref4[1];

  }
  if (typeof locale !== 'string') {
    // 因为小程序平台，uni-i18n 和 uni 互相引用，导致此时访问 uni 时，为 undefined
    locale = getDefaultLocale();
  }
  if (typeof fallbackLocale !== 'string') {
    fallbackLocale =
    typeof __uniConfig !== 'undefined' && __uniConfig.fallbackLocale ||
    LOCALE_EN;
  }
  var i18n = new I18n({
    locale: locale,
    fallbackLocale: fallbackLocale,
    messages: messages,
    watcher: watcher });

  var _t = function t(key, values) {
    if (typeof getApp !== 'function') {
      // app view
      /* eslint-disable no-func-assign */
      _t = function t(key, values) {
        return i18n.t(key, values);
      };
    } else
    {
      var isWatchedAppLocale = false;
      _t = function t(key, values) {
        var appVm = getApp().$vm;
        // 可能$vm还不存在，比如在支付宝小程序中，组件定义较早，在props的default里使用了t()函数（如uni-goods-nav），此时app还未初始化
        // options: {
        // 	type: Array,
        // 	default () {
        // 		return [{
        // 			icon: 'shop',
        // 			text: t("uni-goods-nav.options.shop"),
        // 		}, {
        // 			icon: 'cart',
        // 			text: t("uni-goods-nav.options.cart")
        // 		}]
        // 	}
        // },
        if (appVm) {
          // 触发响应式
          appVm.$locale;
          if (!isWatchedAppLocale) {
            isWatchedAppLocale = true;
            watchAppLocale(appVm, i18n);
          }
        }
        return i18n.t(key, values);
      };
    }
    return _t(key, values);
  };
  return {
    i18n: i18n,
    f: function f(message, values, delimiters) {
      return i18n.f(message, values, delimiters);
    },
    t: function t(key, values) {
      return _t(key, values);
    },
    add: function add(locale, message) {var override = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      return i18n.add(locale, message, override);
    },
    watch: function watch(fn) {
      return i18n.watchLocale(fn);
    },
    getLocale: function getLocale() {
      return i18n.getLocale();
    },
    setLocale: function setLocale(newLocale) {
      return i18n.setLocale(newLocale);
    } };

}

var isString = function isString(val) {return typeof val === 'string';};exports.isString = isString;
var formater;
function hasI18nJson(jsonObj, delimiters) {
  if (!formater) {
    formater = new BaseFormatter();
  }
  return walkJsonObj(jsonObj, function (jsonObj, key) {
    var value = jsonObj[key];
    if (isString(value)) {
      if (isI18nStr(value, delimiters)) {
        return true;
      }
    } else
    {
      return hasI18nJson(value, delimiters);
    }
  });
}
function parseI18nJson(jsonObj, values, delimiters) {
  if (!formater) {
    formater = new BaseFormatter();
  }
  walkJsonObj(jsonObj, function (jsonObj, key) {
    var value = jsonObj[key];
    if (isString(value)) {
      if (isI18nStr(value, delimiters)) {
        jsonObj[key] = compileStr(value, values, delimiters);
      }
    } else
    {
      parseI18nJson(value, values, delimiters);
    }
  });
  return jsonObj;
}
function compileI18nJsonStr(jsonStr, _ref5) {var locale = _ref5.locale,locales = _ref5.locales,delimiters = _ref5.delimiters;
  if (!isI18nStr(jsonStr, delimiters)) {
    return jsonStr;
  }
  if (!formater) {
    formater = new BaseFormatter();
  }
  var localeValues = [];
  Object.keys(locales).forEach(function (name) {
    if (name !== locale) {
      localeValues.push({
        locale: name,
        values: locales[name] });

    }
  });
  localeValues.unshift({ locale: locale, values: locales[locale] });
  try {
    return JSON.stringify(compileJsonObj(JSON.parse(jsonStr), localeValues, delimiters), null, 2);
  }
  catch (e) {}
  return jsonStr;
}
function isI18nStr(value, delimiters) {
  return value.indexOf(delimiters[0]) > -1;
}
function compileStr(value, values, delimiters) {
  return formater.interpolate(value, values, delimiters).join('');
}
function compileValue(jsonObj, key, localeValues, delimiters) {
  var value = jsonObj[key];
  if (isString(value)) {
    // 存在国际化
    if (isI18nStr(value, delimiters)) {
      jsonObj[key] = compileStr(value, localeValues[0].values, delimiters);
      if (localeValues.length > 1) {
        // 格式化国际化语言
        var valueLocales = jsonObj[key + 'Locales'] = {};
        localeValues.forEach(function (localValue) {
          valueLocales[localValue.locale] = compileStr(value, localValue.values, delimiters);
        });
      }
    }
  } else
  {
    compileJsonObj(value, localeValues, delimiters);
  }
}
function compileJsonObj(jsonObj, localeValues, delimiters) {
  walkJsonObj(jsonObj, function (jsonObj, key) {
    compileValue(jsonObj, key, localeValues, delimiters);
  });
  return jsonObj;
}
function walkJsonObj(jsonObj, walk) {
  if (isArray(jsonObj)) {
    for (var i = 0; i < jsonObj.length; i++) {
      if (walk(jsonObj, i)) {
        return true;
      }
    }
  } else
  if (isObject(jsonObj)) {
    for (var key in jsonObj) {
      if (walk(jsonObj, key)) {
        return true;
      }
    }
  }
  return false;
}

function resolveLocale(locales) {
  return function (locale) {
    if (!locale) {
      return locale;
    }
    locale = normalizeLocale(locale) || locale;
    return resolveLocaleChain(locale).find(function (locale) {return locales.indexOf(locale) > -1;});
  };
}
function resolveLocaleChain(locale) {
  var chain = [];
  var tokens = locale.split('-');
  while (tokens.length) {
    chain.push(tokens.join('-'));
    tokens.pop();
  }
  return chain;
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"], __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 2)))

/***/ }),
/* 4 */
/*!******************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mp-vue/dist/mp.runtime.esm.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * Vue.js v2.6.11
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
/*  */

var emptyObject = Object.freeze({});

// These helpers produce better VM code in JS engines due to their
// explicitness and function inlining.
function isUndef (v) {
  return v === undefined || v === null
}

function isDef (v) {
  return v !== undefined && v !== null
}

function isTrue (v) {
  return v === true
}

function isFalse (v) {
  return v === false
}

/**
 * Check if value is primitive.
 */
function isPrimitive (value) {
  return (
    typeof value === 'string' ||
    typeof value === 'number' ||
    // $flow-disable-line
    typeof value === 'symbol' ||
    typeof value === 'boolean'
  )
}

/**
 * Quick object check - this is primarily used to tell
 * Objects from primitive values when we know the value
 * is a JSON-compliant type.
 */
function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

/**
 * Get the raw type string of a value, e.g., [object Object].
 */
var _toString = Object.prototype.toString;

function toRawType (value) {
  return _toString.call(value).slice(8, -1)
}

/**
 * Strict object type check. Only returns true
 * for plain JavaScript objects.
 */
function isPlainObject (obj) {
  return _toString.call(obj) === '[object Object]'
}

function isRegExp (v) {
  return _toString.call(v) === '[object RegExp]'
}

/**
 * Check if val is a valid array index.
 */
function isValidArrayIndex (val) {
  var n = parseFloat(String(val));
  return n >= 0 && Math.floor(n) === n && isFinite(val)
}

function isPromise (val) {
  return (
    isDef(val) &&
    typeof val.then === 'function' &&
    typeof val.catch === 'function'
  )
}

/**
 * Convert a value to a string that is actually rendered.
 */
function toString (val) {
  return val == null
    ? ''
    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)
      ? JSON.stringify(val, null, 2)
      : String(val)
}

/**
 * Convert an input value to a number for persistence.
 * If the conversion fails, return original string.
 */
function toNumber (val) {
  var n = parseFloat(val);
  return isNaN(n) ? val : n
}

/**
 * Make a map and return a function for checking if a key
 * is in that map.
 */
function makeMap (
  str,
  expectsLowerCase
) {
  var map = Object.create(null);
  var list = str.split(',');
  for (var i = 0; i < list.length; i++) {
    map[list[i]] = true;
  }
  return expectsLowerCase
    ? function (val) { return map[val.toLowerCase()]; }
    : function (val) { return map[val]; }
}

/**
 * Check if a tag is a built-in tag.
 */
var isBuiltInTag = makeMap('slot,component', true);

/**
 * Check if an attribute is a reserved attribute.
 */
var isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');

/**
 * Remove an item from an array.
 */
function remove (arr, item) {
  if (arr.length) {
    var index = arr.indexOf(item);
    if (index > -1) {
      return arr.splice(index, 1)
    }
  }
}

/**
 * Check whether an object has the property.
 */
var hasOwnProperty = Object.prototype.hasOwnProperty;
function hasOwn (obj, key) {
  return hasOwnProperty.call(obj, key)
}

/**
 * Create a cached version of a pure function.
 */
function cached (fn) {
  var cache = Object.create(null);
  return (function cachedFn (str) {
    var hit = cache[str];
    return hit || (cache[str] = fn(str))
  })
}

/**
 * Camelize a hyphen-delimited string.
 */
var camelizeRE = /-(\w)/g;
var camelize = cached(function (str) {
  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })
});

/**
 * Capitalize a string.
 */
var capitalize = cached(function (str) {
  return str.charAt(0).toUpperCase() + str.slice(1)
});

/**
 * Hyphenate a camelCase string.
 */
var hyphenateRE = /\B([A-Z])/g;
var hyphenate = cached(function (str) {
  return str.replace(hyphenateRE, '-$1').toLowerCase()
});

/**
 * Simple bind polyfill for environments that do not support it,
 * e.g., PhantomJS 1.x. Technically, we don't need this anymore
 * since native bind is now performant enough in most browsers.
 * But removing it would mean breaking code that was able to run in
 * PhantomJS 1.x, so this must be kept for backward compatibility.
 */

/* istanbul ignore next */
function polyfillBind (fn, ctx) {
  function boundFn (a) {
    var l = arguments.length;
    return l
      ? l > 1
        ? fn.apply(ctx, arguments)
        : fn.call(ctx, a)
      : fn.call(ctx)
  }

  boundFn._length = fn.length;
  return boundFn
}

function nativeBind (fn, ctx) {
  return fn.bind(ctx)
}

var bind = Function.prototype.bind
  ? nativeBind
  : polyfillBind;

/**
 * Convert an Array-like object to a real Array.
 */
function toArray (list, start) {
  start = start || 0;
  var i = list.length - start;
  var ret = new Array(i);
  while (i--) {
    ret[i] = list[i + start];
  }
  return ret
}

/**
 * Mix properties into target object.
 */
function extend (to, _from) {
  for (var key in _from) {
    to[key] = _from[key];
  }
  return to
}

/**
 * Merge an Array of Objects into a single Object.
 */
function toObject (arr) {
  var res = {};
  for (var i = 0; i < arr.length; i++) {
    if (arr[i]) {
      extend(res, arr[i]);
    }
  }
  return res
}

/* eslint-disable no-unused-vars */

/**
 * Perform no operation.
 * Stubbing args to make Flow happy without leaving useless transpiled code
 * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).
 */
function noop (a, b, c) {}

/**
 * Always return false.
 */
var no = function (a, b, c) { return false; };

/* eslint-enable no-unused-vars */

/**
 * Return the same value.
 */
var identity = function (_) { return _; };

/**
 * Check if two values are loosely equal - that is,
 * if they are plain objects, do they have the same shape?
 */
function looseEqual (a, b) {
  if (a === b) { return true }
  var isObjectA = isObject(a);
  var isObjectB = isObject(b);
  if (isObjectA && isObjectB) {
    try {
      var isArrayA = Array.isArray(a);
      var isArrayB = Array.isArray(b);
      if (isArrayA && isArrayB) {
        return a.length === b.length && a.every(function (e, i) {
          return looseEqual(e, b[i])
        })
      } else if (a instanceof Date && b instanceof Date) {
        return a.getTime() === b.getTime()
      } else if (!isArrayA && !isArrayB) {
        var keysA = Object.keys(a);
        var keysB = Object.keys(b);
        return keysA.length === keysB.length && keysA.every(function (key) {
          return looseEqual(a[key], b[key])
        })
      } else {
        /* istanbul ignore next */
        return false
      }
    } catch (e) {
      /* istanbul ignore next */
      return false
    }
  } else if (!isObjectA && !isObjectB) {
    return String(a) === String(b)
  } else {
    return false
  }
}

/**
 * Return the first index at which a loosely equal value can be
 * found in the array (if value is a plain object, the array must
 * contain an object of the same shape), or -1 if it is not present.
 */
function looseIndexOf (arr, val) {
  for (var i = 0; i < arr.length; i++) {
    if (looseEqual(arr[i], val)) { return i }
  }
  return -1
}

/**
 * Ensure a function is called only once.
 */
function once (fn) {
  var called = false;
  return function () {
    if (!called) {
      called = true;
      fn.apply(this, arguments);
    }
  }
}

var ASSET_TYPES = [
  'component',
  'directive',
  'filter'
];

var LIFECYCLE_HOOKS = [
  'beforeCreate',
  'created',
  'beforeMount',
  'mounted',
  'beforeUpdate',
  'updated',
  'beforeDestroy',
  'destroyed',
  'activated',
  'deactivated',
  'errorCaptured',
  'serverPrefetch'
];

/*  */



var config = ({
  /**
   * Option merge strategies (used in core/util/options)
   */
  // $flow-disable-line
  optionMergeStrategies: Object.create(null),

  /**
   * Whether to suppress warnings.
   */
  silent: false,

  /**
   * Show production mode tip message on boot?
   */
  productionTip: "development" !== 'production',

  /**
   * Whether to enable devtools
   */
  devtools: "development" !== 'production',

  /**
   * Whether to record perf
   */
  performance: false,

  /**
   * Error handler for watcher errors
   */
  errorHandler: null,

  /**
   * Warn handler for watcher warns
   */
  warnHandler: null,

  /**
   * Ignore certain custom elements
   */
  ignoredElements: [],

  /**
   * Custom user key aliases for v-on
   */
  // $flow-disable-line
  keyCodes: Object.create(null),

  /**
   * Check if a tag is reserved so that it cannot be registered as a
   * component. This is platform-dependent and may be overwritten.
   */
  isReservedTag: no,

  /**
   * Check if an attribute is reserved so that it cannot be used as a component
   * prop. This is platform-dependent and may be overwritten.
   */
  isReservedAttr: no,

  /**
   * Check if a tag is an unknown element.
   * Platform-dependent.
   */
  isUnknownElement: no,

  /**
   * Get the namespace of an element
   */
  getTagNamespace: noop,

  /**
   * Parse the real tag name for the specific platform.
   */
  parsePlatformTagName: identity,

  /**
   * Check if an attribute must be bound using property, e.g. value
   * Platform-dependent.
   */
  mustUseProp: no,

  /**
   * Perform updates asynchronously. Intended to be used by Vue Test Utils
   * This will significantly reduce performance if set to false.
   */
  async: true,

  /**
   * Exposed for legacy reasons
   */
  _lifecycleHooks: LIFECYCLE_HOOKS
});

/*  */

/**
 * unicode letters used for parsing html tags, component names and property paths.
 * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname
 * skipping \u10000-\uEFFFF due to it freezing up PhantomJS
 */
var unicodeRegExp = /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;

/**
 * Check if a string starts with $ or _
 */
function isReserved (str) {
  var c = (str + '').charCodeAt(0);
  return c === 0x24 || c === 0x5F
}

/**
 * Define a property.
 */
function def (obj, key, val, enumerable) {
  Object.defineProperty(obj, key, {
    value: val,
    enumerable: !!enumerable,
    writable: true,
    configurable: true
  });
}

/**
 * Parse simple path.
 */
var bailRE = new RegExp(("[^" + (unicodeRegExp.source) + ".$_\\d]"));
function parsePath (path) {
  if (bailRE.test(path)) {
    return
  }
  var segments = path.split('.');
  return function (obj) {
    for (var i = 0; i < segments.length; i++) {
      if (!obj) { return }
      obj = obj[segments[i]];
    }
    return obj
  }
}

/*  */

// can we use __proto__?
var hasProto = '__proto__' in {};

// Browser environment sniffing
var inBrowser = typeof window !== 'undefined';
var inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;
var weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();
var UA = inBrowser && window.navigator.userAgent.toLowerCase();
var isIE = UA && /msie|trident/.test(UA);
var isIE9 = UA && UA.indexOf('msie 9.0') > 0;
var isEdge = UA && UA.indexOf('edge/') > 0;
var isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');
var isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');
var isChrome = UA && /chrome\/\d+/.test(UA) && !isEdge;
var isPhantomJS = UA && /phantomjs/.test(UA);
var isFF = UA && UA.match(/firefox\/(\d+)/);

// Firefox has a "watch" function on Object.prototype...
var nativeWatch = ({}).watch;
if (inBrowser) {
  try {
    var opts = {};
    Object.defineProperty(opts, 'passive', ({
      get: function get () {
      }
    })); // https://github.com/facebook/flow/issues/285
    window.addEventListener('test-passive', null, opts);
  } catch (e) {}
}

// this needs to be lazy-evaled because vue may be required before
// vue-server-renderer can set VUE_ENV
var _isServer;
var isServerRendering = function () {
  if (_isServer === undefined) {
    /* istanbul ignore if */
    if (!inBrowser && !inWeex && typeof global !== 'undefined') {
      // detect presence of vue-server-renderer and avoid
      // Webpack shimming the process
      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';
    } else {
      _isServer = false;
    }
  }
  return _isServer
};

// detect devtools
var devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;

/* istanbul ignore next */
function isNative (Ctor) {
  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())
}

var hasSymbol =
  typeof Symbol !== 'undefined' && isNative(Symbol) &&
  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);

var _Set;
/* istanbul ignore if */ // $flow-disable-line
if (typeof Set !== 'undefined' && isNative(Set)) {
  // use native Set when available.
  _Set = Set;
} else {
  // a non-standard Set polyfill that only works with primitive keys.
  _Set = /*@__PURE__*/(function () {
    function Set () {
      this.set = Object.create(null);
    }
    Set.prototype.has = function has (key) {
      return this.set[key] === true
    };
    Set.prototype.add = function add (key) {
      this.set[key] = true;
    };
    Set.prototype.clear = function clear () {
      this.set = Object.create(null);
    };

    return Set;
  }());
}

/*  */

var warn = noop;
var tip = noop;
var generateComponentTrace = (noop); // work around flow check
var formatComponentName = (noop);

if (true) {
  var hasConsole = typeof console !== 'undefined';
  var classifyRE = /(?:^|[-_])(\w)/g;
  var classify = function (str) { return str
    .replace(classifyRE, function (c) { return c.toUpperCase(); })
    .replace(/[-_]/g, ''); };

  warn = function (msg, vm) {
    var trace = vm ? generateComponentTrace(vm) : '';

    if (config.warnHandler) {
      config.warnHandler.call(null, msg, vm, trace);
    } else if (hasConsole && (!config.silent)) {
      console.error(("[Vue warn]: " + msg + trace));
    }
  };

  tip = function (msg, vm) {
    if (hasConsole && (!config.silent)) {
      console.warn("[Vue tip]: " + msg + (
        vm ? generateComponentTrace(vm) : ''
      ));
    }
  };

  formatComponentName = function (vm, includeFile) {
    if (vm.$root === vm) {
      if (vm.$options && vm.$options.__file) { // fixed by xxxxxx
        return ('') + vm.$options.__file
      }
      return '<Root>'
    }
    var options = typeof vm === 'function' && vm.cid != null
      ? vm.options
      : vm._isVue
        ? vm.$options || vm.constructor.options
        : vm;
    var name = options.name || options._componentTag;
    var file = options.__file;
    if (!name && file) {
      var match = file.match(/([^/\\]+)\.vue$/);
      name = match && match[1];
    }

    return (
      (name ? ("<" + (classify(name)) + ">") : "<Anonymous>") +
      (file && includeFile !== false ? (" at " + file) : '')
    )
  };

  var repeat = function (str, n) {
    var res = '';
    while (n) {
      if (n % 2 === 1) { res += str; }
      if (n > 1) { str += str; }
      n >>= 1;
    }
    return res
  };

  generateComponentTrace = function (vm) {
    if (vm._isVue && vm.$parent) {
      var tree = [];
      var currentRecursiveSequence = 0;
      while (vm && vm.$options.name !== 'PageBody') {
        if (tree.length > 0) {
          var last = tree[tree.length - 1];
          if (last.constructor === vm.constructor) {
            currentRecursiveSequence++;
            vm = vm.$parent;
            continue
          } else if (currentRecursiveSequence > 0) {
            tree[tree.length - 1] = [last, currentRecursiveSequence];
            currentRecursiveSequence = 0;
          }
        }
        !vm.$options.isReserved && tree.push(vm);
        vm = vm.$parent;
      }
      return '\n\nfound in\n\n' + tree
        .map(function (vm, i) { return ("" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)
            ? ((formatComponentName(vm[0])) + "... (" + (vm[1]) + " recursive calls)")
            : formatComponentName(vm))); })
        .join('\n')
    } else {
      return ("\n\n(found in " + (formatComponentName(vm)) + ")")
    }
  };
}

/*  */

var uid = 0;

/**
 * A dep is an observable that can have multiple
 * directives subscribing to it.
 */
var Dep = function Dep () {
  this.id = uid++;
  this.subs = [];
};

Dep.prototype.addSub = function addSub (sub) {
  this.subs.push(sub);
};

Dep.prototype.removeSub = function removeSub (sub) {
  remove(this.subs, sub);
};

Dep.prototype.depend = function depend () {
  if (Dep.SharedObject.target) {
    Dep.SharedObject.target.addDep(this);
  }
};

Dep.prototype.notify = function notify () {
  // stabilize the subscriber list first
  var subs = this.subs.slice();
  if ( true && !config.async) {
    // subs aren't sorted in scheduler if not running async
    // we need to sort them now to make sure they fire in correct
    // order
    subs.sort(function (a, b) { return a.id - b.id; });
  }
  for (var i = 0, l = subs.length; i < l; i++) {
    subs[i].update();
  }
};

// The current target watcher being evaluated.
// This is globally unique because only one watcher
// can be evaluated at a time.
// fixed by xxxxxx (nvue shared vuex)
/* eslint-disable no-undef */
Dep.SharedObject = {};
Dep.SharedObject.target = null;
Dep.SharedObject.targetStack = [];

function pushTarget (target) {
  Dep.SharedObject.targetStack.push(target);
  Dep.SharedObject.target = target;
  Dep.target = target;
}

function popTarget () {
  Dep.SharedObject.targetStack.pop();
  Dep.SharedObject.target = Dep.SharedObject.targetStack[Dep.SharedObject.targetStack.length - 1];
  Dep.target = Dep.SharedObject.target;
}

/*  */

var VNode = function VNode (
  tag,
  data,
  children,
  text,
  elm,
  context,
  componentOptions,
  asyncFactory
) {
  this.tag = tag;
  this.data = data;
  this.children = children;
  this.text = text;
  this.elm = elm;
  this.ns = undefined;
  this.context = context;
  this.fnContext = undefined;
  this.fnOptions = undefined;
  this.fnScopeId = undefined;
  this.key = data && data.key;
  this.componentOptions = componentOptions;
  this.componentInstance = undefined;
  this.parent = undefined;
  this.raw = false;
  this.isStatic = false;
  this.isRootInsert = true;
  this.isComment = false;
  this.isCloned = false;
  this.isOnce = false;
  this.asyncFactory = asyncFactory;
  this.asyncMeta = undefined;
  this.isAsyncPlaceholder = false;
};

var prototypeAccessors = { child: { configurable: true } };

// DEPRECATED: alias for componentInstance for backwards compat.
/* istanbul ignore next */
prototypeAccessors.child.get = function () {
  return this.componentInstance
};

Object.defineProperties( VNode.prototype, prototypeAccessors );

var createEmptyVNode = function (text) {
  if ( text === void 0 ) text = '';

  var node = new VNode();
  node.text = text;
  node.isComment = true;
  return node
};

function createTextVNode (val) {
  return new VNode(undefined, undefined, undefined, String(val))
}

// optimized shallow clone
// used for static nodes and slot nodes because they may be reused across
// multiple renders, cloning them avoids errors when DOM manipulations rely
// on their elm reference.
function cloneVNode (vnode) {
  var cloned = new VNode(
    vnode.tag,
    vnode.data,
    // #7975
    // clone children array to avoid mutating original in case of cloning
    // a child.
    vnode.children && vnode.children.slice(),
    vnode.text,
    vnode.elm,
    vnode.context,
    vnode.componentOptions,
    vnode.asyncFactory
  );
  cloned.ns = vnode.ns;
  cloned.isStatic = vnode.isStatic;
  cloned.key = vnode.key;
  cloned.isComment = vnode.isComment;
  cloned.fnContext = vnode.fnContext;
  cloned.fnOptions = vnode.fnOptions;
  cloned.fnScopeId = vnode.fnScopeId;
  cloned.asyncMeta = vnode.asyncMeta;
  cloned.isCloned = true;
  return cloned
}

/*
 * not type checking this file because flow doesn't play well with
 * dynamically accessing methods on Array prototype
 */

var arrayProto = Array.prototype;
var arrayMethods = Object.create(arrayProto);

var methodsToPatch = [
  'push',
  'pop',
  'shift',
  'unshift',
  'splice',
  'sort',
  'reverse'
];

/**
 * Intercept mutating methods and emit events
 */
methodsToPatch.forEach(function (method) {
  // cache original method
  var original = arrayProto[method];
  def(arrayMethods, method, function mutator () {
    var args = [], len = arguments.length;
    while ( len-- ) args[ len ] = arguments[ len ];

    var result = original.apply(this, args);
    var ob = this.__ob__;
    var inserted;
    switch (method) {
      case 'push':
      case 'unshift':
        inserted = args;
        break
      case 'splice':
        inserted = args.slice(2);
        break
    }
    if (inserted) { ob.observeArray(inserted); }
    // notify change
    ob.dep.notify();
    return result
  });
});

/*  */

var arrayKeys = Object.getOwnPropertyNames(arrayMethods);

/**
 * In some cases we may want to disable observation inside a component's
 * update computation.
 */
var shouldObserve = true;

function toggleObserving (value) {
  shouldObserve = value;
}

/**
 * Observer class that is attached to each observed
 * object. Once attached, the observer converts the target
 * object's property keys into getter/setters that
 * collect dependencies and dispatch updates.
 */
var Observer = function Observer (value) {
  this.value = value;
  this.dep = new Dep();
  this.vmCount = 0;
  def(value, '__ob__', this);
  if (Array.isArray(value)) {
    if (hasProto) {
      {// fixed by xxxxxx 微信小程序使用 plugins 之后，数组方法被直接挂载到了数组对象上，需要执行 copyAugment 逻辑
        if(value.push !== value.__proto__.push){
          copyAugment(value, arrayMethods, arrayKeys);
        } else {
          protoAugment(value, arrayMethods);
        }
      }
    } else {
      copyAugment(value, arrayMethods, arrayKeys);
    }
    this.observeArray(value);
  } else {
    this.walk(value);
  }
};

/**
 * Walk through all properties and convert them into
 * getter/setters. This method should only be called when
 * value type is Object.
 */
Observer.prototype.walk = function walk (obj) {
  var keys = Object.keys(obj);
  for (var i = 0; i < keys.length; i++) {
    defineReactive$$1(obj, keys[i]);
  }
};

/**
 * Observe a list of Array items.
 */
Observer.prototype.observeArray = function observeArray (items) {
  for (var i = 0, l = items.length; i < l; i++) {
    observe(items[i]);
  }
};

// helpers

/**
 * Augment a target Object or Array by intercepting
 * the prototype chain using __proto__
 */
function protoAugment (target, src) {
  /* eslint-disable no-proto */
  target.__proto__ = src;
  /* eslint-enable no-proto */
}

/**
 * Augment a target Object or Array by defining
 * hidden properties.
 */
/* istanbul ignore next */
function copyAugment (target, src, keys) {
  for (var i = 0, l = keys.length; i < l; i++) {
    var key = keys[i];
    def(target, key, src[key]);
  }
}

/**
 * Attempt to create an observer instance for a value,
 * returns the new observer if successfully observed,
 * or the existing observer if the value already has one.
 */
function observe (value, asRootData) {
  if (!isObject(value) || value instanceof VNode) {
    return
  }
  var ob;
  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {
    ob = value.__ob__;
  } else if (
    shouldObserve &&
    !isServerRendering() &&
    (Array.isArray(value) || isPlainObject(value)) &&
    Object.isExtensible(value) &&
    !value._isVue
  ) {
    ob = new Observer(value);
  }
  if (asRootData && ob) {
    ob.vmCount++;
  }
  return ob
}

/**
 * Define a reactive property on an Object.
 */
function defineReactive$$1 (
  obj,
  key,
  val,
  customSetter,
  shallow
) {
  var dep = new Dep();

  var property = Object.getOwnPropertyDescriptor(obj, key);
  if (property && property.configurable === false) {
    return
  }

  // cater for pre-defined getter/setters
  var getter = property && property.get;
  var setter = property && property.set;
  if ((!getter || setter) && arguments.length === 2) {
    val = obj[key];
  }

  var childOb = !shallow && observe(val);
  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter () {
      var value = getter ? getter.call(obj) : val;
      if (Dep.SharedObject.target) { // fixed by xxxxxx
        dep.depend();
        if (childOb) {
          childOb.dep.depend();
          if (Array.isArray(value)) {
            dependArray(value);
          }
        }
      }
      return value
    },
    set: function reactiveSetter (newVal) {
      var value = getter ? getter.call(obj) : val;
      /* eslint-disable no-self-compare */
      if (newVal === value || (newVal !== newVal && value !== value)) {
        return
      }
      /* eslint-enable no-self-compare */
      if ( true && customSetter) {
        customSetter();
      }
      // #7981: for accessor properties without setter
      if (getter && !setter) { return }
      if (setter) {
        setter.call(obj, newVal);
      } else {
        val = newVal;
      }
      childOb = !shallow && observe(newVal);
      dep.notify();
    }
  });
}

/**
 * Set a property on an object. Adds the new property and
 * triggers change notification if the property doesn't
 * already exist.
 */
function set (target, key, val) {
  if ( true &&
    (isUndef(target) || isPrimitive(target))
  ) {
    warn(("Cannot set reactive property on undefined, null, or primitive value: " + ((target))));
  }
  if (Array.isArray(target) && isValidArrayIndex(key)) {
    target.length = Math.max(target.length, key);
    target.splice(key, 1, val);
    return val
  }
  if (key in target && !(key in Object.prototype)) {
    target[key] = val;
    return val
  }
  var ob = (target).__ob__;
  if (target._isVue || (ob && ob.vmCount)) {
     true && warn(
      'Avoid adding reactive properties to a Vue instance or its root $data ' +
      'at runtime - declare it upfront in the data option.'
    );
    return val
  }
  if (!ob) {
    target[key] = val;
    return val
  }
  defineReactive$$1(ob.value, key, val);
  ob.dep.notify();
  return val
}

/**
 * Delete a property and trigger change if necessary.
 */
function del (target, key) {
  if ( true &&
    (isUndef(target) || isPrimitive(target))
  ) {
    warn(("Cannot delete reactive property on undefined, null, or primitive value: " + ((target))));
  }
  if (Array.isArray(target) && isValidArrayIndex(key)) {
    target.splice(key, 1);
    return
  }
  var ob = (target).__ob__;
  if (target._isVue || (ob && ob.vmCount)) {
     true && warn(
      'Avoid deleting properties on a Vue instance or its root $data ' +
      '- just set it to null.'
    );
    return
  }
  if (!hasOwn(target, key)) {
    return
  }
  delete target[key];
  if (!ob) {
    return
  }
  ob.dep.notify();
}

/**
 * Collect dependencies on array elements when the array is touched, since
 * we cannot intercept array element access like property getters.
 */
function dependArray (value) {
  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {
    e = value[i];
    e && e.__ob__ && e.__ob__.dep.depend();
    if (Array.isArray(e)) {
      dependArray(e);
    }
  }
}

/*  */

/**
 * Option overwriting strategies are functions that handle
 * how to merge a parent option value and a child option
 * value into the final value.
 */
var strats = config.optionMergeStrategies;

/**
 * Options with restrictions
 */
if (true) {
  strats.el = strats.propsData = function (parent, child, vm, key) {
    if (!vm) {
      warn(
        "option \"" + key + "\" can only be used during instance " +
        'creation with the `new` keyword.'
      );
    }
    return defaultStrat(parent, child)
  };
}

/**
 * Helper that recursively merges two data objects together.
 */
function mergeData (to, from) {
  if (!from) { return to }
  var key, toVal, fromVal;

  var keys = hasSymbol
    ? Reflect.ownKeys(from)
    : Object.keys(from);

  for (var i = 0; i < keys.length; i++) {
    key = keys[i];
    // in case the object is already observed...
    if (key === '__ob__') { continue }
    toVal = to[key];
    fromVal = from[key];
    if (!hasOwn(to, key)) {
      set(to, key, fromVal);
    } else if (
      toVal !== fromVal &&
      isPlainObject(toVal) &&
      isPlainObject(fromVal)
    ) {
      mergeData(toVal, fromVal);
    }
  }
  return to
}

/**
 * Data
 */
function mergeDataOrFn (
  parentVal,
  childVal,
  vm
) {
  if (!vm) {
    // in a Vue.extend merge, both should be functions
    if (!childVal) {
      return parentVal
    }
    if (!parentVal) {
      return childVal
    }
    // when parentVal & childVal are both present,
    // we need to return a function that returns the
    // merged result of both functions... no need to
    // check if parentVal is a function here because
    // it has to be a function to pass previous merges.
    return function mergedDataFn () {
      return mergeData(
        typeof childVal === 'function' ? childVal.call(this, this) : childVal,
        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal
      )
    }
  } else {
    return function mergedInstanceDataFn () {
      // instance merge
      var instanceData = typeof childVal === 'function'
        ? childVal.call(vm, vm)
        : childVal;
      var defaultData = typeof parentVal === 'function'
        ? parentVal.call(vm, vm)
        : parentVal;
      if (instanceData) {
        return mergeData(instanceData, defaultData)
      } else {
        return defaultData
      }
    }
  }
}

strats.data = function (
  parentVal,
  childVal,
  vm
) {
  if (!vm) {
    if (childVal && typeof childVal !== 'function') {
       true && warn(
        'The "data" option should be a function ' +
        'that returns a per-instance value in component ' +
        'definitions.',
        vm
      );

      return parentVal
    }
    return mergeDataOrFn(parentVal, childVal)
  }

  return mergeDataOrFn(parentVal, childVal, vm)
};

/**
 * Hooks and props are merged as arrays.
 */
function mergeHook (
  parentVal,
  childVal
) {
  var res = childVal
    ? parentVal
      ? parentVal.concat(childVal)
      : Array.isArray(childVal)
        ? childVal
        : [childVal]
    : parentVal;
  return res
    ? dedupeHooks(res)
    : res
}

function dedupeHooks (hooks) {
  var res = [];
  for (var i = 0; i < hooks.length; i++) {
    if (res.indexOf(hooks[i]) === -1) {
      res.push(hooks[i]);
    }
  }
  return res
}

LIFECYCLE_HOOKS.forEach(function (hook) {
  strats[hook] = mergeHook;
});

/**
 * Assets
 *
 * When a vm is present (instance creation), we need to do
 * a three-way merge between constructor options, instance
 * options and parent options.
 */
function mergeAssets (
  parentVal,
  childVal,
  vm,
  key
) {
  var res = Object.create(parentVal || null);
  if (childVal) {
     true && assertObjectType(key, childVal, vm);
    return extend(res, childVal)
  } else {
    return res
  }
}

ASSET_TYPES.forEach(function (type) {
  strats[type + 's'] = mergeAssets;
});

/**
 * Watchers.
 *
 * Watchers hashes should not overwrite one
 * another, so we merge them as arrays.
 */
strats.watch = function (
  parentVal,
  childVal,
  vm,
  key
) {
  // work around Firefox's Object.prototype.watch...
  if (parentVal === nativeWatch) { parentVal = undefined; }
  if (childVal === nativeWatch) { childVal = undefined; }
  /* istanbul ignore if */
  if (!childVal) { return Object.create(parentVal || null) }
  if (true) {
    assertObjectType(key, childVal, vm);
  }
  if (!parentVal) { return childVal }
  var ret = {};
  extend(ret, parentVal);
  for (var key$1 in childVal) {
    var parent = ret[key$1];
    var child = childVal[key$1];
    if (parent && !Array.isArray(parent)) {
      parent = [parent];
    }
    ret[key$1] = parent
      ? parent.concat(child)
      : Array.isArray(child) ? child : [child];
  }
  return ret
};

/**
 * Other object hashes.
 */
strats.props =
strats.methods =
strats.inject =
strats.computed = function (
  parentVal,
  childVal,
  vm,
  key
) {
  if (childVal && "development" !== 'production') {
    assertObjectType(key, childVal, vm);
  }
  if (!parentVal) { return childVal }
  var ret = Object.create(null);
  extend(ret, parentVal);
  if (childVal) { extend(ret, childVal); }
  return ret
};
strats.provide = mergeDataOrFn;

/**
 * Default strategy.
 */
var defaultStrat = function (parentVal, childVal) {
  return childVal === undefined
    ? parentVal
    : childVal
};

/**
 * Validate component names
 */
function checkComponents (options) {
  for (var key in options.components) {
    validateComponentName(key);
  }
}

function validateComponentName (name) {
  if (!new RegExp(("^[a-zA-Z][\\-\\.0-9_" + (unicodeRegExp.source) + "]*$")).test(name)) {
    warn(
      'Invalid component name: "' + name + '". Component names ' +
      'should conform to valid custom element name in html5 specification.'
    );
  }
  if (isBuiltInTag(name) || config.isReservedTag(name)) {
    warn(
      'Do not use built-in or reserved HTML elements as component ' +
      'id: ' + name
    );
  }
}

/**
 * Ensure all props option syntax are normalized into the
 * Object-based format.
 */
function normalizeProps (options, vm) {
  var props = options.props;
  if (!props) { return }
  var res = {};
  var i, val, name;
  if (Array.isArray(props)) {
    i = props.length;
    while (i--) {
      val = props[i];
      if (typeof val === 'string') {
        name = camelize(val);
        res[name] = { type: null };
      } else if (true) {
        warn('props must be strings when using array syntax.');
      }
    }
  } else if (isPlainObject(props)) {
    for (var key in props) {
      val = props[key];
      name = camelize(key);
      res[name] = isPlainObject(val)
        ? val
        : { type: val };
    }
  } else if (true) {
    warn(
      "Invalid value for option \"props\": expected an Array or an Object, " +
      "but got " + (toRawType(props)) + ".",
      vm
    );
  }
  options.props = res;
}

/**
 * Normalize all injections into Object-based format
 */
function normalizeInject (options, vm) {
  var inject = options.inject;
  if (!inject) { return }
  var normalized = options.inject = {};
  if (Array.isArray(inject)) {
    for (var i = 0; i < inject.length; i++) {
      normalized[inject[i]] = { from: inject[i] };
    }
  } else if (isPlainObject(inject)) {
    for (var key in inject) {
      var val = inject[key];
      normalized[key] = isPlainObject(val)
        ? extend({ from: key }, val)
        : { from: val };
    }
  } else if (true) {
    warn(
      "Invalid value for option \"inject\": expected an Array or an Object, " +
      "but got " + (toRawType(inject)) + ".",
      vm
    );
  }
}

/**
 * Normalize raw function directives into object format.
 */
function normalizeDirectives (options) {
  var dirs = options.directives;
  if (dirs) {
    for (var key in dirs) {
      var def$$1 = dirs[key];
      if (typeof def$$1 === 'function') {
        dirs[key] = { bind: def$$1, update: def$$1 };
      }
    }
  }
}

function assertObjectType (name, value, vm) {
  if (!isPlainObject(value)) {
    warn(
      "Invalid value for option \"" + name + "\": expected an Object, " +
      "but got " + (toRawType(value)) + ".",
      vm
    );
  }
}

/**
 * Merge two option objects into a new one.
 * Core utility used in both instantiation and inheritance.
 */
function mergeOptions (
  parent,
  child,
  vm
) {
  if (true) {
    checkComponents(child);
  }

  if (typeof child === 'function') {
    child = child.options;
  }

  normalizeProps(child, vm);
  normalizeInject(child, vm);
  normalizeDirectives(child);

  // Apply extends and mixins on the child options,
  // but only if it is a raw options object that isn't
  // the result of another mergeOptions call.
  // Only merged options has the _base property.
  if (!child._base) {
    if (child.extends) {
      parent = mergeOptions(parent, child.extends, vm);
    }
    if (child.mixins) {
      for (var i = 0, l = child.mixins.length; i < l; i++) {
        parent = mergeOptions(parent, child.mixins[i], vm);
      }
    }
  }

  var options = {};
  var key;
  for (key in parent) {
    mergeField(key);
  }
  for (key in child) {
    if (!hasOwn(parent, key)) {
      mergeField(key);
    }
  }
  function mergeField (key) {
    var strat = strats[key] || defaultStrat;
    options[key] = strat(parent[key], child[key], vm, key);
  }
  return options
}

/**
 * Resolve an asset.
 * This function is used because child instances need access
 * to assets defined in its ancestor chain.
 */
function resolveAsset (
  options,
  type,
  id,
  warnMissing
) {
  /* istanbul ignore if */
  if (typeof id !== 'string') {
    return
  }
  var assets = options[type];
  // check local registration variations first
  if (hasOwn(assets, id)) { return assets[id] }
  var camelizedId = camelize(id);
  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }
  var PascalCaseId = capitalize(camelizedId);
  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }
  // fallback to prototype chain
  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];
  if ( true && warnMissing && !res) {
    warn(
      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,
      options
    );
  }
  return res
}

/*  */



function validateProp (
  key,
  propOptions,
  propsData,
  vm
) {
  var prop = propOptions[key];
  var absent = !hasOwn(propsData, key);
  var value = propsData[key];
  // boolean casting
  var booleanIndex = getTypeIndex(Boolean, prop.type);
  if (booleanIndex > -1) {
    if (absent && !hasOwn(prop, 'default')) {
      value = false;
    } else if (value === '' || value === hyphenate(key)) {
      // only cast empty string / same name to boolean if
      // boolean has higher priority
      var stringIndex = getTypeIndex(String, prop.type);
      if (stringIndex < 0 || booleanIndex < stringIndex) {
        value = true;
      }
    }
  }
  // check default value
  if (value === undefined) {
    value = getPropDefaultValue(vm, prop, key);
    // since the default value is a fresh copy,
    // make sure to observe it.
    var prevShouldObserve = shouldObserve;
    toggleObserving(true);
    observe(value);
    toggleObserving(prevShouldObserve);
  }
  if (
    true
  ) {
    assertProp(prop, key, value, vm, absent);
  }
  return value
}

/**
 * Get the default value of a prop.
 */
function getPropDefaultValue (vm, prop, key) {
  // no default, return undefined
  if (!hasOwn(prop, 'default')) {
    return undefined
  }
  var def = prop.default;
  // warn against non-factory defaults for Object & Array
  if ( true && isObject(def)) {
    warn(
      'Invalid default value for prop "' + key + '": ' +
      'Props with type Object/Array must use a factory function ' +
      'to return the default value.',
      vm
    );
  }
  // the raw prop value was also undefined from previous render,
  // return previous default value to avoid unnecessary watcher trigger
  if (vm && vm.$options.propsData &&
    vm.$options.propsData[key] === undefined &&
    vm._props[key] !== undefined
  ) {
    return vm._props[key]
  }
  // call factory function for non-Function types
  // a value is Function if its prototype is function even across different execution context
  return typeof def === 'function' && getType(prop.type) !== 'Function'
    ? def.call(vm)
    : def
}

/**
 * Assert whether a prop is valid.
 */
function assertProp (
  prop,
  name,
  value,
  vm,
  absent
) {
  if (prop.required && absent) {
    warn(
      'Missing required prop: "' + name + '"',
      vm
    );
    return
  }
  if (value == null && !prop.required) {
    return
  }
  var type = prop.type;
  var valid = !type || type === true;
  var expectedTypes = [];
  if (type) {
    if (!Array.isArray(type)) {
      type = [type];
    }
    for (var i = 0; i < type.length && !valid; i++) {
      var assertedType = assertType(value, type[i]);
      expectedTypes.push(assertedType.expectedType || '');
      valid = assertedType.valid;
    }
  }

  if (!valid) {
    warn(
      getInvalidTypeMessage(name, value, expectedTypes),
      vm
    );
    return
  }
  var validator = prop.validator;
  if (validator) {
    if (!validator(value)) {
      warn(
        'Invalid prop: custom validator check failed for prop "' + name + '".',
        vm
      );
    }
  }
}

var simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;

function assertType (value, type) {
  var valid;
  var expectedType = getType(type);
  if (simpleCheckRE.test(expectedType)) {
    var t = typeof value;
    valid = t === expectedType.toLowerCase();
    // for primitive wrapper objects
    if (!valid && t === 'object') {
      valid = value instanceof type;
    }
  } else if (expectedType === 'Object') {
    valid = isPlainObject(value);
  } else if (expectedType === 'Array') {
    valid = Array.isArray(value);
  } else {
    valid = value instanceof type;
  }
  return {
    valid: valid,
    expectedType: expectedType
  }
}

/**
 * Use function string name to check built-in types,
 * because a simple equality check will fail when running
 * across different vms / iframes.
 */
function getType (fn) {
  var match = fn && fn.toString().match(/^\s*function (\w+)/);
  return match ? match[1] : ''
}

function isSameType (a, b) {
  return getType(a) === getType(b)
}

function getTypeIndex (type, expectedTypes) {
  if (!Array.isArray(expectedTypes)) {
    return isSameType(expectedTypes, type) ? 0 : -1
  }
  for (var i = 0, len = expectedTypes.length; i < len; i++) {
    if (isSameType(expectedTypes[i], type)) {
      return i
    }
  }
  return -1
}

function getInvalidTypeMessage (name, value, expectedTypes) {
  var message = "Invalid prop: type check failed for prop \"" + name + "\"." +
    " Expected " + (expectedTypes.map(capitalize).join(', '));
  var expectedType = expectedTypes[0];
  var receivedType = toRawType(value);
  var expectedValue = styleValue(value, expectedType);
  var receivedValue = styleValue(value, receivedType);
  // check if we need to specify expected value
  if (expectedTypes.length === 1 &&
      isExplicable(expectedType) &&
      !isBoolean(expectedType, receivedType)) {
    message += " with value " + expectedValue;
  }
  message += ", got " + receivedType + " ";
  // check if we need to specify received value
  if (isExplicable(receivedType)) {
    message += "with value " + receivedValue + ".";
  }
  return message
}

function styleValue (value, type) {
  if (type === 'String') {
    return ("\"" + value + "\"")
  } else if (type === 'Number') {
    return ("" + (Number(value)))
  } else {
    return ("" + value)
  }
}

function isExplicable (value) {
  var explicitTypes = ['string', 'number', 'boolean'];
  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })
}

function isBoolean () {
  var args = [], len = arguments.length;
  while ( len-- ) args[ len ] = arguments[ len ];

  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })
}

/*  */

function handleError (err, vm, info) {
  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.
  // See: https://github.com/vuejs/vuex/issues/1505
  pushTarget();
  try {
    if (vm) {
      var cur = vm;
      while ((cur = cur.$parent)) {
        var hooks = cur.$options.errorCaptured;
        if (hooks) {
          for (var i = 0; i < hooks.length; i++) {
            try {
              var capture = hooks[i].call(cur, err, vm, info) === false;
              if (capture) { return }
            } catch (e) {
              globalHandleError(e, cur, 'errorCaptured hook');
            }
          }
        }
      }
    }
    globalHandleError(err, vm, info);
  } finally {
    popTarget();
  }
}

function invokeWithErrorHandling (
  handler,
  context,
  args,
  vm,
  info
) {
  var res;
  try {
    res = args ? handler.apply(context, args) : handler.call(context);
    if (res && !res._isVue && isPromise(res) && !res._handled) {
      res.catch(function (e) { return handleError(e, vm, info + " (Promise/async)"); });
      // issue #9511
      // avoid catch triggering multiple times when nested calls
      res._handled = true;
    }
  } catch (e) {
    handleError(e, vm, info);
  }
  return res
}

function globalHandleError (err, vm, info) {
  if (config.errorHandler) {
    try {
      return config.errorHandler.call(null, err, vm, info)
    } catch (e) {
      // if the user intentionally throws the original error in the handler,
      // do not log it twice
      if (e !== err) {
        logError(e, null, 'config.errorHandler');
      }
    }
  }
  logError(err, vm, info);
}

function logError (err, vm, info) {
  if (true) {
    warn(("Error in " + info + ": \"" + (err.toString()) + "\""), vm);
  }
  /* istanbul ignore else */
  if ((inBrowser || inWeex) && typeof console !== 'undefined') {
    console.error(err);
  } else {
    throw err
  }
}

/*  */

var callbacks = [];
var pending = false;

function flushCallbacks () {
  pending = false;
  var copies = callbacks.slice(0);
  callbacks.length = 0;
  for (var i = 0; i < copies.length; i++) {
    copies[i]();
  }
}

// Here we have async deferring wrappers using microtasks.
// In 2.5 we used (macro) tasks (in combination with microtasks).
// However, it has subtle problems when state is changed right before repaint
// (e.g. #6813, out-in transitions).
// Also, using (macro) tasks in event handler would cause some weird behaviors
// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).
// So we now use microtasks everywhere, again.
// A major drawback of this tradeoff is that there are some scenarios
// where microtasks have too high a priority and fire in between supposedly
// sequential events (e.g. #4521, #6690, which have workarounds)
// or even between bubbling of the same event (#6566).
var timerFunc;

// The nextTick behavior leverages the microtask queue, which can be accessed
// via either native Promise.then or MutationObserver.
// MutationObserver has wider support, however it is seriously bugged in
// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It
// completely stops working after triggering a few times... so, if native
// Promise is available, we will use it:
/* istanbul ignore next, $flow-disable-line */
if (typeof Promise !== 'undefined' && isNative(Promise)) {
  var p = Promise.resolve();
  timerFunc = function () {
    p.then(flushCallbacks);
    // In problematic UIWebViews, Promise.then doesn't completely break, but
    // it can get stuck in a weird state where callbacks are pushed into the
    // microtask queue but the queue isn't being flushed, until the browser
    // needs to do some other work, e.g. handle a timer. Therefore we can
    // "force" the microtask queue to be flushed by adding an empty timer.
    if (isIOS) { setTimeout(noop); }
  };
} else if (!isIE && typeof MutationObserver !== 'undefined' && (
  isNative(MutationObserver) ||
  // PhantomJS and iOS 7.x
  MutationObserver.toString() === '[object MutationObserverConstructor]'
)) {
  // Use MutationObserver where native Promise is not available,
  // e.g. PhantomJS, iOS7, Android 4.4
  // (#6466 MutationObserver is unreliable in IE11)
  var counter = 1;
  var observer = new MutationObserver(flushCallbacks);
  var textNode = document.createTextNode(String(counter));
  observer.observe(textNode, {
    characterData: true
  });
  timerFunc = function () {
    counter = (counter + 1) % 2;
    textNode.data = String(counter);
  };
} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {
  // Fallback to setImmediate.
  // Technically it leverages the (macro) task queue,
  // but it is still a better choice than setTimeout.
  timerFunc = function () {
    setImmediate(flushCallbacks);
  };
} else {
  // Fallback to setTimeout.
  timerFunc = function () {
    setTimeout(flushCallbacks, 0);
  };
}

function nextTick (cb, ctx) {
  var _resolve;
  callbacks.push(function () {
    if (cb) {
      try {
        cb.call(ctx);
      } catch (e) {
        handleError(e, ctx, 'nextTick');
      }
    } else if (_resolve) {
      _resolve(ctx);
    }
  });
  if (!pending) {
    pending = true;
    timerFunc();
  }
  // $flow-disable-line
  if (!cb && typeof Promise !== 'undefined') {
    return new Promise(function (resolve) {
      _resolve = resolve;
    })
  }
}

/*  */

/* not type checking this file because flow doesn't play well with Proxy */

var initProxy;

if (true) {
  var allowedGlobals = makeMap(
    'Infinity,undefined,NaN,isFinite,isNaN,' +
    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +
    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +
    'require' // for Webpack/Browserify
  );

  var warnNonPresent = function (target, key) {
    warn(
      "Property or method \"" + key + "\" is not defined on the instance but " +
      'referenced during render. Make sure that this property is reactive, ' +
      'either in the data option, or for class-based components, by ' +
      'initializing the property. ' +
      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',
      target
    );
  };

  var warnReservedPrefix = function (target, key) {
    warn(
      "Property \"" + key + "\" must be accessed with \"$data." + key + "\" because " +
      'properties starting with "$" or "_" are not proxied in the Vue instance to ' +
      'prevent conflicts with Vue internals. ' +
      'See: https://vuejs.org/v2/api/#data',
      target
    );
  };

  var hasProxy =
    typeof Proxy !== 'undefined' && isNative(Proxy);

  if (hasProxy) {
    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');
    config.keyCodes = new Proxy(config.keyCodes, {
      set: function set (target, key, value) {
        if (isBuiltInModifier(key)) {
          warn(("Avoid overwriting built-in modifier in config.keyCodes: ." + key));
          return false
        } else {
          target[key] = value;
          return true
        }
      }
    });
  }

  var hasHandler = {
    has: function has (target, key) {
      var has = key in target;
      var isAllowed = allowedGlobals(key) ||
        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));
      if (!has && !isAllowed) {
        if (key in target.$data) { warnReservedPrefix(target, key); }
        else { warnNonPresent(target, key); }
      }
      return has || !isAllowed
    }
  };

  var getHandler = {
    get: function get (target, key) {
      if (typeof key === 'string' && !(key in target)) {
        if (key in target.$data) { warnReservedPrefix(target, key); }
        else { warnNonPresent(target, key); }
      }
      return target[key]
    }
  };

  initProxy = function initProxy (vm) {
    if (hasProxy) {
      // determine which proxy handler to use
      var options = vm.$options;
      var handlers = options.render && options.render._withStripped
        ? getHandler
        : hasHandler;
      vm._renderProxy = new Proxy(vm, handlers);
    } else {
      vm._renderProxy = vm;
    }
  };
}

/*  */

var seenObjects = new _Set();

/**
 * Recursively traverse an object to evoke all converted
 * getters, so that every nested property inside the object
 * is collected as a "deep" dependency.
 */
function traverse (val) {
  _traverse(val, seenObjects);
  seenObjects.clear();
}

function _traverse (val, seen) {
  var i, keys;
  var isA = Array.isArray(val);
  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {
    return
  }
  if (val.__ob__) {
    var depId = val.__ob__.dep.id;
    if (seen.has(depId)) {
      return
    }
    seen.add(depId);
  }
  if (isA) {
    i = val.length;
    while (i--) { _traverse(val[i], seen); }
  } else {
    keys = Object.keys(val);
    i = keys.length;
    while (i--) { _traverse(val[keys[i]], seen); }
  }
}

var mark;
var measure;

if (true) {
  var perf = inBrowser && window.performance;
  /* istanbul ignore if */
  if (
    perf &&
    perf.mark &&
    perf.measure &&
    perf.clearMarks &&
    perf.clearMeasures
  ) {
    mark = function (tag) { return perf.mark(tag); };
    measure = function (name, startTag, endTag) {
      perf.measure(name, startTag, endTag);
      perf.clearMarks(startTag);
      perf.clearMarks(endTag);
      // perf.clearMeasures(name)
    };
  }
}

/*  */

var normalizeEvent = cached(function (name) {
  var passive = name.charAt(0) === '&';
  name = passive ? name.slice(1) : name;
  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first
  name = once$$1 ? name.slice(1) : name;
  var capture = name.charAt(0) === '!';
  name = capture ? name.slice(1) : name;
  return {
    name: name,
    once: once$$1,
    capture: capture,
    passive: passive
  }
});

function createFnInvoker (fns, vm) {
  function invoker () {
    var arguments$1 = arguments;

    var fns = invoker.fns;
    if (Array.isArray(fns)) {
      var cloned = fns.slice();
      for (var i = 0; i < cloned.length; i++) {
        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, "v-on handler");
      }
    } else {
      // return handler return value for single handlers
      return invokeWithErrorHandling(fns, null, arguments, vm, "v-on handler")
    }
  }
  invoker.fns = fns;
  return invoker
}

function updateListeners (
  on,
  oldOn,
  add,
  remove$$1,
  createOnceHandler,
  vm
) {
  var name, def$$1, cur, old, event;
  for (name in on) {
    def$$1 = cur = on[name];
    old = oldOn[name];
    event = normalizeEvent(name);
    if (isUndef(cur)) {
       true && warn(
        "Invalid handler for event \"" + (event.name) + "\": got " + String(cur),
        vm
      );
    } else if (isUndef(old)) {
      if (isUndef(cur.fns)) {
        cur = on[name] = createFnInvoker(cur, vm);
      }
      if (isTrue(event.once)) {
        cur = on[name] = createOnceHandler(event.name, cur, event.capture);
      }
      add(event.name, cur, event.capture, event.passive, event.params);
    } else if (cur !== old) {
      old.fns = cur;
      on[name] = old;
    }
  }
  for (name in oldOn) {
    if (isUndef(on[name])) {
      event = normalizeEvent(name);
      remove$$1(event.name, oldOn[name], event.capture);
    }
  }
}

/*  */

/*  */

// fixed by xxxxxx (mp properties)
function extractPropertiesFromVNodeData(data, Ctor, res, context) {
  var propOptions = Ctor.options.mpOptions && Ctor.options.mpOptions.properties;
  if (isUndef(propOptions)) {
    return res
  }
  var externalClasses = Ctor.options.mpOptions.externalClasses || [];
  var attrs = data.attrs;
  var props = data.props;
  if (isDef(attrs) || isDef(props)) {
    for (var key in propOptions) {
      var altKey = hyphenate(key);
      var result = checkProp(res, props, key, altKey, true) ||
          checkProp(res, attrs, key, altKey, false);
      // externalClass
      if (
        result &&
        res[key] &&
        externalClasses.indexOf(altKey) !== -1 &&
        context[camelize(res[key])]
      ) {
        // 赋值 externalClass 真正的值(模板里 externalClass 的值可能是字符串)
        res[key] = context[camelize(res[key])];
      }
    }
  }
  return res
}

function extractPropsFromVNodeData (
  data,
  Ctor,
  tag,
  context// fixed by xxxxxx
) {
  // we are only extracting raw values here.
  // validation and default values are handled in the child
  // component itself.
  var propOptions = Ctor.options.props;
  if (isUndef(propOptions)) {
    // fixed by xxxxxx
    return extractPropertiesFromVNodeData(data, Ctor, {}, context)
  }
  var res = {};
  var attrs = data.attrs;
  var props = data.props;
  if (isDef(attrs) || isDef(props)) {
    for (var key in propOptions) {
      var altKey = hyphenate(key);
      if (true) {
        var keyInLowerCase = key.toLowerCase();
        if (
          key !== keyInLowerCase &&
          attrs && hasOwn(attrs, keyInLowerCase)
        ) {
          tip(
            "Prop \"" + keyInLowerCase + "\" is passed to component " +
            (formatComponentName(tag || Ctor)) + ", but the declared prop name is" +
            " \"" + key + "\". " +
            "Note that HTML attributes are case-insensitive and camelCased " +
            "props need to use their kebab-case equivalents when using in-DOM " +
            "templates. You should probably use \"" + altKey + "\" instead of \"" + key + "\"."
          );
        }
      }
      checkProp(res, props, key, altKey, true) ||
      checkProp(res, attrs, key, altKey, false);
    }
  }
  // fixed by xxxxxx
  return extractPropertiesFromVNodeData(data, Ctor, res, context)
}

function checkProp (
  res,
  hash,
  key,
  altKey,
  preserve
) {
  if (isDef(hash)) {
    if (hasOwn(hash, key)) {
      res[key] = hash[key];
      if (!preserve) {
        delete hash[key];
      }
      return true
    } else if (hasOwn(hash, altKey)) {
      res[key] = hash[altKey];
      if (!preserve) {
        delete hash[altKey];
      }
      return true
    }
  }
  return false
}

/*  */

// The template compiler attempts to minimize the need for normalization by
// statically analyzing the template at compile time.
//
// For plain HTML markup, normalization can be completely skipped because the
// generated render function is guaranteed to return Array<VNode>. There are
// two cases where extra normalization is needed:

// 1. When the children contains components - because a functional component
// may return an Array instead of a single root. In this case, just a simple
// normalization is needed - if any child is an Array, we flatten the whole
// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep
// because functional components already normalize their own children.
function simpleNormalizeChildren (children) {
  for (var i = 0; i < children.length; i++) {
    if (Array.isArray(children[i])) {
      return Array.prototype.concat.apply([], children)
    }
  }
  return children
}

// 2. When the children contains constructs that always generated nested Arrays,
// e.g. <template>, <slot>, v-for, or when the children is provided by user
// with hand-written render functions / JSX. In such cases a full normalization
// is needed to cater to all possible types of children values.
function normalizeChildren (children) {
  return isPrimitive(children)
    ? [createTextVNode(children)]
    : Array.isArray(children)
      ? normalizeArrayChildren(children)
      : undefined
}

function isTextNode (node) {
  return isDef(node) && isDef(node.text) && isFalse(node.isComment)
}

function normalizeArrayChildren (children, nestedIndex) {
  var res = [];
  var i, c, lastIndex, last;
  for (i = 0; i < children.length; i++) {
    c = children[i];
    if (isUndef(c) || typeof c === 'boolean') { continue }
    lastIndex = res.length - 1;
    last = res[lastIndex];
    //  nested
    if (Array.isArray(c)) {
      if (c.length > 0) {
        c = normalizeArrayChildren(c, ((nestedIndex || '') + "_" + i));
        // merge adjacent text nodes
        if (isTextNode(c[0]) && isTextNode(last)) {
          res[lastIndex] = createTextVNode(last.text + (c[0]).text);
          c.shift();
        }
        res.push.apply(res, c);
      }
    } else if (isPrimitive(c)) {
      if (isTextNode(last)) {
        // merge adjacent text nodes
        // this is necessary for SSR hydration because text nodes are
        // essentially merged when rendered to HTML strings
        res[lastIndex] = createTextVNode(last.text + c);
      } else if (c !== '') {
        // convert primitive to vnode
        res.push(createTextVNode(c));
      }
    } else {
      if (isTextNode(c) && isTextNode(last)) {
        // merge adjacent text nodes
        res[lastIndex] = createTextVNode(last.text + c.text);
      } else {
        // default key for nested array children (likely generated by v-for)
        if (isTrue(children._isVList) &&
          isDef(c.tag) &&
          isUndef(c.key) &&
          isDef(nestedIndex)) {
          c.key = "__vlist" + nestedIndex + "_" + i + "__";
        }
        res.push(c);
      }
    }
  }
  return res
}

/*  */

function initProvide (vm) {
  var provide = vm.$options.provide;
  if (provide) {
    vm._provided = typeof provide === 'function'
      ? provide.call(vm)
      : provide;
  }
}

function initInjections (vm) {
  var result = resolveInject(vm.$options.inject, vm);
  if (result) {
    toggleObserving(false);
    Object.keys(result).forEach(function (key) {
      /* istanbul ignore else */
      if (true) {
        defineReactive$$1(vm, key, result[key], function () {
          warn(
            "Avoid mutating an injected value directly since the changes will be " +
            "overwritten whenever the provided component re-renders. " +
            "injection being mutated: \"" + key + "\"",
            vm
          );
        });
      } else {}
    });
    toggleObserving(true);
  }
}

function resolveInject (inject, vm) {
  if (inject) {
    // inject is :any because flow is not smart enough to figure out cached
    var result = Object.create(null);
    var keys = hasSymbol
      ? Reflect.ownKeys(inject)
      : Object.keys(inject);

    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      // #6574 in case the inject object is observed...
      if (key === '__ob__') { continue }
      var provideKey = inject[key].from;
      var source = vm;
      while (source) {
        if (source._provided && hasOwn(source._provided, provideKey)) {
          result[key] = source._provided[provideKey];
          break
        }
        source = source.$parent;
      }
      if (!source) {
        if ('default' in inject[key]) {
          var provideDefault = inject[key].default;
          result[key] = typeof provideDefault === 'function'
            ? provideDefault.call(vm)
            : provideDefault;
        } else if (true) {
          warn(("Injection \"" + key + "\" not found"), vm);
        }
      }
    }
    return result
  }
}

/*  */



/**
 * Runtime helper for resolving raw children VNodes into a slot object.
 */
function resolveSlots (
  children,
  context
) {
  if (!children || !children.length) {
    return {}
  }
  var slots = {};
  for (var i = 0, l = children.length; i < l; i++) {
    var child = children[i];
    var data = child.data;
    // remove slot attribute if the node is resolved as a Vue slot node
    if (data && data.attrs && data.attrs.slot) {
      delete data.attrs.slot;
    }
    // named slots should only be respected if the vnode was rendered in the
    // same context.
    if ((child.context === context || child.fnContext === context) &&
      data && data.slot != null
    ) {
      var name = data.slot;
      var slot = (slots[name] || (slots[name] = []));
      if (child.tag === 'template') {
        slot.push.apply(slot, child.children || []);
      } else {
        slot.push(child);
      }
    } else {
      // fixed by xxxxxx 临时 hack 掉 uni-app 中的异步 name slot page
      if(child.asyncMeta && child.asyncMeta.data && child.asyncMeta.data.slot === 'page'){
        (slots['page'] || (slots['page'] = [])).push(child);
      }else{
        (slots.default || (slots.default = [])).push(child);
      }
    }
  }
  // ignore slots that contains only whitespace
  for (var name$1 in slots) {
    if (slots[name$1].every(isWhitespace)) {
      delete slots[name$1];
    }
  }
  return slots
}

function isWhitespace (node) {
  return (node.isComment && !node.asyncFactory) || node.text === ' '
}

/*  */

function normalizeScopedSlots (
  slots,
  normalSlots,
  prevSlots
) {
  var res;
  var hasNormalSlots = Object.keys(normalSlots).length > 0;
  var isStable = slots ? !!slots.$stable : !hasNormalSlots;
  var key = slots && slots.$key;
  if (!slots) {
    res = {};
  } else if (slots._normalized) {
    // fast path 1: child component re-render only, parent did not change
    return slots._normalized
  } else if (
    isStable &&
    prevSlots &&
    prevSlots !== emptyObject &&
    key === prevSlots.$key &&
    !hasNormalSlots &&
    !prevSlots.$hasNormal
  ) {
    // fast path 2: stable scoped slots w/ no normal slots to proxy,
    // only need to normalize once
    return prevSlots
  } else {
    res = {};
    for (var key$1 in slots) {
      if (slots[key$1] && key$1[0] !== '$') {
        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);
      }
    }
  }
  // expose normal slots on scopedSlots
  for (var key$2 in normalSlots) {
    if (!(key$2 in res)) {
      res[key$2] = proxyNormalSlot(normalSlots, key$2);
    }
  }
  // avoriaz seems to mock a non-extensible $scopedSlots object
  // and when that is passed down this would cause an error
  if (slots && Object.isExtensible(slots)) {
    (slots)._normalized = res;
  }
  def(res, '$stable', isStable);
  def(res, '$key', key);
  def(res, '$hasNormal', hasNormalSlots);
  return res
}

function normalizeScopedSlot(normalSlots, key, fn) {
  var normalized = function () {
    var res = arguments.length ? fn.apply(null, arguments) : fn({});
    res = res && typeof res === 'object' && !Array.isArray(res)
      ? [res] // single vnode
      : normalizeChildren(res);
    return res && (
      res.length === 0 ||
      (res.length === 1 && res[0].isComment) // #9658
    ) ? undefined
      : res
  };
  // this is a slot using the new v-slot syntax without scope. although it is
  // compiled as a scoped slot, render fn users would expect it to be present
  // on this.$slots because the usage is semantically a normal slot.
  if (fn.proxy) {
    Object.defineProperty(normalSlots, key, {
      get: normalized,
      enumerable: true,
      configurable: true
    });
  }
  return normalized
}

function proxyNormalSlot(slots, key) {
  return function () { return slots[key]; }
}

/*  */

/**
 * Runtime helper for rendering v-for lists.
 */
function renderList (
  val,
  render
) {
  var ret, i, l, keys, key;
  if (Array.isArray(val) || typeof val === 'string') {
    ret = new Array(val.length);
    for (i = 0, l = val.length; i < l; i++) {
      ret[i] = render(val[i], i, i, i); // fixed by xxxxxx
    }
  } else if (typeof val === 'number') {
    ret = new Array(val);
    for (i = 0; i < val; i++) {
      ret[i] = render(i + 1, i, i, i); // fixed by xxxxxx
    }
  } else if (isObject(val)) {
    if (hasSymbol && val[Symbol.iterator]) {
      ret = [];
      var iterator = val[Symbol.iterator]();
      var result = iterator.next();
      while (!result.done) {
        ret.push(render(result.value, ret.length, i, i++)); // fixed by xxxxxx
        result = iterator.next();
      }
    } else {
      keys = Object.keys(val);
      ret = new Array(keys.length);
      for (i = 0, l = keys.length; i < l; i++) {
        key = keys[i];
        ret[i] = render(val[key], key, i, i); // fixed by xxxxxx
      }
    }
  }
  if (!isDef(ret)) {
    ret = [];
  }
  (ret)._isVList = true;
  return ret
}

/*  */

/**
 * Runtime helper for rendering <slot>
 */
function renderSlot (
  name,
  fallback,
  props,
  bindObject
) {
  var scopedSlotFn = this.$scopedSlots[name];
  var nodes;
  if (scopedSlotFn) { // scoped slot
    props = props || {};
    if (bindObject) {
      if ( true && !isObject(bindObject)) {
        warn(
          'slot v-bind without argument expects an Object',
          this
        );
      }
      props = extend(extend({}, bindObject), props);
    }
    // fixed by xxxxxx app-plus scopedSlot
    nodes = scopedSlotFn(props, this, props._i) || fallback;
  } else {
    nodes = this.$slots[name] || fallback;
  }

  var target = props && props.slot;
  if (target) {
    return this.$createElement('template', { slot: target }, nodes)
  } else {
    return nodes
  }
}

/*  */

/**
 * Runtime helper for resolving filters
 */
function resolveFilter (id) {
  return resolveAsset(this.$options, 'filters', id, true) || identity
}

/*  */

function isKeyNotMatch (expect, actual) {
  if (Array.isArray(expect)) {
    return expect.indexOf(actual) === -1
  } else {
    return expect !== actual
  }
}

/**
 * Runtime helper for checking keyCodes from config.
 * exposed as Vue.prototype._k
 * passing in eventKeyName as last argument separately for backwards compat
 */
function checkKeyCodes (
  eventKeyCode,
  key,
  builtInKeyCode,
  eventKeyName,
  builtInKeyName
) {
  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;
  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {
    return isKeyNotMatch(builtInKeyName, eventKeyName)
  } else if (mappedKeyCode) {
    return isKeyNotMatch(mappedKeyCode, eventKeyCode)
  } else if (eventKeyName) {
    return hyphenate(eventKeyName) !== key
  }
}

/*  */

/**
 * Runtime helper for merging v-bind="object" into a VNode's data.
 */
function bindObjectProps (
  data,
  tag,
  value,
  asProp,
  isSync
) {
  if (value) {
    if (!isObject(value)) {
       true && warn(
        'v-bind without argument expects an Object or Array value',
        this
      );
    } else {
      if (Array.isArray(value)) {
        value = toObject(value);
      }
      var hash;
      var loop = function ( key ) {
        if (
          key === 'class' ||
          key === 'style' ||
          isReservedAttribute(key)
        ) {
          hash = data;
        } else {
          var type = data.attrs && data.attrs.type;
          hash = asProp || config.mustUseProp(tag, type, key)
            ? data.domProps || (data.domProps = {})
            : data.attrs || (data.attrs = {});
        }
        var camelizedKey = camelize(key);
        var hyphenatedKey = hyphenate(key);
        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {
          hash[key] = value[key];

          if (isSync) {
            var on = data.on || (data.on = {});
            on[("update:" + key)] = function ($event) {
              value[key] = $event;
            };
          }
        }
      };

      for (var key in value) loop( key );
    }
  }
  return data
}

/*  */

/**
 * Runtime helper for rendering static trees.
 */
function renderStatic (
  index,
  isInFor
) {
  var cached = this._staticTrees || (this._staticTrees = []);
  var tree = cached[index];
  // if has already-rendered static tree and not inside v-for,
  // we can reuse the same tree.
  if (tree && !isInFor) {
    return tree
  }
  // otherwise, render a fresh tree.
  tree = cached[index] = this.$options.staticRenderFns[index].call(
    this._renderProxy,
    null,
    this // for render fns generated for functional component templates
  );
  markStatic(tree, ("__static__" + index), false);
  return tree
}

/**
 * Runtime helper for v-once.
 * Effectively it means marking the node as static with a unique key.
 */
function markOnce (
  tree,
  index,
  key
) {
  markStatic(tree, ("__once__" + index + (key ? ("_" + key) : "")), true);
  return tree
}

function markStatic (
  tree,
  key,
  isOnce
) {
  if (Array.isArray(tree)) {
    for (var i = 0; i < tree.length; i++) {
      if (tree[i] && typeof tree[i] !== 'string') {
        markStaticNode(tree[i], (key + "_" + i), isOnce);
      }
    }
  } else {
    markStaticNode(tree, key, isOnce);
  }
}

function markStaticNode (node, key, isOnce) {
  node.isStatic = true;
  node.key = key;
  node.isOnce = isOnce;
}

/*  */

function bindObjectListeners (data, value) {
  if (value) {
    if (!isPlainObject(value)) {
       true && warn(
        'v-on without argument expects an Object value',
        this
      );
    } else {
      var on = data.on = data.on ? extend({}, data.on) : {};
      for (var key in value) {
        var existing = on[key];
        var ours = value[key];
        on[key] = existing ? [].concat(existing, ours) : ours;
      }
    }
  }
  return data
}

/*  */

function resolveScopedSlots (
  fns, // see flow/vnode
  res,
  // the following are added in 2.6
  hasDynamicKeys,
  contentHashKey
) {
  res = res || { $stable: !hasDynamicKeys };
  for (var i = 0; i < fns.length; i++) {
    var slot = fns[i];
    if (Array.isArray(slot)) {
      resolveScopedSlots(slot, res, hasDynamicKeys);
    } else if (slot) {
      // marker for reverse proxying v-slot without scope on this.$slots
      if (slot.proxy) {
        slot.fn.proxy = true;
      }
      res[slot.key] = slot.fn;
    }
  }
  if (contentHashKey) {
    (res).$key = contentHashKey;
  }
  return res
}

/*  */

function bindDynamicKeys (baseObj, values) {
  for (var i = 0; i < values.length; i += 2) {
    var key = values[i];
    if (typeof key === 'string' && key) {
      baseObj[values[i]] = values[i + 1];
    } else if ( true && key !== '' && key !== null) {
      // null is a special value for explicitly removing a binding
      warn(
        ("Invalid value for dynamic directive argument (expected string or null): " + key),
        this
      );
    }
  }
  return baseObj
}

// helper to dynamically append modifier runtime markers to event names.
// ensure only append when value is already string, otherwise it will be cast
// to string and cause the type check to miss.
function prependModifier (value, symbol) {
  return typeof value === 'string' ? symbol + value : value
}

/*  */

function installRenderHelpers (target) {
  target._o = markOnce;
  target._n = toNumber;
  target._s = toString;
  target._l = renderList;
  target._t = renderSlot;
  target._q = looseEqual;
  target._i = looseIndexOf;
  target._m = renderStatic;
  target._f = resolveFilter;
  target._k = checkKeyCodes;
  target._b = bindObjectProps;
  target._v = createTextVNode;
  target._e = createEmptyVNode;
  target._u = resolveScopedSlots;
  target._g = bindObjectListeners;
  target._d = bindDynamicKeys;
  target._p = prependModifier;
}

/*  */

function FunctionalRenderContext (
  data,
  props,
  children,
  parent,
  Ctor
) {
  var this$1 = this;

  var options = Ctor.options;
  // ensure the createElement function in functional components
  // gets a unique context - this is necessary for correct named slot check
  var contextVm;
  if (hasOwn(parent, '_uid')) {
    contextVm = Object.create(parent);
    // $flow-disable-line
    contextVm._original = parent;
  } else {
    // the context vm passed in is a functional context as well.
    // in this case we want to make sure we are able to get a hold to the
    // real context instance.
    contextVm = parent;
    // $flow-disable-line
    parent = parent._original;
  }
  var isCompiled = isTrue(options._compiled);
  var needNormalization = !isCompiled;

  this.data = data;
  this.props = props;
  this.children = children;
  this.parent = parent;
  this.listeners = data.on || emptyObject;
  this.injections = resolveInject(options.inject, parent);
  this.slots = function () {
    if (!this$1.$slots) {
      normalizeScopedSlots(
        data.scopedSlots,
        this$1.$slots = resolveSlots(children, parent)
      );
    }
    return this$1.$slots
  };

  Object.defineProperty(this, 'scopedSlots', ({
    enumerable: true,
    get: function get () {
      return normalizeScopedSlots(data.scopedSlots, this.slots())
    }
  }));

  // support for compiled functional template
  if (isCompiled) {
    // exposing $options for renderStatic()
    this.$options = options;
    // pre-resolve slots for renderSlot()
    this.$slots = this.slots();
    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);
  }

  if (options._scopeId) {
    this._c = function (a, b, c, d) {
      var vnode = createElement(contextVm, a, b, c, d, needNormalization);
      if (vnode && !Array.isArray(vnode)) {
        vnode.fnScopeId = options._scopeId;
        vnode.fnContext = parent;
      }
      return vnode
    };
  } else {
    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };
  }
}

installRenderHelpers(FunctionalRenderContext.prototype);

function createFunctionalComponent (
  Ctor,
  propsData,
  data,
  contextVm,
  children
) {
  var options = Ctor.options;
  var props = {};
  var propOptions = options.props;
  if (isDef(propOptions)) {
    for (var key in propOptions) {
      props[key] = validateProp(key, propOptions, propsData || emptyObject);
    }
  } else {
    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }
    if (isDef(data.props)) { mergeProps(props, data.props); }
  }

  var renderContext = new FunctionalRenderContext(
    data,
    props,
    children,
    contextVm,
    Ctor
  );

  var vnode = options.render.call(null, renderContext._c, renderContext);

  if (vnode instanceof VNode) {
    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)
  } else if (Array.isArray(vnode)) {
    var vnodes = normalizeChildren(vnode) || [];
    var res = new Array(vnodes.length);
    for (var i = 0; i < vnodes.length; i++) {
      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);
    }
    return res
  }
}

function cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {
  // #7817 clone node before setting fnContext, otherwise if the node is reused
  // (e.g. it was from a cached normal slot) the fnContext causes named slots
  // that should not be matched to match.
  var clone = cloneVNode(vnode);
  clone.fnContext = contextVm;
  clone.fnOptions = options;
  if (true) {
    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;
  }
  if (data.slot) {
    (clone.data || (clone.data = {})).slot = data.slot;
  }
  return clone
}

function mergeProps (to, from) {
  for (var key in from) {
    to[camelize(key)] = from[key];
  }
}

/*  */

/*  */

/*  */

/*  */

// inline hooks to be invoked on component VNodes during patch
var componentVNodeHooks = {
  init: function init (vnode, hydrating) {
    if (
      vnode.componentInstance &&
      !vnode.componentInstance._isDestroyed &&
      vnode.data.keepAlive
    ) {
      // kept-alive components, treat as a patch
      var mountedNode = vnode; // work around flow
      componentVNodeHooks.prepatch(mountedNode, mountedNode);
    } else {
      var child = vnode.componentInstance = createComponentInstanceForVnode(
        vnode,
        activeInstance
      );
      child.$mount(hydrating ? vnode.elm : undefined, hydrating);
    }
  },

  prepatch: function prepatch (oldVnode, vnode) {
    var options = vnode.componentOptions;
    var child = vnode.componentInstance = oldVnode.componentInstance;
    updateChildComponent(
      child,
      options.propsData, // updated props
      options.listeners, // updated listeners
      vnode, // new parent vnode
      options.children // new children
    );
  },

  insert: function insert (vnode) {
    var context = vnode.context;
    var componentInstance = vnode.componentInstance;
    if (!componentInstance._isMounted) {
      callHook(componentInstance, 'onServiceCreated');
      callHook(componentInstance, 'onServiceAttached');
      componentInstance._isMounted = true;
      callHook(componentInstance, 'mounted');
    }
    if (vnode.data.keepAlive) {
      if (context._isMounted) {
        // vue-router#1212
        // During updates, a kept-alive component's child components may
        // change, so directly walking the tree here may call activated hooks
        // on incorrect children. Instead we push them into a queue which will
        // be processed after the whole patch process ended.
        queueActivatedComponent(componentInstance);
      } else {
        activateChildComponent(componentInstance, true /* direct */);
      }
    }
  },

  destroy: function destroy (vnode) {
    var componentInstance = vnode.componentInstance;
    if (!componentInstance._isDestroyed) {
      if (!vnode.data.keepAlive) {
        componentInstance.$destroy();
      } else {
        deactivateChildComponent(componentInstance, true /* direct */);
      }
    }
  }
};

var hooksToMerge = Object.keys(componentVNodeHooks);

function createComponent (
  Ctor,
  data,
  context,
  children,
  tag
) {
  if (isUndef(Ctor)) {
    return
  }

  var baseCtor = context.$options._base;

  // plain options object: turn it into a constructor
  if (isObject(Ctor)) {
    Ctor = baseCtor.extend(Ctor);
  }

  // if at this stage it's not a constructor or an async component factory,
  // reject.
  if (typeof Ctor !== 'function') {
    if (true) {
      warn(("Invalid Component definition: " + (String(Ctor))), context);
    }
    return
  }

  // async component
  var asyncFactory;
  if (isUndef(Ctor.cid)) {
    asyncFactory = Ctor;
    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);
    if (Ctor === undefined) {
      // return a placeholder node for async component, which is rendered
      // as a comment node but preserves all the raw information for the node.
      // the information will be used for async server-rendering and hydration.
      return createAsyncPlaceholder(
        asyncFactory,
        data,
        context,
        children,
        tag
      )
    }
  }

  data = data || {};

  // resolve constructor options in case global mixins are applied after
  // component constructor creation
  resolveConstructorOptions(Ctor);

  // transform component v-model data into props & events
  if (isDef(data.model)) {
    transformModel(Ctor.options, data);
  }

  // extract props
  var propsData = extractPropsFromVNodeData(data, Ctor, tag, context); // fixed by xxxxxx

  // functional component
  if (isTrue(Ctor.options.functional)) {
    return createFunctionalComponent(Ctor, propsData, data, context, children)
  }

  // extract listeners, since these needs to be treated as
  // child component listeners instead of DOM listeners
  var listeners = data.on;
  // replace with listeners with .native modifier
  // so it gets processed during parent component patch.
  data.on = data.nativeOn;

  if (isTrue(Ctor.options.abstract)) {
    // abstract components do not keep anything
    // other than props & listeners & slot

    // work around flow
    var slot = data.slot;
    data = {};
    if (slot) {
      data.slot = slot;
    }
  }

  // install component management hooks onto the placeholder node
  installComponentHooks(data);

  // return a placeholder vnode
  var name = Ctor.options.name || tag;
  var vnode = new VNode(
    ("vue-component-" + (Ctor.cid) + (name ? ("-" + name) : '')),
    data, undefined, undefined, undefined, context,
    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },
    asyncFactory
  );

  return vnode
}

function createComponentInstanceForVnode (
  vnode, // we know it's MountedComponentVNode but flow doesn't
  parent // activeInstance in lifecycle state
) {
  var options = {
    _isComponent: true,
    _parentVnode: vnode,
    parent: parent
  };
  // check inline-template render functions
  var inlineTemplate = vnode.data.inlineTemplate;
  if (isDef(inlineTemplate)) {
    options.render = inlineTemplate.render;
    options.staticRenderFns = inlineTemplate.staticRenderFns;
  }
  return new vnode.componentOptions.Ctor(options)
}

function installComponentHooks (data) {
  var hooks = data.hook || (data.hook = {});
  for (var i = 0; i < hooksToMerge.length; i++) {
    var key = hooksToMerge[i];
    var existing = hooks[key];
    var toMerge = componentVNodeHooks[key];
    if (existing !== toMerge && !(existing && existing._merged)) {
      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;
    }
  }
}

function mergeHook$1 (f1, f2) {
  var merged = function (a, b) {
    // flow complains about extra args which is why we use any
    f1(a, b);
    f2(a, b);
  };
  merged._merged = true;
  return merged
}

// transform component v-model info (value and callback) into
// prop and event handler respectively.
function transformModel (options, data) {
  var prop = (options.model && options.model.prop) || 'value';
  var event = (options.model && options.model.event) || 'input'
  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;
  var on = data.on || (data.on = {});
  var existing = on[event];
  var callback = data.model.callback;
  if (isDef(existing)) {
    if (
      Array.isArray(existing)
        ? existing.indexOf(callback) === -1
        : existing !== callback
    ) {
      on[event] = [callback].concat(existing);
    }
  } else {
    on[event] = callback;
  }
}

/*  */

var SIMPLE_NORMALIZE = 1;
var ALWAYS_NORMALIZE = 2;

// wrapper function for providing a more flexible interface
// without getting yelled at by flow
function createElement (
  context,
  tag,
  data,
  children,
  normalizationType,
  alwaysNormalize
) {
  if (Array.isArray(data) || isPrimitive(data)) {
    normalizationType = children;
    children = data;
    data = undefined;
  }
  if (isTrue(alwaysNormalize)) {
    normalizationType = ALWAYS_NORMALIZE;
  }
  return _createElement(context, tag, data, children, normalizationType)
}

function _createElement (
  context,
  tag,
  data,
  children,
  normalizationType
) {
  if (isDef(data) && isDef((data).__ob__)) {
     true && warn(
      "Avoid using observed data object as vnode data: " + (JSON.stringify(data)) + "\n" +
      'Always create fresh vnode data objects in each render!',
      context
    );
    return createEmptyVNode()
  }
  // object syntax in v-bind
  if (isDef(data) && isDef(data.is)) {
    tag = data.is;
  }
  if (!tag) {
    // in case of component :is set to falsy value
    return createEmptyVNode()
  }
  // warn against non-primitive key
  if ( true &&
    isDef(data) && isDef(data.key) && !isPrimitive(data.key)
  ) {
    {
      warn(
        'Avoid using non-primitive value as key, ' +
        'use string/number value instead.',
        context
      );
    }
  }
  // support single function children as default scoped slot
  if (Array.isArray(children) &&
    typeof children[0] === 'function'
  ) {
    data = data || {};
    data.scopedSlots = { default: children[0] };
    children.length = 0;
  }
  if (normalizationType === ALWAYS_NORMALIZE) {
    children = normalizeChildren(children);
  } else if (normalizationType === SIMPLE_NORMALIZE) {
    children = simpleNormalizeChildren(children);
  }
  var vnode, ns;
  if (typeof tag === 'string') {
    var Ctor;
    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);
    if (config.isReservedTag(tag)) {
      // platform built-in elements
      if ( true && isDef(data) && isDef(data.nativeOn)) {
        warn(
          ("The .native modifier for v-on is only valid on components but it was used on <" + tag + ">."),
          context
        );
      }
      vnode = new VNode(
        config.parsePlatformTagName(tag), data, children,
        undefined, undefined, context
      );
    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {
      // component
      vnode = createComponent(Ctor, data, context, children, tag);
    } else {
      // unknown or unlisted namespaced elements
      // check at runtime because it may get assigned a namespace when its
      // parent normalizes children
      vnode = new VNode(
        tag, data, children,
        undefined, undefined, context
      );
    }
  } else {
    // direct component options / constructor
    vnode = createComponent(tag, data, context, children);
  }
  if (Array.isArray(vnode)) {
    return vnode
  } else if (isDef(vnode)) {
    if (isDef(ns)) { applyNS(vnode, ns); }
    if (isDef(data)) { registerDeepBindings(data); }
    return vnode
  } else {
    return createEmptyVNode()
  }
}

function applyNS (vnode, ns, force) {
  vnode.ns = ns;
  if (vnode.tag === 'foreignObject') {
    // use default namespace inside foreignObject
    ns = undefined;
    force = true;
  }
  if (isDef(vnode.children)) {
    for (var i = 0, l = vnode.children.length; i < l; i++) {
      var child = vnode.children[i];
      if (isDef(child.tag) && (
        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {
        applyNS(child, ns, force);
      }
    }
  }
}

// ref #5318
// necessary to ensure parent re-render when deep bindings like :style and
// :class are used on slot nodes
function registerDeepBindings (data) {
  if (isObject(data.style)) {
    traverse(data.style);
  }
  if (isObject(data.class)) {
    traverse(data.class);
  }
}

/*  */

function initRender (vm) {
  vm._vnode = null; // the root of the child tree
  vm._staticTrees = null; // v-once cached trees
  var options = vm.$options;
  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree
  var renderContext = parentVnode && parentVnode.context;
  vm.$slots = resolveSlots(options._renderChildren, renderContext);
  vm.$scopedSlots = emptyObject;
  // bind the createElement fn to this instance
  // so that we get proper render context inside it.
  // args order: tag, data, children, normalizationType, alwaysNormalize
  // internal version is used by render functions compiled from templates
  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };
  // normalization is always applied for the public version, used in
  // user-written render functions.
  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };

  // $attrs & $listeners are exposed for easier HOC creation.
  // they need to be reactive so that HOCs using them are always updated
  var parentData = parentVnode && parentVnode.data;

  /* istanbul ignore else */
  if (true) {
    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {
      !isUpdatingChildComponent && warn("$attrs is readonly.", vm);
    }, true);
    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {
      !isUpdatingChildComponent && warn("$listeners is readonly.", vm);
    }, true);
  } else {}
}

var currentRenderingInstance = null;

function renderMixin (Vue) {
  // install runtime convenience helpers
  installRenderHelpers(Vue.prototype);

  Vue.prototype.$nextTick = function (fn) {
    return nextTick(fn, this)
  };

  Vue.prototype._render = function () {
    var vm = this;
    var ref = vm.$options;
    var render = ref.render;
    var _parentVnode = ref._parentVnode;

    if (_parentVnode) {
      vm.$scopedSlots = normalizeScopedSlots(
        _parentVnode.data.scopedSlots,
        vm.$slots,
        vm.$scopedSlots
      );
    }

    // set parent vnode. this allows render functions to have access
    // to the data on the placeholder node.
    vm.$vnode = _parentVnode;
    // render self
    var vnode;
    try {
      // There's no need to maintain a stack because all render fns are called
      // separately from one another. Nested component's render fns are called
      // when parent component is patched.
      currentRenderingInstance = vm;
      vnode = render.call(vm._renderProxy, vm.$createElement);
    } catch (e) {
      handleError(e, vm, "render");
      // return error render result,
      // or previous vnode to prevent render error causing blank component
      /* istanbul ignore else */
      if ( true && vm.$options.renderError) {
        try {
          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);
        } catch (e) {
          handleError(e, vm, "renderError");
          vnode = vm._vnode;
        }
      } else {
        vnode = vm._vnode;
      }
    } finally {
      currentRenderingInstance = null;
    }
    // if the returned array contains only a single node, allow it
    if (Array.isArray(vnode) && vnode.length === 1) {
      vnode = vnode[0];
    }
    // return empty vnode in case the render function errored out
    if (!(vnode instanceof VNode)) {
      if ( true && Array.isArray(vnode)) {
        warn(
          'Multiple root nodes returned from render function. Render function ' +
          'should return a single root node.',
          vm
        );
      }
      vnode = createEmptyVNode();
    }
    // set parent
    vnode.parent = _parentVnode;
    return vnode
  };
}

/*  */

function ensureCtor (comp, base) {
  if (
    comp.__esModule ||
    (hasSymbol && comp[Symbol.toStringTag] === 'Module')
  ) {
    comp = comp.default;
  }
  return isObject(comp)
    ? base.extend(comp)
    : comp
}

function createAsyncPlaceholder (
  factory,
  data,
  context,
  children,
  tag
) {
  var node = createEmptyVNode();
  node.asyncFactory = factory;
  node.asyncMeta = { data: data, context: context, children: children, tag: tag };
  return node
}

function resolveAsyncComponent (
  factory,
  baseCtor
) {
  if (isTrue(factory.error) && isDef(factory.errorComp)) {
    return factory.errorComp
  }

  if (isDef(factory.resolved)) {
    return factory.resolved
  }

  var owner = currentRenderingInstance;
  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {
    // already pending
    factory.owners.push(owner);
  }

  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {
    return factory.loadingComp
  }

  if (owner && !isDef(factory.owners)) {
    var owners = factory.owners = [owner];
    var sync = true;
    var timerLoading = null;
    var timerTimeout = null

    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });

    var forceRender = function (renderCompleted) {
      for (var i = 0, l = owners.length; i < l; i++) {
        (owners[i]).$forceUpdate();
      }

      if (renderCompleted) {
        owners.length = 0;
        if (timerLoading !== null) {
          clearTimeout(timerLoading);
          timerLoading = null;
        }
        if (timerTimeout !== null) {
          clearTimeout(timerTimeout);
          timerTimeout = null;
        }
      }
    };

    var resolve = once(function (res) {
      // cache resolved
      factory.resolved = ensureCtor(res, baseCtor);
      // invoke callbacks only if this is not a synchronous resolve
      // (async resolves are shimmed as synchronous during SSR)
      if (!sync) {
        forceRender(true);
      } else {
        owners.length = 0;
      }
    });

    var reject = once(function (reason) {
       true && warn(
        "Failed to resolve async component: " + (String(factory)) +
        (reason ? ("\nReason: " + reason) : '')
      );
      if (isDef(factory.errorComp)) {
        factory.error = true;
        forceRender(true);
      }
    });

    var res = factory(resolve, reject);

    if (isObject(res)) {
      if (isPromise(res)) {
        // () => Promise
        if (isUndef(factory.resolved)) {
          res.then(resolve, reject);
        }
      } else if (isPromise(res.component)) {
        res.component.then(resolve, reject);

        if (isDef(res.error)) {
          factory.errorComp = ensureCtor(res.error, baseCtor);
        }

        if (isDef(res.loading)) {
          factory.loadingComp = ensureCtor(res.loading, baseCtor);
          if (res.delay === 0) {
            factory.loading = true;
          } else {
            timerLoading = setTimeout(function () {
              timerLoading = null;
              if (isUndef(factory.resolved) && isUndef(factory.error)) {
                factory.loading = true;
                forceRender(false);
              }
            }, res.delay || 200);
          }
        }

        if (isDef(res.timeout)) {
          timerTimeout = setTimeout(function () {
            timerTimeout = null;
            if (isUndef(factory.resolved)) {
              reject(
                 true
                  ? ("timeout (" + (res.timeout) + "ms)")
                  : undefined
              );
            }
          }, res.timeout);
        }
      }
    }

    sync = false;
    // return in case resolved synchronously
    return factory.loading
      ? factory.loadingComp
      : factory.resolved
  }
}

/*  */

function isAsyncPlaceholder (node) {
  return node.isComment && node.asyncFactory
}

/*  */

function getFirstComponentChild (children) {
  if (Array.isArray(children)) {
    for (var i = 0; i < children.length; i++) {
      var c = children[i];
      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {
        return c
      }
    }
  }
}

/*  */

/*  */

function initEvents (vm) {
  vm._events = Object.create(null);
  vm._hasHookEvent = false;
  // init parent attached events
  var listeners = vm.$options._parentListeners;
  if (listeners) {
    updateComponentListeners(vm, listeners);
  }
}

var target;

function add (event, fn) {
  target.$on(event, fn);
}

function remove$1 (event, fn) {
  target.$off(event, fn);
}

function createOnceHandler (event, fn) {
  var _target = target;
  return function onceHandler () {
    var res = fn.apply(null, arguments);
    if (res !== null) {
      _target.$off(event, onceHandler);
    }
  }
}

function updateComponentListeners (
  vm,
  listeners,
  oldListeners
) {
  target = vm;
  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);
  target = undefined;
}

function eventsMixin (Vue) {
  var hookRE = /^hook:/;
  Vue.prototype.$on = function (event, fn) {
    var vm = this;
    if (Array.isArray(event)) {
      for (var i = 0, l = event.length; i < l; i++) {
        vm.$on(event[i], fn);
      }
    } else {
      (vm._events[event] || (vm._events[event] = [])).push(fn);
      // optimize hook:event cost by using a boolean flag marked at registration
      // instead of a hash lookup
      if (hookRE.test(event)) {
        vm._hasHookEvent = true;
      }
    }
    return vm
  };

  Vue.prototype.$once = function (event, fn) {
    var vm = this;
    function on () {
      vm.$off(event, on);
      fn.apply(vm, arguments);
    }
    on.fn = fn;
    vm.$on(event, on);
    return vm
  };

  Vue.prototype.$off = function (event, fn) {
    var vm = this;
    // all
    if (!arguments.length) {
      vm._events = Object.create(null);
      return vm
    }
    // array of events
    if (Array.isArray(event)) {
      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {
        vm.$off(event[i$1], fn);
      }
      return vm
    }
    // specific event
    var cbs = vm._events[event];
    if (!cbs) {
      return vm
    }
    if (!fn) {
      vm._events[event] = null;
      return vm
    }
    // specific handler
    var cb;
    var i = cbs.length;
    while (i--) {
      cb = cbs[i];
      if (cb === fn || cb.fn === fn) {
        cbs.splice(i, 1);
        break
      }
    }
    return vm
  };

  Vue.prototype.$emit = function (event) {
    var vm = this;
    if (true) {
      var lowerCaseEvent = event.toLowerCase();
      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {
        tip(
          "Event \"" + lowerCaseEvent + "\" is emitted in component " +
          (formatComponentName(vm)) + " but the handler is registered for \"" + event + "\". " +
          "Note that HTML attributes are case-insensitive and you cannot use " +
          "v-on to listen to camelCase events when using in-DOM templates. " +
          "You should probably use \"" + (hyphenate(event)) + "\" instead of \"" + event + "\"."
        );
      }
    }
    var cbs = vm._events[event];
    if (cbs) {
      cbs = cbs.length > 1 ? toArray(cbs) : cbs;
      var args = toArray(arguments, 1);
      var info = "event handler for \"" + event + "\"";
      for (var i = 0, l = cbs.length; i < l; i++) {
        invokeWithErrorHandling(cbs[i], vm, args, vm, info);
      }
    }
    return vm
  };
}

/*  */

var activeInstance = null;
var isUpdatingChildComponent = false;

function setActiveInstance(vm) {
  var prevActiveInstance = activeInstance;
  activeInstance = vm;
  return function () {
    activeInstance = prevActiveInstance;
  }
}

function initLifecycle (vm) {
  var options = vm.$options;

  // locate first non-abstract parent
  var parent = options.parent;
  if (parent && !options.abstract) {
    while (parent.$options.abstract && parent.$parent) {
      parent = parent.$parent;
    }
    parent.$children.push(vm);
  }

  vm.$parent = parent;
  vm.$root = parent ? parent.$root : vm;

  vm.$children = [];
  vm.$refs = {};

  vm._watcher = null;
  vm._inactive = null;
  vm._directInactive = false;
  vm._isMounted = false;
  vm._isDestroyed = false;
  vm._isBeingDestroyed = false;
}

function lifecycleMixin (Vue) {
  Vue.prototype._update = function (vnode, hydrating) {
    var vm = this;
    var prevEl = vm.$el;
    var prevVnode = vm._vnode;
    var restoreActiveInstance = setActiveInstance(vm);
    vm._vnode = vnode;
    // Vue.prototype.__patch__ is injected in entry points
    // based on the rendering backend used.
    if (!prevVnode) {
      // initial render
      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);
    } else {
      // updates
      vm.$el = vm.__patch__(prevVnode, vnode);
    }
    restoreActiveInstance();
    // update __vue__ reference
    if (prevEl) {
      prevEl.__vue__ = null;
    }
    if (vm.$el) {
      vm.$el.__vue__ = vm;
    }
    // if parent is an HOC, update its $el as well
    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {
      vm.$parent.$el = vm.$el;
    }
    // updated hook is called by the scheduler to ensure that children are
    // updated in a parent's updated hook.
  };

  Vue.prototype.$forceUpdate = function () {
    var vm = this;
    if (vm._watcher) {
      vm._watcher.update();
    }
  };

  Vue.prototype.$destroy = function () {
    var vm = this;
    if (vm._isBeingDestroyed) {
      return
    }
    callHook(vm, 'beforeDestroy');
    vm._isBeingDestroyed = true;
    // remove self from parent
    var parent = vm.$parent;
    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {
      remove(parent.$children, vm);
    }
    // teardown watchers
    if (vm._watcher) {
      vm._watcher.teardown();
    }
    var i = vm._watchers.length;
    while (i--) {
      vm._watchers[i].teardown();
    }
    // remove reference from data ob
    // frozen object may not have observer.
    if (vm._data.__ob__) {
      vm._data.__ob__.vmCount--;
    }
    // call the last hook...
    vm._isDestroyed = true;
    // invoke destroy hooks on current rendered tree
    vm.__patch__(vm._vnode, null);
    // fire destroyed hook
    callHook(vm, 'destroyed');
    // turn off all instance listeners.
    vm.$off();
    // remove __vue__ reference
    if (vm.$el) {
      vm.$el.__vue__ = null;
    }
    // release circular reference (#6759)
    if (vm.$vnode) {
      vm.$vnode.parent = null;
    }
  };
}

function updateChildComponent (
  vm,
  propsData,
  listeners,
  parentVnode,
  renderChildren
) {
  if (true) {
    isUpdatingChildComponent = true;
  }

  // determine whether component has slot children
  // we need to do this before overwriting $options._renderChildren.

  // check if there are dynamic scopedSlots (hand-written or compiled but with
  // dynamic slot names). Static scoped slots compiled from template has the
  // "$stable" marker.
  var newScopedSlots = parentVnode.data.scopedSlots;
  var oldScopedSlots = vm.$scopedSlots;
  var hasDynamicScopedSlot = !!(
    (newScopedSlots && !newScopedSlots.$stable) ||
    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||
    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)
  );

  // Any static slot children from the parent may have changed during parent's
  // update. Dynamic scoped slots may also have changed. In such cases, a forced
  // update is necessary to ensure correctness.
  var needsForceUpdate = !!(
    renderChildren ||               // has new static slots
    vm.$options._renderChildren ||  // has old static slots
    hasDynamicScopedSlot
  );

  vm.$options._parentVnode = parentVnode;
  vm.$vnode = parentVnode; // update vm's placeholder node without re-render

  if (vm._vnode) { // update child tree's parent
    vm._vnode.parent = parentVnode;
  }
  vm.$options._renderChildren = renderChildren;

  // update $attrs and $listeners hash
  // these are also reactive so they may trigger child update if the child
  // used them during render
  vm.$attrs = parentVnode.data.attrs || emptyObject;
  vm.$listeners = listeners || emptyObject;

  // update props
  if (propsData && vm.$options.props) {
    toggleObserving(false);
    var props = vm._props;
    var propKeys = vm.$options._propKeys || [];
    for (var i = 0; i < propKeys.length; i++) {
      var key = propKeys[i];
      var propOptions = vm.$options.props; // wtf flow?
      props[key] = validateProp(key, propOptions, propsData, vm);
    }
    toggleObserving(true);
    // keep a copy of raw propsData
    vm.$options.propsData = propsData;
  }
  
  // fixed by xxxxxx update properties(mp runtime)
  vm._$updateProperties && vm._$updateProperties(vm);
  
  // update listeners
  listeners = listeners || emptyObject;
  var oldListeners = vm.$options._parentListeners;
  vm.$options._parentListeners = listeners;
  updateComponentListeners(vm, listeners, oldListeners);

  // resolve slots + force update if has children
  if (needsForceUpdate) {
    vm.$slots = resolveSlots(renderChildren, parentVnode.context);
    vm.$forceUpdate();
  }

  if (true) {
    isUpdatingChildComponent = false;
  }
}

function isInInactiveTree (vm) {
  while (vm && (vm = vm.$parent)) {
    if (vm._inactive) { return true }
  }
  return false
}

function activateChildComponent (vm, direct) {
  if (direct) {
    vm._directInactive = false;
    if (isInInactiveTree(vm)) {
      return
    }
  } else if (vm._directInactive) {
    return
  }
  if (vm._inactive || vm._inactive === null) {
    vm._inactive = false;
    for (var i = 0; i < vm.$children.length; i++) {
      activateChildComponent(vm.$children[i]);
    }
    callHook(vm, 'activated');
  }
}

function deactivateChildComponent (vm, direct) {
  if (direct) {
    vm._directInactive = true;
    if (isInInactiveTree(vm)) {
      return
    }
  }
  if (!vm._inactive) {
    vm._inactive = true;
    for (var i = 0; i < vm.$children.length; i++) {
      deactivateChildComponent(vm.$children[i]);
    }
    callHook(vm, 'deactivated');
  }
}

function callHook (vm, hook) {
  // #7573 disable dep collection when invoking lifecycle hooks
  pushTarget();
  var handlers = vm.$options[hook];
  var info = hook + " hook";
  if (handlers) {
    for (var i = 0, j = handlers.length; i < j; i++) {
      invokeWithErrorHandling(handlers[i], vm, null, vm, info);
    }
  }
  if (vm._hasHookEvent) {
    vm.$emit('hook:' + hook);
  }
  popTarget();
}

/*  */

var MAX_UPDATE_COUNT = 100;

var queue = [];
var activatedChildren = [];
var has = {};
var circular = {};
var waiting = false;
var flushing = false;
var index = 0;

/**
 * Reset the scheduler's state.
 */
function resetSchedulerState () {
  index = queue.length = activatedChildren.length = 0;
  has = {};
  if (true) {
    circular = {};
  }
  waiting = flushing = false;
}

// Async edge case #6566 requires saving the timestamp when event listeners are
// attached. However, calling performance.now() has a perf overhead especially
// if the page has thousands of event listeners. Instead, we take a timestamp
// every time the scheduler flushes and use that for all event listeners
// attached during that flush.
var currentFlushTimestamp = 0;

// Async edge case fix requires storing an event listener's attach timestamp.
var getNow = Date.now;

// Determine what event timestamp the browser is using. Annoyingly, the
// timestamp can either be hi-res (relative to page load) or low-res
// (relative to UNIX epoch), so in order to compare time we have to use the
// same timestamp type when saving the flush timestamp.
// All IE versions use low-res event timestamps, and have problematic clock
// implementations (#9632)
if (inBrowser && !isIE) {
  var performance = window.performance;
  if (
    performance &&
    typeof performance.now === 'function' &&
    getNow() > document.createEvent('Event').timeStamp
  ) {
    // if the event timestamp, although evaluated AFTER the Date.now(), is
    // smaller than it, it means the event is using a hi-res timestamp,
    // and we need to use the hi-res version for event listener timestamps as
    // well.
    getNow = function () { return performance.now(); };
  }
}

/**
 * Flush both queues and run the watchers.
 */
function flushSchedulerQueue () {
  currentFlushTimestamp = getNow();
  flushing = true;
  var watcher, id;

  // Sort queue before flush.
  // This ensures that:
  // 1. Components are updated from parent to child. (because parent is always
  //    created before the child)
  // 2. A component's user watchers are run before its render watcher (because
  //    user watchers are created before the render watcher)
  // 3. If a component is destroyed during a parent component's watcher run,
  //    its watchers can be skipped.
  queue.sort(function (a, b) { return a.id - b.id; });

  // do not cache length because more watchers might be pushed
  // as we run existing watchers
  for (index = 0; index < queue.length; index++) {
    watcher = queue[index];
    if (watcher.before) {
      watcher.before();
    }
    id = watcher.id;
    has[id] = null;
    watcher.run();
    // in dev build, check and stop circular updates.
    if ( true && has[id] != null) {
      circular[id] = (circular[id] || 0) + 1;
      if (circular[id] > MAX_UPDATE_COUNT) {
        warn(
          'You may have an infinite update loop ' + (
            watcher.user
              ? ("in watcher with expression \"" + (watcher.expression) + "\"")
              : "in a component render function."
          ),
          watcher.vm
        );
        break
      }
    }
  }

  // keep copies of post queues before resetting state
  var activatedQueue = activatedChildren.slice();
  var updatedQueue = queue.slice();

  resetSchedulerState();

  // call component updated and activated hooks
  callActivatedHooks(activatedQueue);
  callUpdatedHooks(updatedQueue);

  // devtool hook
  /* istanbul ignore if */
  if (devtools && config.devtools) {
    devtools.emit('flush');
  }
}

function callUpdatedHooks (queue) {
  var i = queue.length;
  while (i--) {
    var watcher = queue[i];
    var vm = watcher.vm;
    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {
      callHook(vm, 'updated');
    }
  }
}

/**
 * Queue a kept-alive component that was activated during patch.
 * The queue will be processed after the entire tree has been patched.
 */
function queueActivatedComponent (vm) {
  // setting _inactive to false here so that a render function can
  // rely on checking whether it's in an inactive tree (e.g. router-view)
  vm._inactive = false;
  activatedChildren.push(vm);
}

function callActivatedHooks (queue) {
  for (var i = 0; i < queue.length; i++) {
    queue[i]._inactive = true;
    activateChildComponent(queue[i], true /* true */);
  }
}

/**
 * Push a watcher into the watcher queue.
 * Jobs with duplicate IDs will be skipped unless it's
 * pushed when the queue is being flushed.
 */
function queueWatcher (watcher) {
  var id = watcher.id;
  if (has[id] == null) {
    has[id] = true;
    if (!flushing) {
      queue.push(watcher);
    } else {
      // if already flushing, splice the watcher based on its id
      // if already past its id, it will be run next immediately.
      var i = queue.length - 1;
      while (i > index && queue[i].id > watcher.id) {
        i--;
      }
      queue.splice(i + 1, 0, watcher);
    }
    // queue the flush
    if (!waiting) {
      waiting = true;

      if ( true && !config.async) {
        flushSchedulerQueue();
        return
      }
      nextTick(flushSchedulerQueue);
    }
  }
}

/*  */



var uid$2 = 0;

/**
 * A watcher parses an expression, collects dependencies,
 * and fires callback when the expression value changes.
 * This is used for both the $watch() api and directives.
 */
var Watcher = function Watcher (
  vm,
  expOrFn,
  cb,
  options,
  isRenderWatcher
) {
  this.vm = vm;
  if (isRenderWatcher) {
    vm._watcher = this;
  }
  vm._watchers.push(this);
  // options
  if (options) {
    this.deep = !!options.deep;
    this.user = !!options.user;
    this.lazy = !!options.lazy;
    this.sync = !!options.sync;
    this.before = options.before;
  } else {
    this.deep = this.user = this.lazy = this.sync = false;
  }
  this.cb = cb;
  this.id = ++uid$2; // uid for batching
  this.active = true;
  this.dirty = this.lazy; // for lazy watchers
  this.deps = [];
  this.newDeps = [];
  this.depIds = new _Set();
  this.newDepIds = new _Set();
  this.expression =  true
    ? expOrFn.toString()
    : undefined;
  // parse expression for getter
  if (typeof expOrFn === 'function') {
    this.getter = expOrFn;
  } else {
    this.getter = parsePath(expOrFn);
    if (!this.getter) {
      this.getter = noop;
       true && warn(
        "Failed watching path: \"" + expOrFn + "\" " +
        'Watcher only accepts simple dot-delimited paths. ' +
        'For full control, use a function instead.',
        vm
      );
    }
  }
  this.value = this.lazy
    ? undefined
    : this.get();
};

/**
 * Evaluate the getter, and re-collect dependencies.
 */
Watcher.prototype.get = function get () {
  pushTarget(this);
  var value;
  var vm = this.vm;
  try {
    value = this.getter.call(vm, vm);
  } catch (e) {
    if (this.user) {
      handleError(e, vm, ("getter for watcher \"" + (this.expression) + "\""));
    } else {
      throw e
    }
  } finally {
    // "touch" every property so they are all tracked as
    // dependencies for deep watching
    if (this.deep) {
      traverse(value);
    }
    popTarget();
    this.cleanupDeps();
  }
  return value
};

/**
 * Add a dependency to this directive.
 */
Watcher.prototype.addDep = function addDep (dep) {
  var id = dep.id;
  if (!this.newDepIds.has(id)) {
    this.newDepIds.add(id);
    this.newDeps.push(dep);
    if (!this.depIds.has(id)) {
      dep.addSub(this);
    }
  }
};

/**
 * Clean up for dependency collection.
 */
Watcher.prototype.cleanupDeps = function cleanupDeps () {
  var i = this.deps.length;
  while (i--) {
    var dep = this.deps[i];
    if (!this.newDepIds.has(dep.id)) {
      dep.removeSub(this);
    }
  }
  var tmp = this.depIds;
  this.depIds = this.newDepIds;
  this.newDepIds = tmp;
  this.newDepIds.clear();
  tmp = this.deps;
  this.deps = this.newDeps;
  this.newDeps = tmp;
  this.newDeps.length = 0;
};

/**
 * Subscriber interface.
 * Will be called when a dependency changes.
 */
Watcher.prototype.update = function update () {
  /* istanbul ignore else */
  if (this.lazy) {
    this.dirty = true;
  } else if (this.sync) {
    this.run();
  } else {
    queueWatcher(this);
  }
};

/**
 * Scheduler job interface.
 * Will be called by the scheduler.
 */
Watcher.prototype.run = function run () {
  if (this.active) {
    var value = this.get();
    if (
      value !== this.value ||
      // Deep watchers and watchers on Object/Arrays should fire even
      // when the value is the same, because the value may
      // have mutated.
      isObject(value) ||
      this.deep
    ) {
      // set new value
      var oldValue = this.value;
      this.value = value;
      if (this.user) {
        try {
          this.cb.call(this.vm, value, oldValue);
        } catch (e) {
          handleError(e, this.vm, ("callback for watcher \"" + (this.expression) + "\""));
        }
      } else {
        this.cb.call(this.vm, value, oldValue);
      }
    }
  }
};

/**
 * Evaluate the value of the watcher.
 * This only gets called for lazy watchers.
 */
Watcher.prototype.evaluate = function evaluate () {
  this.value = this.get();
  this.dirty = false;
};

/**
 * Depend on all deps collected by this watcher.
 */
Watcher.prototype.depend = function depend () {
  var i = this.deps.length;
  while (i--) {
    this.deps[i].depend();
  }
};

/**
 * Remove self from all dependencies' subscriber list.
 */
Watcher.prototype.teardown = function teardown () {
  if (this.active) {
    // remove self from vm's watcher list
    // this is a somewhat expensive operation so we skip it
    // if the vm is being destroyed.
    if (!this.vm._isBeingDestroyed) {
      remove(this.vm._watchers, this);
    }
    var i = this.deps.length;
    while (i--) {
      this.deps[i].removeSub(this);
    }
    this.active = false;
  }
};

/*  */

var sharedPropertyDefinition = {
  enumerable: true,
  configurable: true,
  get: noop,
  set: noop
};

function proxy (target, sourceKey, key) {
  sharedPropertyDefinition.get = function proxyGetter () {
    return this[sourceKey][key]
  };
  sharedPropertyDefinition.set = function proxySetter (val) {
    this[sourceKey][key] = val;
  };
  Object.defineProperty(target, key, sharedPropertyDefinition);
}

function initState (vm) {
  vm._watchers = [];
  var opts = vm.$options;
  if (opts.props) { initProps(vm, opts.props); }
  if (opts.methods) { initMethods(vm, opts.methods); }
  if (opts.data) {
    initData(vm);
  } else {
    observe(vm._data = {}, true /* asRootData */);
  }
  if (opts.computed) { initComputed(vm, opts.computed); }
  if (opts.watch && opts.watch !== nativeWatch) {
    initWatch(vm, opts.watch);
  }
}

function initProps (vm, propsOptions) {
  var propsData = vm.$options.propsData || {};
  var props = vm._props = {};
  // cache prop keys so that future props updates can iterate using Array
  // instead of dynamic object key enumeration.
  var keys = vm.$options._propKeys = [];
  var isRoot = !vm.$parent;
  // root instance props should be converted
  if (!isRoot) {
    toggleObserving(false);
  }
  var loop = function ( key ) {
    keys.push(key);
    var value = validateProp(key, propsOptions, propsData, vm);
    /* istanbul ignore else */
    if (true) {
      var hyphenatedKey = hyphenate(key);
      if (isReservedAttribute(hyphenatedKey) ||
          config.isReservedAttr(hyphenatedKey)) {
        warn(
          ("\"" + hyphenatedKey + "\" is a reserved attribute and cannot be used as component prop."),
          vm
        );
      }
      defineReactive$$1(props, key, value, function () {
        if (!isRoot && !isUpdatingChildComponent) {
          {
            if(vm.mpHost === 'mp-baidu' || vm.mpHost === 'mp-kuaishou' || vm.mpHost === 'mp-xhs'){//百度、快手、小红书 observer 在 setData callback 之后触发，直接忽略该 warn
                return
            }
            //fixed by xxxxxx __next_tick_pending,uni://form-field 时不告警
            if(
                key === 'value' && 
                Array.isArray(vm.$options.behaviors) &&
                vm.$options.behaviors.indexOf('uni://form-field') !== -1
              ){
              return
            }
            if(vm._getFormData){
              return
            }
            var $parent = vm.$parent;
            while($parent){
              if($parent.__next_tick_pending){
                return  
              }
              $parent = $parent.$parent;
            }
          }
          warn(
            "Avoid mutating a prop directly since the value will be " +
            "overwritten whenever the parent component re-renders. " +
            "Instead, use a data or computed property based on the prop's " +
            "value. Prop being mutated: \"" + key + "\"",
            vm
          );
        }
      });
    } else {}
    // static props are already proxied on the component's prototype
    // during Vue.extend(). We only need to proxy props defined at
    // instantiation here.
    if (!(key in vm)) {
      proxy(vm, "_props", key);
    }
  };

  for (var key in propsOptions) loop( key );
  toggleObserving(true);
}

function initData (vm) {
  var data = vm.$options.data;
  data = vm._data = typeof data === 'function'
    ? getData(data, vm)
    : data || {};
  if (!isPlainObject(data)) {
    data = {};
     true && warn(
      'data functions should return an object:\n' +
      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',
      vm
    );
  }
  // proxy data on instance
  var keys = Object.keys(data);
  var props = vm.$options.props;
  var methods = vm.$options.methods;
  var i = keys.length;
  while (i--) {
    var key = keys[i];
    if (true) {
      if (methods && hasOwn(methods, key)) {
        warn(
          ("Method \"" + key + "\" has already been defined as a data property."),
          vm
        );
      }
    }
    if (props && hasOwn(props, key)) {
       true && warn(
        "The data property \"" + key + "\" is already declared as a prop. " +
        "Use prop default value instead.",
        vm
      );
    } else if (!isReserved(key)) {
      proxy(vm, "_data", key);
    }
  }
  // observe data
  observe(data, true /* asRootData */);
}

function getData (data, vm) {
  // #7573 disable dep collection when invoking data getters
  pushTarget();
  try {
    return data.call(vm, vm)
  } catch (e) {
    handleError(e, vm, "data()");
    return {}
  } finally {
    popTarget();
  }
}

var computedWatcherOptions = { lazy: true };

function initComputed (vm, computed) {
  // $flow-disable-line
  var watchers = vm._computedWatchers = Object.create(null);
  // computed properties are just getters during SSR
  var isSSR = isServerRendering();

  for (var key in computed) {
    var userDef = computed[key];
    var getter = typeof userDef === 'function' ? userDef : userDef.get;
    if ( true && getter == null) {
      warn(
        ("Getter is missing for computed property \"" + key + "\"."),
        vm
      );
    }

    if (!isSSR) {
      // create internal watcher for the computed property.
      watchers[key] = new Watcher(
        vm,
        getter || noop,
        noop,
        computedWatcherOptions
      );
    }

    // component-defined computed properties are already defined on the
    // component prototype. We only need to define computed properties defined
    // at instantiation here.
    if (!(key in vm)) {
      defineComputed(vm, key, userDef);
    } else if (true) {
      if (key in vm.$data) {
        warn(("The computed property \"" + key + "\" is already defined in data."), vm);
      } else if (vm.$options.props && key in vm.$options.props) {
        warn(("The computed property \"" + key + "\" is already defined as a prop."), vm);
      }
    }
  }
}

function defineComputed (
  target,
  key,
  userDef
) {
  var shouldCache = !isServerRendering();
  if (typeof userDef === 'function') {
    sharedPropertyDefinition.get = shouldCache
      ? createComputedGetter(key)
      : createGetterInvoker(userDef);
    sharedPropertyDefinition.set = noop;
  } else {
    sharedPropertyDefinition.get = userDef.get
      ? shouldCache && userDef.cache !== false
        ? createComputedGetter(key)
        : createGetterInvoker(userDef.get)
      : noop;
    sharedPropertyDefinition.set = userDef.set || noop;
  }
  if ( true &&
      sharedPropertyDefinition.set === noop) {
    sharedPropertyDefinition.set = function () {
      warn(
        ("Computed property \"" + key + "\" was assigned to but it has no setter."),
        this
      );
    };
  }
  Object.defineProperty(target, key, sharedPropertyDefinition);
}

function createComputedGetter (key) {
  return function computedGetter () {
    var watcher = this._computedWatchers && this._computedWatchers[key];
    if (watcher) {
      if (watcher.dirty) {
        watcher.evaluate();
      }
      if (Dep.SharedObject.target) {// fixed by xxxxxx
        watcher.depend();
      }
      return watcher.value
    }
  }
}

function createGetterInvoker(fn) {
  return function computedGetter () {
    return fn.call(this, this)
  }
}

function initMethods (vm, methods) {
  var props = vm.$options.props;
  for (var key in methods) {
    if (true) {
      if (typeof methods[key] !== 'function') {
        warn(
          "Method \"" + key + "\" has type \"" + (typeof methods[key]) + "\" in the component definition. " +
          "Did you reference the function correctly?",
          vm
        );
      }
      if (props && hasOwn(props, key)) {
        warn(
          ("Method \"" + key + "\" has already been defined as a prop."),
          vm
        );
      }
      if ((key in vm) && isReserved(key)) {
        warn(
          "Method \"" + key + "\" conflicts with an existing Vue instance method. " +
          "Avoid defining component methods that start with _ or $."
        );
      }
    }
    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);
  }
}

function initWatch (vm, watch) {
  for (var key in watch) {
    var handler = watch[key];
    if (Array.isArray(handler)) {
      for (var i = 0; i < handler.length; i++) {
        createWatcher(vm, key, handler[i]);
      }
    } else {
      createWatcher(vm, key, handler);
    }
  }
}

function createWatcher (
  vm,
  expOrFn,
  handler,
  options
) {
  if (isPlainObject(handler)) {
    options = handler;
    handler = handler.handler;
  }
  if (typeof handler === 'string') {
    handler = vm[handler];
  }
  return vm.$watch(expOrFn, handler, options)
}

function stateMixin (Vue) {
  // flow somehow has problems with directly declared definition object
  // when using Object.defineProperty, so we have to procedurally build up
  // the object here.
  var dataDef = {};
  dataDef.get = function () { return this._data };
  var propsDef = {};
  propsDef.get = function () { return this._props };
  if (true) {
    dataDef.set = function () {
      warn(
        'Avoid replacing instance root $data. ' +
        'Use nested data properties instead.',
        this
      );
    };
    propsDef.set = function () {
      warn("$props is readonly.", this);
    };
  }
  Object.defineProperty(Vue.prototype, '$data', dataDef);
  Object.defineProperty(Vue.prototype, '$props', propsDef);

  Vue.prototype.$set = set;
  Vue.prototype.$delete = del;

  Vue.prototype.$watch = function (
    expOrFn,
    cb,
    options
  ) {
    var vm = this;
    if (isPlainObject(cb)) {
      return createWatcher(vm, expOrFn, cb, options)
    }
    options = options || {};
    options.user = true;
    var watcher = new Watcher(vm, expOrFn, cb, options);
    if (options.immediate) {
      try {
        cb.call(vm, watcher.value);
      } catch (error) {
        handleError(error, vm, ("callback for immediate watcher \"" + (watcher.expression) + "\""));
      }
    }
    return function unwatchFn () {
      watcher.teardown();
    }
  };
}

/*  */

var uid$3 = 0;

function initMixin (Vue) {
  Vue.prototype._init = function (options) {
    var vm = this;
    // a uid
    vm._uid = uid$3++;

    var startTag, endTag;
    /* istanbul ignore if */
    if ( true && config.performance && mark) {
      startTag = "vue-perf-start:" + (vm._uid);
      endTag = "vue-perf-end:" + (vm._uid);
      mark(startTag);
    }

    // a flag to avoid this being observed
    vm._isVue = true;
    // merge options
    if (options && options._isComponent) {
      // optimize internal component instantiation
      // since dynamic options merging is pretty slow, and none of the
      // internal component options needs special treatment.
      initInternalComponent(vm, options);
    } else {
      vm.$options = mergeOptions(
        resolveConstructorOptions(vm.constructor),
        options || {},
        vm
      );
    }
    /* istanbul ignore else */
    if (true) {
      initProxy(vm);
    } else {}
    // expose real self
    vm._self = vm;
    initLifecycle(vm);
    initEvents(vm);
    initRender(vm);
    callHook(vm, 'beforeCreate');
    !vm._$fallback && initInjections(vm); // resolve injections before data/props  
    initState(vm);
    !vm._$fallback && initProvide(vm); // resolve provide after data/props
    !vm._$fallback && callHook(vm, 'created');      

    /* istanbul ignore if */
    if ( true && config.performance && mark) {
      vm._name = formatComponentName(vm, false);
      mark(endTag);
      measure(("vue " + (vm._name) + " init"), startTag, endTag);
    }

    if (vm.$options.el) {
      vm.$mount(vm.$options.el);
    }
  };
}

function initInternalComponent (vm, options) {
  var opts = vm.$options = Object.create(vm.constructor.options);
  // doing this because it's faster than dynamic enumeration.
  var parentVnode = options._parentVnode;
  opts.parent = options.parent;
  opts._parentVnode = parentVnode;

  var vnodeComponentOptions = parentVnode.componentOptions;
  opts.propsData = vnodeComponentOptions.propsData;
  opts._parentListeners = vnodeComponentOptions.listeners;
  opts._renderChildren = vnodeComponentOptions.children;
  opts._componentTag = vnodeComponentOptions.tag;

  if (options.render) {
    opts.render = options.render;
    opts.staticRenderFns = options.staticRenderFns;
  }
}

function resolveConstructorOptions (Ctor) {
  var options = Ctor.options;
  if (Ctor.super) {
    var superOptions = resolveConstructorOptions(Ctor.super);
    var cachedSuperOptions = Ctor.superOptions;
    if (superOptions !== cachedSuperOptions) {
      // super option changed,
      // need to resolve new options.
      Ctor.superOptions = superOptions;
      // check if there are any late-modified/attached options (#4976)
      var modifiedOptions = resolveModifiedOptions(Ctor);
      // update base extend options
      if (modifiedOptions) {
        extend(Ctor.extendOptions, modifiedOptions);
      }
      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);
      if (options.name) {
        options.components[options.name] = Ctor;
      }
    }
  }
  return options
}

function resolveModifiedOptions (Ctor) {
  var modified;
  var latest = Ctor.options;
  var sealed = Ctor.sealedOptions;
  for (var key in latest) {
    if (latest[key] !== sealed[key]) {
      if (!modified) { modified = {}; }
      modified[key] = latest[key];
    }
  }
  return modified
}

function Vue (options) {
  if ( true &&
    !(this instanceof Vue)
  ) {
    warn('Vue is a constructor and should be called with the `new` keyword');
  }
  this._init(options);
}

initMixin(Vue);
stateMixin(Vue);
eventsMixin(Vue);
lifecycleMixin(Vue);
renderMixin(Vue);

/*  */

function initUse (Vue) {
  Vue.use = function (plugin) {
    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));
    if (installedPlugins.indexOf(plugin) > -1) {
      return this
    }

    // additional parameters
    var args = toArray(arguments, 1);
    args.unshift(this);
    if (typeof plugin.install === 'function') {
      plugin.install.apply(plugin, args);
    } else if (typeof plugin === 'function') {
      plugin.apply(null, args);
    }
    installedPlugins.push(plugin);
    return this
  };
}

/*  */

function initMixin$1 (Vue) {
  Vue.mixin = function (mixin) {
    this.options = mergeOptions(this.options, mixin);
    return this
  };
}

/*  */

function initExtend (Vue) {
  /**
   * Each instance constructor, including Vue, has a unique
   * cid. This enables us to create wrapped "child
   * constructors" for prototypal inheritance and cache them.
   */
  Vue.cid = 0;
  var cid = 1;

  /**
   * Class inheritance
   */
  Vue.extend = function (extendOptions) {
    extendOptions = extendOptions || {};
    var Super = this;
    var SuperId = Super.cid;
    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});
    if (cachedCtors[SuperId]) {
      return cachedCtors[SuperId]
    }

    var name = extendOptions.name || Super.options.name;
    if ( true && name) {
      validateComponentName(name);
    }

    var Sub = function VueComponent (options) {
      this._init(options);
    };
    Sub.prototype = Object.create(Super.prototype);
    Sub.prototype.constructor = Sub;
    Sub.cid = cid++;
    Sub.options = mergeOptions(
      Super.options,
      extendOptions
    );
    Sub['super'] = Super;

    // For props and computed properties, we define the proxy getters on
    // the Vue instances at extension time, on the extended prototype. This
    // avoids Object.defineProperty calls for each instance created.
    if (Sub.options.props) {
      initProps$1(Sub);
    }
    if (Sub.options.computed) {
      initComputed$1(Sub);
    }

    // allow further extension/mixin/plugin usage
    Sub.extend = Super.extend;
    Sub.mixin = Super.mixin;
    Sub.use = Super.use;

    // create asset registers, so extended classes
    // can have their private assets too.
    ASSET_TYPES.forEach(function (type) {
      Sub[type] = Super[type];
    });
    // enable recursive self-lookup
    if (name) {
      Sub.options.components[name] = Sub;
    }

    // keep a reference to the super options at extension time.
    // later at instantiation we can check if Super's options have
    // been updated.
    Sub.superOptions = Super.options;
    Sub.extendOptions = extendOptions;
    Sub.sealedOptions = extend({}, Sub.options);

    // cache constructor
    cachedCtors[SuperId] = Sub;
    return Sub
  };
}

function initProps$1 (Comp) {
  var props = Comp.options.props;
  for (var key in props) {
    proxy(Comp.prototype, "_props", key);
  }
}

function initComputed$1 (Comp) {
  var computed = Comp.options.computed;
  for (var key in computed) {
    defineComputed(Comp.prototype, key, computed[key]);
  }
}

/*  */

function initAssetRegisters (Vue) {
  /**
   * Create asset registration methods.
   */
  ASSET_TYPES.forEach(function (type) {
    Vue[type] = function (
      id,
      definition
    ) {
      if (!definition) {
        return this.options[type + 's'][id]
      } else {
        /* istanbul ignore if */
        if ( true && type === 'component') {
          validateComponentName(id);
        }
        if (type === 'component' && isPlainObject(definition)) {
          definition.name = definition.name || id;
          definition = this.options._base.extend(definition);
        }
        if (type === 'directive' && typeof definition === 'function') {
          definition = { bind: definition, update: definition };
        }
        this.options[type + 's'][id] = definition;
        return definition
      }
    };
  });
}

/*  */



function getComponentName (opts) {
  return opts && (opts.Ctor.options.name || opts.tag)
}

function matches (pattern, name) {
  if (Array.isArray(pattern)) {
    return pattern.indexOf(name) > -1
  } else if (typeof pattern === 'string') {
    return pattern.split(',').indexOf(name) > -1
  } else if (isRegExp(pattern)) {
    return pattern.test(name)
  }
  /* istanbul ignore next */
  return false
}

function pruneCache (keepAliveInstance, filter) {
  var cache = keepAliveInstance.cache;
  var keys = keepAliveInstance.keys;
  var _vnode = keepAliveInstance._vnode;
  for (var key in cache) {
    var cachedNode = cache[key];
    if (cachedNode) {
      var name = getComponentName(cachedNode.componentOptions);
      if (name && !filter(name)) {
        pruneCacheEntry(cache, key, keys, _vnode);
      }
    }
  }
}

function pruneCacheEntry (
  cache,
  key,
  keys,
  current
) {
  var cached$$1 = cache[key];
  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {
    cached$$1.componentInstance.$destroy();
  }
  cache[key] = null;
  remove(keys, key);
}

var patternTypes = [String, RegExp, Array];

var KeepAlive = {
  name: 'keep-alive',
  abstract: true,

  props: {
    include: patternTypes,
    exclude: patternTypes,
    max: [String, Number]
  },

  created: function created () {
    this.cache = Object.create(null);
    this.keys = [];
  },

  destroyed: function destroyed () {
    for (var key in this.cache) {
      pruneCacheEntry(this.cache, key, this.keys);
    }
  },

  mounted: function mounted () {
    var this$1 = this;

    this.$watch('include', function (val) {
      pruneCache(this$1, function (name) { return matches(val, name); });
    });
    this.$watch('exclude', function (val) {
      pruneCache(this$1, function (name) { return !matches(val, name); });
    });
  },

  render: function render () {
    var slot = this.$slots.default;
    var vnode = getFirstComponentChild(slot);
    var componentOptions = vnode && vnode.componentOptions;
    if (componentOptions) {
      // check pattern
      var name = getComponentName(componentOptions);
      var ref = this;
      var include = ref.include;
      var exclude = ref.exclude;
      if (
        // not included
        (include && (!name || !matches(include, name))) ||
        // excluded
        (exclude && name && matches(exclude, name))
      ) {
        return vnode
      }

      var ref$1 = this;
      var cache = ref$1.cache;
      var keys = ref$1.keys;
      var key = vnode.key == null
        // same constructor may get registered as different local components
        // so cid alone is not enough (#3269)
        ? componentOptions.Ctor.cid + (componentOptions.tag ? ("::" + (componentOptions.tag)) : '')
        : vnode.key;
      if (cache[key]) {
        vnode.componentInstance = cache[key].componentInstance;
        // make current key freshest
        remove(keys, key);
        keys.push(key);
      } else {
        cache[key] = vnode;
        keys.push(key);
        // prune oldest entry
        if (this.max && keys.length > parseInt(this.max)) {
          pruneCacheEntry(cache, keys[0], keys, this._vnode);
        }
      }

      vnode.data.keepAlive = true;
    }
    return vnode || (slot && slot[0])
  }
};

var builtInComponents = {
  KeepAlive: KeepAlive
};

/*  */

function initGlobalAPI (Vue) {
  // config
  var configDef = {};
  configDef.get = function () { return config; };
  if (true) {
    configDef.set = function () {
      warn(
        'Do not replace the Vue.config object, set individual fields instead.'
      );
    };
  }
  Object.defineProperty(Vue, 'config', configDef);

  // exposed util methods.
  // NOTE: these are not considered part of the public API - avoid relying on
  // them unless you are aware of the risk.
  Vue.util = {
    warn: warn,
    extend: extend,
    mergeOptions: mergeOptions,
    defineReactive: defineReactive$$1
  };

  Vue.set = set;
  Vue.delete = del;
  Vue.nextTick = nextTick;

  // 2.6 explicit observable API
  Vue.observable = function (obj) {
    observe(obj);
    return obj
  };

  Vue.options = Object.create(null);
  ASSET_TYPES.forEach(function (type) {
    Vue.options[type + 's'] = Object.create(null);
  });

  // this is used to identify the "base" constructor to extend all plain-object
  // components with in Weex's multi-instance scenarios.
  Vue.options._base = Vue;

  extend(Vue.options.components, builtInComponents);

  initUse(Vue);
  initMixin$1(Vue);
  initExtend(Vue);
  initAssetRegisters(Vue);
}

initGlobalAPI(Vue);

Object.defineProperty(Vue.prototype, '$isServer', {
  get: isServerRendering
});

Object.defineProperty(Vue.prototype, '$ssrContext', {
  get: function get () {
    /* istanbul ignore next */
    return this.$vnode && this.$vnode.ssrContext
  }
});

// expose FunctionalRenderContext for ssr runtime helper installation
Object.defineProperty(Vue, 'FunctionalRenderContext', {
  value: FunctionalRenderContext
});

Vue.version = '2.6.11';

/**
 * https://raw.githubusercontent.com/Tencent/westore/master/packages/westore/utils/diff.js
 */
var ARRAYTYPE = '[object Array]';
var OBJECTTYPE = '[object Object]';
// const FUNCTIONTYPE = '[object Function]'

function diff(current, pre) {
    var result = {};
    syncKeys(current, pre);
    _diff(current, pre, '', result);
    return result
}

function syncKeys(current, pre) {
    if (current === pre) { return }
    var rootCurrentType = type(current);
    var rootPreType = type(pre);
    if (rootCurrentType == OBJECTTYPE && rootPreType == OBJECTTYPE) {
        if(Object.keys(current).length >= Object.keys(pre).length){
            for (var key in pre) {
                var currentValue = current[key];
                if (currentValue === undefined) {
                    current[key] = null;
                } else {
                    syncKeys(currentValue, pre[key]);
                }
            }
        }
    } else if (rootCurrentType == ARRAYTYPE && rootPreType == ARRAYTYPE) {
        if (current.length >= pre.length) {
            pre.forEach(function (item, index) {
                syncKeys(current[index], item);
            });
        }
    }
}

function _diff(current, pre, path, result) {
    if (current === pre) { return }
    var rootCurrentType = type(current);
    var rootPreType = type(pre);
    if (rootCurrentType == OBJECTTYPE) {
        if (rootPreType != OBJECTTYPE || Object.keys(current).length < Object.keys(pre).length) {
            setResult(result, path, current);
        } else {
            var loop = function ( key ) {
                var currentValue = current[key];
                var preValue = pre[key];
                var currentType = type(currentValue);
                var preType = type(preValue);
                if (currentType != ARRAYTYPE && currentType != OBJECTTYPE) {
                    if (currentValue !== pre[key]) {
                        setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                    }
                } else if (currentType == ARRAYTYPE) {
                    if (preType != ARRAYTYPE) {
                        setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                    } else {
                        if (currentValue.length < preValue.length) {
                            setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                        } else {
                            currentValue.forEach(function (item, index) {
                                _diff(item, preValue[index], (path == '' ? '' : path + ".") + key + '[' + index + ']', result);
                            });
                        }
                    }
                } else if (currentType == OBJECTTYPE) {
                    if (preType != OBJECTTYPE || Object.keys(currentValue).length < Object.keys(preValue).length) {
                        setResult(result, (path == '' ? '' : path + ".") + key, currentValue);
                    } else {
                        for (var subKey in currentValue) {
                            _diff(currentValue[subKey], preValue[subKey], (path == '' ? '' : path + ".") + key + '.' + subKey, result);
                        }
                    }
                }
            };

            for (var key in current) loop( key );
        }
    } else if (rootCurrentType == ARRAYTYPE) {
        if (rootPreType != ARRAYTYPE) {
            setResult(result, path, current);
        } else {
            if (current.length < pre.length) {
                setResult(result, path, current);
            } else {
                current.forEach(function (item, index) {
                    _diff(item, pre[index], path + '[' + index + ']', result);
                });
            }
        }
    } else {
        setResult(result, path, current);
    }
}

function setResult(result, k, v) {
    // if (type(v) != FUNCTIONTYPE) {
        result[k] = v;
    // }
}

function type(obj) {
    return Object.prototype.toString.call(obj)
}

/*  */

function flushCallbacks$1(vm) {
    if (vm.__next_tick_callbacks && vm.__next_tick_callbacks.length) {
        if (Object({"VUE_APP_NAME":"ruishi-video-user","VUE_APP_PLATFORM":"mp-weixin","NODE_ENV":"development","BASE_URL":"/"}).VUE_APP_DEBUG) {
            var mpInstance = vm.$scope;
            console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + vm._uid +
                ']:flushCallbacks[' + vm.__next_tick_callbacks.length + ']');
        }
        var copies = vm.__next_tick_callbacks.slice(0);
        vm.__next_tick_callbacks.length = 0;
        for (var i = 0; i < copies.length; i++) {
            copies[i]();
        }
    }
}

function hasRenderWatcher(vm) {
    return queue.find(function (watcher) { return vm._watcher === watcher; })
}

function nextTick$1(vm, cb) {
    //1.nextTick 之前 已 setData 且 setData 还未回调完成
    //2.nextTick 之前存在 render watcher
    if (!vm.__next_tick_pending && !hasRenderWatcher(vm)) {
        if(Object({"VUE_APP_NAME":"ruishi-video-user","VUE_APP_PLATFORM":"mp-weixin","NODE_ENV":"development","BASE_URL":"/"}).VUE_APP_DEBUG){
            var mpInstance = vm.$scope;
            console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + vm._uid +
                ']:nextVueTick');
        }
        return nextTick(cb, vm)
    }else{
        if(Object({"VUE_APP_NAME":"ruishi-video-user","VUE_APP_PLATFORM":"mp-weixin","NODE_ENV":"development","BASE_URL":"/"}).VUE_APP_DEBUG){
            var mpInstance$1 = vm.$scope;
            console.log('[' + (+new Date) + '][' + (mpInstance$1.is || mpInstance$1.route) + '][' + vm._uid +
                ']:nextMPTick');
        }
    }
    var _resolve;
    if (!vm.__next_tick_callbacks) {
        vm.__next_tick_callbacks = [];
    }
    vm.__next_tick_callbacks.push(function () {
        if (cb) {
            try {
                cb.call(vm);
            } catch (e) {
                handleError(e, vm, 'nextTick');
            }
        } else if (_resolve) {
            _resolve(vm);
        }
    });
    // $flow-disable-line
    if (!cb && typeof Promise !== 'undefined') {
        return new Promise(function (resolve) {
            _resolve = resolve;
        })
    }
}

/*  */

function cloneWithData(vm) {
  // 确保当前 vm 所有数据被同步
  var ret = Object.create(null);
  var dataKeys = [].concat(
    Object.keys(vm._data || {}),
    Object.keys(vm._computedWatchers || {}));

  dataKeys.reduce(function(ret, key) {
    ret[key] = vm[key];
    return ret
  }, ret);

  // vue-composition-api
  var compositionApiState = vm.__composition_api_state__ || vm.__secret_vfa_state__;
  var rawBindings = compositionApiState && compositionApiState.rawBindings;
  if (rawBindings) {
    Object.keys(rawBindings).forEach(function (key) {
      ret[key] = vm[key];
    });
  }

  //TODO 需要把无用数据处理掉，比如 list=>l0 则 list 需要移除，否则多传输一份数据
  Object.assign(ret, vm.$mp.data || {});
  if (
    Array.isArray(vm.$options.behaviors) &&
    vm.$options.behaviors.indexOf('uni://form-field') !== -1
  ) { //form-field
    ret['name'] = vm.name;
    ret['value'] = vm.value;
  }

  return JSON.parse(JSON.stringify(ret))
}

var patch = function(oldVnode, vnode) {
  var this$1 = this;

  if (vnode === null) { //destroy
    return
  }
  if (this.mpType === 'page' || this.mpType === 'component') {
    var mpInstance = this.$scope;
    var data = Object.create(null);
    try {
      data = cloneWithData(this);
    } catch (err) {
      console.error(err);
    }
    data.__webviewId__ = mpInstance.data.__webviewId__;
    var mpData = Object.create(null);
    Object.keys(data).forEach(function (key) { //仅同步 data 中有的数据
      mpData[key] = mpInstance.data[key];
    });
    var diffData = this.$shouldDiffData === false ? data : diff(data, mpData);
    if (Object.keys(diffData).length) {
      if (Object({"VUE_APP_NAME":"ruishi-video-user","VUE_APP_PLATFORM":"mp-weixin","NODE_ENV":"development","BASE_URL":"/"}).VUE_APP_DEBUG) {
        console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + this._uid +
          ']差量更新',
          JSON.stringify(diffData));
      }
      this.__next_tick_pending = true;
      mpInstance.setData(diffData, function () {
        this$1.__next_tick_pending = false;
        flushCallbacks$1(this$1);
      });
    } else {
      flushCallbacks$1(this);
    }
  }
};

/*  */

function createEmptyRender() {

}

function mountComponent$1(
  vm,
  el,
  hydrating
) {
  if (!vm.mpType) {//main.js 中的 new Vue
    return vm
  }
  if (vm.mpType === 'app') {
    vm.$options.render = createEmptyRender;
  }
  if (!vm.$options.render) {
    vm.$options.render = createEmptyRender;
    if (true) {
      /* istanbul ignore if */
      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||
        vm.$options.el || el) {
        warn(
          'You are using the runtime-only build of Vue where the template ' +
          'compiler is not available. Either pre-compile the templates into ' +
          'render functions, or use the compiler-included build.',
          vm
        );
      } else {
        warn(
          'Failed to mount component: template or render function not defined.',
          vm
        );
      }
    }
  }
  
  !vm._$fallback && callHook(vm, 'beforeMount');

  var updateComponent = function () {
    vm._update(vm._render(), hydrating);
  };

  // we set this to vm._watcher inside the watcher's constructor
  // since the watcher's initial patch may call $forceUpdate (e.g. inside child
  // component's mounted hook), which relies on vm._watcher being already defined
  new Watcher(vm, updateComponent, noop, {
    before: function before() {
      if (vm._isMounted && !vm._isDestroyed) {
        callHook(vm, 'beforeUpdate');
      }
    }
  }, true /* isRenderWatcher */);
  hydrating = false;
  return vm
}

/*  */

function renderClass (
  staticClass,
  dynamicClass
) {
  if (isDef(staticClass) || isDef(dynamicClass)) {
    return concat(staticClass, stringifyClass(dynamicClass))
  }
  /* istanbul ignore next */
  return ''
}

function concat (a, b) {
  return a ? b ? (a + ' ' + b) : a : (b || '')
}

function stringifyClass (value) {
  if (Array.isArray(value)) {
    return stringifyArray(value)
  }
  if (isObject(value)) {
    return stringifyObject(value)
  }
  if (typeof value === 'string') {
    return value
  }
  /* istanbul ignore next */
  return ''
}

function stringifyArray (value) {
  var res = '';
  var stringified;
  for (var i = 0, l = value.length; i < l; i++) {
    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {
      if (res) { res += ' '; }
      res += stringified;
    }
  }
  return res
}

function stringifyObject (value) {
  var res = '';
  for (var key in value) {
    if (value[key]) {
      if (res) { res += ' '; }
      res += key;
    }
  }
  return res
}

/*  */

var parseStyleText = cached(function (cssText) {
  var res = {};
  var listDelimiter = /;(?![^(]*\))/g;
  var propertyDelimiter = /:(.+)/;
  cssText.split(listDelimiter).forEach(function (item) {
    if (item) {
      var tmp = item.split(propertyDelimiter);
      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());
    }
  });
  return res
});

// normalize possible array / string values into Object
function normalizeStyleBinding (bindingStyle) {
  if (Array.isArray(bindingStyle)) {
    return toObject(bindingStyle)
  }
  if (typeof bindingStyle === 'string') {
    return parseStyleText(bindingStyle)
  }
  return bindingStyle
}

/*  */

var MP_METHODS = ['createSelectorQuery', 'createIntersectionObserver', 'selectAllComponents', 'selectComponent'];

function getTarget(obj, path) {
  var parts = path.split('.');
  var key = parts[0];
  if (key.indexOf('__$n') === 0) { //number index
    key = parseInt(key.replace('__$n', ''));
  }
  if (parts.length === 1) {
    return obj[key]
  }
  return getTarget(obj[key], parts.slice(1).join('.'))
}

function internalMixin(Vue) {

  Vue.config.errorHandler = function(err, vm, info) {
    Vue.util.warn(("Error in " + info + ": \"" + (err.toString()) + "\""), vm);
    console.error(err);
    /* eslint-disable no-undef */
    var app = typeof getApp === 'function' && getApp();
    if (app && app.onError) {
      app.onError(err);
    }
  };

  var oldEmit = Vue.prototype.$emit;

  Vue.prototype.$emit = function(event) {
    if (this.$scope && event) {
      var triggerEvent = this.$scope['_triggerEvent'] || this.$scope['triggerEvent'];
      if (triggerEvent) {
        triggerEvent.call(this.$scope, event, {
          __args__: toArray(arguments, 1)
        });
      }
    }
    return oldEmit.apply(this, arguments)
  };

  Vue.prototype.$nextTick = function(fn) {
    return nextTick$1(this, fn)
  };

  MP_METHODS.forEach(function (method) {
    Vue.prototype[method] = function(args) {
      if (this.$scope && this.$scope[method]) {
        return this.$scope[method](args)
      }
      // mp-alipay
      if (typeof my === 'undefined') {
        return
      }
      if (method === 'createSelectorQuery') {
        /* eslint-disable no-undef */
        return my.createSelectorQuery(args)
      } else if (method === 'createIntersectionObserver') {
        /* eslint-disable no-undef */
        return my.createIntersectionObserver(args)
      }
      // TODO mp-alipay 暂不支持 selectAllComponents,selectComponent
    };
  });

  Vue.prototype.__init_provide = initProvide;

  Vue.prototype.__init_injections = initInjections;

  Vue.prototype.__call_hook = function(hook, args) {
    var vm = this;
    // #7573 disable dep collection when invoking lifecycle hooks
    pushTarget();
    var handlers = vm.$options[hook];
    var info = hook + " hook";
    var ret;
    if (handlers) {
      for (var i = 0, j = handlers.length; i < j; i++) {
        ret = invokeWithErrorHandling(handlers[i], vm, args ? [args] : null, vm, info);
      }
    }
    if (vm._hasHookEvent) {
      vm.$emit('hook:' + hook, args);
    }
    popTarget();
    return ret
  };

  Vue.prototype.__set_model = function(target, key, value, modifiers) {
    if (Array.isArray(modifiers)) {
      if (modifiers.indexOf('trim') !== -1) {
        value = value.trim();
      }
      if (modifiers.indexOf('number') !== -1) {
        value = this._n(value);
      }
    }
    if (!target) {
      target = this;
    }
    // 解决动态属性添加
    Vue.set(target, key, value);
  };

  Vue.prototype.__set_sync = function(target, key, value) {
    if (!target) {
      target = this;
    }
    // 解决动态属性添加
    Vue.set(target, key, value);
  };

  Vue.prototype.__get_orig = function(item) {
    if (isPlainObject(item)) {
      return item['$orig'] || item
    }
    return item
  };

  Vue.prototype.__get_value = function(dataPath, target) {
    return getTarget(target || this, dataPath)
  };


  Vue.prototype.__get_class = function(dynamicClass, staticClass) {
    return renderClass(staticClass, dynamicClass)
  };

  Vue.prototype.__get_style = function(dynamicStyle, staticStyle) {
    if (!dynamicStyle && !staticStyle) {
      return ''
    }
    var dynamicStyleObj = normalizeStyleBinding(dynamicStyle);
    var styleObj = staticStyle ? extend(staticStyle, dynamicStyleObj) : dynamicStyleObj;
    return Object.keys(styleObj).map(function (name) { return ((hyphenate(name)) + ":" + (styleObj[name])); }).join(';')
  };

  Vue.prototype.__map = function(val, iteratee) {
    //TODO 暂不考虑 string
    var ret, i, l, keys, key;
    if (Array.isArray(val)) {
      ret = new Array(val.length);
      for (i = 0, l = val.length; i < l; i++) {
        ret[i] = iteratee(val[i], i);
      }
      return ret
    } else if (isObject(val)) {
      keys = Object.keys(val);
      ret = Object.create(null);
      for (i = 0, l = keys.length; i < l; i++) {
        key = keys[i];
        ret[key] = iteratee(val[key], key, i);
      }
      return ret
    } else if (typeof val === 'number') {
      ret = new Array(val);
      for (i = 0, l = val; i < l; i++) {
        // 第一个参数暂时仍和小程序一致
        ret[i] = iteratee(i, i);
      }
      return ret
    }
    return []
  };

}

/*  */

var LIFECYCLE_HOOKS$1 = [
    //App
    'onLaunch',
    'onShow',
    'onHide',
    'onUniNViewMessage',
    'onPageNotFound',
    'onThemeChange',
    'onError',
    'onUnhandledRejection',
    //Page
    'onInit',
    'onLoad',
    // 'onShow',
    'onReady',
    // 'onHide',
    'onUnload',
    'onPullDownRefresh',
    'onReachBottom',
    'onTabItemTap',
    'onAddToFavorites',
    'onShareTimeline',
    'onShareAppMessage',
    'onResize',
    'onPageScroll',
    'onNavigationBarButtonTap',
    'onBackPress',
    'onNavigationBarSearchInputChanged',
    'onNavigationBarSearchInputConfirmed',
    'onNavigationBarSearchInputClicked',
    //Component
    // 'onReady', // 兼容旧版本，应该移除该事件
    'onPageShow',
    'onPageHide',
    'onPageResize',
    'onUploadDouyinVideo'
];
function lifecycleMixin$1(Vue) {

    //fixed vue-class-component
    var oldExtend = Vue.extend;
    Vue.extend = function(extendOptions) {
        extendOptions = extendOptions || {};

        var methods = extendOptions.methods;
        if (methods) {
            Object.keys(methods).forEach(function (methodName) {
                if (LIFECYCLE_HOOKS$1.indexOf(methodName)!==-1) {
                    extendOptions[methodName] = methods[methodName];
                    delete methods[methodName];
                }
            });
        }

        return oldExtend.call(this, extendOptions)
    };

    var strategies = Vue.config.optionMergeStrategies;
    var mergeHook = strategies.created;
    LIFECYCLE_HOOKS$1.forEach(function (hook) {
        strategies[hook] = mergeHook;
    });

    Vue.prototype.__lifecycle_hooks__ = LIFECYCLE_HOOKS$1;
}

/*  */

// install platform patch function
Vue.prototype.__patch__ = patch;

// public mount method
Vue.prototype.$mount = function(
    el ,
    hydrating 
) {
    return mountComponent$1(this, el, hydrating)
};

lifecycleMixin$1(Vue);
internalMixin(Vue);

/*  */

/* harmony default export */ __webpack_exports__["default"] = (Vue);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../webpack/buildin/global.js */ 2)))

/***/ }),
/* 5 */
/*!**********************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/pages.json ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return normalizeComponent; });
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent (
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier, /* server only */
  shadowMode, /* vue-cli only */
  components, // fixed by xxxxxx auto components
  renderjs // fixed by xxxxxx renderjs
) {
  // Vue.extend constructor export interop
  var options = typeof scriptExports === 'function'
    ? scriptExports.options
    : scriptExports

  // fixed by xxxxxx auto components
  if (components) {
    if (!options.components) {
      options.components = {}
    }
    var hasOwn = Object.prototype.hasOwnProperty
    for (var name in components) {
      if (hasOwn.call(components, name) && !hasOwn.call(options.components, name)) {
        options.components[name] = components[name]
      }
    }
  }
  // fixed by xxxxxx renderjs
  if (renderjs) {
    (renderjs.beforeCreate || (renderjs.beforeCreate = [])).unshift(function() {
      this[renderjs.__module] = this
    });
    (options.mixins || (options.mixins = [])).push(renderjs)
  }

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) { // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functioal component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection (h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing
        ? [].concat(existing, hook)
        : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}


/***/ }),
/* 12 */
/*!**************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/store/index.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 4));
var _vuex = _interopRequireDefault(__webpack_require__(/*! vuex */ 13));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} // 页面路径：store/index.js 

_vue.default.use(_vuex.default); //vue的插件机制

//Vuex.Store 构造器选项
var store = new _vuex.default.Store({
  state: { //存放状态
    "username": "foo",
    "age": 18 } });var _default =


store;exports.default = _default;

/***/ }),
/* 13 */
/*!**************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vuex3/dist/vuex.common.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */


function applyMixin (Vue) {
  var version = Number(Vue.version.split('.')[0]);

  if (version >= 2) {
    Vue.mixin({ beforeCreate: vuexInit });
  } else {
    // override init and inject vuex init procedure
    // for 1.x backwards compatibility.
    var _init = Vue.prototype._init;
    Vue.prototype._init = function (options) {
      if ( options === void 0 ) options = {};

      options.init = options.init
        ? [vuexInit].concat(options.init)
        : vuexInit;
      _init.call(this, options);
    };
  }

  /**
   * Vuex init hook, injected into each instances init hooks list.
   */

  function vuexInit () {
    var options = this.$options;
    // store injection
    if (options.store) {
      this.$store = typeof options.store === 'function'
        ? options.store()
        : options.store;
    } else if (options.parent && options.parent.$store) {
      this.$store = options.parent.$store;
    }
  }
}

var target = typeof window !== 'undefined'
  ? window
  : typeof global !== 'undefined'
    ? global
    : {};
var devtoolHook = target.__VUE_DEVTOOLS_GLOBAL_HOOK__;

function devtoolPlugin (store) {
  if (!devtoolHook) { return }

  store._devtoolHook = devtoolHook;

  devtoolHook.emit('vuex:init', store);

  devtoolHook.on('vuex:travel-to-state', function (targetState) {
    store.replaceState(targetState);
  });

  store.subscribe(function (mutation, state) {
    devtoolHook.emit('vuex:mutation', mutation, state);
  }, { prepend: true });

  store.subscribeAction(function (action, state) {
    devtoolHook.emit('vuex:action', action, state);
  }, { prepend: true });
}

/**
 * Get the first item that pass the test
 * by second argument function
 *
 * @param {Array} list
 * @param {Function} f
 * @return {*}
 */
function find (list, f) {
  return list.filter(f)[0]
}

/**
 * Deep copy the given object considering circular structure.
 * This function caches all nested objects and its copies.
 * If it detects circular structure, use cached copy to avoid infinite loop.
 *
 * @param {*} obj
 * @param {Array<Object>} cache
 * @return {*}
 */
function deepCopy (obj, cache) {
  if ( cache === void 0 ) cache = [];

  // just return if obj is immutable value
  if (obj === null || typeof obj !== 'object') {
    return obj
  }

  // if obj is hit, it is in circular structure
  var hit = find(cache, function (c) { return c.original === obj; });
  if (hit) {
    return hit.copy
  }

  var copy = Array.isArray(obj) ? [] : {};
  // put the copy into cache at first
  // because we want to refer it in recursive deepCopy
  cache.push({
    original: obj,
    copy: copy
  });

  Object.keys(obj).forEach(function (key) {
    copy[key] = deepCopy(obj[key], cache);
  });

  return copy
}

/**
 * forEach for object
 */
function forEachValue (obj, fn) {
  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });
}

function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

function isPromise (val) {
  return val && typeof val.then === 'function'
}

function assert (condition, msg) {
  if (!condition) { throw new Error(("[vuex] " + msg)) }
}

function partial (fn, arg) {
  return function () {
    return fn(arg)
  }
}

// Base data struct for store's module, package with some attribute and method
var Module = function Module (rawModule, runtime) {
  this.runtime = runtime;
  // Store some children item
  this._children = Object.create(null);
  // Store the origin module object which passed by programmer
  this._rawModule = rawModule;
  var rawState = rawModule.state;

  // Store the origin module's state
  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};
};

var prototypeAccessors = { namespaced: { configurable: true } };

prototypeAccessors.namespaced.get = function () {
  return !!this._rawModule.namespaced
};

Module.prototype.addChild = function addChild (key, module) {
  this._children[key] = module;
};

Module.prototype.removeChild = function removeChild (key) {
  delete this._children[key];
};

Module.prototype.getChild = function getChild (key) {
  return this._children[key]
};

Module.prototype.hasChild = function hasChild (key) {
  return key in this._children
};

Module.prototype.update = function update (rawModule) {
  this._rawModule.namespaced = rawModule.namespaced;
  if (rawModule.actions) {
    this._rawModule.actions = rawModule.actions;
  }
  if (rawModule.mutations) {
    this._rawModule.mutations = rawModule.mutations;
  }
  if (rawModule.getters) {
    this._rawModule.getters = rawModule.getters;
  }
};

Module.prototype.forEachChild = function forEachChild (fn) {
  forEachValue(this._children, fn);
};

Module.prototype.forEachGetter = function forEachGetter (fn) {
  if (this._rawModule.getters) {
    forEachValue(this._rawModule.getters, fn);
  }
};

Module.prototype.forEachAction = function forEachAction (fn) {
  if (this._rawModule.actions) {
    forEachValue(this._rawModule.actions, fn);
  }
};

Module.prototype.forEachMutation = function forEachMutation (fn) {
  if (this._rawModule.mutations) {
    forEachValue(this._rawModule.mutations, fn);
  }
};

Object.defineProperties( Module.prototype, prototypeAccessors );

var ModuleCollection = function ModuleCollection (rawRootModule) {
  // register root module (Vuex.Store options)
  this.register([], rawRootModule, false);
};

ModuleCollection.prototype.get = function get (path) {
  return path.reduce(function (module, key) {
    return module.getChild(key)
  }, this.root)
};

ModuleCollection.prototype.getNamespace = function getNamespace (path) {
  var module = this.root;
  return path.reduce(function (namespace, key) {
    module = module.getChild(key);
    return namespace + (module.namespaced ? key + '/' : '')
  }, '')
};

ModuleCollection.prototype.update = function update$1 (rawRootModule) {
  update([], this.root, rawRootModule);
};

ModuleCollection.prototype.register = function register (path, rawModule, runtime) {
    var this$1 = this;
    if ( runtime === void 0 ) runtime = true;

  if ((true)) {
    assertRawModule(path, rawModule);
  }

  var newModule = new Module(rawModule, runtime);
  if (path.length === 0) {
    this.root = newModule;
  } else {
    var parent = this.get(path.slice(0, -1));
    parent.addChild(path[path.length - 1], newModule);
  }

  // register nested modules
  if (rawModule.modules) {
    forEachValue(rawModule.modules, function (rawChildModule, key) {
      this$1.register(path.concat(key), rawChildModule, runtime);
    });
  }
};

ModuleCollection.prototype.unregister = function unregister (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];
  var child = parent.getChild(key);

  if (!child) {
    if ((true)) {
      console.warn(
        "[vuex] trying to unregister module '" + key + "', which is " +
        "not registered"
      );
    }
    return
  }

  if (!child.runtime) {
    return
  }

  parent.removeChild(key);
};

ModuleCollection.prototype.isRegistered = function isRegistered (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];

  if (parent) {
    return parent.hasChild(key)
  }

  return false
};

function update (path, targetModule, newModule) {
  if ((true)) {
    assertRawModule(path, newModule);
  }

  // update target module
  targetModule.update(newModule);

  // update nested modules
  if (newModule.modules) {
    for (var key in newModule.modules) {
      if (!targetModule.getChild(key)) {
        if ((true)) {
          console.warn(
            "[vuex] trying to add a new module '" + key + "' on hot reloading, " +
            'manual reload is needed'
          );
        }
        return
      }
      update(
        path.concat(key),
        targetModule.getChild(key),
        newModule.modules[key]
      );
    }
  }
}

var functionAssert = {
  assert: function (value) { return typeof value === 'function'; },
  expected: 'function'
};

var objectAssert = {
  assert: function (value) { return typeof value === 'function' ||
    (typeof value === 'object' && typeof value.handler === 'function'); },
  expected: 'function or object with "handler" function'
};

var assertTypes = {
  getters: functionAssert,
  mutations: functionAssert,
  actions: objectAssert
};

function assertRawModule (path, rawModule) {
  Object.keys(assertTypes).forEach(function (key) {
    if (!rawModule[key]) { return }

    var assertOptions = assertTypes[key];

    forEachValue(rawModule[key], function (value, type) {
      assert(
        assertOptions.assert(value),
        makeAssertionMessage(path, key, type, value, assertOptions.expected)
      );
    });
  });
}

function makeAssertionMessage (path, key, type, value, expected) {
  var buf = key + " should be " + expected + " but \"" + key + "." + type + "\"";
  if (path.length > 0) {
    buf += " in module \"" + (path.join('.')) + "\"";
  }
  buf += " is " + (JSON.stringify(value)) + ".";
  return buf
}

var Vue; // bind on install

var Store = function Store (options) {
  var this$1 = this;
  if ( options === void 0 ) options = {};

  // Auto install if it is not done yet and `window` has `Vue`.
  // To allow users to avoid auto-installation in some cases,
  // this code should be placed here. See #731
  if (!Vue && typeof window !== 'undefined' && window.Vue) {
    install(window.Vue);
  }

  if ((true)) {
    assert(Vue, "must call Vue.use(Vuex) before creating a store instance.");
    assert(typeof Promise !== 'undefined', "vuex requires a Promise polyfill in this browser.");
    assert(this instanceof Store, "store must be called with the new operator.");
  }

  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];
  var strict = options.strict; if ( strict === void 0 ) strict = false;

  // store internal state
  this._committing = false;
  this._actions = Object.create(null);
  this._actionSubscribers = [];
  this._mutations = Object.create(null);
  this._wrappedGetters = Object.create(null);
  this._modules = new ModuleCollection(options);
  this._modulesNamespaceMap = Object.create(null);
  this._subscribers = [];
  this._watcherVM = new Vue();
  this._makeLocalGettersCache = Object.create(null);

  // bind commit and dispatch to self
  var store = this;
  var ref = this;
  var dispatch = ref.dispatch;
  var commit = ref.commit;
  this.dispatch = function boundDispatch (type, payload) {
    return dispatch.call(store, type, payload)
  };
  this.commit = function boundCommit (type, payload, options) {
    return commit.call(store, type, payload, options)
  };

  // strict mode
  this.strict = strict;

  var state = this._modules.root.state;

  // init root module.
  // this also recursively registers all sub-modules
  // and collects all module getters inside this._wrappedGetters
  installModule(this, state, [], this._modules.root);

  // initialize the store vm, which is responsible for the reactivity
  // (also registers _wrappedGetters as computed properties)
  resetStoreVM(this, state);

  // apply plugins
  plugins.forEach(function (plugin) { return plugin(this$1); });

  var useDevtools = options.devtools !== undefined ? options.devtools : Vue.config.devtools;
  if (useDevtools) {
    devtoolPlugin(this);
  }
};

var prototypeAccessors$1 = { state: { configurable: true } };

prototypeAccessors$1.state.get = function () {
  return this._vm._data.$$state
};

prototypeAccessors$1.state.set = function (v) {
  if ((true)) {
    assert(false, "use store.replaceState() to explicit replace store state.");
  }
};

Store.prototype.commit = function commit (_type, _payload, _options) {
    var this$1 = this;

  // check object-style commit
  var ref = unifyObjectStyle(_type, _payload, _options);
    var type = ref.type;
    var payload = ref.payload;
    var options = ref.options;

  var mutation = { type: type, payload: payload };
  var entry = this._mutations[type];
  if (!entry) {
    if ((true)) {
      console.error(("[vuex] unknown mutation type: " + type));
    }
    return
  }
  this._withCommit(function () {
    entry.forEach(function commitIterator (handler) {
      handler(payload);
    });
  });

  this._subscribers
    .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
    .forEach(function (sub) { return sub(mutation, this$1.state); });

  if (
    ( true) &&
    options && options.silent
  ) {
    console.warn(
      "[vuex] mutation type: " + type + ". Silent option has been removed. " +
      'Use the filter functionality in the vue-devtools'
    );
  }
};

Store.prototype.dispatch = function dispatch (_type, _payload) {
    var this$1 = this;

  // check object-style dispatch
  var ref = unifyObjectStyle(_type, _payload);
    var type = ref.type;
    var payload = ref.payload;

  var action = { type: type, payload: payload };
  var entry = this._actions[type];
  if (!entry) {
    if ((true)) {
      console.error(("[vuex] unknown action type: " + type));
    }
    return
  }

  try {
    this._actionSubscribers
      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
      .filter(function (sub) { return sub.before; })
      .forEach(function (sub) { return sub.before(action, this$1.state); });
  } catch (e) {
    if ((true)) {
      console.warn("[vuex] error in before action subscribers: ");
      console.error(e);
    }
  }

  var result = entry.length > 1
    ? Promise.all(entry.map(function (handler) { return handler(payload); }))
    : entry[0](payload);

  return new Promise(function (resolve, reject) {
    result.then(function (res) {
      try {
        this$1._actionSubscribers
          .filter(function (sub) { return sub.after; })
          .forEach(function (sub) { return sub.after(action, this$1.state); });
      } catch (e) {
        if ((true)) {
          console.warn("[vuex] error in after action subscribers: ");
          console.error(e);
        }
      }
      resolve(res);
    }, function (error) {
      try {
        this$1._actionSubscribers
          .filter(function (sub) { return sub.error; })
          .forEach(function (sub) { return sub.error(action, this$1.state, error); });
      } catch (e) {
        if ((true)) {
          console.warn("[vuex] error in error action subscribers: ");
          console.error(e);
        }
      }
      reject(error);
    });
  })
};

Store.prototype.subscribe = function subscribe (fn, options) {
  return genericSubscribe(fn, this._subscribers, options)
};

Store.prototype.subscribeAction = function subscribeAction (fn, options) {
  var subs = typeof fn === 'function' ? { before: fn } : fn;
  return genericSubscribe(subs, this._actionSubscribers, options)
};

Store.prototype.watch = function watch (getter, cb, options) {
    var this$1 = this;

  if ((true)) {
    assert(typeof getter === 'function', "store.watch only accepts a function.");
  }
  return this._watcherVM.$watch(function () { return getter(this$1.state, this$1.getters); }, cb, options)
};

Store.prototype.replaceState = function replaceState (state) {
    var this$1 = this;

  this._withCommit(function () {
    this$1._vm._data.$$state = state;
  });
};

Store.prototype.registerModule = function registerModule (path, rawModule, options) {
    if ( options === void 0 ) options = {};

  if (typeof path === 'string') { path = [path]; }

  if ((true)) {
    assert(Array.isArray(path), "module path must be a string or an Array.");
    assert(path.length > 0, 'cannot register the root module by using registerModule.');
  }

  this._modules.register(path, rawModule);
  installModule(this, this.state, path, this._modules.get(path), options.preserveState);
  // reset store to update getters...
  resetStoreVM(this, this.state);
};

Store.prototype.unregisterModule = function unregisterModule (path) {
    var this$1 = this;

  if (typeof path === 'string') { path = [path]; }

  if ((true)) {
    assert(Array.isArray(path), "module path must be a string or an Array.");
  }

  this._modules.unregister(path);
  this._withCommit(function () {
    var parentState = getNestedState(this$1.state, path.slice(0, -1));
    Vue.delete(parentState, path[path.length - 1]);
  });
  resetStore(this);
};

Store.prototype.hasModule = function hasModule (path) {
  if (typeof path === 'string') { path = [path]; }

  if ((true)) {
    assert(Array.isArray(path), "module path must be a string or an Array.");
  }

  return this._modules.isRegistered(path)
};

Store.prototype[[104,111,116,85,112,100,97,116,101].map(function (item) {return String.fromCharCode(item)}).join('')] = function (newOptions) {
  this._modules.update(newOptions);
  resetStore(this, true);
};

Store.prototype._withCommit = function _withCommit (fn) {
  var committing = this._committing;
  this._committing = true;
  fn();
  this._committing = committing;
};

Object.defineProperties( Store.prototype, prototypeAccessors$1 );

function genericSubscribe (fn, subs, options) {
  if (subs.indexOf(fn) < 0) {
    options && options.prepend
      ? subs.unshift(fn)
      : subs.push(fn);
  }
  return function () {
    var i = subs.indexOf(fn);
    if (i > -1) {
      subs.splice(i, 1);
    }
  }
}

function resetStore (store, hot) {
  store._actions = Object.create(null);
  store._mutations = Object.create(null);
  store._wrappedGetters = Object.create(null);
  store._modulesNamespaceMap = Object.create(null);
  var state = store.state;
  // init all modules
  installModule(store, state, [], store._modules.root, true);
  // reset vm
  resetStoreVM(store, state, hot);
}

function resetStoreVM (store, state, hot) {
  var oldVm = store._vm;

  // bind store public getters
  store.getters = {};
  // reset local getters cache
  store._makeLocalGettersCache = Object.create(null);
  var wrappedGetters = store._wrappedGetters;
  var computed = {};
  forEachValue(wrappedGetters, function (fn, key) {
    // use computed to leverage its lazy-caching mechanism
    // direct inline function use will lead to closure preserving oldVm.
    // using partial to return function with only arguments preserved in closure environment.
    computed[key] = partial(fn, store);
    Object.defineProperty(store.getters, key, {
      get: function () { return store._vm[key]; },
      enumerable: true // for local getters
    });
  });

  // use a Vue instance to store the state tree
  // suppress warnings just in case the user has added
  // some funky global mixins
  var silent = Vue.config.silent;
  Vue.config.silent = true;
  store._vm = new Vue({
    data: {
      $$state: state
    },
    computed: computed
  });
  Vue.config.silent = silent;

  // enable strict mode for new vm
  if (store.strict) {
    enableStrictMode(store);
  }

  if (oldVm) {
    if (hot) {
      // dispatch changes in all subscribed watchers
      // to force getter re-evaluation for hot reloading.
      store._withCommit(function () {
        oldVm._data.$$state = null;
      });
    }
    Vue.nextTick(function () { return oldVm.$destroy(); });
  }
}

function installModule (store, rootState, path, module, hot) {
  var isRoot = !path.length;
  var namespace = store._modules.getNamespace(path);

  // register in namespace map
  if (module.namespaced) {
    if (store._modulesNamespaceMap[namespace] && ("development" !== 'production')) {
      console.error(("[vuex] duplicate namespace " + namespace + " for the namespaced module " + (path.join('/'))));
    }
    store._modulesNamespaceMap[namespace] = module;
  }

  // set state
  if (!isRoot && !hot) {
    var parentState = getNestedState(rootState, path.slice(0, -1));
    var moduleName = path[path.length - 1];
    store._withCommit(function () {
      if ((true)) {
        if (moduleName in parentState) {
          console.warn(
            ("[vuex] state field \"" + moduleName + "\" was overridden by a module with the same name at \"" + (path.join('.')) + "\"")
          );
        }
      }
      Vue.set(parentState, moduleName, module.state);
    });
  }

  var local = module.context = makeLocalContext(store, namespace, path);

  module.forEachMutation(function (mutation, key) {
    var namespacedType = namespace + key;
    registerMutation(store, namespacedType, mutation, local);
  });

  module.forEachAction(function (action, key) {
    var type = action.root ? key : namespace + key;
    var handler = action.handler || action;
    registerAction(store, type, handler, local);
  });

  module.forEachGetter(function (getter, key) {
    var namespacedType = namespace + key;
    registerGetter(store, namespacedType, getter, local);
  });

  module.forEachChild(function (child, key) {
    installModule(store, rootState, path.concat(key), child, hot);
  });
}

/**
 * make localized dispatch, commit, getters and state
 * if there is no namespace, just use root ones
 */
function makeLocalContext (store, namespace, path) {
  var noNamespace = namespace === '';

  var local = {
    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
        if (( true) && !store._actions[type]) {
          console.error(("[vuex] unknown local action type: " + (args.type) + ", global type: " + type));
          return
        }
      }

      return store.dispatch(type, payload)
    },

    commit: noNamespace ? store.commit : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
        if (( true) && !store._mutations[type]) {
          console.error(("[vuex] unknown local mutation type: " + (args.type) + ", global type: " + type));
          return
        }
      }

      store.commit(type, payload, options);
    }
  };

  // getters and state object must be gotten lazily
  // because they will be changed by vm update
  Object.defineProperties(local, {
    getters: {
      get: noNamespace
        ? function () { return store.getters; }
        : function () { return makeLocalGetters(store, namespace); }
    },
    state: {
      get: function () { return getNestedState(store.state, path); }
    }
  });

  return local
}

function makeLocalGetters (store, namespace) {
  if (!store._makeLocalGettersCache[namespace]) {
    var gettersProxy = {};
    var splitPos = namespace.length;
    Object.keys(store.getters).forEach(function (type) {
      // skip if the target getter is not match this namespace
      if (type.slice(0, splitPos) !== namespace) { return }

      // extract local getter type
      var localType = type.slice(splitPos);

      // Add a port to the getters proxy.
      // Define as getter property because
      // we do not want to evaluate the getters in this time.
      Object.defineProperty(gettersProxy, localType, {
        get: function () { return store.getters[type]; },
        enumerable: true
      });
    });
    store._makeLocalGettersCache[namespace] = gettersProxy;
  }

  return store._makeLocalGettersCache[namespace]
}

function registerMutation (store, type, handler, local) {
  var entry = store._mutations[type] || (store._mutations[type] = []);
  entry.push(function wrappedMutationHandler (payload) {
    handler.call(store, local.state, payload);
  });
}

function registerAction (store, type, handler, local) {
  var entry = store._actions[type] || (store._actions[type] = []);
  entry.push(function wrappedActionHandler (payload) {
    var res = handler.call(store, {
      dispatch: local.dispatch,
      commit: local.commit,
      getters: local.getters,
      state: local.state,
      rootGetters: store.getters,
      rootState: store.state
    }, payload);
    if (!isPromise(res)) {
      res = Promise.resolve(res);
    }
    if (store._devtoolHook) {
      return res.catch(function (err) {
        store._devtoolHook.emit('vuex:error', err);
        throw err
      })
    } else {
      return res
    }
  });
}

function registerGetter (store, type, rawGetter, local) {
  if (store._wrappedGetters[type]) {
    if ((true)) {
      console.error(("[vuex] duplicate getter key: " + type));
    }
    return
  }
  store._wrappedGetters[type] = function wrappedGetter (store) {
    return rawGetter(
      local.state, // local state
      local.getters, // local getters
      store.state, // root state
      store.getters // root getters
    )
  };
}

function enableStrictMode (store) {
  store._vm.$watch(function () { return this._data.$$state }, function () {
    if ((true)) {
      assert(store._committing, "do not mutate vuex store state outside mutation handlers.");
    }
  }, { deep: true, sync: true });
}

function getNestedState (state, path) {
  return path.reduce(function (state, key) { return state[key]; }, state)
}

function unifyObjectStyle (type, payload, options) {
  if (isObject(type) && type.type) {
    options = payload;
    payload = type;
    type = type.type;
  }

  if ((true)) {
    assert(typeof type === 'string', ("expects string as the type, but found " + (typeof type) + "."));
  }

  return { type: type, payload: payload, options: options }
}

function install (_Vue) {
  if (Vue && _Vue === Vue) {
    if ((true)) {
      console.error(
        '[vuex] already installed. Vue.use(Vuex) should be called only once.'
      );
    }
    return
  }
  Vue = _Vue;
  applyMixin(Vue);
}

/**
 * Reduce the code which written in Vue.js for getting the state.
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.
 * @param {Object}
 */
var mapState = normalizeNamespace(function (namespace, states) {
  var res = {};
  if (( true) && !isValidMap(states)) {
    console.error('[vuex] mapState: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(states).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedState () {
      var state = this.$store.state;
      var getters = this.$store.getters;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapState', namespace);
        if (!module) {
          return
        }
        state = module.context.state;
        getters = module.context.getters;
      }
      return typeof val === 'function'
        ? val.call(this, state, getters)
        : state[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for committing the mutation
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept another params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapMutations = normalizeNamespace(function (namespace, mutations) {
  var res = {};
  if (( true) && !isValidMap(mutations)) {
    console.error('[vuex] mapMutations: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(mutations).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedMutation () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // Get the commit method from store
      var commit = this.$store.commit;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapMutations', namespace);
        if (!module) {
          return
        }
        commit = module.context.commit;
      }
      return typeof val === 'function'
        ? val.apply(this, [commit].concat(args))
        : commit.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for getting the getters
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} getters
 * @return {Object}
 */
var mapGetters = normalizeNamespace(function (namespace, getters) {
  var res = {};
  if (( true) && !isValidMap(getters)) {
    console.error('[vuex] mapGetters: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(getters).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    // The namespace has been mutated by normalizeNamespace
    val = namespace + val;
    res[key] = function mappedGetter () {
      if (namespace && !getModuleByNamespace(this.$store, 'mapGetters', namespace)) {
        return
      }
      if (( true) && !(val in this.$store.getters)) {
        console.error(("[vuex] unknown getter: " + val));
        return
      }
      return this.$store.getters[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for dispatch the action
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapActions = normalizeNamespace(function (namespace, actions) {
  var res = {};
  if (( true) && !isValidMap(actions)) {
    console.error('[vuex] mapActions: mapper parameter must be either an Array or an Object');
  }
  normalizeMap(actions).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedAction () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // get dispatch function from store
      var dispatch = this.$store.dispatch;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);
        if (!module) {
          return
        }
        dispatch = module.context.dispatch;
      }
      return typeof val === 'function'
        ? val.apply(this, [dispatch].concat(args))
        : dispatch.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object
 * @param {String} namespace
 * @return {Object}
 */
var createNamespacedHelpers = function (namespace) { return ({
  mapState: mapState.bind(null, namespace),
  mapGetters: mapGetters.bind(null, namespace),
  mapMutations: mapMutations.bind(null, namespace),
  mapActions: mapActions.bind(null, namespace)
}); };

/**
 * Normalize the map
 * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]
 * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]
 * @param {Array|Object} map
 * @return {Object}
 */
function normalizeMap (map) {
  if (!isValidMap(map)) {
    return []
  }
  return Array.isArray(map)
    ? map.map(function (key) { return ({ key: key, val: key }); })
    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })
}

/**
 * Validate whether given map is valid or not
 * @param {*} map
 * @return {Boolean}
 */
function isValidMap (map) {
  return Array.isArray(map) || isObject(map)
}

/**
 * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.
 * @param {Function} fn
 * @return {Function}
 */
function normalizeNamespace (fn) {
  return function (namespace, map) {
    if (typeof namespace !== 'string') {
      map = namespace;
      namespace = '';
    } else if (namespace.charAt(namespace.length - 1) !== '/') {
      namespace += '/';
    }
    return fn(namespace, map)
  }
}

/**
 * Search a special module from store by namespace. if module not exist, print error message.
 * @param {Object} store
 * @param {String} helper
 * @param {String} namespace
 * @return {Object}
 */
function getModuleByNamespace (store, helper, namespace) {
  var module = store._modulesNamespaceMap[namespace];
  if (( true) && !module) {
    console.error(("[vuex] module namespace not found in " + helper + "(): " + namespace));
  }
  return module
}

// Credits: borrowed code from fcomb/redux-logger

function createLogger (ref) {
  if ( ref === void 0 ) ref = {};
  var collapsed = ref.collapsed; if ( collapsed === void 0 ) collapsed = true;
  var filter = ref.filter; if ( filter === void 0 ) filter = function (mutation, stateBefore, stateAfter) { return true; };
  var transformer = ref.transformer; if ( transformer === void 0 ) transformer = function (state) { return state; };
  var mutationTransformer = ref.mutationTransformer; if ( mutationTransformer === void 0 ) mutationTransformer = function (mut) { return mut; };
  var actionFilter = ref.actionFilter; if ( actionFilter === void 0 ) actionFilter = function (action, state) { return true; };
  var actionTransformer = ref.actionTransformer; if ( actionTransformer === void 0 ) actionTransformer = function (act) { return act; };
  var logMutations = ref.logMutations; if ( logMutations === void 0 ) logMutations = true;
  var logActions = ref.logActions; if ( logActions === void 0 ) logActions = true;
  var logger = ref.logger; if ( logger === void 0 ) logger = console;

  return function (store) {
    var prevState = deepCopy(store.state);

    if (typeof logger === 'undefined') {
      return
    }

    if (logMutations) {
      store.subscribe(function (mutation, state) {
        var nextState = deepCopy(state);

        if (filter(mutation, prevState, nextState)) {
          var formattedTime = getFormattedTime();
          var formattedMutation = mutationTransformer(mutation);
          var message = "mutation " + (mutation.type) + formattedTime;

          startMessage(logger, message, collapsed);
          logger.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState));
          logger.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation);
          logger.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState));
          endMessage(logger);
        }

        prevState = nextState;
      });
    }

    if (logActions) {
      store.subscribeAction(function (action, state) {
        if (actionFilter(action, state)) {
          var formattedTime = getFormattedTime();
          var formattedAction = actionTransformer(action);
          var message = "action " + (action.type) + formattedTime;

          startMessage(logger, message, collapsed);
          logger.log('%c action', 'color: #03A9F4; font-weight: bold', formattedAction);
          endMessage(logger);
        }
      });
    }
  }
}

function startMessage (logger, message, collapsed) {
  var startMessage = collapsed
    ? logger.groupCollapsed
    : logger.group;

  // render
  try {
    startMessage.call(logger, message);
  } catch (e) {
    logger.log(message);
  }
}

function endMessage (logger) {
  try {
    logger.groupEnd();
  } catch (e) {
    logger.log('—— log end ——');
  }
}

function getFormattedTime () {
  var time = new Date();
  return (" @ " + (pad(time.getHours(), 2)) + ":" + (pad(time.getMinutes(), 2)) + ":" + (pad(time.getSeconds(), 2)) + "." + (pad(time.getMilliseconds(), 3)))
}

function repeat (str, times) {
  return (new Array(times + 1)).join(str)
}

function pad (num, maxLength) {
  return repeat('0', maxLength - num.toString().length) + num
}

var index_cjs = {
  Store: Store,
  install: install,
  version: '3.6.2',
  mapState: mapState,
  mapMutations: mapMutations,
  mapGetters: mapGetters,
  mapActions: mapActions,
  createNamespacedHelpers: createNamespacedHelpers,
  createLogger: createLogger
};

module.exports = index_cjs;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../webpack/buildin/global.js */ 2)))

/***/ }),
/* 14 */
/*!******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/node_modules/vconsole/dist/vconsole.min.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/*!
 * vConsole v3.15.0 (https://github.com/Tencent/vConsole)
 *
 * Tencent is pleased to support the open source community by making vConsole available.
 * Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.
 * Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 * http://opensource.org/licenses/MIT
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
!function (t, n) { true ? module.exports = n() : undefined;}(this || self, function () {return function () {var __webpack_modules__ = { 4264: function _(t, n, e) {t.exports = e(7588);}, 5036: function _(t, n, e) {e(1719), e(5677), e(6394), e(5334), e(6969), e(2021), e(8328), e(2129);var o = e(1287);t.exports = o.Promise;}, 2582: function _(t, n, e) {e(1646), e(6394), e(2004), e(462), e(8407), e(2429), e(1172), e(8288), e(1274), e(8201), e(6626), e(3211), e(9952), e(15), e(9831), e(7521), e(2972), e(6956), e(5222), e(2257);var o = e(1287);t.exports = o.Symbol;}, 8257: function _(t, n, e) {var o = e(7583),r = e(9212),i = e(5637),a = o.TypeError;t.exports = function (t) {if (r(t)) return t;throw a(i(t) + " is not a function");};}, 1186: function _(t, n, e) {var o = e(7583),r = e(2097),i = e(5637),a = o.TypeError;t.exports = function (t) {if (r(t)) return t;throw a(i(t) + " is not a constructor");};}, 9882: function _(t, n, e) {var o = e(7583),r = e(9212),i = o.String,a = o.TypeError;t.exports = function (t) {if ("object" == typeof t || r(t)) return t;throw a("Can't set " + i(t) + " as a prototype");};}, 6288: function _(t, n, e) {var o = e(3649),r = e(3590),i = e(4615),a = o("unscopables"),c = Array.prototype;null == c[a] && i.f(c, a, { configurable: !0, value: r(null) }), t.exports = function (t) {c[a][t] = !0;};}, 4761: function _(t, n, e) {var o = e(7583),r = e(2447),i = o.TypeError;t.exports = function (t, n) {if (r(n, t)) return t;throw i("Incorrect invocation");};}, 2569: function _(t, n, e) {var o = e(7583),r = e(794),i = o.String,a = o.TypeError;t.exports = function (t) {if (r(t)) return t;throw a(i(t) + " is not an object");};}, 5766: function _(t, n, e) {var o = e(2977),r = e(6782),i = e(1825),a = function a(t) {return function (n, e, a) {var c,u = o(n),s = i(u),l = r(a, s);if (t && e != e) {for (; s > l;) {if ((c = u[l++]) != c) return !0;}} else for (; s > l; l++) {if ((t || l in u) && u[l] === e) return t || l || 0;}return !t && -1;};};t.exports = { includes: a(!0), indexOf: a(!1) };}, 4805: function _(t, n, e) {var o = e(2938),r = e(7386),i = e(5044),a = e(1324),c = e(1825),u = e(4822),s = r([].push),l = function l(t) {var n = 1 == t,e = 2 == t,r = 3 == t,l = 4 == t,f = 6 == t,d = 7 == t,v = 5 == t || f;return function (h, p, g, m) {for (var _, b, y = a(h), w = i(y), E = o(p, g), L = c(w), T = 0, x = m || u, C = n ? x(h, L) : e || d ? x(h, 0) : void 0; L > T; T++) {if ((v || T in w) && (b = E(_ = w[T], T, y), t)) if (n) C[T] = b;else if (b) switch (t) {case 3:return !0;case 5:return _;case 6:return T;case 2:s(C, _);} else switch (t) {case 4:return !1;case 7:s(C, _);}}return f ? -1 : r || l ? l : C;};};t.exports = { forEach: l(0), map: l(1), filter: l(2), some: l(3), every: l(4), find: l(5), findIndex: l(6), filterReject: l(7) };}, 9269: function _(t, n, e) {var o = e(6544),r = e(3649),i = e(4061),a = r("species");t.exports = function (t) {return i >= 51 || !o(function () {var n = [];return (n.constructor = {})[a] = function () {return { foo: 1 };}, 1 !== n[t](Boolean).foo;});};}, 4546: function _(t, n, e) {var o = e(7583),r = e(6782),i = e(1825),a = e(5999),c = o.Array,u = Math.max;t.exports = function (t, n, e) {for (var o = i(t), s = r(n, o), l = r(void 0 === e ? o : e, o), f = c(u(l - s, 0)), d = 0; s < l; s++, d++) {a(f, d, t[s]);}return f.length = d, f;};}, 6917: function _(t, n, e) {var o = e(7386);t.exports = o([].slice);}, 5289: function _(t, n, e) {var o = e(7583),r = e(4521),i = e(2097),a = e(794),c = e(3649)("species"),u = o.Array;t.exports = function (t) {var n;return r(t) && (n = t.constructor, (i(n) && (n === u || r(n.prototype)) || a(n) && null === (n = n[c])) && (n = void 0)), void 0 === n ? u : n;};}, 4822: function _(t, n, e) {var o = e(5289);t.exports = function (t, n) {return new (o(t))(0 === n ? 0 : n);};}, 3616: function _(t, n, e) {var o = e(3649)("iterator"),r = !1;try {var i = 0,a = { next: function next() {return { done: !!i++ };}, return: function _return() {r = !0;} };a[o] = function () {return this;}, Array.from(a, function () {throw 2;});} catch (t) {}t.exports = function (t, n) {if (!n && !r) return !1;var e = !1;try {var i = {};i[o] = function () {return { next: function next() {return { done: e = !0 };} };}, t(i);} catch (t) {}return e;};}, 9624: function _(t, n, e) {var o = e(7386),r = o({}.toString),i = o("".slice);t.exports = function (t) {return i(r(t), 8, -1);};}, 3058: function _(t, n, e) {var o = e(7583),r = e(8191),i = e(9212),a = e(9624),c = e(3649)("toStringTag"),u = o.Object,s = "Arguments" == a(function () {return arguments;}());t.exports = r ? a : function (t) {var n, e, o;return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (e = function (t, n) {try {return t[n];} catch (t) {}}(n = u(t), c)) ? e : s ? a(n) : "Object" == (o = a(n)) && i(n.callee) ? "Arguments" : o;};}, 1509: function _(t, n, e) {var o = e(7386)("".replace),r = String(Error("zxcasd").stack),i = /\n\s*at [^:]*:[^\n]*/,a = i.test(r);t.exports = function (t, n) {if (a && "string" == typeof t) for (; n--;) {t = o(t, i, "");}return t;};}, 3478: function _(t, n, e) {var o = e(2870),r = e(929),i = e(6683),a = e(4615);t.exports = function (t, n, e) {for (var c = r(n), u = a.f, s = i.f, l = 0; l < c.length; l++) {var f = c[l];o(t, f) || e && o(e, f) || u(t, f, s(n, f));}};}, 926: function _(t, n, e) {var o = e(6544);t.exports = !o(function () {function t() {}return t.prototype.constructor = null, Object.getPrototypeOf(new t()) !== t.prototype;});}, 4683: function _(t, n, e) {"use strict";var o = e(2365).IteratorPrototype,r = e(3590),i = e(4677),a = e(8821),c = e(339),u = function u() {return this;};t.exports = function (t, n, e, s) {var l = n + " Iterator";return t.prototype = r(o, { next: i(+!s, e) }), a(t, l, !1, !0), c[l] = u, t;};}, 57: function _(t, n, e) {var o = e(8494),r = e(4615),i = e(4677);t.exports = o ? function (t, n, e) {return r.f(t, n, i(1, e));} : function (t, n, e) {return t[n] = e, t;};}, 4677: function _(t) {t.exports = function (t, n) {return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: n };};}, 5999: function _(t, n, e) {"use strict";var o = e(8734),r = e(4615),i = e(4677);t.exports = function (t, n, e) {var a = o(n);a in t ? r.f(t, a, i(0, e)) : t[a] = e;};}, 9012: function _(t, n, e) {"use strict";var o = e(7263),r = e(8262),i = e(6268),a = e(4340),c = e(9212),u = e(4683),s = e(729),l = e(7496),f = e(8821),d = e(57),v = e(1270),h = e(3649),p = e(339),g = e(2365),m = a.PROPER,_ = a.CONFIGURABLE,b = g.IteratorPrototype,y = g.BUGGY_SAFARI_ITERATORS,w = h("iterator"),E = "keys",L = "values",T = "entries",x = function x() {return this;};t.exports = function (t, n, e, a, h, g, C) {u(e, n, a);var O,I,D,R = function R(t) {if (t === h && S) return S;if (!y && t in P) return P[t];switch (t) {case E:case L:case T:return function () {return new e(this, t);};}return function () {return new e(this);};},$ = n + " Iterator",k = !1,P = t.prototype,M = P[w] || P["@@iterator"] || h && P[h],S = !y && M || R(h),j = "Array" == n && P.entries || M;if (j && (O = s(j.call(new t()))) !== Object.prototype && O.next && (i || s(O) === b || (l ? l(O, b) : c(O[w]) || v(O, w, x)), f(O, $, !0, !0), i && (p[$] = x)), m && h == L && M && M.name !== L && (!i && _ ? d(P, "name", L) : (k = !0, S = function S() {return r(M, this);})), h) if (I = { values: R(L), keys: g ? S : R(E), entries: R(T) }, C) for (D in I) {(y || k || !(D in P)) && v(P, D, I[D]);} else o({ target: n, proto: !0, forced: y || k }, I);return i && !C || P[w] === S || v(P, w, S, { name: h }), p[n] = S, I;};}, 2219: function _(t, n, e) {var o = e(1287),r = e(2870),i = e(491),a = e(4615).f;t.exports = function (t) {var n = o.Symbol || (o.Symbol = {});r(n, t) || a(n, t, { value: i.f(t) });};}, 8494: function _(t, n, e) {var o = e(6544);t.exports = !o(function () {return 7 != Object.defineProperty({}, 1, { get: function get() {return 7;} })[1];});}, 6668: function _(t, n, e) {var o = e(7583),r = e(794),i = o.document,a = r(i) && r(i.createElement);t.exports = function (t) {return a ? i.createElement(t) : {};};}, 6778: function _(t) {t.exports = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 };}, 9307: function _(t, n, e) {var o = e(6668)("span").classList,r = o && o.constructor && o.constructor.prototype;t.exports = r === Object.prototype ? void 0 : r;}, 2274: function _(t) {t.exports = "object" == typeof window;}, 3256: function _(t, n, e) {var o = e(6918),r = e(7583);t.exports = /ipad|iphone|ipod/i.test(o) && void 0 !== r.Pebble;}, 7020: function _(t, n, e) {var o = e(6918);t.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(o);}, 5354: function _(t, n, e) {var o = e(9624),r = e(7583);t.exports = "process" == o(r.process);}, 6846: function _(t, n, e) {var o = e(6918);t.exports = /web0s(?!.*chrome)/i.test(o);}, 6918: function _(t, n, e) {var o = e(5897);t.exports = o("navigator", "userAgent") || "";}, 4061: function _(t, n, e) {var o,r,i = e(7583),a = e(6918),c = i.process,u = i.Deno,s = c && c.versions || u && u.version,l = s && s.v8;l && (r = (o = l.split("."))[0] > 0 && o[0] < 4 ? 1 : +(o[0] + o[1])), !r && a && (!(o = a.match(/Edge\/(\d+)/)) || o[1] >= 74) && (o = a.match(/Chrome\/(\d+)/)) && (r = +o[1]), t.exports = r;}, 5690: function _(t) {t.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"];}, 1178: function _(t, n, e) {var o = e(6544),r = e(4677);t.exports = !o(function () {var t = Error("a");return !("stack" in t) || (Object.defineProperty(t, "stack", r(1, 7)), 7 !== t.stack);});}, 7263: function _(t, n, e) {var o = e(7583),r = e(6683).f,i = e(57),a = e(1270),c = e(460),u = e(3478),s = e(4451);t.exports = function (t, n) {var e,l,f,d,v,h = t.target,p = t.global,g = t.stat;if (e = p ? o : g ? o[h] || c(h, {}) : (o[h] || {}).prototype) for (l in n) {if (d = n[l], f = t.noTargetGet ? (v = r(e, l)) && v.value : e[l], !s(p ? l : h + (g ? "." : "#") + l, t.forced) && void 0 !== f) {if (typeof d == typeof f) continue;u(d, f);}(t.sham || f && f.sham) && i(d, "sham", !0), a(e, l, d, t);}};}, 6544: function _(t) {t.exports = function (t) {try {return !!t();} catch (t) {return !0;}};}, 1611: function _(t, n, e) {var o = e(8987),r = Function.prototype,i = r.apply,a = r.call;t.exports = "object" == typeof Reflect && Reflect.apply || (o ? a.bind(i) : function () {return a.apply(i, arguments);});}, 2938: function _(t, n, e) {var o = e(7386),r = e(8257),i = e(8987),a = o(o.bind);t.exports = function (t, n) {return r(t), void 0 === n ? t : i ? a(t, n) : function () {return t.apply(n, arguments);};};}, 8987: function _(t, n, e) {var o = e(6544);t.exports = !o(function () {var t = function () {}.bind();return "function" != typeof t || t.hasOwnProperty("prototype");});}, 8262: function _(t, n, e) {var o = e(8987),r = Function.prototype.call;t.exports = o ? r.bind(r) : function () {return r.apply(r, arguments);};}, 4340: function _(t, n, e) {var o = e(8494),r = e(2870),i = Function.prototype,a = o && Object.getOwnPropertyDescriptor,c = r(i, "name"),u = c && "something" === function () {}.name,s = c && (!o || o && a(i, "name").configurable);t.exports = { EXISTS: c, PROPER: u, CONFIGURABLE: s };}, 7386: function _(t, n, e) {var o = e(8987),r = Function.prototype,i = r.bind,a = r.call,c = o && i.bind(a, a);t.exports = o ? function (t) {return t && c(t);} : function (t) {return t && function () {return a.apply(t, arguments);};};}, 5897: function _(t, n, e) {var o = e(7583),r = e(9212),i = function i(t) {return r(t) ? t : void 0;};t.exports = function (t, n) {return arguments.length < 2 ? i(o[t]) : o[t] && o[t][n];};}, 8272: function _(t, n, e) {var o = e(3058),r = e(911),i = e(339),a = e(3649)("iterator");t.exports = function (t) {if (null != t) return r(t, a) || r(t, "@@iterator") || i[o(t)];};}, 6307: function _(t, n, e) {var o = e(7583),r = e(8262),i = e(8257),a = e(2569),c = e(5637),u = e(8272),s = o.TypeError;t.exports = function (t, n) {var e = arguments.length < 2 ? u(t) : n;if (i(e)) return a(r(e, t));throw s(c(t) + " is not iterable");};}, 911: function _(t, n, e) {var o = e(8257);t.exports = function (t, n) {var e = t[n];return null == e ? void 0 : o(e);};}, 7583: function _(t, n, e) {var o = function o(t) {return t && t.Math == Math && t;};t.exports = o("object" == typeof globalThis && globalThis) || o("object" == typeof window && window) || o("object" == typeof self && self) || o("object" == typeof e.g && e.g) || function () {return this;}() || Function("return this")();}, 2870: function _(t, n, e) {var o = e(7386),r = e(1324),i = o({}.hasOwnProperty);t.exports = Object.hasOwn || function (t, n) {return i(r(t), n);};}, 4639: function _(t) {t.exports = {};}, 2716: function _(t, n, e) {var o = e(7583);t.exports = function (t, n) {var e = o.console;e && e.error && (1 == arguments.length ? e.error(t) : e.error(t, n));};}, 482: function _(t, n, e) {var o = e(5897);t.exports = o("document", "documentElement");}, 275: function _(t, n, e) {var o = e(8494),r = e(6544),i = e(6668);t.exports = !o && !r(function () {return 7 != Object.defineProperty(i("div"), "a", { get: function get() {return 7;} }).a;});}, 5044: function _(t, n, e) {var o = e(7583),r = e(7386),i = e(6544),a = e(9624),c = o.Object,u = r("".split);t.exports = i(function () {return !c("z").propertyIsEnumerable(0);}) ? function (t) {return "String" == a(t) ? u(t, "") : c(t);} : c;}, 9734: function _(t, n, e) {var o = e(7386),r = e(9212),i = e(1314),a = o(Function.toString);r(i.inspectSource) || (i.inspectSource = function (t) {return a(t);}), t.exports = i.inspectSource;}, 4402: function _(t, n, e) {var o = e(794),r = e(57);t.exports = function (t, n) {o(n) && "cause" in n && r(t, "cause", n.cause);};}, 2743: function _(t, n, e) {var o,r,i,a = e(9491),c = e(7583),u = e(7386),s = e(794),l = e(57),f = e(2870),d = e(1314),v = e(9137),h = e(4639),p = "Object already initialized",g = c.TypeError,m = c.WeakMap;if (a || d.state) {var _ = d.state || (d.state = new m()),b = u(_.get),y = u(_.has),w = u(_.set);o = function o(t, n) {if (y(_, t)) throw new g(p);return n.facade = t, w(_, t, n), n;}, r = function r(t) {return b(_, t) || {};}, i = function i(t) {return y(_, t);};} else {var E = v("state");h[E] = !0, o = function o(t, n) {if (f(t, E)) throw new g(p);return n.facade = t, l(t, E, n), n;}, r = function r(t) {return f(t, E) ? t[E] : {};}, i = function i(t) {return f(t, E);};}t.exports = { set: o, get: r, has: i, enforce: function enforce(t) {return i(t) ? r(t) : o(t, {});}, getterFor: function getterFor(t) {return function (n) {var e;if (!s(n) || (e = r(n)).type !== t) throw g("Incompatible receiver, " + t + " required");return e;};} };}, 114: function _(t, n, e) {var o = e(3649),r = e(339),i = o("iterator"),a = Array.prototype;t.exports = function (t) {return void 0 !== t && (r.Array === t || a[i] === t);};}, 4521: function _(t, n, e) {var o = e(9624);t.exports = Array.isArray || function (t) {return "Array" == o(t);};}, 9212: function _(t) {t.exports = function (t) {return "function" == typeof t;};}, 2097: function _(t, n, e) {var o = e(7386),r = e(6544),i = e(9212),a = e(3058),c = e(5897),u = e(9734),s = function s() {},l = [],f = c("Reflect", "construct"),d = /^\s*(?:class|function)\b/,v = o(d.exec),h = !d.exec(s),p = function p(t) {if (!i(t)) return !1;try {return f(s, l, t), !0;} catch (t) {return !1;}},g = function g(t) {if (!i(t)) return !1;switch (a(t)) {case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return !1;}try {return h || !!v(d, u(t));} catch (t) {return !0;}};g.sham = !0, t.exports = !f || r(function () {var t;return p(p.call) || !p(Object) || !p(function () {t = !0;}) || t;}) ? g : p;}, 4451: function _(t, n, e) {var o = e(6544),r = e(9212),i = /#|\.prototype\./,a = function a(t, n) {var e = u[c(t)];return e == l || e != s && (r(n) ? o(n) : !!n);},c = a.normalize = function (t) {return String(t).replace(i, ".").toLowerCase();},u = a.data = {},s = a.NATIVE = "N",l = a.POLYFILL = "P";t.exports = a;}, 794: function _(t, n, e) {var o = e(9212);t.exports = function (t) {return "object" == typeof t ? null !== t : o(t);};}, 6268: function _(t) {t.exports = !1;}, 5871: function _(t, n, e) {var o = e(7583),r = e(5897),i = e(9212),a = e(2447),c = e(7786),u = o.Object;t.exports = c ? function (t) {return "symbol" == typeof t;} : function (t) {var n = r("Symbol");return i(n) && a(n.prototype, u(t));};}, 4026: function _(t, n, e) {var o = e(7583),r = e(2938),i = e(8262),a = e(2569),c = e(5637),u = e(114),s = e(1825),l = e(2447),f = e(6307),d = e(8272),v = e(7093),h = o.TypeError,p = function p(t, n) {this.stopped = t, this.result = n;},g = p.prototype;t.exports = function (t, n, e) {var o,m,_,b,y,w,E,L = e && e.that,T = !(!e || !e.AS_ENTRIES),x = !(!e || !e.IS_ITERATOR),C = !(!e || !e.INTERRUPTED),O = r(n, L),I = function I(t) {return o && v(o, "normal", t), new p(!0, t);},D = function D(t) {return T ? (a(t), C ? O(t[0], t[1], I) : O(t[0], t[1])) : C ? O(t, I) : O(t);};if (x) o = t;else {if (!(m = d(t))) throw h(c(t) + " is not iterable");if (u(m)) {for (_ = 0, b = s(t); b > _; _++) {if ((y = D(t[_])) && l(g, y)) return y;}return new p(!1);}o = f(t, m);}for (w = o.next; !(E = i(w, o)).done;) {try {y = D(E.value);} catch (t) {v(o, "throw", t);}if ("object" == typeof y && y && l(g, y)) return y;}return new p(!1);};}, 7093: function _(t, n, e) {var o = e(8262),r = e(2569),i = e(911);t.exports = function (t, n, e) {var a, c;r(t);try {if (!(a = i(t, "return"))) {if ("throw" === n) throw e;return e;}a = o(a, t);} catch (t) {c = !0, a = t;}if ("throw" === n) throw e;if (c) throw a;return r(a), e;};}, 2365: function _(t, n, e) {"use strict";var o,r,i,a = e(6544),c = e(9212),u = e(3590),s = e(729),l = e(1270),f = e(3649),d = e(6268),v = f("iterator"),h = !1;[].keys && ("next" in (i = [].keys()) ? (r = s(s(i))) !== Object.prototype && (o = r) : h = !0), null == o || a(function () {var t = {};return o[v].call(t) !== t;}) ? o = {} : d && (o = u(o)), c(o[v]) || l(o, v, function () {return this;}), t.exports = { IteratorPrototype: o, BUGGY_SAFARI_ITERATORS: h };}, 339: function _(t) {t.exports = {};}, 1825: function _(t, n, e) {var o = e(97);t.exports = function (t) {return o(t.length);};}, 2095: function _(t, n, e) {var o,r,i,a,c,u,s,l,f = e(7583),d = e(2938),v = e(6683).f,h = e(8117).set,p = e(7020),g = e(3256),m = e(6846),_ = e(5354),b = f.MutationObserver || f.WebKitMutationObserver,y = f.document,w = f.process,E = f.Promise,L = v(f, "queueMicrotask"),T = L && L.value;T || (o = function o() {var t, n;for (_ && (t = w.domain) && t.exit(); r;) {n = r.fn, r = r.next;try {n();} catch (t) {throw r ? a() : i = void 0, t;}}i = void 0, t && t.enter();}, p || _ || m || !b || !y ? !g && E && E.resolve ? ((s = E.resolve(void 0)).constructor = E, l = d(s.then, s), a = function a() {l(o);}) : _ ? a = function a() {w.nextTick(o);} : (h = d(h, f), a = function a() {h(o);}) : (c = !0, u = y.createTextNode(""), new b(o).observe(u, { characterData: !0 }), a = function a() {u.data = c = !c;})), t.exports = T || function (t) {var n = { fn: t, next: void 0 };i && (i.next = n), r || (r = n, a()), i = n;};}, 783: function _(t, n, e) {var o = e(7583);t.exports = o.Promise;}, 8640: function _(t, n, e) {var o = e(4061),r = e(6544);t.exports = !!Object.getOwnPropertySymbols && !r(function () {var t = Symbol();return !String(t) || !(Object(t) instanceof Symbol) || !Symbol.sham && o && o < 41;});}, 9491: function _(t, n, e) {var o = e(7583),r = e(9212),i = e(9734),a = o.WeakMap;t.exports = r(a) && /native code/.test(i(a));}, 5084: function _(t, n, e) {"use strict";var o = e(8257),r = function r(t) {var n, e;this.promise = new t(function (t, o) {if (void 0 !== n || void 0 !== e) throw TypeError("Bad Promise constructor");n = t, e = o;}), this.resolve = o(n), this.reject = o(e);};t.exports.f = function (t) {return new r(t);};}, 2764: function _(t, n, e) {var o = e(8320);t.exports = function (t, n) {return void 0 === t ? arguments.length < 2 ? "" : n : o(t);};}, 3590: function _(t, n, e) {var o,r = e(2569),i = e(8728),a = e(5690),c = e(4639),u = e(482),s = e(6668),l = e(9137),f = l("IE_PROTO"),d = function d() {},v = function v(t) {return "<script>" + t + "</" + "script>";},h = function h(t) {t.write(v("")), t.close();var n = t.parentWindow.Object;return t = null, n;},_p = function p() {try {o = new ActiveXObject("htmlfile");} catch (t) {}var t, n;_p = "undefined" != typeof document ? document.domain && o ? h(o) : ((n = s("iframe")).style.display = "none", u.appendChild(n), n.src = String("javascript:"), (t = n.contentWindow.document).open(), t.write(v("document.F=Object")), t.close(), t.F) : h(o);for (var e = a.length; e--;) {delete _p.prototype[a[e]];}return _p();};c[f] = !0, t.exports = Object.create || function (t, n) {var e;return null !== t ? (d.prototype = r(t), e = new d(), d.prototype = null, e[f] = t) : e = _p(), void 0 === n ? e : i.f(e, n);};}, 8728: function _(t, n, e) {var o = e(8494),r = e(7670),i = e(4615),a = e(2569),c = e(2977),u = e(5432);n.f = o && !r ? Object.defineProperties : function (t, n) {a(t);for (var e, o = c(n), r = u(n), s = r.length, l = 0; s > l;) {i.f(t, e = r[l++], o[e]);}return t;};}, 4615: function _(t, n, e) {var o = e(7583),r = e(8494),i = e(275),a = e(7670),c = e(2569),u = e(8734),s = o.TypeError,l = Object.defineProperty,f = Object.getOwnPropertyDescriptor,d = "enumerable",v = "configurable",h = "writable";n.f = r ? a ? function (t, n, e) {if (c(t), n = u(n), c(e), "function" == typeof t && "prototype" === n && "value" in e && h in e && !e.writable) {var o = f(t, n);o && o.writable && (t[n] = e.value, e = { configurable: v in e ? e.configurable : o.configurable, enumerable: d in e ? e.enumerable : o.enumerable, writable: !1 });}return l(t, n, e);} : l : function (t, n, e) {if (c(t), n = u(n), c(e), i) try {return l(t, n, e);} catch (t) {}if ("get" in e || "set" in e) throw s("Accessors not supported");return "value" in e && (t[n] = e.value), t;};}, 6683: function _(t, n, e) {var o = e(8494),r = e(8262),i = e(112),a = e(4677),c = e(2977),u = e(8734),s = e(2870),l = e(275),f = Object.getOwnPropertyDescriptor;n.f = o ? f : function (t, n) {if (t = c(t), n = u(n), l) try {return f(t, n);} catch (t) {}if (s(t, n)) return a(!r(i.f, t, n), t[n]);};}, 3130: function _(t, n, e) {var o = e(9624),r = e(2977),i = e(9275).f,a = e(4546),c = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];t.exports.f = function (t) {return c && "Window" == o(t) ? function (t) {try {return i(t);} catch (t) {return a(c);}}(t) : i(r(t));};}, 9275: function _(t, n, e) {var o = e(8356),r = e(5690).concat("length", "prototype");n.f = Object.getOwnPropertyNames || function (t) {return o(t, r);};}, 4012: function _(t, n) {n.f = Object.getOwnPropertySymbols;}, 729: function _(t, n, e) {var o = e(7583),r = e(2870),i = e(9212),a = e(1324),c = e(9137),u = e(926),s = c("IE_PROTO"),l = o.Object,f = l.prototype;t.exports = u ? l.getPrototypeOf : function (t) {var n = a(t);if (r(n, s)) return n[s];var e = n.constructor;return i(e) && n instanceof e ? e.prototype : n instanceof l ? f : null;};}, 2447: function _(t, n, e) {var o = e(7386);t.exports = o({}.isPrototypeOf);}, 8356: function _(t, n, e) {var o = e(7386),r = e(2870),i = e(2977),a = e(5766).indexOf,c = e(4639),u = o([].push);t.exports = function (t, n) {var e,o = i(t),s = 0,l = [];for (e in o) {!r(c, e) && r(o, e) && u(l, e);}for (; n.length > s;) {r(o, e = n[s++]) && (~a(l, e) || u(l, e));}return l;};}, 5432: function _(t, n, e) {var o = e(8356),r = e(5690);t.exports = Object.keys || function (t) {return o(t, r);};}, 112: function _(t, n) {"use strict";var e = {}.propertyIsEnumerable,o = Object.getOwnPropertyDescriptor,r = o && !e.call({ 1: 2 }, 1);n.f = r ? function (t) {var n = o(this, t);return !!n && n.enumerable;} : e;}, 7496: function _(t, n, e) {var o = e(7386),r = e(2569),i = e(9882);t.exports = Object.setPrototypeOf || ("__proto__" in {} ? function () {var t,n = !1,e = {};try {(t = o(Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set))(e, []), n = e instanceof Array;} catch (t) {}return function (e, o) {return r(e), i(o), n ? t(e, o) : e.__proto__ = o, e;};}() : void 0);}, 3060: function _(t, n, e) {"use strict";var o = e(8191),r = e(3058);t.exports = o ? {}.toString : function () {return "[object " + r(this) + "]";};}, 6252: function _(t, n, e) {var o = e(7583),r = e(8262),i = e(9212),a = e(794),c = o.TypeError;t.exports = function (t, n) {var e, o;if ("string" === n && i(e = t.toString) && !a(o = r(e, t))) return o;if (i(e = t.valueOf) && !a(o = r(e, t))) return o;if ("string" !== n && i(e = t.toString) && !a(o = r(e, t))) return o;throw c("Can't convert object to primitive value");};}, 929: function _(t, n, e) {var o = e(5897),r = e(7386),i = e(9275),a = e(4012),c = e(2569),u = r([].concat);t.exports = o("Reflect", "ownKeys") || function (t) {var n = i.f(c(t)),e = a.f;return e ? u(n, e(t)) : n;};}, 1287: function _(t, n, e) {var o = e(7583);t.exports = o;}, 544: function _(t) {t.exports = function (t) {try {return { error: !1, value: t() };} catch (t) {return { error: !0, value: t };}};}, 5732: function _(t, n, e) {var o = e(2569),r = e(794),i = e(5084);t.exports = function (t, n) {if (o(t), r(n) && n.constructor === t) return n;var e = i.f(t);return (0, e.resolve)(n), e.promise;};}, 2723: function _(t) {var n = function n() {this.head = null, this.tail = null;};n.prototype = { add: function add(t) {var n = { item: t, next: null };this.head ? this.tail.next = n : this.head = n, this.tail = n;}, get: function get() {var t = this.head;if (t) return this.head = t.next, this.tail === t && (this.tail = null), t.item;} }, t.exports = n;}, 6893: function _(t, n, e) {var o = e(1270);t.exports = function (t, n, e) {for (var r in n) {o(t, r, n[r], e);}return t;};}, 1270: function _(t, n, e) {var o = e(7583),r = e(9212),i = e(2870),a = e(57),c = e(460),u = e(9734),s = e(2743),l = e(4340).CONFIGURABLE,f = s.get,d = s.enforce,v = String(String).split("String");(t.exports = function (t, n, e, u) {var s,f = !!u && !!u.unsafe,h = !!u && !!u.enumerable,p = !!u && !!u.noTargetGet,g = u && void 0 !== u.name ? u.name : n;r(e) && ("Symbol(" === String(g).slice(0, 7) && (g = "[" + String(g).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"), (!i(e, "name") || l && e.name !== g) && a(e, "name", g), (s = d(e)).source || (s.source = v.join("string" == typeof g ? g : ""))), t !== o ? (f ? !p && t[n] && (h = !0) : delete t[n], h ? t[n] = e : a(t, n, e)) : h ? t[n] = e : c(n, e);})(Function.prototype, "toString", function () {return r(this) && f(this).source || u(this);});}, 3955: function _(t, n, e) {var o = e(7583).TypeError;t.exports = function (t) {if (null == t) throw o("Can't call method on " + t);return t;};}, 460: function _(t, n, e) {var o = e(7583),r = Object.defineProperty;t.exports = function (t, n) {try {r(o, t, { value: n, configurable: !0, writable: !0 });} catch (e) {o[t] = n;}return n;};}, 7730: function _(t, n, e) {"use strict";var o = e(5897),r = e(4615),i = e(3649),a = e(8494),c = i("species");t.exports = function (t) {var n = o(t),e = r.f;a && n && !n[c] && e(n, c, { configurable: !0, get: function get() {return this;} });};}, 8821: function _(t, n, e) {var o = e(4615).f,r = e(2870),i = e(3649)("toStringTag");t.exports = function (t, n, e) {t && !e && (t = t.prototype), t && !r(t, i) && o(t, i, { configurable: !0, value: n });};}, 9137: function _(t, n, e) {var o = e(7836),r = e(8284),i = o("keys");t.exports = function (t) {return i[t] || (i[t] = r(t));};}, 1314: function _(t, n, e) {var o = e(7583),r = e(460),i = "__core-js_shared__",a = o[i] || r(i, {});t.exports = a;}, 7836: function _(t, n, e) {var o = e(6268),r = e(1314);(t.exports = function (t, n) {return r[t] || (r[t] = void 0 !== n ? n : {});})("versions", []).push({ version: "3.21.1", mode: o ? "pure" : "global", copyright: "© 2014-2022 Denis Pushkarev (zloirock.ru)", license: "https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE", source: "https://github.com/zloirock/core-js" });}, 564: function _(t, n, e) {var o = e(2569),r = e(1186),i = e(3649)("species");t.exports = function (t, n) {var e,a = o(t).constructor;return void 0 === a || null == (e = o(a)[i]) ? n : r(e);};}, 6389: function _(t, n, e) {var o = e(7386),r = e(7486),i = e(8320),a = e(3955),c = o("".charAt),u = o("".charCodeAt),s = o("".slice),l = function l(t) {return function (n, e) {var o,l,f = i(a(n)),d = r(e),v = f.length;return d < 0 || d >= v ? t ? "" : void 0 : (o = u(f, d)) < 55296 || o > 56319 || d + 1 === v || (l = u(f, d + 1)) < 56320 || l > 57343 ? t ? c(f, d) : o : t ? s(f, d, d + 2) : l - 56320 + (o - 55296 << 10) + 65536;};};t.exports = { codeAt: l(!1), charAt: l(!0) };}, 8117: function _(t, n, e) {var o,r,i,a,c = e(7583),u = e(1611),s = e(2938),l = e(9212),f = e(2870),d = e(6544),v = e(482),h = e(6917),p = e(6668),g = e(7520),m = e(7020),_ = e(5354),b = c.setImmediate,y = c.clearImmediate,w = c.process,E = c.Dispatch,L = c.Function,T = c.MessageChannel,x = c.String,C = 0,O = {},I = "onreadystatechange";try {o = c.location;} catch (t) {}var D = function D(t) {if (f(O, t)) {var n = O[t];delete O[t], n();}},R = function R(t) {return function () {D(t);};},$ = function $(t) {D(t.data);},k = function k(t) {c.postMessage(x(t), o.protocol + "//" + o.host);};b && y || (b = function b(t) {g(arguments.length, 1);var n = l(t) ? t : L(t),e = h(arguments, 1);return O[++C] = function () {u(n, void 0, e);}, r(C), C;}, y = function y(t) {delete O[t];}, _ ? r = function r(t) {w.nextTick(R(t));} : E && E.now ? r = function r(t) {E.now(R(t));} : T && !m ? (a = (i = new T()).port2, i.port1.onmessage = $, r = s(a.postMessage, a)) : c.addEventListener && l(c.postMessage) && !c.importScripts && o && "file:" !== o.protocol && !d(k) ? (r = k, c.addEventListener("message", $, !1)) : r = I in p("script") ? function (t) {v.appendChild(p("script")).onreadystatechange = function () {v.removeChild(this), D(t);};} : function (t) {setTimeout(R(t), 0);}), t.exports = { set: b, clear: y };}, 6782: function _(t, n, e) {var o = e(7486),r = Math.max,i = Math.min;t.exports = function (t, n) {var e = o(t);return e < 0 ? r(e + n, 0) : i(e, n);};}, 2977: function _(t, n, e) {var o = e(5044),r = e(3955);t.exports = function (t) {return o(r(t));};}, 7486: function _(t) {var n = Math.ceil,e = Math.floor;t.exports = function (t) {var o = +t;return o != o || 0 === o ? 0 : (o > 0 ? e : n)(o);};}, 97: function _(t, n, e) {var o = e(7486),r = Math.min;t.exports = function (t) {return t > 0 ? r(o(t), 9007199254740991) : 0;};}, 1324: function _(t, n, e) {var o = e(7583),r = e(3955),i = o.Object;t.exports = function (t) {return i(r(t));};}, 2670: function _(t, n, e) {var o = e(7583),r = e(8262),i = e(794),a = e(5871),c = e(911),u = e(6252),s = e(3649),l = o.TypeError,f = s("toPrimitive");t.exports = function (t, n) {if (!i(t) || a(t)) return t;var e,o = c(t, f);if (o) {if (void 0 === n && (n = "default"), e = r(o, t, n), !i(e) || a(e)) return e;throw l("Can't convert object to primitive value");}return void 0 === n && (n = "number"), u(t, n);};}, 8734: function _(t, n, e) {var o = e(2670),r = e(5871);t.exports = function (t) {var n = o(t, "string");return r(n) ? n : n + "";};}, 8191: function _(t, n, e) {var o = {};o[e(3649)("toStringTag")] = "z", t.exports = "[object z]" === String(o);}, 8320: function _(t, n, e) {var o = e(7583),r = e(3058),i = o.String;t.exports = function (t) {if ("Symbol" === r(t)) throw TypeError("Cannot convert a Symbol value to a string");return i(t);};}, 5637: function _(t, n, e) {var o = e(7583).String;t.exports = function (t) {try {return o(t);} catch (t) {return "Object";}};}, 8284: function _(t, n, e) {var o = e(7386),r = 0,i = Math.random(),a = o(1..toString);t.exports = function (t) {return "Symbol(" + (void 0 === t ? "" : t) + ")_" + a(++r + i, 36);};}, 7786: function _(t, n, e) {var o = e(8640);t.exports = o && !Symbol.sham && "symbol" == typeof Symbol.iterator;}, 7670: function _(t, n, e) {var o = e(8494),r = e(6544);t.exports = o && r(function () {return 42 != Object.defineProperty(function () {}, "prototype", { value: 42, writable: !1 }).prototype;});}, 7520: function _(t, n, e) {var o = e(7583).TypeError;t.exports = function (t, n) {if (t < n) throw o("Not enough arguments");return t;};}, 491: function _(t, n, e) {var o = e(3649);n.f = o;}, 3649: function _(t, n, e) {var o = e(7583),r = e(7836),i = e(2870),a = e(8284),c = e(8640),u = e(7786),s = r("wks"),l = o.Symbol,f = l && l.for,d = u ? l : l && l.withoutSetter || a;t.exports = function (t) {if (!i(s, t) || !c && "string" != typeof s[t]) {var n = "Symbol." + t;c && i(l, t) ? s[t] = l[t] : s[t] = u && f ? f(n) : d(n);}return s[t];};}, 1719: function _(t, n, e) {"use strict";var o = e(7263),r = e(7583),i = e(2447),a = e(729),c = e(7496),u = e(3478),s = e(3590),l = e(57),f = e(4677),d = e(1509),v = e(4402),h = e(4026),p = e(2764),g = e(3649),m = e(1178),_ = g("toStringTag"),b = r.Error,y = [].push,w = function w(t, n) {var e,o = arguments.length > 2 ? arguments[2] : void 0,r = i(E, this);c ? e = c(new b(), r ? a(this) : E) : (e = r ? this : s(E), l(e, _, "Error")), void 0 !== n && l(e, "message", p(n)), m && l(e, "stack", d(e.stack, 1)), v(e, o);var u = [];return h(t, y, { that: u }), l(e, "errors", u), e;};c ? c(w, b) : u(w, b, { name: !0 });var E = w.prototype = s(b.prototype, { constructor: f(1, w), message: f(1, ""), name: f(1, "AggregateError") });o({ global: !0 }, { AggregateError: w });}, 1646: function _(t, n, e) {"use strict";var o = e(7263),r = e(7583),i = e(6544),a = e(4521),c = e(794),u = e(1324),s = e(1825),l = e(5999),f = e(4822),d = e(9269),v = e(3649),h = e(4061),p = v("isConcatSpreadable"),g = 9007199254740991,m = "Maximum allowed index exceeded",_ = r.TypeError,b = h >= 51 || !i(function () {var t = [];return t[p] = !1, t.concat()[0] !== t;}),y = d("concat"),w = function w(t) {if (!c(t)) return !1;var n = t[p];return void 0 !== n ? !!n : a(t);};o({ target: "Array", proto: !0, forced: !b || !y }, { concat: function concat(t) {var n,e,o,r,i,a = u(this),c = f(a, 0),d = 0;for (n = -1, o = arguments.length; n < o; n++) {if (w(i = -1 === n ? a : arguments[n])) {if (d + (r = s(i)) > g) throw _(m);for (e = 0; e < r; e++, d++) {e in i && l(c, d, i[e]);}} else {if (d >= g) throw _(m);l(c, d++, i);}}return c.length = d, c;} });}, 5677: function _(t, n, e) {"use strict";var o = e(2977),r = e(6288),i = e(339),a = e(2743),c = e(4615).f,u = e(9012),s = e(6268),l = e(8494),f = "Array Iterator",d = a.set,v = a.getterFor(f);t.exports = u(Array, "Array", function (t, n) {d(this, { type: f, target: o(t), index: 0, kind: n });}, function () {var t = v(this),n = t.target,e = t.kind,o = t.index++;return !n || o >= n.length ? (t.target = void 0, { value: void 0, done: !0 }) : "keys" == e ? { value: o, done: !1 } : "values" == e ? { value: n[o], done: !1 } : { value: [o, n[o]], done: !1 };}, "values");var h = i.Arguments = i.Array;if (r("keys"), r("values"), r("entries"), !s && l && "values" !== h.name) try {c(h, "name", { value: "values" });} catch (t) {}}, 6956: function _(t, n, e) {var o = e(7583);e(8821)(o.JSON, "JSON", !0);}, 5222: function _(t, n, e) {e(8821)(Math, "Math", !0);}, 6394: function _(t, n, e) {var o = e(8191),r = e(1270),i = e(3060);o || r(Object.prototype, "toString", i, { unsafe: !0 });}, 6969: function _(t, n, e) {"use strict";var o = e(7263),r = e(8262),i = e(8257),a = e(5084),c = e(544),u = e(4026);o({ target: "Promise", stat: !0 }, { allSettled: function allSettled(t) {var n = this,e = a.f(n),o = e.resolve,s = e.reject,l = c(function () {var e = i(n.resolve),a = [],c = 0,s = 1;u(t, function (t) {var i = c++,u = !1;s++, r(e, n, t).then(function (t) {u || (u = !0, a[i] = { status: "fulfilled", value: t }, --s || o(a));}, function (t) {u || (u = !0, a[i] = { status: "rejected", reason: t }, --s || o(a));});}), --s || o(a);});return l.error && s(l.value), e.promise;} });}, 2021: function _(t, n, e) {"use strict";var o = e(7263),r = e(8257),i = e(5897),a = e(8262),c = e(5084),u = e(544),s = e(4026),l = "No one promise resolved";o({ target: "Promise", stat: !0 }, { any: function any(t) {var n = this,e = i("AggregateError"),o = c.f(n),f = o.resolve,d = o.reject,v = u(function () {var o = r(n.resolve),i = [],c = 0,u = 1,v = !1;s(t, function (t) {var r = c++,s = !1;u++, a(o, n, t).then(function (t) {s || v || (v = !0, f(t));}, function (t) {s || v || (s = !0, i[r] = t, --u || d(new e(i, l)));});}), --u || d(new e(i, l));});return v.error && d(v.value), o.promise;} });}, 8328: function _(t, n, e) {"use strict";var o = e(7263),r = e(6268),i = e(783),a = e(6544),c = e(5897),u = e(9212),s = e(564),l = e(5732),f = e(1270);if (o({ target: "Promise", proto: !0, real: !0, forced: !!i && a(function () {i.prototype.finally.call({ then: function then() {} }, function () {});}) }, { finally: function _finally(t) {var n = s(this, c("Promise")),e = u(t);return this.then(e ? function (e) {return l(n, t()).then(function () {return e;});} : t, e ? function (e) {return l(n, t()).then(function () {throw e;});} : t);} }), !r && u(i)) {var d = c("Promise").prototype.finally;i.prototype.finally !== d && f(i.prototype, "finally", d, { unsafe: !0 });}}, 5334: function _(t, n, e) {"use strict";var o,r,i,a,c = e(7263),u = e(6268),s = e(7583),l = e(5897),f = e(8262),d = e(783),v = e(1270),h = e(6893),p = e(7496),g = e(8821),m = e(7730),_ = e(8257),b = e(9212),y = e(794),w = e(4761),E = e(9734),L = e(4026),T = e(3616),x = e(564),C = e(8117).set,O = e(2095),I = e(5732),D = e(2716),R = e(5084),$ = e(544),k = e(2723),P = e(2743),M = e(4451),S = e(3649),j = e(2274),B = e(5354),A = e(4061),U = S("species"),G = "Promise",N = P.getterFor(G),V = P.set,W = P.getterFor(G),K = d && d.prototype,H = d,F = K,q = s.TypeError,Z = s.document,X = s.process,z = R.f,Y = z,J = !!(Z && Z.createEvent && s.dispatchEvent),Q = b(s.PromiseRejectionEvent),tt = "unhandledrejection",nt = !1,et = M(G, function () {var t = E(H),n = t !== String(H);if (!n && 66 === A) return !0;if (u && !F.finally) return !0;if (A >= 51 && /native code/.test(t)) return !1;var e = new H(function (t) {t(1);}),o = function o(t) {t(function () {}, function () {});};return (e.constructor = {})[U] = o, !(nt = e.then(function () {}) instanceof o) || !n && j && !Q;}),ot = et || !T(function (t) {H.all(t).catch(function () {});}),rt = function rt(t) {var n;return !(!y(t) || !b(n = t.then)) && n;},it = function it(t, n) {var e,o,r,i = n.value,a = 1 == n.state,c = a ? t.ok : t.fail,u = t.resolve,s = t.reject,l = t.domain;try {c ? (a || (2 === n.rejection && lt(n), n.rejection = 1), !0 === c ? e = i : (l && l.enter(), e = c(i), l && (l.exit(), r = !0)), e === t.promise ? s(q("Promise-chain cycle")) : (o = rt(e)) ? f(o, e, u, s) : u(e)) : s(i);} catch (t) {l && !r && l.exit(), s(t);}},at = function at(t, n) {t.notified || (t.notified = !0, O(function () {for (var e, o = t.reactions; e = o.get();) {it(e, t);}t.notified = !1, n && !t.rejection && ut(t);}));},ct = function ct(t, n, e) {var o, r;J ? ((o = Z.createEvent("Event")).promise = n, o.reason = e, o.initEvent(t, !1, !0), s.dispatchEvent(o)) : o = { promise: n, reason: e }, !Q && (r = s["on" + t]) ? r(o) : t === tt && D("Unhandled promise rejection", e);},ut = function ut(t) {f(C, s, function () {var n,e = t.facade,o = t.value;if (st(t) && (n = $(function () {B ? X.emit("unhandledRejection", o, e) : ct(tt, e, o);}), t.rejection = B || st(t) ? 2 : 1, n.error)) throw n.value;});},st = function st(t) {return 1 !== t.rejection && !t.parent;},lt = function lt(t) {f(C, s, function () {var n = t.facade;B ? X.emit("rejectionHandled", n) : ct("rejectionhandled", n, t.value);});},ft = function ft(t, n, e) {return function (o) {t(n, o, e);};},dt = function dt(t, n, e) {t.done || (t.done = !0, e && (t = e), t.value = n, t.state = 2, at(t, !0));},vt = function t(n, e, o) {if (!n.done) {n.done = !0, o && (n = o);try {if (n.facade === e) throw q("Promise can't be resolved itself");var r = rt(e);r ? O(function () {var o = { done: !1 };try {f(r, e, ft(t, o, n), ft(dt, o, n));} catch (t) {dt(o, t, n);}}) : (n.value = e, n.state = 1, at(n, !1));} catch (t) {dt({ done: !1 }, t, n);}}};if (et && (F = (H = function H(t) {w(this, F), _(t), f(o, this);var n = N(this);try {t(ft(vt, n), ft(dt, n));} catch (t) {dt(n, t);}}).prototype, (o = function o(t) {V(this, { type: G, done: !1, notified: !1, parent: !1, reactions: new k(), rejection: !1, state: 0, value: void 0 });}).prototype = h(F, { then: function then(t, n) {var e = W(this),o = z(x(this, H));return e.parent = !0, o.ok = !b(t) || t, o.fail = b(n) && n, o.domain = B ? X.domain : void 0, 0 == e.state ? e.reactions.add(o) : O(function () {it(o, e);}), o.promise;}, catch: function _catch(t) {return this.then(void 0, t);} }), r = function r() {var t = new o(),n = N(t);this.promise = t, this.resolve = ft(vt, n), this.reject = ft(dt, n);}, R.f = z = function z(t) {return t === H || t === i ? new r(t) : Y(t);}, !u && b(d) && K !== Object.prototype)) {a = K.then, nt || (v(K, "then", function (t, n) {var e = this;return new H(function (t, n) {f(a, e, t, n);}).then(t, n);}, { unsafe: !0 }), v(K, "catch", F.catch, { unsafe: !0 }));try {delete K.constructor;} catch (t) {}p && p(K, F);}c({ global: !0, wrap: !0, forced: et }, { Promise: H }), g(H, G, !1, !0), m(G), i = l(G), c({ target: G, stat: !0, forced: et }, { reject: function reject(t) {var n = z(this);return f(n.reject, void 0, t), n.promise;} }), c({ target: G, stat: !0, forced: u || et }, { resolve: function resolve(t) {return I(u && this === i ? H : this, t);} }), c({ target: G, stat: !0, forced: ot }, { all: function all(t) {var n = this,e = z(n),o = e.resolve,r = e.reject,i = $(function () {var e = _(n.resolve),i = [],a = 0,c = 1;L(t, function (t) {var u = a++,s = !1;c++, f(e, n, t).then(function (t) {s || (s = !0, i[u] = t, --c || o(i));}, r);}), --c || o(i);});return i.error && r(i.value), e.promise;}, race: function race(t) {var n = this,e = z(n),o = e.reject,r = $(function () {var r = _(n.resolve);L(t, function (t) {f(r, n, t).then(e.resolve, o);});});return r.error && o(r.value), e.promise;} });}, 2257: function _(t, n, e) {var o = e(7263),r = e(7583),i = e(8821);o({ global: !0 }, { Reflect: {} }), i(r.Reflect, "Reflect", !0);}, 2129: function _(t, n, e) {"use strict";var o = e(6389).charAt,r = e(8320),i = e(2743),a = e(9012),c = "String Iterator",u = i.set,s = i.getterFor(c);a(String, "String", function (t) {u(this, { type: c, string: r(t), index: 0 });}, function () {var t,n = s(this),e = n.string,r = n.index;return r >= e.length ? { value: void 0, done: !0 } : (t = o(e, r), n.index += t.length, { value: t, done: !1 });});}, 462: function _(t, n, e) {e(2219)("asyncIterator");}, 8407: function _(t, n, e) {"use strict";var o = e(7263),r = e(8494),i = e(7583),a = e(7386),c = e(2870),u = e(9212),s = e(2447),l = e(8320),f = e(4615).f,d = e(3478),v = i.Symbol,h = v && v.prototype;if (r && u(v) && (!("description" in h) || void 0 !== v().description)) {var p = {},g = function g() {var t = arguments.length < 1 || void 0 === arguments[0] ? void 0 : l(arguments[0]),n = s(h, this) ? new v(t) : void 0 === t ? v() : v(t);return "" === t && (p[n] = !0), n;};d(g, v), g.prototype = h, h.constructor = g;var m = "Symbol(test)" == String(v("test")),_ = a(h.toString),b = a(h.valueOf),y = /^Symbol\((.*)\)[^)]+$/,w = a("".replace),E = a("".slice);f(h, "description", { configurable: !0, get: function get() {var t = b(this),n = _(t);if (c(p, t)) return "";var e = m ? E(n, 7, -1) : w(n, y, "$1");return "" === e ? void 0 : e;} }), o({ global: !0, forced: !0 }, { Symbol: g });}}, 2429: function _(t, n, e) {e(2219)("hasInstance");}, 1172: function _(t, n, e) {e(2219)("isConcatSpreadable");}, 8288: function _(t, n, e) {e(2219)("iterator");}, 2004: function _(t, n, e) {"use strict";var o = e(7263),r = e(7583),i = e(5897),a = e(1611),c = e(8262),u = e(7386),s = e(6268),l = e(8494),f = e(8640),d = e(6544),v = e(2870),h = e(4521),p = e(9212),g = e(794),m = e(2447),_ = e(5871),b = e(2569),y = e(1324),w = e(2977),E = e(8734),L = e(8320),T = e(4677),x = e(3590),C = e(5432),O = e(9275),I = e(3130),D = e(4012),R = e(6683),$ = e(4615),k = e(8728),P = e(112),M = e(6917),S = e(1270),j = e(7836),B = e(9137),A = e(4639),U = e(8284),G = e(3649),N = e(491),V = e(2219),W = e(8821),K = e(2743),H = e(4805).forEach,F = B("hidden"),q = "Symbol",Z = G("toPrimitive"),X = K.set,z = K.getterFor(q),Y = Object.prototype,J = r.Symbol,Q = J && J.prototype,tt = r.TypeError,nt = r.QObject,et = i("JSON", "stringify"),ot = R.f,rt = $.f,it = I.f,at = P.f,ct = u([].push),ut = j("symbols"),st = j("op-symbols"),lt = j("string-to-symbol-registry"),ft = j("symbol-to-string-registry"),dt = j("wks"),vt = !nt || !nt.prototype || !nt.prototype.findChild,ht = l && d(function () {return 7 != x(rt({}, "a", { get: function get() {return rt(this, "a", { value: 7 }).a;} })).a;}) ? function (t, n, e) {var o = ot(Y, n);o && delete Y[n], rt(t, n, e), o && t !== Y && rt(Y, n, o);} : rt,pt = function pt(t, n) {var e = ut[t] = x(Q);return X(e, { type: q, tag: t, description: n }), l || (e.description = n), e;},gt = function gt(t, n, e) {t === Y && gt(st, n, e), b(t);var o = E(n);return b(e), v(ut, o) ? (e.enumerable ? (v(t, F) && t[F][o] && (t[F][o] = !1), e = x(e, { enumerable: T(0, !1) })) : (v(t, F) || rt(t, F, T(1, {})), t[F][o] = !0), ht(t, o, e)) : rt(t, o, e);},mt = function mt(t, n) {b(t);var e = w(n),o = C(e).concat(wt(e));return H(o, function (n) {l && !c(_t, e, n) || gt(t, n, e[n]);}), t;},_t = function _t(t) {var n = E(t),e = c(at, this, n);return !(this === Y && v(ut, n) && !v(st, n)) && (!(e || !v(this, n) || !v(ut, n) || v(this, F) && this[F][n]) || e);},bt = function bt(t, n) {var e = w(t),o = E(n);if (e !== Y || !v(ut, o) || v(st, o)) {var r = ot(e, o);return !r || !v(ut, o) || v(e, F) && e[F][o] || (r.enumerable = !0), r;}},yt = function yt(t) {var n = it(w(t)),e = [];return H(n, function (t) {v(ut, t) || v(A, t) || ct(e, t);}), e;},wt = function wt(t) {var n = t === Y,e = it(n ? st : w(t)),o = [];return H(e, function (t) {!v(ut, t) || n && !v(Y, t) || ct(o, ut[t]);}), o;};(f || (J = function J() {if (m(Q, this)) throw tt("Symbol is not a constructor");var t = arguments.length && void 0 !== arguments[0] ? L(arguments[0]) : void 0,n = U(t),e = function t(e) {this === Y && c(t, st, e), v(this, F) && v(this[F], n) && (this[F][n] = !1), ht(this, n, T(1, e));};return l && vt && ht(Y, n, { configurable: !0, set: e }), pt(n, t);}, S(Q = J.prototype, "toString", function () {return z(this).tag;}), S(J, "withoutSetter", function (t) {return pt(U(t), t);}), P.f = _t, $.f = gt, k.f = mt, R.f = bt, O.f = I.f = yt, D.f = wt, N.f = function (t) {return pt(G(t), t);}, l && (rt(Q, "description", { configurable: !0, get: function get() {return z(this).description;} }), s || S(Y, "propertyIsEnumerable", _t, { unsafe: !0 }))), o({ global: !0, wrap: !0, forced: !f, sham: !f }, { Symbol: J }), H(C(dt), function (t) {V(t);}), o({ target: q, stat: !0, forced: !f }, { for: function _for(t) {var n = L(t);if (v(lt, n)) return lt[n];var e = J(n);return lt[n] = e, ft[e] = n, e;}, keyFor: function keyFor(t) {if (!_(t)) throw tt(t + " is not a symbol");if (v(ft, t)) return ft[t];}, useSetter: function useSetter() {vt = !0;}, useSimple: function useSimple() {vt = !1;} }), o({ target: "Object", stat: !0, forced: !f, sham: !l }, { create: function create(t, n) {return void 0 === n ? x(t) : mt(x(t), n);}, defineProperty: gt, defineProperties: mt, getOwnPropertyDescriptor: bt }), o({ target: "Object", stat: !0, forced: !f }, { getOwnPropertyNames: yt, getOwnPropertySymbols: wt }), o({ target: "Object", stat: !0, forced: d(function () {D.f(1);}) }, { getOwnPropertySymbols: function getOwnPropertySymbols(t) {return D.f(y(t));} }), et) && o({ target: "JSON", stat: !0, forced: !f || d(function () {var t = J();return "[null]" != et([t]) || "{}" != et({ a: t }) || "{}" != et(Object(t));}) }, { stringify: function stringify(t, n, e) {var o = M(arguments),r = n;if ((g(n) || void 0 !== t) && !_(t)) return h(n) || (n = function n(t, _n2) {if (p(r) && (_n2 = c(r, this, t, _n2)), !_(_n2)) return _n2;}), o[1] = n, a(et, null, o);} });if (!Q[Z]) {var Et = Q.valueOf;S(Q, Z, function (t) {return c(Et, this);});}W(J, q), A[F] = !0;}, 8201: function _(t, n, e) {e(2219)("matchAll");}, 1274: function _(t, n, e) {e(2219)("match");}, 6626: function _(t, n, e) {e(2219)("replace");}, 3211: function _(t, n, e) {e(2219)("search");}, 9952: function _(t, n, e) {e(2219)("species");}, 15: function _(t, n, e) {e(2219)("split");}, 9831: function _(t, n, e) {e(2219)("toPrimitive");}, 7521: function _(t, n, e) {e(2219)("toStringTag");}, 2972: function _(t, n, e) {e(2219)("unscopables");}, 4655: function _(t, n, e) {var o = e(7583),r = e(6778),i = e(9307),a = e(5677),c = e(57),u = e(3649),s = u("iterator"),l = u("toStringTag"),f = a.values,d = function d(t, n) {if (t) {if (t[s] !== f) try {c(t, s, f);} catch (n) {t[s] = f;}if (t[l] || c(t, l, n), r[n]) for (var e in a) {if (t[e] !== a[e]) try {c(t, e, a[e]);} catch (n) {t[e] = a[e];}}}};for (var v in r) {d(o[v] && o[v].prototype, v);}d(i, "DOMTokenList");}, 8765: function _(t, n, e) {var o = e(5036);e(4655), t.exports = o;}, 5441: function _(t, n, e) {var o = e(2582);e(4655), t.exports = o;}, 7705: function _(t) {"use strict";t.exports = function (t) {var n = [];return n.toString = function () {return this.map(function (n) {var e = "",o = void 0 !== n[5];return n[4] && (e += "@supports (".concat(n[4], ") {")), n[2] && (e += "@media ".concat(n[2], " {")), o && (e += "@layer".concat(n[5].length > 0 ? " ".concat(n[5]) : "", " {")), e += t(n), o && (e += "}"), n[2] && (e += "}"), n[4] && (e += "}"), e;}).join("");}, n.i = function (t, e, o, r, i) {"string" == typeof t && (t = [[null, t, void 0]]);var a = {};if (o) for (var c = 0; c < this.length; c++) {var u = this[c][0];null != u && (a[u] = !0);}for (var s = 0; s < t.length; s++) {var l = [].concat(t[s]);o && a[l[0]] || (void 0 !== i && (void 0 === l[5] || (l[1] = "@layer".concat(l[5].length > 0 ? " ".concat(l[5]) : "", " {").concat(l[1], "}")), l[5] = i), e && (l[2] ? (l[1] = "@media ".concat(l[2], " {").concat(l[1], "}"), l[2] = e) : l[2] = e), r && (l[4] ? (l[1] = "@supports (".concat(l[4], ") {").concat(l[1], "}"), l[4] = r) : l[4] = "".concat(r)), n.push(l));}}, n;};}, 6738: function _(t) {"use strict";t.exports = function (t) {return t[1];};}, 8679: function _(t) {var n = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver,e = window.WeakMap;if (void 0 === e) {var o = Object.defineProperty,r = Date.now() % 1e9;(e = function e() {this.name = "__st" + (1e9 * Math.random() >>> 0) + r++ + "__";}).prototype = { set: function set(t, n) {var e = t[this.name];return e && e[0] === t ? e[1] = n : o(t, this.name, { value: [t, n], writable: !0 }), this;}, get: function get(t) {var n;return (n = t[this.name]) && n[0] === t ? n[1] : void 0;}, delete: function _delete(t) {var n = t[this.name];if (!n) return !1;var e = n[0] === t;return n[0] = n[1] = void 0, e;}, has: function has(t) {var n = t[this.name];return !!n && n[0] === t;} };}var i = new e(),a = window.msSetImmediate;if (!a) {var c = [],u = String(Math.random());window.addEventListener("message", function (t) {if (t.data === u) {var n = c;c = [], n.forEach(function (t) {t();});}}), a = function a(t) {c.push(t), window.postMessage(u, "*");};}var s = !1,l = [];function f() {s = !1;var t = l;l = [], t.sort(function (t, n) {return t.uid_ - n.uid_;});var n = !1;t.forEach(function (t) {var e = t.takeRecords();!function (t) {t.nodes_.forEach(function (n) {var e = i.get(n);e && e.forEach(function (n) {n.observer === t && n.removeTransientObservers();});});}(t), e.length && (t.callback_(e, t), n = !0);}), n && f();}function d(t, n) {for (var e = t; e; e = e.parentNode) {var o = i.get(e);if (o) for (var r = 0; r < o.length; r++) {var a = o[r],c = a.options;if (e === t || c.subtree) {var u = n(c);u && a.enqueue(u);}}}}var v,h,p = 0;function g(t) {this.callback_ = t, this.nodes_ = [], this.records_ = [], this.uid_ = ++p;}function m(t, n) {this.type = t, this.target = n, this.addedNodes = [], this.removedNodes = [], this.previousSibling = null, this.nextSibling = null, this.attributeName = null, this.attributeNamespace = null, this.oldValue = null;}function _(t, n) {return v = new m(t, n);}function b(t) {return h || ((e = new m((n = v).type, n.target)).addedNodes = n.addedNodes.slice(), e.removedNodes = n.removedNodes.slice(), e.previousSibling = n.previousSibling, e.nextSibling = n.nextSibling, e.attributeName = n.attributeName, e.attributeNamespace = n.attributeNamespace, e.oldValue = n.oldValue, (h = e).oldValue = t, h);var n, e;}function y(t, n) {return t === n ? t : h && ((e = t) === h || e === v) ? h : null;var e;}function w(t, n, e) {this.observer = t, this.target = n, this.options = e, this.transientObservedNodes = [];}g.prototype = { observe: function observe(t, n) {var e;if (e = t, t = window.ShadowDOMPolyfill && window.ShadowDOMPolyfill.wrapIfNeeded(e) || e, !n.childList && !n.attributes && !n.characterData || n.attributeOldValue && !n.attributes || n.attributeFilter && n.attributeFilter.length && !n.attributes || n.characterDataOldValue && !n.characterData) throw new SyntaxError();var o,r = i.get(t);r || i.set(t, r = []);for (var a = 0; a < r.length; a++) {if (r[a].observer === this) {(o = r[a]).removeListeners(), o.options = n;break;}}o || (o = new w(this, t, n), r.push(o), this.nodes_.push(t)), o.addListeners();}, disconnect: function disconnect() {this.nodes_.forEach(function (t) {for (var n = i.get(t), e = 0; e < n.length; e++) {var o = n[e];if (o.observer === this) {o.removeListeners(), n.splice(e, 1);break;}}}, this), this.records_ = [];}, takeRecords: function takeRecords() {var t = this.records_;return this.records_ = [], t;} }, w.prototype = { enqueue: function enqueue(t) {var n,e = this.observer.records_,o = e.length;if (e.length > 0) {var r = y(e[o - 1], t);if (r) return void (e[o - 1] = r);} else n = this.observer, l.push(n), s || (s = !0, a(f));e[o] = t;}, addListeners: function addListeners() {this.addListeners_(this.target);}, addListeners_: function addListeners_(t) {var n = this.options;n.attributes && t.addEventListener("DOMAttrModified", this, !0), n.characterData && t.addEventListener("DOMCharacterDataModified", this, !0), n.childList && t.addEventListener("DOMNodeInserted", this, !0), (n.childList || n.subtree) && t.addEventListener("DOMNodeRemoved", this, !0);}, removeListeners: function removeListeners() {this.removeListeners_(this.target);}, removeListeners_: function removeListeners_(t) {var n = this.options;n.attributes && t.removeEventListener("DOMAttrModified", this, !0), n.characterData && t.removeEventListener("DOMCharacterDataModified", this, !0), n.childList && t.removeEventListener("DOMNodeInserted", this, !0), (n.childList || n.subtree) && t.removeEventListener("DOMNodeRemoved", this, !0);}, addTransientObserver: function addTransientObserver(t) {if (t !== this.target) {this.addListeners_(t), this.transientObservedNodes.push(t);var n = i.get(t);n || i.set(t, n = []), n.push(this);}}, removeTransientObservers: function removeTransientObservers() {var t = this.transientObservedNodes;this.transientObservedNodes = [], t.forEach(function (t) {this.removeListeners_(t);for (var n = i.get(t), e = 0; e < n.length; e++) {if (n[e] === this) {n.splice(e, 1);break;}}}, this);}, handleEvent: function handleEvent(t) {switch (t.stopImmediatePropagation(), t.type) {case "DOMAttrModified":var n = t.attrName,e = t.relatedNode.namespaceURI,o = t.target;(i = new _("attributes", o)).attributeName = n, i.attributeNamespace = e;var r = null;"undefined" != typeof MutationEvent && t.attrChange === MutationEvent.ADDITION || (r = t.prevValue), d(o, function (t) {if (t.attributes && (!t.attributeFilter || !t.attributeFilter.length || -1 !== t.attributeFilter.indexOf(n) || -1 !== t.attributeFilter.indexOf(e))) return t.attributeOldValue ? b(r) : i;});break;case "DOMCharacterDataModified":var i = _("characterData", o = t.target);r = t.prevValue;d(o, function (t) {if (t.characterData) return t.characterDataOldValue ? b(r) : i;});break;case "DOMNodeRemoved":this.addTransientObserver(t.target);case "DOMNodeInserted":o = t.relatedNode;var a,c,u = t.target;"DOMNodeInserted" === t.type ? (a = [u], c = []) : (a = [], c = [u]);var s = u.previousSibling,l = u.nextSibling;(i = _("childList", o)).addedNodes = a, i.removedNodes = c, i.previousSibling = s, i.nextSibling = l, d(o, function (t) {if (t.childList) return i;});}v = h = void 0;} }, n || (n = g), t.exports = n;}, 7588: function _(t) {var n = function (t) {"use strict";var n,e = Object.prototype,o = e.hasOwnProperty,r = "function" == typeof Symbol ? Symbol : {},i = r.iterator || "@@iterator",a = r.asyncIterator || "@@asyncIterator",c = r.toStringTag || "@@toStringTag";function u(t, n, e) {return Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }), t[n];}try {u({}, "");} catch (t) {u = function u(t, n, e) {return t[n] = e;};}function s(t, n, e, o) {var r = n && n.prototype instanceof g ? n : g,i = Object.create(r.prototype),a = new I(o || []);return i._invoke = function (t, n, e) {var o = f;return function (r, i) {if (o === v) throw new Error("Generator is already running");if (o === h) {if ("throw" === r) throw i;return R();}for (e.method = r, e.arg = i;;) {var a = e.delegate;if (a) {var c = x(a, e);if (c) {if (c === p) continue;return c;}}if ("next" === e.method) e.sent = e._sent = e.arg;else if ("throw" === e.method) {if (o === f) throw o = h, e.arg;e.dispatchException(e.arg);} else "return" === e.method && e.abrupt("return", e.arg);o = v;var u = l(t, n, e);if ("normal" === u.type) {if (o = e.done ? h : d, u.arg === p) continue;return { value: u.arg, done: e.done };}"throw" === u.type && (o = h, e.method = "throw", e.arg = u.arg);}};}(t, e, a), i;}function l(t, n, e) {try {return { type: "normal", arg: t.call(n, e) };} catch (t) {return { type: "throw", arg: t };}}t.wrap = s;var f = "suspendedStart",d = "suspendedYield",v = "executing",h = "completed",p = {};function g() {}function m() {}function _() {}var b = {};u(b, i, function () {return this;});var y = Object.getPrototypeOf,w = y && y(y(D([])));w && w !== e && o.call(w, i) && (b = w);var E = _.prototype = g.prototype = Object.create(b);function L(t) {["next", "throw", "return"].forEach(function (n) {u(t, n, function (t) {return this._invoke(n, t);});});}function T(t, n) {function e(r, i, a, c) {var u = l(t[r], t, i);if ("throw" !== u.type) {var s = u.arg,f = s.value;return f && "object" == typeof f && o.call(f, "__await") ? n.resolve(f.__await).then(function (t) {e("next", t, a, c);}, function (t) {e("throw", t, a, c);}) : n.resolve(f).then(function (t) {s.value = t, a(s);}, function (t) {return e("throw", t, a, c);});}c(u.arg);}var r;this._invoke = function (t, o) {function i() {return new n(function (n, r) {e(t, o, n, r);});}return r = r ? r.then(i, i) : i();};}function x(t, e) {var o = t.iterator[e.method];if (o === n) {if (e.delegate = null, "throw" === e.method) {if (t.iterator.return && (e.method = "return", e.arg = n, x(t, e), "throw" === e.method)) return p;e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method");}return p;}var r = l(o, t.iterator, e.arg);if ("throw" === r.type) return e.method = "throw", e.arg = r.arg, e.delegate = null, p;var i = r.arg;return i ? i.done ? (e[t.resultName] = i.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", e.arg = n), e.delegate = null, p) : i : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), e.delegate = null, p);}function C(t) {var n = { tryLoc: t[0] };1 in t && (n.catchLoc = t[1]), 2 in t && (n.finallyLoc = t[2], n.afterLoc = t[3]), this.tryEntries.push(n);}function O(t) {var n = t.completion || {};n.type = "normal", delete n.arg, t.completion = n;}function I(t) {this.tryEntries = [{ tryLoc: "root" }], t.forEach(C, this), this.reset(!0);}function D(t) {if (t) {var e = t[i];if (e) return e.call(t);if ("function" == typeof t.next) return t;if (!isNaN(t.length)) {var r = -1,a = function e() {for (; ++r < t.length;) {if (o.call(t, r)) return e.value = t[r], e.done = !1, e;}return e.value = n, e.done = !0, e;};return a.next = a;}}return { next: R };}function R() {return { value: n, done: !0 };}return m.prototype = _, u(E, "constructor", _), u(_, "constructor", m), m.displayName = u(_, c, "GeneratorFunction"), t.isGeneratorFunction = function (t) {var n = "function" == typeof t && t.constructor;return !!n && (n === m || "GeneratorFunction" === (n.displayName || n.name));}, t.mark = function (t) {return Object.setPrototypeOf ? Object.setPrototypeOf(t, _) : (t.__proto__ = _, u(t, c, "GeneratorFunction")), t.prototype = Object.create(E), t;}, t.awrap = function (t) {return { __await: t };}, L(T.prototype), u(T.prototype, a, function () {return this;}), t.AsyncIterator = T, t.async = function (n, e, o, r, i) {void 0 === i && (i = Promise);var a = new T(s(n, e, o, r), i);return t.isGeneratorFunction(e) ? a : a.next().then(function (t) {return t.done ? t.value : a.next();});}, L(E), u(E, c, "Generator"), u(E, i, function () {return this;}), u(E, "toString", function () {return "[object Generator]";}), t.keys = function (t) {var n = [];for (var e in t) {n.push(e);}return n.reverse(), function e() {for (; n.length;) {var o = n.pop();if (o in t) return e.value = o, e.done = !1, e;}return e.done = !0, e;};}, t.values = D, I.prototype = { constructor: I, reset: function reset(t) {if (this.prev = 0, this.next = 0, this.sent = this._sent = n, this.done = !1, this.delegate = null, this.method = "next", this.arg = n, this.tryEntries.forEach(O), !t) for (var e in this) {"t" === e.charAt(0) && o.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = n);}}, stop: function stop() {this.done = !0;var t = this.tryEntries[0].completion;if ("throw" === t.type) throw t.arg;return this.rval;}, dispatchException: function dispatchException(t) {if (this.done) throw t;var e = this;function r(o, r) {return c.type = "throw", c.arg = t, e.next = o, r && (e.method = "next", e.arg = n), !!r;}for (var i = this.tryEntries.length - 1; i >= 0; --i) {var a = this.tryEntries[i],c = a.completion;if ("root" === a.tryLoc) return r("end");if (a.tryLoc <= this.prev) {var u = o.call(a, "catchLoc"),s = o.call(a, "finallyLoc");if (u && s) {if (this.prev < a.catchLoc) return r(a.catchLoc, !0);if (this.prev < a.finallyLoc) return r(a.finallyLoc);} else if (u) {if (this.prev < a.catchLoc) return r(a.catchLoc, !0);} else {if (!s) throw new Error("try statement without catch or finally");if (this.prev < a.finallyLoc) return r(a.finallyLoc);}}}}, abrupt: function abrupt(t, n) {for (var e = this.tryEntries.length - 1; e >= 0; --e) {var r = this.tryEntries[e];if (r.tryLoc <= this.prev && o.call(r, "finallyLoc") && this.prev < r.finallyLoc) {var i = r;break;}}i && ("break" === t || "continue" === t) && i.tryLoc <= n && n <= i.finallyLoc && (i = null);var a = i ? i.completion : {};return a.type = t, a.arg = n, i ? (this.method = "next", this.next = i.finallyLoc, p) : this.complete(a);}, complete: function complete(t, n) {if ("throw" === t.type) throw t.arg;return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && n && (this.next = n), p;}, finish: function finish(t) {for (var n = this.tryEntries.length - 1; n >= 0; --n) {var e = this.tryEntries[n];if (e.finallyLoc === t) return this.complete(e.completion, e.afterLoc), O(e), p;}}, catch: function _catch(t) {for (var n = this.tryEntries.length - 1; n >= 0; --n) {var e = this.tryEntries[n];if (e.tryLoc === t) {var o = e.completion;if ("throw" === o.type) {var r = o.arg;O(e);}return r;}}throw new Error("illegal catch attempt");}, delegateYield: function delegateYield(t, e, o) {return this.delegate = { iterator: D(t), resultName: e, nextLoc: o }, "next" === this.method && (this.arg = n), p;} }, t;}(t.exports);try {regeneratorRuntime = n;} catch (t) {"object" == typeof globalThis ? globalThis.regeneratorRuntime = n : Function("r", "regeneratorRuntime = r")(n);}}, 8702: function _(t, n, e) {"use strict";e.d(n, { Z: function Z() {return j;} });var o = e(4296),r = e(6464),i = e(6881),a = e(2942),c = e(7003),u = e(3379),s = e.n(u),l = e(7795),f = e.n(l),d = e(569),v = e.n(d),h = e(3565),p = e.n(h),g = e(9216),m = e.n(g),_ = e(4589),b = e.n(_),y = e(5313),w = {};y.Z && y.Z.locals && (w.locals = y.Z.locals);var E,L = 0,T = {};T.styleTagTransform = b(), T.setAttributes = p(), T.insert = v().bind(null, "head"), T.domAPI = f(), T.insertStyleElement = m(), w.use = function (t) {return T.options = t || {}, L++ || (E = s()(y.Z, T)), w;}, w.unuse = function () {L > 0 && ! --L && (E(), E = null);};var x = w;function C(t) {var n, e;return { c: function c() {n = (0, a.bi5)("svg"), e = (0, a.bi5)("path"), (0, a.Ljt)(e, "d", "M599.99999 832.000004h47.999999a24 24 0 0 0 23.999999-24V376.000013a24 24 0 0 0-23.999999-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24zM927.999983 160.000017h-164.819997l-67.999998-113.399998A95.999998 95.999998 0 0 0 612.819989 0.00002H411.179993a95.999998 95.999998 0 0 0-82.319998 46.599999L260.819996 160.000017H95.999999A31.999999 31.999999 0 0 0 64 192.000016v32a31.999999 31.999999 0 0 0 31.999999 31.999999h32v671.999987a95.999998 95.999998 0 0 0 95.999998 95.999998h575.999989a95.999998 95.999998 0 0 0 95.999998-95.999998V256.000015h31.999999a31.999999 31.999999 0 0 0 32-31.999999V192.000016a31.999999 31.999999 0 0 0-32-31.999999zM407.679993 101.820018A12 12 0 0 1 417.999993 96.000018h187.999996a12 12 0 0 1 10.3 5.82L651.219989 160.000017H372.779994zM799.999986 928.000002H223.999997V256.000015h575.999989z m-423.999992-95.999998h47.999999a24 24 0 0 0 24-24V376.000013a24 24 0 0 0-24-24h-47.999999a24 24 0 0 0-24 24v431.999991a24 24 0 0 0 24 24z"), (0, a.Ljt)(n, "class", "vc-icon-delete"), (0, a.Ljt)(n, "viewBox", "0 0 1024 1024"), (0, a.Ljt)(n, "width", "200"), (0, a.Ljt)(n, "height", "200");}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function O(t) {var n, e, o;return { c: function c() {n = (0, a.bi5)("svg"), e = (0, a.bi5)("path"), o = (0, a.bi5)("path"), (0, a.Ljt)(e, "d", "M874.154197 150.116875A511.970373 511.970373 0 1 0 1023.993986 511.991687a511.927744 511.927744 0 0 0-149.839789-361.874812z m-75.324866 648.382129A405.398688 405.398688 0 1 1 917.422301 511.991687a405.313431 405.313431 0 0 1-118.59297 286.507317z"), (0, a.Ljt)(o, "d", "M725.039096 299.274605a54.351559 54.351559 0 0 0-76.731613 0l-135.431297 135.431297L377.274375 299.274605a54.436817 54.436817 0 0 0-76.944756 76.987385l135.388668 135.431297-135.388668 135.473925a54.436817 54.436817 0 0 0 76.944756 76.987385l135.388668-135.431297 135.431297 135.473926a54.436817 54.436817 0 0 0 76.731613-76.987385l-135.388668-135.473926 135.388668-135.431296a54.479445 54.479445 0 0 0 0.213143-77.030014z"), (0, a.Ljt)(n, "viewBox", "0 0 1024 1024"), (0, a.Ljt)(n, "width", "200"), (0, a.Ljt)(n, "height", "200");}, m: function m(t, r) {(0, a.$Tr)(t, n, r), (0, a.R3I)(n, e), (0, a.R3I)(n, o);}, d: function d(t) {t && (0, a.ogt)(n);} };}function I(t) {var n, e;return { c: function c() {n = (0, a.bi5)("svg"), e = (0, a.bi5)("path"), (0, a.Ljt)(e, "fill-rule", "evenodd"), (0, a.Ljt)(e, "d", "M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"), (0, a.Ljt)(n, "class", "vc-icon-copy"), (0, a.Ljt)(n, "viewBox", "0 0 16 16");}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function D(t) {var n, e;return { c: function c() {n = (0, a.bi5)("svg"), e = (0, a.bi5)("path"), (0, a.Ljt)(e, "fill-rule", "evenodd"), (0, a.Ljt)(e, "d", "M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"), (0, a.Ljt)(n, "class", "vc-icon-suc"), (0, a.Ljt)(n, "viewBox", "0 0 16 16");}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function R(t) {var n, e, o;return { c: function c() {n = (0, a.bi5)("svg"), e = (0, a.bi5)("path"), o = (0, a.bi5)("path"), (0, a.Ljt)(e, "d", "M776.533333 1024 162.133333 1024C72.533333 1024 0 951.466667 0 861.866667L0 247.466667C0 157.866667 72.533333 85.333333 162.133333 85.333333L469.333333 85.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667L162.133333 170.666667C119.466667 170.666667 85.333333 204.8 85.333333 247.466667l0 610.133333c0 42.666667 34.133333 76.8 76.8 76.8l610.133333 0c42.666667 0 76.8-34.133333 76.8-76.8L849.066667 554.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 307.2C938.666667 951.466667 866.133333 1024 776.533333 1024z"), (0, a.Ljt)(o, "d", "M256 810.666667c-12.8 0-21.333333-4.266667-29.866667-12.8C217.6 789.333333 213.333333 772.266667 213.333333 759.466667l42.666667-213.333333c0-8.533333 4.266667-17.066667 12.8-21.333333l512-512c17.066667-17.066667 42.666667-17.066667 59.733333 0l170.666667 170.666667c17.066667 17.066667 17.066667 42.666667 0 59.733333l-512 512c-4.266667 4.266667-12.8 8.533333-21.333333 12.8l-213.333333 42.666667C260.266667 810.666667 260.266667 810.666667 256 810.666667zM337.066667 576l-25.6 136.533333 136.533333-25.6L921.6 213.333333 810.666667 102.4 337.066667 576z"), (0, a.Ljt)(n, "class", "vc-icon-edit"), (0, a.Ljt)(n, "viewBox", "0 0 1024 1024"), (0, a.Ljt)(n, "width", "200"), (0, a.Ljt)(n, "height", "200");}, m: function m(t, r) {(0, a.$Tr)(t, n, r), (0, a.R3I)(n, e), (0, a.R3I)(n, o);}, d: function d(t) {t && (0, a.ogt)(n);} };}function $(t) {var n, e;return { c: function c() {n = (0, a.bi5)("svg"), e = (0, a.bi5)("path"), (0, a.Ljt)(e, "d", "M581.338005 987.646578c-2.867097 4.095853-4.573702 8.669555-8.191705 12.287558a83.214071 83.214071 0 0 1-60.959939 24.029001 83.214071 83.214071 0 0 1-61.028203-24.029001c-3.618003-3.618003-5.324608-8.191705-8.123441-12.15103L24.370323 569.050448a83.418864 83.418864 0 0 1 117.892289-117.89229l369.923749 369.92375L1308.829682 24.438587A83.418864 83.418864 0 0 1 1426.721971 142.194348L581.338005 987.646578z"), (0, a.Ljt)(n, "class", "vc-icon-don"), (0, a.Ljt)(n, "viewBox", "0 0 1501 1024"), (0, a.Ljt)(n, "width", "200"), (0, a.Ljt)(n, "height", "200");}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function k(t) {var n, e;return { c: function c() {n = (0, a.bi5)("svg"), e = (0, a.bi5)("path"), (0, a.Ljt)(e, "d", "M894.976 574.464q0 78.848-29.696 148.48t-81.408 123.392-121.856 88.064-151.04 41.472q-5.12 1.024-9.216 1.536t-9.216 0.512l-177.152 0q-17.408 0-34.304-6.144t-30.208-16.896-22.016-25.088-8.704-29.696 8.192-29.696 21.504-24.576 29.696-16.384 33.792-6.144l158.72 1.024q54.272 0 102.4-19.968t83.968-53.76 56.32-79.36 20.48-97.792q0-49.152-18.432-92.16t-50.688-76.8-75.264-54.784-93.184-26.112q-2.048 0-2.56 0.512t-2.56 0.512l-162.816 0 0 80.896q0 17.408-13.824 25.6t-44.544-10.24q-8.192-5.12-26.112-17.92t-41.984-30.208-50.688-36.864l-51.2-38.912q-15.36-12.288-26.624-22.016t-11.264-24.064q0-12.288 12.8-25.6t29.184-26.624q18.432-15.36 44.032-35.84t50.688-39.936 45.056-35.328 28.16-22.016q24.576-17.408 39.936-7.168t16.384 30.72l0 81.92 162.816 0q5.12 0 10.752 1.024t10.752 2.048q79.872 8.192 149.504 41.984t121.344 87.552 80.896 123.392 29.184 147.456z"), (0, a.Ljt)(n, "class", "vc-icon-cancel"), (0, a.Ljt)(n, "viewBox", "0 0 1024 1024"), (0, a.Ljt)(n, "width", "200"), (0, a.Ljt)(n, "height", "200");}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function P(t) {var n,e,o,r,i,_c,u,s,l,f = "delete" === t[0] && C(),_d = "clear" === t[0] && O(),v = "copy" === t[0] && I(),h = "success" === t[0] && D(),_p2 = "edit" === t[0] && R(),g = "done" === t[0] && $(),_m = "cancel" === t[0] && k();return { c: function c() {n = (0, a.bGB)("i"), f && f.c(), e = (0, a.DhX)(), _d && _d.c(), o = (0, a.DhX)(), v && v.c(), r = (0, a.DhX)(), h && h.c(), i = (0, a.DhX)(), _p2 && _p2.c(), _c = (0, a.DhX)(), g && g.c(), u = (0, a.DhX)(), _m && _m.c(), (0, a.Ljt)(n, "class", "vc-icon");}, m: function m(_, b) {(0, a.$Tr)(_, n, b), f && f.m(n, null), (0, a.R3I)(n, e), _d && _d.m(n, null), (0, a.R3I)(n, o), v && v.m(n, null), (0, a.R3I)(n, r), h && h.m(n, null), (0, a.R3I)(n, i), _p2 && _p2.m(n, null), (0, a.R3I)(n, _c), g && g.m(n, null), (0, a.R3I)(n, u), _m && _m.m(n, null), s || (l = (0, a.oLt)(n, "click", t[1]), s = !0);}, p: function p(t, a) {a[0];"delete" === t[0] ? f || ((f = C()).c(), f.m(n, e)) : f && (f.d(1), f = null), "clear" === t[0] ? _d || ((_d = O()).c(), _d.m(n, o)) : _d && (_d.d(1), _d = null), "copy" === t[0] ? v || ((v = I()).c(), v.m(n, r)) : v && (v.d(1), v = null), "success" === t[0] ? h || ((h = D()).c(), h.m(n, i)) : h && (h.d(1), h = null), "edit" === t[0] ? _p2 || ((_p2 = R()).c(), _p2.m(n, _c)) : _p2 && (_p2.d(1), _p2 = null), "done" === t[0] ? g || ((g = $()).c(), g.m(n, u)) : g && (g.d(1), g = null), "cancel" === t[0] ? _m || ((_m = k()).c(), _m.m(n, null)) : _m && (_m.d(1), _m = null);}, i: a.ZTd, o: a.ZTd, d: function d(t) {t && (0, a.ogt)(n), f && f.d(), _d && _d.d(), v && v.d(), h && h.d(), _p2 && _p2.d(), g && g.d(), _m && _m.d(), s = !1, l();} };}function M(t, n, e) {var o = n.name;return (0, c.H3)(function () {x.use();}), (0, c.ev)(function () {x.unuse();}), t.$$set = function (t) {"name" in t && e(0, o = t.name);}, [o, function (n) {a.cKT.call(this, t, n);}];}var S = function (t) {function n(n) {var e;return e = t.call(this) || this, (0, a.S1n)((0, r.Z)(e), n, M, P, a.N8, { name: 0 }), e;}return (0, i.Z)(n, t), (0, o.Z)(n, [{ key: "name", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ name: t }), (0, a.yl1)();} }]), n;}(a.f_C),j = S;}, 3903: function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {"use strict";var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6464),_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6881),svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2942),svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7003),_component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8702),_logTool__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8665),_log_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5629),_logCommand_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3411);function get_each_context(t, n, e) {var o = t.slice();return o[28] = n[e], o;}function create_if_block_2(t) {var n, e, o;return { c: function c() {(n = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent = "Close", (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n, "class", "vc-cmd-prompted-hide");}, m: function m(r, i) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(r, n, i), e || (o = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(n, "click", t[5]), e = !0);}, p: svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd, d: function d(t) {t && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(n), e = !1, o();} };}function create_else_block(t) {var n;return { c: function c() {(n = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li")).textContent = "No Prompted";}, m: function m(t, e) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(t, n, e);}, p: svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd, d: function d(t) {t && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(n);} };}function create_each_block(t) {var n,e,o,r,i = t[28].text + "";function a() {return t[14](t[28]);}return { c: function c() {n = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("li"), e = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.fLW)(i);}, m: function m(t, i) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(t, n, i), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n, e), o || (r = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(n, "click", a), o = !0);}, p: function p(n, o) {t = n, 8 & o && i !== (i = t[28].text + "") && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.rTO)(e, i);}, d: function d(t) {t && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(n), o = !1, r();} };}function create_if_block_1(t) {var n, e, _o2, r, i;return e = new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({ props: { name: "clear" } }), { c: function c() {n = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(e.$$.fragment), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n, "class", "vc-cmd-clear-btn");}, m: function m(a, c) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(a, n, c), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(e, n, null), _o2 = !0, r || (i = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(n, "click", (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[17])), r = !0);}, p: svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd, i: function i(t) {_o2 || ((0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(e.$$.fragment, t), _o2 = !0);}, o: function o(t) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(e.$$.fragment, t), _o2 = !1;}, d: function d(t) {t && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(n), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(e), r = !1, i();} };}function create_if_block(t) {var n, e, _o3, r, i;return e = new _component_icon_icon_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({ props: { name: "clear" } }), { c: function c() {n = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(e.$$.fragment), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n, "class", "vc-cmd-clear-btn");}, m: function m(a, c) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(a, n, c), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(e, n, null), _o3 = !0, r || (i = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(n, "click", (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[19])), r = !0);}, p: svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ZTd, i: function i(t) {_o3 || ((0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(e.$$.fragment, t), _o3 = !0);}, o: function o(t) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(e.$$.fragment, t), _o3 = !1;}, d: function d(t) {t && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(n), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(e), r = !1, i();} };}function create_fragment(t) {for (var n, e, o, r, i, a, _c2, u, s, l, f, d, v, h, _p3, g, _m2, _, b, y, w, E = t[3].length > 0 && create_if_block_2(t), L = t[3], T = [], x = 0; x < L.length; x += 1) {T[x] = create_each_block(get_each_context(t, L, x));}var C = null;L.length || (C = create_else_block(t));var O = t[1].length > 0 && create_if_block_1(t),I = t[4].length > 0 && create_if_block(t);return { c: function c() {n = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"), e = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"), E && E.c(), o = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)();for (var b = 0; b < T.length; b += 1) {T[b].c();}C && C.c(), r = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(), i = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"), a = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"), _c2 = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(), O && O.c(), u = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(), (s = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent = "OK", l = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(), f = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("form"), d = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("ul"), v = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(), h = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("div"), _p3 = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("textarea"), g = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(), I && I.c(), _m2 = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(), (_ = (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.bGB)("button")).textContent = "Filter", (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e, "class", "vc-cmd-prompted"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e, "style", t[2]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(a, "class", "vc-cmd-input"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(a, "placeholder", "command..."), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(i, "class", "vc-cmd-input-wrap"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(s, "class", "vc-cmd-btn"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(s, "type", "submit"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(n, "class", "vc-cmd"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(d, "class", "vc-cmd-prompted"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(_p3, "class", "vc-cmd-input"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(_p3, "placeholder", "filter..."), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(h, "class", "vc-cmd-input-wrap"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(_, "class", "vc-cmd-btn"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(_, "type", "submit"), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(f, "class", "vc-cmd vc-filter");}, m: function m(L, x) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(L, n, x), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n, e), E && E.m(e, null), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(e, o);for (var D = 0; D < T.length; D += 1) {T[D].m(e, null);}C && C.m(e, null), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n, r), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n, i), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(i, a), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(a, t[1]), t[16](a), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(i, _c2), O && O.m(i, null), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n, u), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(n, s), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(L, l, x), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(L, f, x), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(f, d), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(f, v), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(f, h), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(h, _p3), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(_p3, t[4]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(h, g), I && I.m(h, null), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(f, _m2), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.R3I)(f, _), b = !0, y || (w = [(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a, "input", t[15]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a, "keydown", t[10]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a, "keyup", t[11]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a, "focus", t[8]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(a, "blur", t[9]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(n, "submit", (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[12])), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(_p3, "input", t[18]), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.oLt)(f, "submit", (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.AT7)(t[13]))], y = !0);}, p: function p(t, n) {var r = n[0];if (t[3].length > 0 ? E ? E.p(t, r) : ((E = create_if_block_2(t)).c(), E.m(e, o)) : E && (E.d(1), E = null), 136 & r) {var c;for (L = t[3], c = 0; c < L.length; c += 1) {var u = get_each_context(t, L, c);T[c] ? T[c].p(u, r) : (T[c] = create_each_block(u), T[c].c(), T[c].m(e, null));}for (; c < T.length; c += 1) {T[c].d(1);}T.length = L.length, !L.length && C ? C.p(t, r) : L.length ? C && (C.d(1), C = null) : ((C = create_else_block(t)).c(), C.m(e, null));}(!b || 4 & r) && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ljt)(e, "style", t[2]), 2 & r && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(a, t[1]), t[1].length > 0 ? O ? (O.p(t, r), 2 & r && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(O, 1)) : ((O = create_if_block_1(t)).c(), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(O, 1), O.m(i, null)) : O && ((0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(O, 1, 1, function () {O = null;}), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)()), 16 & r && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.BmG)(_p3, t[4]), t[4].length > 0 ? I ? (I.p(t, r), 16 & r && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(I, 1)) : ((I = create_if_block(t)).c(), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(I, 1), I.m(h, null)) : I && ((0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.dvw)(), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(I, 1, 1, function () {I = null;}), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gbL)());}, i: function i(t) {b || ((0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(O), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(I), b = !0);}, o: function o(t) {(0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(O), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(I), b = !1;}, d: function d(e) {e && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(n), E && E.d(), (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.RMB)(T, e), C && C.d(), t[16](null), O && O.d(), e && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(l), e && (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(f), I && I.d(), y = !1, (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.j7q)(w);} };}function instance($$self, $$props, $$invalidate) {var module = _log_model__WEBPACK_IMPORTED_MODULE_3__.W.getSingleton(_log_model__WEBPACK_IMPORTED_MODULE_3__.W, "VConsoleLogModel"),cachedObjKeys = {},dispatch = (0, svelte__WEBPACK_IMPORTED_MODULE_1__.x)(),cmdElement,cmdValue = "",promptedStyle = "",promptedList = [],filterValue = "";(0, svelte__WEBPACK_IMPORTED_MODULE_1__.H3)(function () {_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.use();}), (0, svelte__WEBPACK_IMPORTED_MODULE_1__.ev)(function () {_logCommand_less__WEBPACK_IMPORTED_MODULE_4__.Z.unuse();});var evalCommand = function evalCommand(t) {module.evalCommand(t);},moveCursorToPos = function moveCursorToPos(t, n) {t.setSelectionRange && setTimeout(function () {t.setSelectionRange(n, n);}, 1);},clearPromptedList = function clearPromptedList() {$$invalidate(2, promptedStyle = "display: none;"), $$invalidate(3, promptedList = []);},updatePromptedList = function updatePromptedList(identifier) {if ("" !== cmdValue) {identifier || (identifier = (0, _logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(cmdValue));var objName = "window",keyName = cmdValue;if ("." !== identifier.front.text && "[" !== identifier.front.text || (objName = identifier.front.before, keyName = "" !== identifier.back.text ? identifier.back.before : identifier.front.after), keyName = keyName.replace(/(^['"]+)|(['"']+$)/g, ""), !cachedObjKeys[objName]) try {cachedObjKeys[objName] = Object.getOwnPropertyNames(eval("(" + objName + ")")).sort();} catch (t) {}try {if (cachedObjKeys[objName]) for (var i = 0; i < cachedObjKeys[objName].length && !(promptedList.length >= 100); i++) {var key = String(cachedObjKeys[objName][i]),keyPattern = new RegExp("^" + keyName, "i");if (keyPattern.test(key)) {var completeCmd = objName;"." === identifier.front.text || "" === identifier.front.text ? completeCmd += "." + key : "[" === identifier.front.text && (completeCmd += "['" + key + "']"), promptedList.push({ text: key, value: completeCmd });}}} catch (t) {}if (promptedList.length > 0) {var m = Math.min(200, 31 * (promptedList.length + 1));$$invalidate(2, promptedStyle = "display: block; height: " + m + "px; margin-top: " + (-m - 2) + "px;"), $$invalidate(3, promptedList);} else clearPromptedList();} else clearPromptedList();},autoCompleteBrackets = function autoCompleteBrackets(t, n) {if (!(8 === n || 46 === n) && "" === t.front.after) switch (t.front.text) {case "[":return $$invalidate(1, cmdValue += "]"), void moveCursorToPos(cmdElement, cmdValue.length - 1);case "(":return $$invalidate(1, cmdValue += ")"), void moveCursorToPos(cmdElement, cmdValue.length - 1);case "{":return $$invalidate(1, cmdValue += "}"), void moveCursorToPos(cmdElement, cmdValue.length - 1);}},dispatchFilterEvent = function dispatchFilterEvent() {dispatch("filterText", { filterText: filterValue });},onTapClearText = function onTapClearText(t) {"cmd" === t ? ($$invalidate(1, cmdValue = ""), clearPromptedList()) : "filter" === t && ($$invalidate(4, filterValue = ""), dispatchFilterEvent());},onTapPromptedItem = function onTapPromptedItem(item) {var type = "";try {type = eval("typeof " + item.value);} catch (t) {}$$invalidate(1, cmdValue = item.value + ("function" === type ? "()" : "")), clearPromptedList();},onCmdFocus = function onCmdFocus() {updatePromptedList();},onCmdBlur = function onCmdBlur() {},onCmdKeyDown = function onCmdKeyDown(t) {13 === t.keyCode && (t.preventDefault(), onCmdSubmit());},onCmdKeyUp = function onCmdKeyUp(t) {$$invalidate(3, promptedList = []);var n = (0, _logTool__WEBPACK_IMPORTED_MODULE_5__.oj)(t.target.value);autoCompleteBrackets(n, t.keyCode), updatePromptedList(n);},onCmdSubmit = function onCmdSubmit() {"" !== cmdValue && evalCommand(cmdValue), clearPromptedList();},onFilterSubmit = function onFilterSubmit(t) {dispatchFilterEvent();},click_handler = function click_handler(t) {return onTapPromptedItem(t);};function textarea0_input_handler() {cmdValue = this.value, $$invalidate(1, cmdValue);}function textarea0_binding(t) {svelte_internal__WEBPACK_IMPORTED_MODULE_0__.VnY[t ? "unshift" : "push"](function () {$$invalidate(0, cmdElement = t);});}var click_handler_1 = function click_handler_1() {return onTapClearText("cmd");};function textarea1_input_handler() {filterValue = this.value, $$invalidate(4, filterValue);}var click_handler_2 = function click_handler_2() {return onTapClearText("filter");};return [cmdElement, cmdValue, promptedStyle, promptedList, filterValue, clearPromptedList, onTapClearText, onTapPromptedItem, onCmdFocus, onCmdBlur, onCmdKeyDown, onCmdKeyUp, onCmdSubmit, onFilterSubmit, click_handler, textarea0_input_handler, textarea0_binding, click_handler_1, textarea1_input_handler, click_handler_2];}var LogCommand = function (t) {function n(n) {var e;return e = t.call(this) || this, (0, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.S1n)((0, _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.Z)(e), n, instance, create_fragment, svelte_internal__WEBPACK_IMPORTED_MODULE_0__.N8, {}), e;}return (0, _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_6__.Z)(n, t), n;}(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.f_C);__webpack_exports__.Z = LogCommand;}, 4687: function _(t, n, e) {"use strict";e.d(n, { x: function x() {return r;} });var o = e(3313),r = function () {var t = (0, o.fZ)({ updateTime: 0 }),n = t.subscribe,e = t.set,r = t.update;return { subscribe: n, set: e, update: r, updateTime: function updateTime() {r(function (t) {return t.updateTime = Date.now(), t;});} };}();}, 643: function _(t, n, e) {"use strict";e.d(n, { N: function N() {return o;} });var o = function () {function t() {this._onDataUpdateCallbacks = [];}return t.getSingleton = function (n, e) {return e || (e = n.toString()), t.singleton[e] || (t.singleton[e] = new n()), t.singleton[e];}, t;}();o.singleton = {};}, 5103: function _(t, n, e) {"use strict";function o(t) {var n = t > 0 ? new Date(t) : new Date(),e = n.getDate() < 10 ? "0" + n.getDate() : n.getDate(),o = n.getMonth() < 9 ? "0" + (n.getMonth() + 1) : n.getMonth() + 1,r = n.getFullYear(),i = n.getHours() < 10 ? "0" + n.getHours() : n.getHours(),a = n.getMinutes() < 10 ? "0" + n.getMinutes() : n.getMinutes(),c = n.getSeconds() < 10 ? "0" + n.getSeconds() : n.getSeconds(),u = n.getMilliseconds() < 10 ? "0" + n.getMilliseconds() : n.getMilliseconds();return u < 100 && (u = "0" + u), { time: +n, year: r, month: o, day: e, hour: i, minute: a, second: c, millisecond: u };}function r(t) {return "[object Number]" === Object.prototype.toString.call(t);}function i(t) {return "bigint" == typeof t;}function a(t) {return "string" == typeof t;}function c(t) {return "[object Array]" === Object.prototype.toString.call(t);}function u(t) {return "boolean" == typeof t;}function s(t) {return void 0 === t;}function l(t) {return null === t;}function f(t) {return "symbol" == typeof t;}function d(t) {return !("[object Object]" !== Object.prototype.toString.call(t) && (r(t) || i(t) || a(t) || u(t) || c(t) || l(t) || v(t) || s(t) || f(t)));}function v(t) {return "function" == typeof t;}function h(t) {return "object" == typeof HTMLElement ? t instanceof HTMLElement : t && "object" == typeof t && null !== t && 1 === t.nodeType && "string" == typeof t.nodeName;}function p(t) {var n = Object.prototype.toString.call(t);return "[object Window]" === n || "[object DOMWindow]" === n || "[object global]" === n;}function g(t) {return null != t && "string" != typeof t && "boolean" != typeof t && "number" != typeof t && "function" != typeof t && "symbol" != typeof t && "bigint" != typeof t && "undefined" != typeof Symbol && "function" == typeof t[Symbol.iterator];}function m(t) {return Object.prototype.toString.call(t).replace(/\[object (.*)\]/, "$1");}e.d(n, { C4: function C4() {return i;}, DV: function DV() {return b;}, FJ: function FJ() {return p;}, Ft: function Ft() {return l;}, HD: function HD() {return a;}, H_: function H_() {return B;}, KL: function KL() {return O;}, Kn: function Kn() {return d;}, MH: function MH() {return $;}, PO: function PO() {return y;}, QI: function QI() {return j;}, QK: function QK() {return k;}, TW: function TW() {return g;}, _3: function _3() {return o;}, _D: function _D() {return P;}, cF: function cF() {return S;}, hZ: function hZ() {return C;}, hj: function hj() {return r;}, id: function id() {return I;}, jn: function jn() {return u;}, kJ: function kJ() {return c;}, kK: function kK() {return h;}, mf: function mf() {return v;}, o8: function o8() {return s;}, po: function po() {return M;}, qr: function qr() {return R;}, qt: function qt() {return A;}, rE: function rE() {return L;}, yk: function yk() {return f;}, zl: function zl() {return m;} });var _ = /(function|class) ([^ \{\()}]{1,})[\(| ]/;function b(t) {var n;if (null == t) return "";var e = _.exec((null == t || null == (n = t.constructor) ? void 0 : n.toString()) || "");return e && e.length > 1 ? e[2] : "";}function y(t) {var n,e = Object.prototype.hasOwnProperty;if (!t || "object" != typeof t || t.nodeType || p(t)) return !1;try {if (t.constructor && !e.call(t, "constructor") && !e.call(t.constructor.prototype, "isPrototypeOf")) return !1;} catch (t) {return !1;}for (n in t) {;}return void 0 === n || e.call(t, n);}var w = /[\n\t]/g,E = function E(t) {return { "\n": "\\n", "\t": "\\t" }[t];};function L(t) {return "string" != typeof t ? t : String(t).replace(w, E);}var T = function T(t, n) {void 0 === n && (n = 0);var e = "";return a(t) ? (n > 0 && (t = I(t, n)), e += '"' + L(t) + '"') : f(t) ? e += String(t).replace(/^Symbol\((.*)\)$/i, 'Symbol("$1")') : v(t) ? e += (t.name || "function") + "()" : i(t) ? e += String(t) + "n" : e += String(t), e;},x = function t(n, e, o) {if (void 0 === o && (o = 0), d(n) || c(n)) {if (e.circularFinder(n)) {var r = "";if (c(n)) r = "(Circular Array)";else if (d(n)) {var i;r = "(Circular " + ((null == (i = n.constructor) ? void 0 : i.name) || "Object") + ")";}e.ret += e.standardJSON ? '"' + r + '"' : r;} else {var u = "",s = "";if (e.pretty) {for (var l = 0; l <= o; l++) {u += "  ";}s = "\n";}var v = "{",h = "}";c(n) && (v = "[", h = "]"), e.ret += v + s;for (var p = $(n), g = 0; g < p.length; g++) {var m = p[g];e.ret += u;try {c(n) || (d(m) || c(m) || f(m) ? e.ret += Object.prototype.toString.call(m) : a(m) && e.standardJSON ? e.ret += '"' + m + '"' : e.ret += m, e.ret += ": ");} catch (t) {continue;}try {var _ = n[m];if (c(_)) e.maxDepth > -1 && o >= e.maxDepth ? e.ret += "Array(" + _.length + ")" : t(_, e, o + 1);else if (d(_)) {var b;if (e.maxDepth > -1 && o >= e.maxDepth) e.ret += ((null == (b = _.constructor) ? void 0 : b.name) || "Object") + " {}";else t(_, e, o + 1);} else e.ret += T(_, e.keyMaxLen);} catch (t) {e.ret += e.standardJSON ? '"(PARSE_ERROR)"' : "(PARSE_ERROR)";}if (e.keyMaxLen > 0 && e.ret.length >= 10 * e.keyMaxLen) {e.ret += ", (...)";break;}g < p.length - 1 && (e.ret += ", "), e.ret += s;}e.ret += u.substring(0, u.length - 2) + h;}} else e.ret += T(n, e.keyMaxLen);};function C(t, n) {void 0 === n && (n = { maxDepth: -1, keyMaxLen: -1, pretty: !1, standardJSON: !1 });var e,o = Object.assign({ ret: "", maxDepth: -1, keyMaxLen: -1, pretty: !1, standardJSON: !1, circularFinder: (e = new WeakSet(), function (t) {if ("object" == typeof t && null !== t) {if (e.has(t)) return !0;e.add(t);}return !1;}) }, n);return x(t, o), o.ret;}function O(t) {return t <= 0 ? "" : t >= 1e6 ? (t / 1e3 / 1e3).toFixed(1) + " MB" : t >= 1e3 ? (t / 1e3).toFixed(1) + " KB" : t + " B";}function I(t, n) {return t.length > n && (t = t.substring(0, n) + "...(" + O(function (t) {try {return encodeURI(t).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length - 1;} catch (t) {return 0;}}(t)) + ")"), t;}var D = function D(t, n) {return String(t).localeCompare(String(n), void 0, { numeric: !0, sensitivity: "base" });};function R(t) {return t.sort(D);}function $(t) {return d(t) || c(t) ? Object.keys(t) : [];}function k(t) {var n = $(t),e = function (t) {return d(t) || c(t) ? Object.getOwnPropertyNames(t) : [];}(t);return e.filter(function (t) {return -1 === n.indexOf(t);});}function P(t) {return d(t) || c(t) ? Object.getOwnPropertySymbols(t) : [];}function M(t, n) {window.localStorage && (t = "vConsole_" + t, localStorage.setItem(t, n));}function S(t) {if (window.localStorage) return t = "vConsole_" + t, localStorage.getItem(t);}function j(t) {return void 0 === t && (t = ""), "__vc_" + t + Math.random().toString(36).substring(2, 8);}function B() {return "undefined" != typeof window && !!window.__wxConfig && !!window.wx && !!window.__virtualDOM__;}function A(t) {if (B() && "function" == typeof window.wx[t]) try {for (var n, e = arguments.length, o = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) {o[r - 1] = arguments[r];}var i = (n = window.wx[t]).call.apply(n, [window.wx].concat(o));return i;} catch (n) {return void console.debug("[vConsole] Fail to call wx." + t + "():", n);}}}, 5629: function _(t, n, e) {"use strict";e.d(n, { W: function W() {return h;} });var o = e(8270),r = e(6881),i = e(5103),a = e(643),c = e(4687),u = e(8665),s = e(9923);function l(t, n) {var e = Object.keys(t);if (Object.getOwnPropertySymbols) {var o = Object.getOwnPropertySymbols(t);n && (o = o.filter(function (n) {return Object.getOwnPropertyDescriptor(t, n).enumerable;})), e.push.apply(e, o);}return e;}function f(t) {for (var n = 1; n < arguments.length; n++) {var e = null != arguments[n] ? arguments[n] : {};n % 2 ? l(Object(e), !0).forEach(function (n) {(0, o.Z)(t, n, e[n]);}) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(e)) : l(Object(e)).forEach(function (n) {Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(e, n));});}return t;}function d(t, n) {var e = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];if (e) return (e = e.call(t)).next.bind(e);if (Array.isArray(t) || (e = function (t, n) {if (!t) return;if ("string" == typeof t) return v(t, n);var e = Object.prototype.toString.call(t).slice(8, -1);"Object" === e && t.constructor && (e = t.constructor.name);if ("Map" === e || "Set" === e) return Array.from(t);if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return v(t, n);}(t)) || n && t && "number" == typeof t.length) {e && (t = e);var o = 0;return function () {return o >= t.length ? { done: !0 } : { done: !1, value: t[o++] };};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function v(t, n) {(null == n || n > t.length) && (n = t.length);for (var e = 0, o = new Array(n); e < n; e++) {o[e] = t[e];}return o;}var h = function (t) {function n() {for (var n, e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}return (n = t.call.apply(t, [this].concat(o)) || this).LOG_METHODS = ["log", "info", "warn", "debug", "error"], n.ADDED_LOG_PLUGIN_ID = [], n.maxLogNumber = 1e3, n.logCounter = 0, n.groupLevel = 0, n.groupLabelCollapsedStack = [], n.pluginPattern = void 0, n.logQueue = [], n.flushLogScheduled = !1, n.origConsole = {}, n;}(0, r.Z)(n, t);var e = n.prototype;return e.bindPlugin = function (t) {return !(this.ADDED_LOG_PLUGIN_ID.indexOf(t) > -1) && (0 === this.ADDED_LOG_PLUGIN_ID.length && this.mockConsole(), s.O.create(t), this.ADDED_LOG_PLUGIN_ID.push(t), this.pluginPattern = new RegExp("^\\[(" + this.ADDED_LOG_PLUGIN_ID.join("|") + ")\\]$", "i"), !0);}, e.unbindPlugin = function (t) {var n = this.ADDED_LOG_PLUGIN_ID.indexOf(t);return -1 !== n && (this.ADDED_LOG_PLUGIN_ID.splice(n, 1), s.O.delete(t), 0 === this.ADDED_LOG_PLUGIN_ID.length && this.unmockConsole(), !0);}, e.mockConsole = function () {var t = this;"function" != typeof this.origConsole.log && (window.console ? (this.LOG_METHODS.map(function (n) {t.origConsole[n] = window.console[n];}), this.origConsole.time = window.console.time, this.origConsole.timeEnd = window.console.timeEnd, this.origConsole.clear = window.console.clear, this.origConsole.group = window.console.group, this.origConsole.groupCollapsed = window.console.groupCollapsed, this.origConsole.groupEnd = window.console.groupEnd) : window.console = {}, this._mockConsoleLog(), this._mockConsoleTime(), this._mockConsoleGroup(), this._mockConsoleClear(), window._vcOrigConsole = this.origConsole);}, e._mockConsoleLog = function () {var t = this;this.LOG_METHODS.map(function (n) {window.console[n] = function () {for (var e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}t.addLog({ type: n, origData: o || [] });}.bind(window.console);});}, e._mockConsoleTime = function () {var t = this,n = {};window.console.time = function (t) {void 0 === t && (t = ""), n[t] = Date.now();}.bind(window.console), window.console.timeEnd = function (e) {void 0 === e && (e = "");var o = n[e],r = 0;o && (r = Date.now() - o, delete n[e]), t.addLog({ type: "log", origData: [e + ": " + r + "ms"] });}.bind(window.console);}, e._mockConsoleGroup = function () {var t = this,n = function n(_n3) {return function (e) {void 0 === e && (e = "console.group");var o = Symbol(e);t.groupLabelCollapsedStack.push({ label: o, collapsed: _n3 }), t.addLog({ type: "log", origData: [e], isGroupHeader: _n3 ? 2 : 1, isGroupCollapsed: !1 }, { noOrig: !0 }), t.groupLevel++, _n3 ? t.origConsole.groupCollapsed(e) : t.origConsole.group(e);}.bind(window.console);};window.console.group = n(!1), window.console.groupCollapsed = n(!0), window.console.groupEnd = function () {t.groupLabelCollapsedStack.pop(), t.groupLevel = Math.max(0, t.groupLevel - 1), t.origConsole.groupEnd();}.bind(window.console);}, e._mockConsoleClear = function () {var t = this;window.console.clear = function () {t.clearLog();for (var n = arguments.length, e = new Array(n), o = 0; o < n; o++) {e[o] = arguments[o];}t.callOriginalConsole.apply(t, ["clear"].concat(e));}.bind(window.console);}, e.unmockConsole = function () {for (var t in this.origConsole) {window.console[t] = this.origConsole[t], delete this.origConsole[t];}window._vcOrigConsole && delete window._vcOrigConsole;}, e.callOriginalConsole = function (t) {if ("function" == typeof this.origConsole[t]) {for (var n = arguments.length, e = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) {e[o - 1] = arguments[o];}this.origConsole[t].apply(window.console, e);}}, e.clearLog = function () {var t = s.O.getAll();for (var n in t) {t[n].update(function (t) {return t.logList = [], t;});}}, e.clearPluginLog = function (t) {s.O.get(t).update(function (t) {return t.logList = [], t;});}, e.addLog = function (t, n) {void 0 === t && (t = { type: "log", origData: [], isGroupHeader: 0, isGroupCollapsed: !1 });var e = this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length - 2],o = this.groupLabelCollapsedStack[this.groupLabelCollapsedStack.length - 1],r = { _id: i.QI(), type: t.type, cmdType: null == n ? void 0 : n.cmdType, toggle: {}, date: Date.now(), data: (0, u.b1)(t.origData || []), repeated: 0, groupLabel: null == o ? void 0 : o.label, groupLevel: this.groupLevel, groupHeader: t.isGroupHeader, groupCollapsed: t.isGroupHeader ? !(null == e || !e.collapsed) : !(null == o || !o.collapsed) };this._signalLog(r), null != n && n.noOrig || this.callOriginalConsole.apply(this, [t.type].concat(t.origData));}, e.evalCommand = function (t) {this.addLog({ type: "log", origData: [t] }, { cmdType: "input" });var n = void 0;try {n = eval.call(window, "(" + t + ")");} catch (e) {try {n = eval.call(window, t);} catch (t) {}}this.addLog({ type: "log", origData: [n] }, { cmdType: "output" });}, e._signalLog = function (t) {var n = this;this.flushLogScheduled || (this.flushLogScheduled = !0, window.requestAnimationFrame(function () {n.flushLogScheduled = !1, n._flushLogs();})), this.logQueue.push(t);}, e._flushLogs = function () {var t = this,n = this.logQueue;this.logQueue = [];for (var e, o = {}, r = d(n); !(e = r()).done;) {var i = e.value,a = this._extractPluginIdByLog(i);(o[a] = o[a] || []).push(i);}for (var u = function u(n) {var e = o[n];s.O.get(n).update(function (n) {for (var o, r = [].concat(n.logList), i = d(e); !(o = i()).done;) {var a = o.value;t._isRepeatedLog(r, a) ? t._updateLastLogRepeated(r) : r.push(a);}return { logList: r = t._limitLogListLength(r) };});}, l = 0, f = Object.keys(o); l < f.length; l++) {u(f[l]);}c.x.updateTime();}, e._extractPluginIdByLog = function (t) {var n,e = "default",o = null == (n = t.data[0]) ? void 0 : n.origData;if (i.HD(o)) {var r = o.match(this.pluginPattern);if (null !== r && r.length > 1) {var a = r[1].toLowerCase();this.ADDED_LOG_PLUGIN_ID.indexOf(a) > -1 && (e = a, t.data.shift());}}return e;}, e._isRepeatedLog = function (t, n) {var e = t[t.length - 1];if (!e) return !1;var o = !1;if (n.type === e.type && n.cmdType === e.cmdType && n.data.length === e.data.length) {o = !0;for (var r = 0; r < n.data.length; r++) {if (n.data[r].origData !== e.data[r].origData) {o = !1;break;}}}return o;}, e._updateLastLogRepeated = function (t) {var n = t[t.length - 1],e = n.repeated ? n.repeated + 1 : 2;return t[t.length - 1] = f(f({}, n), {}, { repeated: e }), t;}, e._limitLogListLength = function (t) {var n = t.length,e = this.maxLogNumber;return n > e ? t.slice(n - e, n) : t;}, n;}(a.N);}, 9923: function _(t, n, e) {"use strict";e.d(n, { O: function O() {return r;} });var o = e(3313),r = function () {function t() {}return t.create = function (t) {return this.storeMap[t] || (this.storeMap[t] = (0, o.fZ)({ logList: [] })), this.storeMap[t];}, t.delete = function (t) {this.storeMap[t] && delete this.storeMap[t];}, t.get = function (t) {return this.storeMap[t];}, t.getRaw = function (t) {return (0, o.U2)(this.storeMap[t]);}, t.getAll = function () {return this.storeMap;}, t;}();r.storeMap = {};}, 8665: function _(t, n, e) {"use strict";e.d(n, { HX: function HX() {return l;}, LH: function LH() {return i;}, Tg: function Tg() {return v;}, b1: function b1() {return d;}, oj: function oj() {return s;} });var o = e(5103),r = function r(t) {var n = o.hZ(t, { maxDepth: 0 }),e = n.substring(0, 36),r = o.DV(t);return n.length > 36 && (e += "..."), r = o.rE(r + " " + e);},i = function i(t, n) {void 0 === n && (n = !0);var e = "undefined",i = t;return t instanceof v ? (e = "uninvocatable", i = "(...)") : o.kJ(t) ? (e = "array", i = r(t)) : o.Kn(t) ? (e = "object", i = r(t)) : o.HD(t) ? (e = "string", i = o.rE(t), n && (i = '"' + i + '"')) : o.hj(t) ? (e = "number", i = String(t)) : o.C4(t) ? (e = "bigint", i = String(t) + "n") : o.jn(t) ? (e = "boolean", i = String(t)) : o.Ft(t) ? (e = "null", i = "null") : o.o8(t) ? (e = "undefined", i = "undefined") : o.mf(t) ? (e = "function", i = (t.name || "function") + "()") : o.yk(t) && (e = "symbol", i = String(t)), { text: i, valueType: e };},a = [".", "[", "(", "{", "}"],c = ["]", ")", "}"],u = function u(t, n, e) {void 0 === e && (e = 0);for (var o = { text: "", pos: -1, before: "", after: "" }, r = t.length - 1; r >= e; r--) {var i = n.indexOf(t[r]);if (i > -1) {o.text = n[i], o.pos = r, o.before = t.substring(e, r), o.after = t.substring(r + 1, t.length);break;}}return o;},s = function s(t) {var n = u(t, a, 0);return { front: n, back: u(t, c, n.pos + 1) };},l = function l(t, n) {if ("" === n) return !0;for (var e = 0; e < t.data.length; e++) {if ("string" === typeof t.data[e].origData && t.data[e].origData.indexOf(n) > -1) return !0;}return !1;},f = /(\%[csdo] )|( \%[csdo])/g,d = function d(t) {if (f.lastIndex = 0, o.HD(t[0]) && f.test(t[0])) {for (var n, e = [].concat(t), r = e.shift().split(f).filter(function (t) {return void 0 !== t && "" !== t;}), i = e, a = [], c = !1, u = ""; r.length > 0;) {var s = r.shift();if (/ ?\%c ?/.test(s) ? i.length > 0 ? "string" != typeof (u = i.shift()) && (u = "") : (n = s, u = "", c = !0) : / ?\%[sd] ?/.test(s) ? (n = i.length > 0 ? o.Kn(i[0]) ? o.DV(i.shift()) : String(i.shift()) : s, c = !0) : / ?\%o ?/.test(s) ? (n = i.length > 0 ? i.shift() : s, c = !0) : (n = s, c = !0), c) {var l = { origData: n };u && (l.style = u), a.push(l), c = !1, n = void 0, u = "";}}for (var d = 0; d < i.length; d++) {a.push({ origData: i[d] });}return a;}for (var v = [], h = 0; h < t.length; h++) {v.push({ origData: t[h] });}return v;},v = function v() {};}, 5313: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, ".vc-icon {\n  word-break: normal;\n  white-space: normal;\n  overflow: visible;\n}\n.vc-icon svg {\n  fill: var(--VC-FG-2);\n  height: 1em;\n  width: 1em;\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-delete {\n  vertical-align: -0.11em;\n}\n.vc-icon .vc-icon-copy {\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n.vc-icon .vc-icon-suc {\n  fill: var(--VC-TEXTGREEN);\n  height: 1.1em;\n  width: 1.1em;\n  vertical-align: -0.16em;\n}\n", ""]), n.Z = a;}, 1142: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, ".vc-scroller-viewport {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n}\n.vc-scroller-contents {\n  min-height: 100%;\n  will-change: transform;\n}\n.vc-scroller-items {\n  will-change: height;\n  position: relative;\n}\n.vc-scroller-item {\n  display: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n.vc-scroller-scrollbar-track {\n  width: 4px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding: 1px;\n}\n.vc-scroller-scrollbar-thumb {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 999px;\n}\n", ""]), n.Z = a;}, 3283: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, '#__vconsole {\n  --VC-BG-0: #ededed;\n  --VC-BG-1: #f7f7f7;\n  --VC-BG-2: #fff;\n  --VC-BG-3: #f7f7f7;\n  --VC-BG-4: #4c4c4c;\n  --VC-BG-5: #fff;\n  --VC-BG-6: rgba(0, 0, 0, 0.1);\n  --VC-FG-0: rgba(0, 0, 0, 0.9);\n  --VC-FG-HALF: rgba(0, 0, 0, 0.9);\n  --VC-FG-1: rgba(0, 0, 0, 0.5);\n  --VC-FG-2: rgba(0, 0, 0, 0.3);\n  --VC-FG-3: rgba(0, 0, 0, 0.1);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #fa9d3b;\n  --VC-YELLOW: #ffc300;\n  --VC-GREEN: #91d300;\n  --VC-LIGHTGREEN: #95ec69;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1485ee;\n  --VC-PURPLE: #6467f0;\n  --VC-LINK: #576b95;\n  --VC-TEXTGREEN: #06ae56;\n  --VC-FG: black;\n  --VC-BG: white;\n  --VC-BG-COLOR-ACTIVE: #ececec;\n  --VC-WARN-BG: #fff3cc;\n  --VC-WARN-BORDER: #ffe799;\n  --VC-ERROR-BG: #fedcdc;\n  --VC-ERROR-BORDER: #fdb9b9;\n  --VC-DOM-TAG-NAME-COLOR: #881280;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #994500;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #1a1aa6;\n  --VC-CODE-KEY-FG: #881391;\n  --VC-CODE-PRIVATE-KEY-FG: #cfa1d3;\n  --VC-CODE-FUNC-FG: #0d22aa;\n  --VC-CODE-NUMBER-FG: #1c00cf;\n  --VC-CODE-STR-FG: #c41a16;\n  --VC-CODE-NULL-FG: #808080;\n  color: var(--VC-FG-0);\n  font-size: 13px;\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  -webkit-user-select: auto;\n  /* global */\n}\n#__vconsole .vc-max-height {\n  max-height: 19.23076923em;\n}\n#__vconsole .vc-max-height-line {\n  max-height: 6.30769231em;\n}\n#__vconsole .vc-min-height {\n  min-height: 3.07692308em;\n}\n#__vconsole dd,\n#__vconsole dl,\n#__vconsole pre {\n  margin: 0;\n}\n#__vconsole pre {\n  white-space: pre-wrap;\n}\n#__vconsole i {\n  font-style: normal;\n}\n.vc-table {\n  height: 100%;\n}\n.vc-table .vc-table-row {\n  line-height: 1.5;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  overflow: hidden;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row.vc-left-border {\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-table .vc-table-row-icon {\n  margin-left: 4px;\n}\n.vc-table .vc-table-col {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding: 0.23076923em 0.30769231em;\n  border-left: 1px solid var(--VC-FG-3);\n  overflow: auto;\n}\n.vc-table .vc-table-col:first-child {\n  border: none;\n}\n.vc-table .vc-table-col-value {\n  white-space: pre-wrap;\n  word-break: break-word;\n  /*white-space: nowrap;\n    text-overflow: ellipsis;*/\n  -webkit-overflow-scrolling: touch;\n}\n.vc-table .vc-small .vc-table-col {\n  padding: 0 0.30769231em;\n  font-size: 0.92307692em;\n}\n.vc-table .vc-table-col-2 {\n  -webkit-box-flex: 2;\n  -webkit-flex: 2;\n  -moz-box-flex: 2;\n  -ms-flex: 2;\n  flex: 2;\n}\n.vc-table .vc-table-col-3 {\n  -webkit-box-flex: 3;\n  -webkit-flex: 3;\n  -moz-box-flex: 3;\n  -ms-flex: 3;\n  flex: 3;\n}\n.vc-table .vc-table-col-4 {\n  -webkit-box-flex: 4;\n  -webkit-flex: 4;\n  -moz-box-flex: 4;\n  -ms-flex: 4;\n  flex: 4;\n}\n.vc-table .vc-table-col-5 {\n  -webkit-box-flex: 5;\n  -webkit-flex: 5;\n  -moz-box-flex: 5;\n  -ms-flex: 5;\n  flex: 5;\n}\n.vc-table .vc-table-col-6 {\n  -webkit-box-flex: 6;\n  -webkit-flex: 6;\n  -moz-box-flex: 6;\n  -ms-flex: 6;\n  flex: 6;\n}\n.vc-table .vc-table-row-error {\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-table .vc-table-row-error .vc-table-col {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n}\n.vc-table .vc-table-col-title {\n  font-weight: bold;\n}\n.vc-table .vc-table-action {\n  display: flex;\n  justify-content: space-evenly;\n}\n.vc-table .vc-table-action .vc-icon {\n  flex: 1;\n  text-align: center;\n  display: block;\n}\n.vc-table .vc-table-action .vc-icon:hover {\n  background: var(--VC-BG-3);\n}\n.vc-table .vc-table-action .vc-icon:active {\n  background: var(--VC-BG-1);\n}\n.vc-table .vc-table-input {\n  width: 100%;\n  border: none;\n  color: var(--VC-FG-0);\n  background-color: var(--VC-BG-6);\n  height: 3.53846154em;\n}\n.vc-table .vc-table-input:focus {\n  background-color: var(--VC-FG-2);\n}\n@media (prefers-color-scheme: dark) {\n  #__vconsole:not([data-theme="light"]) {\n    --VC-BG-0: #191919;\n    --VC-BG-1: #1f1f1f;\n    --VC-BG-2: #232323;\n    --VC-BG-3: #2f2f2f;\n    --VC-BG-4: #606060;\n    --VC-BG-5: #2c2c2c;\n    --VC-BG-6: rgba(255, 255, 255, 0.2);\n    --VC-FG-0: rgba(255, 255, 255, 0.8);\n    --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n    --VC-FG-1: rgba(255, 255, 255, 0.5);\n    --VC-FG-2: rgba(255, 255, 255, 0.3);\n    --VC-FG-3: rgba(255, 255, 255, 0.05);\n    --VC-RED: #fa5151;\n    --VC-ORANGE: #c87d2f;\n    --VC-YELLOW: #cc9c00;\n    --VC-GREEN: #74a800;\n    --VC-LIGHTGREEN: #28b561;\n    --VC-BRAND: #07c160;\n    --VC-BLUE: #10aeff;\n    --VC-INDIGO: #1196ff;\n    --VC-PURPLE: #8183ff;\n    --VC-LINK: #7d90a9;\n    --VC-TEXTGREEN: #259c5c;\n    --VC-FG: white;\n    --VC-BG: black;\n    --VC-BG-COLOR-ACTIVE: #282828;\n    --VC-WARN-BG: #332700;\n    --VC-WARN-BORDER: #664e00;\n    --VC-ERROR-BG: #321010;\n    --VC-ERROR-BORDER: #642020;\n    --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n    --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n    --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n    --VC-CODE-KEY-FG: #e36eec;\n    --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n    --VC-CODE-FUNC-FG: #556af2;\n    --VC-CODE-NUMBER-FG: #9980ff;\n    --VC-CODE-STR-FG: #e93f3b;\n    --VC-CODE-NULL-FG: #808080;\n  }\n}\n#__vconsole[data-theme="dark"] {\n  --VC-BG-0: #191919;\n  --VC-BG-1: #1f1f1f;\n  --VC-BG-2: #232323;\n  --VC-BG-3: #2f2f2f;\n  --VC-BG-4: #606060;\n  --VC-BG-5: #2c2c2c;\n  --VC-BG-6: rgba(255, 255, 255, 0.2);\n  --VC-FG-0: rgba(255, 255, 255, 0.8);\n  --VC-FG-HALF: rgba(255, 255, 255, 0.6);\n  --VC-FG-1: rgba(255, 255, 255, 0.5);\n  --VC-FG-2: rgba(255, 255, 255, 0.3);\n  --VC-FG-3: rgba(255, 255, 255, 0.05);\n  --VC-RED: #fa5151;\n  --VC-ORANGE: #c87d2f;\n  --VC-YELLOW: #cc9c00;\n  --VC-GREEN: #74a800;\n  --VC-LIGHTGREEN: #28b561;\n  --VC-BRAND: #07c160;\n  --VC-BLUE: #10aeff;\n  --VC-INDIGO: #1196ff;\n  --VC-PURPLE: #8183ff;\n  --VC-LINK: #7d90a9;\n  --VC-TEXTGREEN: #259c5c;\n  --VC-FG: white;\n  --VC-BG: black;\n  --VC-BG-COLOR-ACTIVE: #282828;\n  --VC-WARN-BG: #332700;\n  --VC-WARN-BORDER: #664e00;\n  --VC-ERROR-BG: #321010;\n  --VC-ERROR-BORDER: #642020;\n  --VC-DOM-TAG-NAME-COLOR: #5DB0D7;\n  --VC-DOM-ATTRIBUTE-NAME-COLOR: #9BBBDC;\n  --VC-DOM-ATTRIBUTE-VALUE-COLOR: #f29766;\n  --VC-CODE-KEY-FG: #e36eec;\n  --VC-CODE-PRIVATE-KEY-FG: #f4c5f7;\n  --VC-CODE-FUNC-FG: #556af2;\n  --VC-CODE-NUMBER-FG: #9980ff;\n  --VC-CODE-STR-FG: #e93f3b;\n  --VC-CODE-NULL-FG: #808080;\n}\n.vc-tabbar {\n  border-bottom: 1px solid var(--VC-FG-3);\n  overflow-x: auto;\n  height: 3em;\n  width: auto;\n  white-space: nowrap;\n}\n.vc-tabbar .vc-tab {\n  display: inline-block;\n  line-height: 3em;\n  padding: 0 1.15384615em;\n  border-right: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-tabbar .vc-tab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-tabbar .vc-tab.vc-actived {\n  background-color: var(--VC-BG-1);\n}\n.vc-toolbar {\n  border-top: 1px solid var(--VC-FG-3);\n  line-height: 3em;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n.vc-toolbar .vc-tool {\n  display: none;\n  font-style: normal;\n  text-decoration: none;\n  color: var(--VC-FG-0);\n  width: 50%;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  text-align: center;\n  position: relative;\n  -webkit-touch-callout: none;\n}\n.vc-toolbar .vc-tool.vc-toggle,\n.vc-toolbar .vc-tool.vc-global-tool {\n  display: block;\n}\n.vc-toolbar .vc-tool:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-toolbar .vc-tool:after {\n  content: " ";\n  position: absolute;\n  top: 0.53846154em;\n  bottom: 0.53846154em;\n  right: 0;\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-toolbar .vc-tool-last:after {\n  border: none;\n}\n.vc-topbar {\n  background-color: var(--VC-BG-1);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  -moz-box-orient: horizontal;\n  -moz-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  width: 100%;\n}\n.vc-topbar .vc-toptab {\n  display: none;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -moz-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  line-height: 2.30769231em;\n  padding: 0 1.15384615em;\n  border-bottom: 1px solid var(--VC-FG-3);\n  text-decoration: none;\n  text-align: center;\n  color: var(--VC-FG-0);\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n.vc-topbar .vc-toptab.vc-toggle {\n  display: block;\n}\n.vc-topbar .vc-toptab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vc-topbar .vc-toptab.vc-actived {\n  border-bottom: 1px solid var(--VC-INDIGO);\n}\n.vc-mask {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0);\n  z-index: 10001;\n  -webkit-transition: background 0.3s;\n  transition: background 0.3s;\n  -webkit-tap-highlight-color: transparent;\n  overflow-y: scroll;\n}\n.vc-panel {\n  display: none;\n  position: fixed;\n  min-height: 85%;\n  left: 0;\n  right: 0;\n  bottom: -100%;\n  z-index: 10002;\n  background-color: var(--VC-BG-0);\n  transition: bottom 0.3s;\n}\n.vc-toggle .vc-switch {\n  display: none;\n}\n.vc-toggle .vc-mask {\n  background: rgba(0, 0, 0, 0.6);\n  display: block;\n}\n.vc-toggle .vc-panel {\n  bottom: 0;\n}\n.vc-content {\n  background-color: var(--VC-BG-2);\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: absolute;\n  top: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 3.07692308em;\n  -webkit-overflow-scrolling: touch;\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n.vc-content.vc-has-topbar {\n  top: 5.46153846em;\n}\n.vc-plugin-box {\n  display: none;\n  position: relative;\n  min-height: 100%;\n}\n.vc-plugin-box.vc-fixed-height {\n  height: 100%;\n}\n.vc-plugin-box.vc-actived {\n  display: block;\n}\n.vc-plugin-content {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  flex-direction: column;\n  -webkit-tap-highlight-color: transparent;\n}\n.vc-plugin-content:empty:before {\n  content: "Empty";\n  color: var(--VC-FG-1);\n  position: absolute;\n  top: 45%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1.15384615em;\n  text-align: center;\n}\n.vc-plugin-empty {\n  color: var(--VC-FG-1);\n  font-size: 1.15384615em;\n  height: 100%;\n  width: 100%;\n  padding: 1.15384615em 0;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {\n  .vc-toolbar,\n  .vc-switch {\n    bottom: constant(safe-area-inset-bottom);\n    bottom: env(safe-area-inset-bottom);\n  }\n}\n', ""]), n.Z = a;}, 7558: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, ".vc-switch {\n  display: block;\n  position: fixed;\n  right: 0.76923077em;\n  bottom: 0.76923077em;\n  color: #FFF;\n  background-color: var(--VC-BRAND);\n  line-height: 1;\n  font-size: 1.07692308em;\n  padding: 0.61538462em 1.23076923em;\n  z-index: 10000;\n  border-radius: 0.30769231em;\n  box-shadow: 0 0 0.61538462em rgba(0, 0, 0, 0.4);\n}\n", ""]), n.Z = a;}, 5670: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, '/* color */\n.vcelm-node {\n  color: var(--VC-DOM-TAG-NAME-COLOR);\n}\n.vcelm-k {\n  color: var(--VC-DOM-ATTRIBUTE-NAME-COLOR);\n}\n.vcelm-v {\n  color: var(--VC-DOM-ATTRIBUTE-VALUE-COLOR);\n}\n.vcelm-l.vc-actived > .vcelm-node {\n  background-color: var(--VC-FG-3);\n}\n/* layout */\n.vcelm-l {\n  padding-left: 8px;\n  position: relative;\n  word-wrap: break-word;\n  line-height: 1.2;\n}\n/*.vcelm-l.vcelm-noc {\n  padding-left: 0;\n}*/\n.vcelm-l .vcelm-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vcelm-l.vcelm-noc .vcelm-node:active {\n  background-color: transparent;\n}\n.vcelm-t {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n/* level */\n/* arrow */\n.vcelm-l:before {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 6px;\n  left: 3px;\n  width: 0;\n  height: 0;\n  border: transparent solid 3px;\n  border-left-color: var(--VC-FG-1);\n}\n.vcelm-l.vc-toggle:before {\n  display: block;\n  top: 6px;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vcelm-l.vcelm-noc:before {\n  display: none;\n}\n', ""]), n.Z = a;}, 3327: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, "", ""]), n.Z = a;}, 1130: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, ".vc-cmd {\n  height: 3.07692308em;\n  border-top: 1px solid var(--VC-FG-3);\n  display: flex;\n  flex-direction: row;\n}\n.vc-cmd.vc-filter {\n  bottom: 0;\n}\n.vc-cmd-input-wrap {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  position: relative;\n  height: 2.15384615em;\n  padding: 0.46153846em 0.61538462em;\n}\n.vc-cmd-input {\n  width: 100%;\n  border: none;\n  resize: none;\n  outline: none;\n  padding: 0;\n  font-size: 0.92307692em;\n  background-color: transparent;\n  color: var(--VC-FG-0);\n}\n.vc-cmd-input::-webkit-input-placeholder {\n  line-height: 2.15384615em;\n}\n.vc-cmd-btn {\n  width: 3.07692308em;\n  border: none;\n  background-color: var(--VC-BG-0);\n  color: var(--VC-FG-0);\n  outline: none;\n  -webkit-touch-callout: none;\n  font-size: 1em;\n}\n.vc-cmd-clear-btn {\n  flex: 1 3.07692308em;\n  text-align: center;\n  line-height: 3.07692308em;\n}\n.vc-cmd-btn:active,\n.vc-cmd-clear-btn:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted {\n  position: absolute;\n  left: 0.46153846em;\n  right: 0.46153846em;\n  background-color: var(--VC-BG-3);\n  border: 1px solid var(--VC-FG-3);\n  overflow-x: scroll;\n  display: none;\n}\n.vc-cmd-prompted li {\n  list-style: none;\n  line-height: 30px;\n  padding: 0 0.46153846em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-cmd-prompted li:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-cmd-prompted-hide {\n  text-align: center;\n}\n", ""]), n.Z = a;}, 7147: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, '.vc-log-row {\n  margin: 0;\n  padding: 0.46153846em 0.61538462em;\n  overflow: hidden;\n  line-height: 1.3;\n  border-bottom: 1px solid var(--VC-FG-3);\n  word-break: break-word;\n  position: relative;\n  display: flex;\n}\n.vc-log-info {\n  color: var(--VC-PURPLE);\n}\n.vc-log-debug {\n  color: var(--VC-YELLOW);\n}\n.vc-log-warn {\n  color: var(--VC-ORANGE);\n  border-color: var(--VC-WARN-BORDER);\n  background-color: var(--VC-WARN-BG);\n}\n.vc-log-error {\n  color: var(--VC-RED);\n  border-color: var(--VC-ERROR-BORDER);\n  background-color: var(--VC-ERROR-BG);\n}\n.vc-logrow-icon {\n  margin-left: auto;\n}\n.vc-log-padding {\n  width: 1.53846154em;\n  border-left: 1px solid var(--VC-FG-3);\n}\n.vc-log-group .vc-log-content {\n  font-weight: bold;\n}\n.vc-log-group-toggle {\n  padding-left: 0.76923077em;\n}\n.vc-log-group-toggle {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n.vc-log-group-toggle:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-log-group > .vc-log-group-toggle::before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: var(--VC-FG-1);\n}\n.vc-log-group.vc-toggle > .vc-log-group-toggle::before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vc-log-time {\n  width: 6.15384615em;\n  color: #777;\n}\n.vc-log-repeat i {\n  margin-right: 0.30769231em;\n  padding: 0 6.5px;\n  color: #D7E0EF;\n  background-color: #42597F;\n  border-radius: 8.66666667px;\n}\n.vc-log-error .vc-log-repeat i {\n  color: #901818;\n  background-color: var(--VC-RED);\n}\n.vc-log-warn .vc-log-repeat i {\n  color: #987D20;\n  background-color: #F4BD02;\n}\n.vc-log-content {\n  flex: 1;\n}\n.vc-log-input,\n.vc-log-output {\n  padding-left: 0.92307692em;\n}\n.vc-log-input:before,\n.vc-log-output:before {\n  content: "›";\n  position: absolute;\n  top: 0.15384615em;\n  left: 0;\n  font-size: 1.23076923em;\n  color: #6A5ACD;\n}\n.vc-log-output:before {\n  content: "‹";\n}\n', ""]), n.Z = a;}, 1237: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, '.vc-log-tree {\n  display: block;\n  overflow: auto;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n}\n.vc-log-tree-node {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-log-tree.vc-is-tree > .vc-log-tree-node::before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: var(--VC-FG-1);\n}\n.vc-log-tree.vc-is-tree.vc-toggle > .vc-log-tree-node::before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: var(--VC-FG-1);\n  border-left-color: transparent;\n}\n.vc-log-tree-child {\n  margin-left: 0.76923077em;\n}\n.vc-log-tree-loadmore {\n  text-decoration: underline;\n  padding-left: 1.84615385em;\n  position: relative;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore::before {\n  content: "››";\n  position: absolute;\n  top: -0.15384615em;\n  left: 0.76923077em;\n  font-size: 1.23076923em;\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-tree-loadmore:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n', ""]), n.Z = a;}, 845: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, ".vc-log-key {\n  color: var(--VC-CODE-KEY-FG);\n}\n.vc-log-key-private {\n  color: var(--VC-CODE-PRIVATE-KEY-FG);\n}\n.vc-log-val {\n  white-space: pre-line;\n}\n.vc-log-val-function {\n  color: var(--VC-CODE-FUNC-FG);\n  font-style: italic !important;\n}\n.vc-log-val-bigint {\n  color: var(--VC-CODE-FUNC-FG);\n}\n.vc-log-val-number,\n.vc-log-val-boolean {\n  color: var(--VC-CODE-NUMBER-FG);\n}\n.vc-log-val-string {\n  white-space: pre-wrap;\n}\n.vc-log-val-string.vc-log-val-haskey {\n  color: var(--VC-CODE-STR-FG);\n  white-space: normal;\n}\n.vc-log-val-null,\n.vc-log-val-undefined,\n.vc-log-val-uninvocatable {\n  color: var(--VC-CODE-NULL-FG);\n}\n.vc-log-val-symbol {\n  color: var(--VC-CODE-STR-FG);\n}\n", ""]), n.Z = a;}, 8747: function _(t, n, e) {"use strict";var o = e(6738),r = e.n(o),i = e(7705),a = e.n(i)()(r());a.push([t.id, ".vc-group .vc-group-preview {\n  -webkit-touch-callout: none;\n}\n.vc-group .vc-group-preview:active {\n  background-color: var(--VC-BG-COLOR-ACTIVE);\n}\n.vc-group .vc-group-detail {\n  display: none;\n  padding: 0 0 0.76923077em 1.53846154em;\n  border-bottom: 1px solid var(--VC-FG-3);\n}\n.vc-group.vc-actived .vc-group-detail {\n  display: block;\n  background-color: var(--VC-BG-1);\n}\n.vc-group.vc-actived .vc-table-row {\n  background-color: var(--VC-BG-2);\n}\n.vc-group.vc-actived .vc-group-preview {\n  background-color: var(--VC-BG-1);\n}\n", ""]), n.Z = a;}, 3411: function _(t, n, e) {"use strict";var o = e(3379),r = e.n(o),i = e(7795),a = e.n(i),c = e(569),u = e.n(c),s = e(3565),l = e.n(s),f = e(9216),d = e.n(f),v = e(4589),h = e.n(v),p = e(1130),g = {};p.Z && p.Z.locals && (g.locals = p.Z.locals);var m,_ = 0,b = {};b.styleTagTransform = h(), b.setAttributes = l(), b.insert = u().bind(null, "head"), b.domAPI = a(), b.insertStyleElement = d(), g.use = function (t) {return b.options = t || {}, _++ || (m = r()(p.Z, b)), g;}, g.unuse = function () {_ > 0 && ! --_ && (m(), m = null);}, n.Z = g;}, 3379: function _(t) {"use strict";var n = [];function e(t) {for (var e = -1, o = 0; o < n.length; o++) {if (n[o].identifier === t) {e = o;break;}}return e;}function o(t, o) {for (var i = {}, a = [], c = 0; c < t.length; c++) {var u = t[c],s = o.base ? u[0] + o.base : u[0],l = i[s] || 0,f = "".concat(s, " ").concat(l);i[s] = l + 1;var d = e(f),v = { css: u[1], media: u[2], sourceMap: u[3], supports: u[4], layer: u[5] };if (-1 !== d) n[d].references++, n[d].updater(v);else {var h = r(v, o);o.byIndex = c, n.splice(c, 0, { identifier: f, updater: h, references: 1 });}a.push(f);}return a;}function r(t, n) {var e = n.domAPI(n);e.update(t);return function (n) {if (n) {if (n.css === t.css && n.media === t.media && n.sourceMap === t.sourceMap && n.supports === t.supports && n.layer === t.layer) return;e.update(t = n);} else e.remove();};}t.exports = function (t, r) {var i = o(t = t || [], r = r || {});return function (t) {t = t || [];for (var a = 0; a < i.length; a++) {var c = e(i[a]);n[c].references--;}for (var u = o(t, r), s = 0; s < i.length; s++) {var l = e(i[s]);0 === n[l].references && (n[l].updater(), n.splice(l, 1));}i = u;};};}, 569: function _(t) {"use strict";var n = {};t.exports = function (t, e) {var o = function (t) {if (void 0 === n[t]) {var e = document.querySelector(t);if (window.HTMLIFrameElement && e instanceof window.HTMLIFrameElement) try {e = e.contentDocument.head;} catch (t) {e = null;}n[t] = e;}return n[t];}(t);if (!o) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e);};}, 9216: function _(t) {"use strict";t.exports = function (t) {var n = document.createElement("style");return t.setAttributes(n, t.attributes), t.insert(n, t.options), n;};}, 3565: function _(t, n, e) {"use strict";t.exports = function (t) {var n = e.nc;n && t.setAttribute("nonce", n);};}, 7795: function _(t) {"use strict";t.exports = function (t) {var n = t.insertStyleElement(t);return { update: function update(e) {!function (t, n, e) {var o = "";e.supports && (o += "@supports (".concat(e.supports, ") {")), e.media && (o += "@media ".concat(e.media, " {"));var r = void 0 !== e.layer;r && (o += "@layer".concat(e.layer.length > 0 ? " ".concat(e.layer) : "", " {")), o += e.css, r && (o += "}"), e.media && (o += "}"), e.supports && (o += "}");var i = e.sourceMap;i && "undefined" != typeof btoa && (o += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))), " */")), n.styleTagTransform(o, t, n.options);}(n, t, e);}, remove: function remove() {!function (t) {if (null === t.parentNode) return !1;t.parentNode.removeChild(t);}(n);} };};}, 4589: function _(t) {"use strict";t.exports = function (t, n) {if (n.styleSheet) n.styleSheet.cssText = t;else {for (; n.firstChild;) {n.removeChild(n.firstChild);}n.appendChild(document.createTextNode(t));}};}, 6464: function _(t, n, e) {"use strict";function o(t) {if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t;}e.d(n, { Z: function Z() {return o;} });}, 4296: function _(t, n, e) {"use strict";function o(t, n) {for (var e = 0; e < n.length; e++) {var o = n[e];o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o);}}function r(t, n, e) {return n && o(t.prototype, n), e && o(t, e), Object.defineProperty(t, "prototype", { writable: !1 }), t;}e.d(n, { Z: function Z() {return r;} });}, 8270: function _(t, n, e) {"use strict";function o(t, n, e) {return n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e, t;}e.d(n, { Z: function Z() {return o;} });}, 6881: function _(t, n, e) {"use strict";e.d(n, { Z: function Z() {return r;} });var o = e(2717);function r(t, n) {t.prototype = Object.create(n.prototype), t.prototype.constructor = t, (0, o.Z)(t, n);}}, 2717: function _(t, n, e) {"use strict";function o(t, n) {return o = Object.setPrototypeOf || function (t, n) {return t.__proto__ = n, t;}, o(t, n);}e.d(n, { Z: function Z() {return o;} });}, 7003: function _(t, n, e) {"use strict";e.d(n, { H3: function H3() {return o.H3E;}, ev: function ev() {return o.evW;}, x: function x() {return o.xa3;} });var o = e(2942);}, 2942: function _(t, n, e) {"use strict";function o(t) {return o = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {return t.__proto__ || Object.getPrototypeOf(t);}, o(t);}e.d(n, { f_C: function f_C() {return Ct;}, hjT: function hjT() {return at;}, R3I: function R3I() {return O;}, Ljt: function Ljt() {return U;}, akz: function akz() {return yt;}, VnY: function VnY() {return Q;}, cKT: function cKT() {return Y;}, gbL: function gbL() {return ht;}, FIv: function FIv() {return b;}, XGm: function XGm() {return x;}, xa3: function xa3() {return z;}, YCL: function YCL() {return wt;}, nuO: function nuO() {return y;}, vpE: function vpE() {return Lt;}, RMB: function RMB() {return R;}, ogt: function ogt() {return D;}, bGB: function bGB() {return $;}, cSb: function cSb() {return S;}, yl1: function yl1() {return st;}, VOJ: function VOJ() {return T;}, u2N: function u2N() {return E;}, $XI: function $XI() {return _;}, lig: function lig() {return mt;}, dvw: function dvw() {return vt;}, S1n: function S1n() {return xt;}, $Tr: function $Tr() {return I;}, oLt: function oLt() {return j;}, yef: function yef() {return Et;}, ZTd: function ZTd() {return s;}, AqN: function AqN() {return p;}, evW: function evW() {return X;}, H3E: function H3E() {return Z;}, cly: function cly() {return _t;}, AT7: function AT7() {return B;}, j7q: function j7q() {return d;}, N8: function N8() {return h;}, rTO: function rTO() {return G;}, BmG: function BmG() {return N;}, fxP: function fxP() {return C;}, czc: function czc() {return V;}, DhX: function DhX() {return M;}, XET: function XET() {return A;}, LdU: function LdU() {return m;}, bi5: function bi5() {return k;}, fLW: function fLW() {return P;}, VHj: function VHj() {return W;}, Ui: function Ui() {return pt;}, etI: function etI() {return gt;}, GQg: function GQg() {return bt;}, kmG: function kmG() {return L;} });var r = e(2717);function i() {if ("undefined" == typeof Reflect || !Reflect.construct) return !1;if (Reflect.construct.sham) return !1;if ("function" == typeof Proxy) return !0;try {return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;} catch (t) {return !1;}}function a(t, n, e) {return a = i() ? Reflect.construct : function (t, n, e) {var o = [null];o.push.apply(o, n);var i = new (Function.bind.apply(t, o))();return e && (0, r.Z)(i, e.prototype), i;}, a.apply(null, arguments);}function c(t) {var n = "function" == typeof Map ? new Map() : void 0;return c = function c(t) {if (null === t || (e = t, -1 === Function.toString.call(e).indexOf("[native code]"))) return t;var e;if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function");if (void 0 !== n) {if (n.has(t)) return n.get(t);n.set(t, i);}function i() {return a(t, arguments, o(this).constructor);}return i.prototype = Object.create(t.prototype, { constructor: { value: i, enumerable: !1, writable: !0, configurable: !0 } }), (0, r.Z)(i, t);}, c(t);}var u = e(6881);function s() {}function l(t) {return t();}function f() {return Object.create(null);}function d(t) {t.forEach(l);}function v(t) {return "function" == typeof t;}function h(t, n) {return t != t ? n == n : t !== n || t && "object" == typeof t || "function" == typeof t;}function p(t, n) {return t != t ? n == n : t !== n;}function g(t) {return 0 === Object.keys(t).length;}function m(t) {if (null == t) return s;for (var n = arguments.length, e = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) {e[o - 1] = arguments[o];}var r = t.subscribe.apply(t, e);return r.unsubscribe ? function () {return r.unsubscribe();} : r;}function _(t) {var n;return m(t, function (t) {return n = t;})(), n;}function b(t, n, e) {t.$$.on_destroy.push(m(n, e));}function y(t, n, e, o) {if (t) {var r = w(t, n, e, o);return t[0](r);}}function w(t, n, e, o) {return t[1] && o ? function (t, n) {for (var e in n) {t[e] = n[e];}return t;}(e.ctx.slice(), t[1](o(n))) : e.ctx;}function E(t, n, e, o) {if (t[2] && o) {var r = t[2](o(e));if (void 0 === n.dirty) return r;if ("object" == typeof r) {for (var i = [], a = Math.max(n.dirty.length, r.length), c = 0; c < a; c += 1) {i[c] = n.dirty[c] | r[c];}return i;}return n.dirty | r;}return n.dirty;}function L(t, n, e, o, r, i) {if (r) {var a = w(n, e, o, i);t.p(a, r);}}function T(t) {if (t.ctx.length > 32) {for (var n = [], e = t.ctx.length / 32, o = 0; o < e; o++) {n[o] = -1;}return n;}return -1;}function x(t) {var n = {};for (var e in t) {n[e] = !0;}return n;}function C(t, n, e) {return t.set(e), n;}new Set();function O(t, n) {t.appendChild(n);}function I(t, n, e) {t.insertBefore(n, e || null);}function D(t) {t.parentNode.removeChild(t);}function R(t, n) {for (var e = 0; e < t.length; e += 1) {t[e] && t[e].d(n);}}function $(t) {return document.createElement(t);}function k(t) {return document.createElementNS("http://www.w3.org/2000/svg", t);}function P(t) {return document.createTextNode(t);}function M() {return P(" ");}function S() {return P("");}function j(t, n, e, o) {return t.addEventListener(n, e, o), function () {return t.removeEventListener(n, e, o);};}function B(t) {return function (n) {return n.preventDefault(), t.call(this, n);};}function A(t) {return function (n) {return n.stopPropagation(), t.call(this, n);};}function U(t, n, e) {null == e ? t.removeAttribute(n) : t.getAttribute(n) !== e && t.setAttribute(n, e);}function G(t, n) {n = "" + n, t.wholeText !== n && (t.data = n);}function N(t, n) {t.value = null == n ? "" : n;}function V(t, n, e, o) {null === e ? t.style.removeProperty(n) : t.style.setProperty(n, e, o ? "important" : "");}function W(t, n, e) {t.classList[e ? "add" : "remove"](n);}function K(t, n, e) {void 0 === e && (e = !1);var o = document.createEvent("CustomEvent");return o.initCustomEvent(t, e, !1, n), o;}var H;new Map();function F(t) {H = t;}function q() {if (!H) throw new Error("Function called outside component initialization");return H;}function Z(t) {q().$$.on_mount.push(t);}function X(t) {q().$$.on_destroy.push(t);}function z() {var t = q();return function (n, e) {var o = t.$$.callbacks[n];if (o) {var r = K(n, e);o.slice().forEach(function (n) {n.call(t, r);});}};}function Y(t, n) {var e = this,o = t.$$.callbacks[n.type];o && o.slice().forEach(function (t) {return t.call(e, n);});}var J = [],Q = [],tt = [],nt = [],et = Promise.resolve(),ot = !1;function rt() {ot || (ot = !0, et.then(st));}function it(t) {tt.push(t);}function at(t) {nt.push(t);}var ct = new Set(),ut = 0;function st() {var t = H;do {for (; ut < J.length;) {var n = J[ut];ut++, F(n), lt(n.$$);}for (F(null), J.length = 0, ut = 0; Q.length;) {Q.pop()();}for (var e = 0; e < tt.length; e += 1) {var o = tt[e];ct.has(o) || (ct.add(o), o());}tt.length = 0;} while (J.length);for (; nt.length;) {nt.pop()();}ot = !1, ct.clear(), F(t);}function lt(t) {if (null !== t.fragment) {t.update(), d(t.before_update);var n = t.dirty;t.dirty = [-1], t.fragment && t.fragment.p(t.ctx, n), t.after_update.forEach(it);}}var ft,dt = new Set();function vt() {ft = { r: 0, c: [], p: ft };}function ht() {ft.r || d(ft.c), ft = ft.p;}function pt(t, n) {t && t.i && (dt.delete(t), t.i(n));}function gt(t, n, e, o) {if (t && t.o) {if (dt.has(t)) return;dt.add(t), ft.c.push(function () {dt.delete(t), o && (e && t.d(1), o());}), t.o(n);}}var mt = "undefined" != typeof window ? window : "undefined" != typeof globalThis ? globalThis : global;function _t(t, n) {gt(t, 1, 1, function () {n.delete(t.key);});}function bt(t, n, e, o, r, i, a, c, u, s, l, f) {for (var d = t.length, v = i.length, h = d, p = {}; h--;) {p[t[h].key] = h;}var g = [],m = new Map(),_ = new Map();for (h = v; h--;) {var b = f(r, i, h),y = e(b),w = a.get(y);w ? o && w.p(b, n) : (w = s(y, b)).c(), m.set(y, g[h] = w), y in p && _.set(y, Math.abs(h - p[y]));}var E = new Set(),L = new Set();function T(t) {pt(t, 1), t.m(c, l), a.set(t.key, t), l = t.first, v--;}for (; d && v;) {var x = g[v - 1],C = t[d - 1],O = x.key,I = C.key;x === C ? (l = x.first, d--, v--) : m.has(I) ? !a.has(O) || E.has(O) ? T(x) : L.has(I) ? d-- : _.get(O) > _.get(I) ? (L.add(O), T(x)) : (E.add(I), d--) : (u(C, a), d--);}for (; d--;) {var D = t[d];m.has(D.key) || u(D, a);}for (; v;) {T(g[v - 1]);}return g;}new Set(["allowfullscreen", "allowpaymentrequest", "async", "autofocus", "autoplay", "checked", "controls", "default", "defer", "disabled", "formnovalidate", "hidden", "ismap", "loop", "multiple", "muted", "nomodule", "novalidate", "open", "playsinline", "readonly", "required", "reversed", "selected"]);function yt(t, n, e) {var o = t.$$.props[n];void 0 !== o && (t.$$.bound[o] = e, e(t.$$.ctx[o]));}function wt(t) {t && t.c();}function Et(t, n, e, o) {var r = t.$$,i = r.fragment,a = r.on_mount,c = r.on_destroy,u = r.after_update;i && i.m(n, e), o || it(function () {var n = a.map(l).filter(v);c ? c.push.apply(c, n) : d(n), t.$$.on_mount = [];}), u.forEach(it);}function Lt(t, n) {var e = t.$$;null !== e.fragment && (d(e.on_destroy), e.fragment && e.fragment.d(n), e.on_destroy = e.fragment = null, e.ctx = []);}function Tt(t, n) {-1 === t.$$.dirty[0] && (J.push(t), rt(), t.$$.dirty.fill(0)), t.$$.dirty[n / 31 | 0] |= 1 << n % 31;}function xt(t, n, e, o, r, i, a, c) {void 0 === c && (c = [-1]);var u = H;F(t);var l = t.$$ = { fragment: null, ctx: null, props: i, update: s, not_equal: r, bound: f(), on_mount: [], on_destroy: [], on_disconnect: [], before_update: [], after_update: [], context: new Map(n.context || (u ? u.$$.context : [])), callbacks: f(), dirty: c, skip_bound: !1, root: n.target || u.$$.root };a && a(l.root);var v,h = !1;if (l.ctx = e ? e(t, n.props || {}, function (n, e) {var o = !(arguments.length <= 2) && arguments.length - 2 ? arguments.length <= 2 ? void 0 : arguments[2] : e;return l.ctx && r(l.ctx[n], l.ctx[n] = o) && (!l.skip_bound && l.bound[n] && l.bound[n](o), h && Tt(t, n)), e;}) : [], l.update(), h = !0, d(l.before_update), l.fragment = !!o && o(l.ctx), n.target) {if (n.hydrate) {!0;var p = (v = n.target, Array.from(v.childNodes));l.fragment && l.fragment.l(p), p.forEach(D);} else l.fragment && l.fragment.c();n.intro && pt(t.$$.fragment), Et(t, n.target, n.anchor, n.customElement), !1, st();}F(u);}"function" == typeof HTMLElement && HTMLElement;var Ct = function () {function t() {}var n = t.prototype;return n.$destroy = function () {Lt(this, 1), this.$destroy = s;}, n.$on = function (t, n) {var e = this.$$.callbacks[t] || (this.$$.callbacks[t] = []);return e.push(n), function () {var t = e.indexOf(n);-1 !== t && e.splice(t, 1);};}, n.$set = function (t) {this.$$set && !g(t) && (this.$$.skip_bound = !0, this.$$set(t), this.$$.skip_bound = !1);}, t;}();}, 3313: function _(t, n, e) {"use strict";e.d(n, { U2: function U2() {return o.$XI;}, fZ: function fZ() {return c;} });var o = e(2942);function r(t, n) {var e = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];if (e) return (e = e.call(t)).next.bind(e);if (Array.isArray(t) || (e = function (t, n) {if (!t) return;if ("string" == typeof t) return i(t, n);var e = Object.prototype.toString.call(t).slice(8, -1);"Object" === e && t.constructor && (e = t.constructor.name);if ("Map" === e || "Set" === e) return Array.from(t);if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return i(t, n);}(t)) || n && t && "number" == typeof t.length) {e && (t = e);var o = 0;return function () {return o >= t.length ? { done: !0 } : { done: !1, value: t[o++] };};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function i(t, n) {(null == n || n > t.length) && (n = t.length);for (var e = 0, o = new Array(n); e < n; e++) {o[e] = t[e];}return o;}var a = [];function c(t, n) {var e;void 0 === n && (n = o.ZTd);var i = new Set();function c(n) {if ((0, o.N8)(t, n) && (t = n, e)) {for (var c, u = !a.length, s = r(i); !(c = s()).done;) {var l = c.value;l[1](), a.push(l, t);}if (u) {for (var f = 0; f < a.length; f += 2) {a[f][0](a[f + 1]);}a.length = 0;}}}return { set: c, update: function update(n) {c(n(t));}, subscribe: function subscribe(r, a) {void 0 === a && (a = o.ZTd);var u = [r, a];return i.add(u), 1 === i.size && (e = n(c) || o.ZTd), r(t), function () {i.delete(u), 0 === i.size && (e(), e = null);};} };}} },__webpack_module_cache__ = {};function __webpack_require__(t) {var n = __webpack_module_cache__[t];if (void 0 !== n) return n.exports;var e = __webpack_module_cache__[t] = { id: t, exports: {} };return __webpack_modules__[t](e, e.exports, __webpack_require__), e.exports;}__webpack_require__.n = function (t) {var n = t && t.__esModule ? function () {return t.default;} : function () {return t;};return __webpack_require__.d(n, { a: n }), n;}, __webpack_require__.d = function (t, n) {for (var e in n) {__webpack_require__.o(n, e) && !__webpack_require__.o(t, e) && Object.defineProperty(t, e, { enumerable: !0, get: n[e] });}}, __webpack_require__.g = function () {if ("object" == typeof globalThis) return globalThis;try {return this || new Function("return this")();} catch (t) {if ("object" == typeof window) return window;}}(), __webpack_require__.o = function (t, n) {return Object.prototype.hasOwnProperty.call(t, n);};var __webpack_exports__ = {};return function () {"use strict";__webpack_require__.d(__webpack_exports__, { default: function _default() {return Rr;} });__webpack_require__(5441), __webpack_require__(8765);var t = __webpack_require__(4296),n = __webpack_require__(5103),e = { one: function one(t, n) {void 0 === n && (n = document);try {return n.querySelector(t) || void 0;} catch (t) {return;}}, all: function all(t, n) {void 0 === n && (n = document);try {var e = n.querySelectorAll(t);return [].slice.call(e);} catch (t) {return [];}}, addClass: function addClass(t, e) {if (t) for (var o = (0, n.kJ)(t) ? t : [t], r = 0; r < o.length; r++) {var i = (o[r].className || "").split(" ");i.indexOf(e) > -1 || (i.push(e), o[r].className = i.join(" "));}}, removeClass: function removeClass(t, e) {if (t) for (var o = (0, n.kJ)(t) ? t : [t], r = 0; r < o.length; r++) {for (var i = o[r].className.split(" "), a = 0; a < i.length; a++) {i[a] == e && (i[a] = "");}o[r].className = i.join(" ").trim();}}, hasClass: function hasClass(t, n) {return !(!t || !t.classList) && t.classList.contains(n);}, bind: function bind(t, e, o, r) {(void 0 === r && (r = !1), t) && ((0, n.kJ)(t) ? t : [t]).forEach(function (t) {t.addEventListener(e, o, !!r);});}, delegate: function delegate(t, n, o, r) {t && t.addEventListener(n, function (n) {var i = e.all(o, t);if (i) t: for (var a = 0; a < i.length; a++) {for (var c = n.target; c;) {if (c == i[a]) {r.call(c, n, c);break t;}if ((c = c.parentNode) == t) break;}}}, !1);}, removeChildren: function removeChildren(t) {for (; t.firstChild;) {t.removeChild(t.lastChild);}return t;} },o = e,r = __webpack_require__(6464),i = __webpack_require__(6881),a = __webpack_require__(2942),c = __webpack_require__(7003),u = __webpack_require__(3379),s = __webpack_require__.n(u),l = __webpack_require__(7795),f = __webpack_require__.n(l),d = __webpack_require__(569),v = __webpack_require__.n(d),h = __webpack_require__(3565),p = __webpack_require__.n(h),g = __webpack_require__(9216),m = __webpack_require__.n(g),_ = __webpack_require__(4589),b = __webpack_require__.n(_),y = __webpack_require__(7558),w = {};y.Z && y.Z.locals && (w.locals = y.Z.locals);var E,L = 0,T = {};T.styleTagTransform = b(), T.setAttributes = p(), T.insert = v().bind(null, "head"), T.domAPI = f(), T.insertStyleElement = m(), w.use = function (t) {return T.options = t || {}, L++ || (E = s()(y.Z, T)), w;}, w.unuse = function () {L > 0 && ! --L && (E(), E = null);};var x = w;function C(t) {var n, e, o, r;return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.fLW)("vConsole"), (0, a.Ljt)(n, "class", "vc-switch"), (0, a.czc)(n, "right", t[2].x + "px"), (0, a.czc)(n, "bottom", t[2].y + "px"), (0, a.czc)(n, "display", t[0] ? "block" : "none");}, m: function m(i, c) {(0, a.$Tr)(i, n, c), (0, a.R3I)(n, e), t[8](n), o || (r = [(0, a.oLt)(n, "touchstart", t[3], { passive: !1 }), (0, a.oLt)(n, "touchend", t[4], { passive: !1 }), (0, a.oLt)(n, "touchmove", t[5], { passive: !1 }), (0, a.oLt)(n, "click", t[7])], o = !0);}, p: function p(t, e) {var o = e[0];4 & o && (0, a.czc)(n, "right", t[2].x + "px"), 4 & o && (0, a.czc)(n, "bottom", t[2].y + "px"), 1 & o && (0, a.czc)(n, "display", t[0] ? "block" : "none");}, i: a.ZTd, o: a.ZTd, d: function d(e) {e && (0, a.ogt)(n), t[8](null), o = !1, (0, a.j7q)(r);} };}function O(t, e, o) {var r,i = e.show,u = void 0 === i || i,s = e.position,l = void 0 === s ? { x: 0, y: 0 } : s,f = { hasMoved: !1, x: 0, y: 0, startX: 0, startY: 0, endX: 0, endY: 0 },d = { x: 0, y: 0 };(0, c.H3)(function () {x.use();}), (0, c.ev)(function () {x.unuse();});var v = function v(t, e) {var r = h(t, e);t = r[0], e = r[1], f.x = t, f.y = e, o(2, d.x = t, d), o(2, d.y = e, d), n.po("switch_x", t + ""), n.po("switch_y", e + "");},h = function h(t, n) {var e = Math.max(document.documentElement.offsetWidth, window.innerWidth),o = Math.max(document.documentElement.offsetHeight, window.innerHeight);return t + r.offsetWidth > e && (t = e - r.offsetWidth), n + r.offsetHeight > o && (n = o - r.offsetHeight), t < 0 && (t = 0), n < 20 && (n = 20), [t, n];};return t.$$set = function (t) {"show" in t && o(0, u = t.show), "position" in t && o(6, l = t.position);}, t.$$.update = function () {66 & t.$$.dirty && r && v(l.x, l.y);}, [u, r, d, function (t) {f.startX = t.touches[0].pageX, f.startY = t.touches[0].pageY, f.hasMoved = !1;}, function (t) {f.hasMoved && (f.startX = 0, f.startY = 0, f.hasMoved = !1, v(f.endX, f.endY));}, function (t) {if (!(t.touches.length <= 0)) {var n = t.touches[0].pageX - f.startX,e = t.touches[0].pageY - f.startY,r = Math.floor(f.x - n),i = Math.floor(f.y - e),a = h(r, i);r = a[0], i = a[1], o(2, d.x = r, d), o(2, d.y = i, d), f.endX = r, f.endY = i, f.hasMoved = !0, t.preventDefault();}}, l, function (n) {a.cKT.call(this, t, n);}, function (t) {a.VnY[t ? "unshift" : "push"](function () {o(1, r = t);});}];}var I = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, O, C, a.N8, { show: 0, position: 6 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "show", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ show: t }), (0, a.yl1)();} }, { key: "position", get: function get() {return this.$$.ctx[6];}, set: function set(t) {this.$$set({ position: t }), (0, a.yl1)();} }]), e;}(a.f_C),D = I,R = __webpack_require__(4687),$ = __webpack_require__(3283),k = {};$.Z && $.Z.locals && (k.locals = $.Z.locals);var P,M = 0,S = {};S.styleTagTransform = b(), S.setAttributes = p(), S.insert = v().bind(null, "head"), S.domAPI = f(), S.insertStyleElement = m(), k.use = function (t) {return S.options = t || {}, M++ || (P = s()($.Z, S)), k;}, k.unuse = function () {M > 0 && ! --M && (P(), P = null);};var j = k;function B(t, n, e) {var o = t.slice();return o[39] = n[e][0], o[40] = n[e][1], o;}function A(t, n, e) {var o = t.slice();return o[43] = n[e], o[45] = e, o;}function U(t, n, e) {var o = t.slice();return o[39] = n[e][0], o[40] = n[e][1], o;}function G(t, n, e) {var o = t.slice();return o[39] = n[e][0], o[40] = n[e][1], o;}function N(t, n, e) {var o = t.slice();return o[43] = n[e], o[45] = e, o;}function V(t, n, e) {var o = t.slice();return o[39] = n[e][0], o[40] = n[e][1], o;}function W(t) {var n,e,o,r,i,_c3 = t[40].name + "";function u() {return t[25](t[40]);}return { c: function c() {n = (0, a.bGB)("a"), e = (0, a.fLW)(_c3), (0, a.Ljt)(n, "class", "vc-tab"), (0, a.Ljt)(n, "id", o = "__vc_tab_" + t[40].id), (0, a.VHj)(n, "vc-actived", t[40].id === t[2]);}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e), r || (i = (0, a.oLt)(n, "click", u), r = !0);}, p: function p(r, i) {t = r, 8 & i[0] && _c3 !== (_c3 = t[40].name + "") && (0, a.rTO)(e, _c3), 8 & i[0] && o !== (o = "__vc_tab_" + t[40].id) && (0, a.Ljt)(n, "id", o), 12 & i[0] && (0, a.VHj)(n, "vc-actived", t[40].id === t[2]);}, d: function d(t) {t && (0, a.ogt)(n), r = !1, i();} };}function K(t) {var n,e = t[40].hasTabPanel && W(t);return { c: function c() {e && e.c(), n = (0, a.cSb)();}, m: function m(t, o) {e && e.m(t, o), (0, a.$Tr)(t, n, o);}, p: function p(t, o) {t[40].hasTabPanel ? e ? e.p(t, o) : ((e = W(t)).c(), e.m(n.parentNode, n)) : e && (e.d(1), e = null);}, d: function d(t) {e && e.d(t), t && (0, a.ogt)(n);} };}function H(t) {var n,e,o,r,i,_c4 = t[43].name + "";function u() {for (var n, e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}return (n = t)[26].apply(n, [t[40], t[45]].concat(o));}return { c: function c() {n = (0, a.bGB)("i"), e = (0, a.fLW)(_c4), (0, a.Ljt)(n, "class", o = "vc-toptab vc-topbar-" + t[40].id + " " + t[43].className), (0, a.VHj)(n, "vc-toggle", t[40].id === t[2]), (0, a.VHj)(n, "vc-actived", t[43].actived);}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e), r || (i = (0, a.oLt)(n, "click", u), r = !0);}, p: function p(r, i) {t = r, 8 & i[0] && _c4 !== (_c4 = t[43].name + "") && (0, a.rTO)(e, _c4), 8 & i[0] && o !== (o = "vc-toptab vc-topbar-" + t[40].id + " " + t[43].className) && (0, a.Ljt)(n, "class", o), 12 & i[0] && (0, a.VHj)(n, "vc-toggle", t[40].id === t[2]), 8 & i[0] && (0, a.VHj)(n, "vc-actived", t[43].actived);}, d: function d(t) {t && (0, a.ogt)(n), r = !1, i();} };}function F(t) {for (var n, e = t[40].topbarList, o = [], r = 0; r < e.length; r += 1) {o[r] = H(N(t, e, r));}return { c: function c() {for (var t = 0; t < o.length; t += 1) {o[t].c();}n = (0, a.cSb)();}, m: function m(t, e) {for (var r = 0; r < o.length; r += 1) {o[r].m(t, e);}(0, a.$Tr)(t, n, e);}, p: function p(t, r) {if (8204 & r[0]) {var i;for (e = t[40].topbarList, i = 0; i < e.length; i += 1) {var a = N(t, e, i);o[i] ? o[i].p(a, r) : (o[i] = H(a), o[i].c(), o[i].m(n.parentNode, n));}for (; i < o.length; i += 1) {o[i].d(1);}o.length = e.length;}}, d: function d(t) {(0, a.RMB)(o, t), t && (0, a.ogt)(n);} };}function q(t) {var n, e;return { c: function c() {var o;n = (0, a.bGB)("div"), (0, a.Ljt)(n, "id", e = "__vc_plug_" + t[40].id), (0, a.Ljt)(n, "class", "vc-plugin-box"), (0, a.VHj)(n, "vc-fixed-height", null == (o = t[40].tabOptions) ? void 0 : o.fixedHeight), (0, a.VHj)(n, "vc-actived", t[40].id === t[2]);}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, p: function p(t, o) {var r;(8 & o[0] && e !== (e = "__vc_plug_" + t[40].id) && (0, a.Ljt)(n, "id", e), 8 & o[0]) && (0, a.VHj)(n, "vc-fixed-height", null == (r = t[40].tabOptions) ? void 0 : r.fixedHeight);12 & o[0] && (0, a.VHj)(n, "vc-actived", t[40].id === t[2]);}, d: function d(t) {t && (0, a.ogt)(n);} };}function Z(t) {var n,e,o,r,i,_c5 = t[43].name + "";function u() {for (var n, e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}return (n = t)[28].apply(n, [t[40], t[45]].concat(o));}return { c: function c() {n = (0, a.bGB)("i"), e = (0, a.fLW)(_c5), (0, a.Ljt)(n, "class", o = "vc-tool vc-tool-" + t[40].id), (0, a.VHj)(n, "vc-global-tool", t[43].global), (0, a.VHj)(n, "vc-toggle", t[40].id === t[2]);}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e), r || (i = (0, a.oLt)(n, "click", u), r = !0);}, p: function p(r, i) {t = r, 8 & i[0] && _c5 !== (_c5 = t[43].name + "") && (0, a.rTO)(e, _c5), 8 & i[0] && o !== (o = "vc-tool vc-tool-" + t[40].id) && (0, a.Ljt)(n, "class", o), 8 & i[0] && (0, a.VHj)(n, "vc-global-tool", t[43].global), 12 & i[0] && (0, a.VHj)(n, "vc-toggle", t[40].id === t[2]);}, d: function d(t) {t && (0, a.ogt)(n), r = !1, i();} };}function X(t) {for (var n, e = t[40].toolbarList, o = [], r = 0; r < e.length; r += 1) {o[r] = Z(A(t, e, r));}return { c: function c() {for (var t = 0; t < o.length; t += 1) {o[t].c();}n = (0, a.cSb)();}, m: function m(t, e) {for (var r = 0; r < o.length; r += 1) {o[r].m(t, e);}(0, a.$Tr)(t, n, e);}, p: function p(t, r) {if (16396 & r[0]) {var i;for (e = t[40].toolbarList, i = 0; i < e.length; i += 1) {var a = A(t, e, i);o[i] ? o[i].p(a, r) : (o[i] = Z(a), o[i].c(), o[i].m(n.parentNode, n));}for (; i < o.length; i += 1) {o[i].d(1);}o.length = e.length;}}, d: function d(t) {(0, a.RMB)(o, t), t && (0, a.ogt)(n);} };}function z(t) {var n, e, o, r, i, _c6, u, s, l, f, d, v, h, p, g, _m3, _, b, y, w, E;function L(n) {t[23](n);}function T(n) {t[24](n);}var x = {};void 0 !== t[0] && (x.show = t[0]), void 0 !== t[1] && (x.position = t[1]), e = new D({ props: x }), a.VnY.push(function () {return (0, a.akz)(e, "show", L);}), a.VnY.push(function () {return (0, a.akz)(e, "position", T);}), e.$on("click", t[10]);for (var C = Object.entries(t[3]), O = [], I = 0; I < C.length; I += 1) {O[I] = K(V(t, C, I));}for (var R = Object.entries(t[3]), $ = [], k = 0; k < R.length; k += 1) {$[k] = F(G(t, R, k));}for (var P = Object.entries(t[3]), M = [], S = 0; S < P.length; S += 1) {M[S] = q(U(t, P, S));}for (var j = Object.entries(t[3]), A = [], N = 0; N < j.length; N += 1) {A[N] = X(B(t, j, N));}return { c: function c() {var o, r;n = (0, a.bGB)("div"), (0, a.YCL)(e.$$.fragment), i = (0, a.DhX)(), _c6 = (0, a.bGB)("div"), u = (0, a.DhX)(), s = (0, a.bGB)("div"), l = (0, a.bGB)("div");for (var y = 0; y < O.length; y += 1) {O[y].c();}f = (0, a.DhX)(), d = (0, a.bGB)("div");for (var w = 0; w < $.length; w += 1) {$[w].c();}v = (0, a.DhX)(), h = (0, a.bGB)("div");for (var E = 0; E < M.length; E += 1) {M[E].c();}p = (0, a.DhX)(), g = (0, a.bGB)("div");for (var L = 0; L < A.length; L += 1) {A[L].c();}_m3 = (0, a.DhX)(), (_ = (0, a.bGB)("i")).textContent = "Hide", (0, a.Ljt)(_c6, "class", "vc-mask"), (0, a.czc)(_c6, "display", t[9] ? "block" : "none"), (0, a.Ljt)(l, "class", "vc-tabbar"), (0, a.Ljt)(d, "class", "vc-topbar"), (0, a.Ljt)(h, "class", "vc-content"), (0, a.VHj)(h, "vc-has-topbar", (null == (o = t[3][t[2]]) || null == (r = o.topbarList) ? void 0 : r.length) > 0), (0, a.Ljt)(_, "class", "vc-tool vc-global-tool vc-tool-last vc-hide"), (0, a.Ljt)(g, "class", "vc-toolbar"), (0, a.Ljt)(s, "class", "vc-panel"), (0, a.czc)(s, "display", t[8] ? "block" : "none"), (0, a.Ljt)(n, "id", "__vconsole"), (0, a.Ljt)(n, "style", b = t[6] ? "font-size:" + t[6] + ";" : ""), (0, a.Ljt)(n, "data-theme", t[5]), (0, a.VHj)(n, "vc-toggle", t[7]);}, m: function m(o, r) {(0, a.$Tr)(o, n, r), (0, a.yef)(e, n, null), (0, a.R3I)(n, i), (0, a.R3I)(n, _c6), (0, a.R3I)(n, u), (0, a.R3I)(n, s), (0, a.R3I)(s, l);for (var b = 0; b < O.length; b += 1) {O[b].m(l, null);}(0, a.R3I)(s, f), (0, a.R3I)(s, d);for (var L = 0; L < $.length; L += 1) {$[L].m(d, null);}(0, a.R3I)(s, v), (0, a.R3I)(s, h);for (var T = 0; T < M.length; T += 1) {M[T].m(h, null);}t[27](h), (0, a.R3I)(s, p), (0, a.R3I)(s, g);for (var x = 0; x < A.length; x += 1) {A[x].m(g, null);}(0, a.R3I)(g, _m3), (0, a.R3I)(g, _), y = !0, w || (E = [(0, a.oLt)(_c6, "click", t[11]), (0, a.oLt)(h, "touchstart", t[15]), (0, a.oLt)(h, "touchmove", t[16]), (0, a.oLt)(h, "touchend", t[17]), (0, a.oLt)(h, "scroll", t[18]), (0, a.oLt)(_, "click", t[11]), (0, a.oLt)(n, "touchstart", t[19].touchStart, { passive: !1, capture: !0 }), (0, a.oLt)(n, "touchmove", t[19].touchMove, { passive: !1, capture: !0 }), (0, a.oLt)(n, "touchend", t[19].touchEnd, { passive: !1, capture: !0 })], w = !0);}, p: function p(t, i) {var u,f,v = {};if (!o && 1 & i[0] && (o = !0, v.show = t[0], (0, a.hjT)(function () {return o = !1;})), !r && 2 & i[0] && (r = !0, v.position = t[1], (0, a.hjT)(function () {return r = !1;})), e.$set(v), (!y || 512 & i[0]) && (0, a.czc)(_c6, "display", t[9] ? "block" : "none"), 4108 & i[0]) {var p;for (C = Object.entries(t[3]), p = 0; p < C.length; p += 1) {var _ = V(t, C, p);O[p] ? O[p].p(_, i) : (O[p] = K(_), O[p].c(), O[p].m(l, null));}for (; p < O.length; p += 1) {O[p].d(1);}O.length = C.length;}if (8204 & i[0]) {var w;for (R = Object.entries(t[3]), w = 0; w < R.length; w += 1) {var E = G(t, R, w);$[w] ? $[w].p(E, i) : ($[w] = F(E), $[w].c(), $[w].m(d, null));}for (; w < $.length; w += 1) {$[w].d(1);}$.length = R.length;}if (12 & i[0]) {var L;for (P = Object.entries(t[3]), L = 0; L < P.length; L += 1) {var T = U(t, P, L);M[L] ? M[L].p(T, i) : (M[L] = q(T), M[L].c(), M[L].m(h, null));}for (; L < M.length; L += 1) {M[L].d(1);}M.length = P.length;}12 & i[0] && (0, a.VHj)(h, "vc-has-topbar", (null == (u = t[3][t[2]]) || null == (f = u.topbarList) ? void 0 : f.length) > 0);if (16396 & i[0]) {var x;for (j = Object.entries(t[3]), x = 0; x < j.length; x += 1) {var I = B(t, j, x);A[x] ? A[x].p(I, i) : (A[x] = X(I), A[x].c(), A[x].m(g, _m3));}for (; x < A.length; x += 1) {A[x].d(1);}A.length = j.length;}(!y || 256 & i[0]) && (0, a.czc)(s, "display", t[8] ? "block" : "none"), (!y || 64 & i[0] && b !== (b = t[6] ? "font-size:" + t[6] + ";" : "")) && (0, a.Ljt)(n, "style", b), (!y || 32 & i[0]) && (0, a.Ljt)(n, "data-theme", t[5]), 128 & i[0] && (0, a.VHj)(n, "vc-toggle", t[7]);}, i: function i(t) {y || ((0, a.Ui)(e.$$.fragment, t), y = !0);}, o: function o(t) {(0, a.etI)(e.$$.fragment, t), y = !1;}, d: function d(o) {o && (0, a.ogt)(n), (0, a.vpE)(e), (0, a.RMB)(O, o), (0, a.RMB)($, o), (0, a.RMB)(M, o), t[27](null), (0, a.RMB)(A, o), w = !1, (0, a.j7q)(E);} };}function Y(t, e, o) {var r,i = e.theme,u = void 0 === i ? "" : i,s = e.disableScrolling,l = void 0 !== s && s,f = e.show,d = void 0 !== f && f,v = e.showSwitchButton,h = void 0 === v || v,p = e.switchButtonPosition,g = void 0 === p ? { x: 0, y: 0 } : p,m = e.activedPluginId,_ = void 0 === m ? "" : m,b = e.pluginList,y = void 0 === b ? {} : b,w = e.divContent,E = (0, c.x)(),L = !1,T = "",x = !1,C = !1,O = !1,I = !0,D = 0,$ = null,k = {};(0, c.H3)(function () {var t = document.querySelectorAll('[name="viewport"]');if (t && t[0]) {var n = (t[t.length - 1].getAttribute("content") || "").match(/initial\-scale\=\d+(\.\d+)?/),e = n ? parseFloat(n[0].split("=")[1]) : 1;1 !== e && o(6, T = Math.floor(1 / e * 13) + "px");}j.use && j.use(), r = R.x.subscribe(function (t) {d && D !== t.updateTime && (D = t.updateTime, P());});}), (0, c.ev)(function () {j.unuse && j.unuse(), r && r();});var P = function P() {!l && I && w && o(4, w.scrollTop = w.scrollHeight - w.offsetHeight, w);},M = function M(t) {t !== _ && (o(2, _ = t), E("changePanel", { pluginId: t }), setTimeout(function () {w && o(4, w.scrollTop = k[_] || 0, w);}, 0));},S = function S(t, e, r) {var i = y[e].topbarList[r],a = !0;if (n.mf(i.onClick) && (a = i.onClick.call(t.target, t, i.data)), !1 === a) ;else {for (var c = 0; c < y[e].topbarList.length; c++) {o(3, y[e].topbarList[c].actived = r === c, y);}o(3, y);}},B = function B(t, e, o) {var r = y[e].toolbarList[o];n.mf(r.onClick) && r.onClick.call(t.target, t, r.data);},A = { tapTime: 700, tapBoundary: 10, lastTouchStartTime: 0, touchstartX: 0, touchstartY: 0, touchHasMoved: !1, targetElem: null },U = { touchStart: function touchStart(t) {if (0 === A.lastTouchStartTime) {var n = t.targetTouches[0];A.touchstartX = n.pageX, A.touchstartY = n.pageY, A.lastTouchStartTime = t.timeStamp, A.targetElem = t.target.nodeType === Node.TEXT_NODE ? t.target.parentNode : t.target;}}, touchMove: function touchMove(t) {var n = t.changedTouches[0];(Math.abs(n.pageX - A.touchstartX) > A.tapBoundary || Math.abs(n.pageY - A.touchstartY) > A.tapBoundary) && (A.touchHasMoved = !0);}, touchEnd: function touchEnd(t) {if (!1 === A.touchHasMoved && t.timeStamp - A.lastTouchStartTime < A.tapTime && null != A.targetElem) {var n = !1;switch (A.targetElem.tagName.toLowerCase()) {case "textarea":n = !0;break;case "select":n = !A.targetElem.disabled && !A.targetElem.readOnly;break;case "input":switch (A.targetElem.type) {case "button":case "checkbox":case "file":case "image":case "radio":case "submit":n = !1;break;default:n = !A.targetElem.disabled && !A.targetElem.readOnly;}}n ? A.targetElem.focus() : t.preventDefault();var e = t.changedTouches[0],o = new MouseEvent("click", { bubbles: !0, cancelable: !0, view: window, screenX: e.screenX, screenY: e.screenY, clientX: e.clientX, clientY: e.clientY });A.targetElem.dispatchEvent(o);}A.lastTouchStartTime = 0, A.touchHasMoved = !1, A.targetElem = null;} };return t.$$set = function (t) {"theme" in t && o(5, u = t.theme), "disableScrolling" in t && o(20, l = t.disableScrolling), "show" in t && o(21, d = t.show), "showSwitchButton" in t && o(0, h = t.showSwitchButton), "switchButtonPosition" in t && o(1, g = t.switchButtonPosition), "activedPluginId" in t && o(2, _ = t.activedPluginId), "pluginList" in t && o(3, y = t.pluginList), "divContent" in t && o(4, w = t.divContent);}, t.$$.update = function () {6291456 & t.$$.dirty[0] && (!0 === d ? (o(8, C = !0), o(9, O = !0), $ && clearTimeout($), o(22, $ = setTimeout(function () {o(7, x = !0), P();}, 10))) : (o(7, x = !1), $ && clearTimeout($), o(22, $ = setTimeout(function () {o(8, C = !1), o(9, O = !1);}, 330))));}, [h, g, _, y, w, u, T, x, C, O, function (t) {E("show", { show: !0 });}, function (t) {E("show", { show: !1 });}, M, S, B, function (t) {if (!("INPUT" === t.target.tagName || "TEXTAREA" === t.target.tagName)) {var n = !1;if ("function" == typeof window.getComputedStyle) {var e = window.getComputedStyle(t.target);"auto" !== e.overflow && "scroll" !== e.overflow || (n = !0);}if (!n) {var r = w.scrollTop,i = w.scrollHeight,a = r + w.offsetHeight;0 === r ? (o(4, w.scrollTop = 1, w), 0 === w.scrollTop && (L = !0)) : a === i && (o(4, w.scrollTop = r - 1, w), w.scrollTop === r && (L = !0));}}}, function (t) {L && t.preventDefault();}, function (t) {L = !1;}, function (t) {d && (I = w.scrollTop + w.offsetHeight >= w.scrollHeight - 50, k[_] = w.scrollTop);}, U, l, d, $, function (t) {o(0, h = t);}, function (t) {o(1, g = t);}, function (t) {return M(t.id);}, function (t, n, e) {return S(e, t.id, n);}, function (t) {a.VnY[t ? "unshift" : "push"](function () {o(4, w = t);});}, function (t, n, e) {return B(e, t.id, n);}];}var J = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, Y, z, a.N8, { theme: 5, disableScrolling: 20, show: 21, showSwitchButton: 0, switchButtonPosition: 1, activedPluginId: 2, pluginList: 3, divContent: 4 }, null, [-1, -1]), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "theme", get: function get() {return this.$$.ctx[5];}, set: function set(t) {this.$$set({ theme: t }), (0, a.yl1)();} }, { key: "disableScrolling", get: function get() {return this.$$.ctx[20];}, set: function set(t) {this.$$set({ disableScrolling: t }), (0, a.yl1)();} }, { key: "show", get: function get() {return this.$$.ctx[21];}, set: function set(t) {this.$$set({ show: t }), (0, a.yl1)();} }, { key: "showSwitchButton", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ showSwitchButton: t }), (0, a.yl1)();} }, { key: "switchButtonPosition", get: function get() {return this.$$.ctx[1];}, set: function set(t) {this.$$set({ switchButtonPosition: t }), (0, a.yl1)();} }, { key: "activedPluginId", get: function get() {return this.$$.ctx[2];}, set: function set(t) {this.$$set({ activedPluginId: t }), (0, a.yl1)();} }, { key: "pluginList", get: function get() {return this.$$.ctx[3];}, set: function set(t) {this.$$set({ pluginList: t }), (0, a.yl1)();} }, { key: "divContent", get: function get() {return this.$$.ctx[4];}, set: function set(t) {this.$$set({ divContent: t }), (0, a.yl1)();} }]), e;}(a.f_C),Q = J,tt = function () {function e(t, n) {void 0 === n && (n = "newPlugin"), this.isReady = !1, this.eventMap = new Map(), this.exporter = void 0, this._id = void 0, this._name = void 0, this._vConsole = void 0, this.id = t, this.name = n, this.isReady = !1;}var o = e.prototype;return o.on = function (t, n) {return this.eventMap.set(t, n), this;}, o.onRemove = function () {this.unbindExporter();}, o.trigger = function (t, n) {var e = this.eventMap.get(t);if ("function" == typeof e) e.call(this, n);else {var o = "on" + t.charAt(0).toUpperCase() + t.slice(1);"function" == typeof this[o] && this[o].call(this, n);}return this;}, o.bindExporter = function () {if (this._vConsole && this.exporter) {var t = "default" === this.id ? "log" : this.id;this._vConsole[t] = this.exporter;}}, o.unbindExporter = function () {var t = "default" === this.id ? "log" : this.id;this._vConsole && this._vConsole[t] && (this._vConsole[t] = void 0);}, o.getUniqueID = function (t) {return void 0 === t && (t = ""), (0, n.QI)(t);}, (0, t.Z)(e, [{ key: "id", get: function get() {return this._id;}, set: function set(t) {if ("string" != typeof t) throw "[vConsole] Plugin ID must be a string.";if (!t) throw "[vConsole] Plugin ID cannot be empty.";this._id = t.toLowerCase();} }, { key: "name", get: function get() {return this._name;}, set: function set(t) {if ("string" != typeof t) throw "[vConsole] Plugin name must be a string.";if (!t) throw "[vConsole] Plugin name cannot be empty.";this._name = t;} }, { key: "vConsole", get: function get() {return this._vConsole || void 0;}, set: function set(t) {if (!t) throw "[vConsole] vConsole cannot be empty";this._vConsole = t, this.bindExporter();} }]), e;}(),nt = function (t) {function n(n, e, o, r) {var i;return (i = t.call(this, n, e) || this).CompClass = void 0, i.compInstance = void 0, i.initialProps = void 0, i.CompClass = o, i.initialProps = r, i;}(0, i.Z)(n, t);var e = n.prototype;return e.onReady = function () {this.isReady = !0;}, e.onRenderTab = function (t) {var n = document.createElement("div"),e = this.compInstance = new this.CompClass({ target: n, props: this.initialProps });t(n.firstElementChild, e.options);}, e.onRemove = function () {t.prototype.onRemove && t.prototype.onRemove.call(this), this.compInstance && this.compInstance.$destroy();}, n;}(tt),et = __webpack_require__(8665),ot = __webpack_require__(9923);var rt = __webpack_require__(8702);function it(t) {var n, e;return (n = new rt.Z({ props: { name: t[0] ? "success" : "copy" } })).$on("click", t[1]), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: function p(t, e) {var o = {};1 & e[0] && (o.name = t[0] ? "success" : "copy"), n.$set(o);}, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function at(t, e, o) {var r = e.content,i = void 0 === r ? "" : r,a = e.handler,c = void 0 === a ? void 0 : a,u = { target: document.documentElement },s = !1;return t.$$set = function (t) {"content" in t && o(2, i = t.content), "handler" in t && o(3, c = t.handler);}, [s, function (t) {(function (t, n) {var e = (void 0 === n ? {} : n).target,o = void 0 === e ? document.body : e,r = document.createElement("textarea"),i = document.activeElement;r.value = t, r.setAttribute("readonly", ""), r.style.contain = "strict", r.style.position = "absolute", r.style.left = "-9999px", r.style.fontSize = "12pt";var a = document.getSelection(),c = !1;a.rangeCount > 0 && (c = a.getRangeAt(0)), o.append(r), r.select(), r.selectionStart = 0, r.selectionEnd = t.length;var u = !1;try {u = document.execCommand("copy");} catch (t) {}r.remove(), c && (a.removeAllRanges(), a.addRange(c)), i && i.focus();})(n.mf(c) ? c(i) || "" : n.Kn(i) || n.kJ(i) ? n.hZ(i, { maxDepth: 10, keyMaxLen: 1e4, pretty: !1, standardJSON: !0 }) : i, u), o(0, s = !0), setTimeout(function () {o(0, s = !1);}, 600);}, i, c];}var ct = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, at, it, a.N8, { content: 2, handler: 3 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "content", get: function get() {return this.$$.ctx[2];}, set: function set(t) {this.$$set({ content: t }), (0, a.yl1)();} }, { key: "handler", get: function get() {return this.$$.ctx[3];}, set: function set(t) {this.$$set({ handler: t }), (0, a.yl1)();} }]), e;}(a.f_C),ut = ct,st = __webpack_require__(845),lt = {};st.Z && st.Z.locals && (lt.locals = st.Z.locals);var ft,dt = 0,vt = {};vt.styleTagTransform = b(), vt.setAttributes = p(), vt.insert = v().bind(null, "head"), vt.domAPI = f(), vt.insertStyleElement = m(), lt.use = function (t) {return vt.options = t || {}, dt++ || (ft = s()(st.Z, vt)), lt;}, lt.unuse = function () {dt > 0 && ! --dt && (ft(), ft = null);};var ht = lt;function pt(t) {var e,o,r,i = n.rE(t[1]) + "";return { c: function c() {e = (0, a.bGB)("i"), o = (0, a.fLW)(i), r = (0, a.fLW)(":"), (0, a.Ljt)(e, "class", "vc-log-key"), (0, a.VHj)(e, "vc-log-key-symbol", "symbol" === t[2]), (0, a.VHj)(e, "vc-log-key-private", "private" === t[2]);}, m: function m(t, n) {(0, a.$Tr)(t, e, n), (0, a.R3I)(e, o), (0, a.$Tr)(t, r, n);}, p: function p(t, r) {2 & r && i !== (i = n.rE(t[1]) + "") && (0, a.rTO)(o, i), 4 & r && (0, a.VHj)(e, "vc-log-key-symbol", "symbol" === t[2]), 4 & r && (0, a.VHj)(e, "vc-log-key-private", "private" === t[2]);}, d: function d(t) {t && (0, a.ogt)(e), t && (0, a.ogt)(r);} };}function gt(t) {var n,e,o,r,i = void 0 !== t[1] && pt(t);return { c: function c() {i && i.c(), n = (0, a.DhX)(), e = (0, a.bGB)("i"), o = (0, a.fLW)(t[3]), (0, a.Ljt)(e, "class", r = "vc-log-val vc-log-val-" + t[4]), (0, a.Ljt)(e, "style", t[0]), (0, a.VHj)(e, "vc-log-val-haskey", void 0 !== t[1]);}, m: function m(t, r) {i && i.m(t, r), (0, a.$Tr)(t, n, r), (0, a.$Tr)(t, e, r), (0, a.R3I)(e, o);}, p: function p(t, c) {var u = c[0];void 0 !== t[1] ? i ? i.p(t, u) : ((i = pt(t)).c(), i.m(n.parentNode, n)) : i && (i.d(1), i = null), 8 & u && (0, a.rTO)(o, t[3]), 16 & u && r !== (r = "vc-log-val vc-log-val-" + t[4]) && (0, a.Ljt)(e, "class", r), 1 & u && (0, a.Ljt)(e, "style", t[0]), 18 & u && (0, a.VHj)(e, "vc-log-val-haskey", void 0 !== t[1]);}, i: a.ZTd, o: a.ZTd, d: function d(t) {i && i.d(t), t && (0, a.ogt)(n), t && (0, a.ogt)(e);} };}function mt(t, n, e) {var o = n.origData,r = n.style,i = void 0 === r ? "" : r,a = n.dataKey,u = void 0 === a ? void 0 : a,s = n.keyType,l = void 0 === s ? "" : s,f = "",d = "",v = !1;return (0, c.H3)(function () {ht.use();}), (0, c.ev)(function () {ht.unuse();}), t.$$set = function (t) {"origData" in t && e(5, o = t.origData), "style" in t && e(0, i = t.style), "dataKey" in t && e(1, u = t.dataKey), "keyType" in t && e(2, l = t.keyType);}, t.$$.update = function () {if (122 & t.$$.dirty) {e(6, v = void 0 !== u);var n = (0, et.LH)(o, v);e(4, d = n.valueType), e(3, f = n.text), v || "string" !== d || e(3, f = f.replace(/\\n/g, "\n").replace(/\\t/g, "    "));}}, [i, u, l, f, d, o, v];}var _t = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, mt, gt, a.AqN, { origData: 5, style: 0, dataKey: 1, keyType: 2 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "origData", get: function get() {return this.$$.ctx[5];}, set: function set(t) {this.$$set({ origData: t }), (0, a.yl1)();} }, { key: "style", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ style: t }), (0, a.yl1)();} }, { key: "dataKey", get: function get() {return this.$$.ctx[1];}, set: function set(t) {this.$$set({ dataKey: t }), (0, a.yl1)();} }, { key: "keyType", get: function get() {return this.$$.ctx[2];}, set: function set(t) {this.$$set({ keyType: t }), (0, a.yl1)();} }]), e;}(a.f_C),bt = _t,yt = __webpack_require__(1237),wt = {};yt.Z && yt.Z.locals && (wt.locals = yt.Z.locals);var Et,Lt = 0,Tt = {};Tt.styleTagTransform = b(), Tt.setAttributes = p(), Tt.insert = v().bind(null, "head"), Tt.domAPI = f(), Tt.insertStyleElement = m(), wt.use = function (t) {return Tt.options = t || {}, Lt++ || (Et = s()(yt.Z, Tt)), wt;}, wt.unuse = function () {Lt > 0 && ! --Lt && (Et(), Et = null);};var xt = wt;function Ct(t, n, e) {var o = t.slice();return o[19] = n[e], o[21] = e, o;}function Ot(t, n, e) {var o = t.slice();return o[19] = n[e], o;}function It(t, n, e) {var o = t.slice();return o[19] = n[e], o[21] = e, o;}function Dt(t) {for (var n, e, o, r, i, _c7, u, s = [], l = new Map(), f = [], d = new Map(), v = [], h = new Map(), _p4 = t[7], g = function g(t) {return t[19];}, m = 0; m < _p4.length; m += 1) {var _ = It(t, _p4, m),b = g(_);l.set(b, s[m] = $t(b, _));}for (var y = t[11] < t[7].length && kt(t), w = t[9], E = function E(t) {return t[19];}, L = 0; L < w.length; L += 1) {var T = Ot(t, w, L),x = E(T);d.set(x, f[L] = Pt(x, T));}for (var C = t[8], O = function O(t) {return t[19];}, I = 0; I < C.length; I += 1) {var D = Ct(t, C, I),R = O(D);h.set(R, v[I] = St(R, D));}var $ = t[12] < t[8].length && jt(t),k = t[10] && Bt(t);return { c: function c() {n = (0, a.bGB)("div");for (var t = 0; t < s.length; t += 1) {s[t].c();}e = (0, a.DhX)(), y && y.c(), o = (0, a.DhX)();for (var u = 0; u < f.length; u += 1) {f[u].c();}r = (0, a.DhX)();for (var l = 0; l < v.length; l += 1) {v[l].c();}i = (0, a.DhX)(), $ && $.c(), _c7 = (0, a.DhX)(), k && k.c(), (0, a.Ljt)(n, "class", "vc-log-tree-child");}, m: function m(t, l) {(0, a.$Tr)(t, n, l);for (var d = 0; d < s.length; d += 1) {s[d].m(n, null);}(0, a.R3I)(n, e), y && y.m(n, null), (0, a.R3I)(n, o);for (var h = 0; h < f.length; h += 1) {f[h].m(n, null);}(0, a.R3I)(n, r);for (var p = 0; p < v.length; p += 1) {v[p].m(n, null);}(0, a.R3I)(n, i), $ && $.m(n, null), (0, a.R3I)(n, _c7), k && k.m(n, null), u = !0;}, p: function p(t, u) {67721 & u && (_p4 = t[7], (0, a.dvw)(), s = (0, a.GQg)(s, u, g, 1, t, _p4, l, n, a.cly, $t, e, It), (0, a.gbL)()), t[11] < t[7].length ? y ? y.p(t, u) : ((y = kt(t)).c(), y.m(n, o)) : y && (y.d(1), y = null), 66057 & u && (w = t[9], (0, a.dvw)(), f = (0, a.GQg)(f, u, E, 1, t, w, d, n, a.cly, Pt, r, Ot), (0, a.gbL)()), 69897 & u && (C = t[8], (0, a.dvw)(), v = (0, a.GQg)(v, u, O, 1, t, C, h, n, a.cly, St, i, Ct), (0, a.gbL)()), t[12] < t[8].length ? $ ? $.p(t, u) : (($ = jt(t)).c(), $.m(n, _c7)) : $ && ($.d(1), $ = null), t[10] ? k ? (k.p(t, u), 1024 & u && (0, a.Ui)(k, 1)) : ((k = Bt(t)).c(), (0, a.Ui)(k, 1), k.m(n, null)) : k && ((0, a.dvw)(), (0, a.etI)(k, 1, 1, function () {k = null;}), (0, a.gbL)());}, i: function i(t) {if (!u) {for (var n = 0; n < _p4.length; n += 1) {(0, a.Ui)(s[n]);}for (var e = 0; e < w.length; e += 1) {(0, a.Ui)(f[e]);}for (var o = 0; o < C.length; o += 1) {(0, a.Ui)(v[o]);}(0, a.Ui)(k), u = !0;}}, o: function o(t) {for (var n = 0; n < s.length; n += 1) {(0, a.etI)(s[n]);}for (var e = 0; e < f.length; e += 1) {(0, a.etI)(f[e]);}for (var o = 0; o < v.length; o += 1) {(0, a.etI)(v[o]);}(0, a.etI)(k), u = !1;}, d: function d(t) {t && (0, a.ogt)(n);for (var e = 0; e < s.length; e += 1) {s[e].d();}y && y.d();for (var o = 0; o < f.length; o += 1) {f[o].d();}for (var r = 0; r < v.length; r += 1) {v[r].d();}$ && $.d(), k && k.d();} };}function Rt(t) {var n, e;return n = new Gt({ props: { origData: t[16](t[19]), dataKey: t[19], keyPath: t[3] + "." + t[19], toggle: t[0] } }), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: function p(t, e) {var o = {};128 & e && (o.origData = t[16](t[19])), 128 & e && (o.dataKey = t[19]), 136 & e && (o.keyPath = t[3] + "." + t[19]), 1 & e && (o.toggle = t[0]), n.$set(o);}, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function $t(t, n) {var e,o,r,_i = n[21] < n[11] && Rt(n);return { key: t, first: null, c: function c() {e = (0, a.cSb)(), _i && _i.c(), o = (0, a.cSb)(), this.first = e;}, m: function m(t, n) {(0, a.$Tr)(t, e, n), _i && _i.m(t, n), (0, a.$Tr)(t, o, n), r = !0;}, p: function p(t, e) {(n = t)[21] < n[11] ? _i ? (_i.p(n, e), 2176 & e && (0, a.Ui)(_i, 1)) : ((_i = Rt(n)).c(), (0, a.Ui)(_i, 1), _i.m(o.parentNode, o)) : _i && ((0, a.dvw)(), (0, a.etI)(_i, 1, 1, function () {_i = null;}), (0, a.gbL)());}, i: function i(t) {r || ((0, a.Ui)(_i), r = !0);}, o: function o(t) {(0, a.etI)(_i), r = !1;}, d: function d(t) {t && (0, a.ogt)(e), _i && _i.d(t), t && (0, a.ogt)(o);} };}function kt(t) {var n,e,o,r,i = t[14](t[7].length - t[11]) + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.fLW)(i), (0, a.Ljt)(n, "class", "vc-log-tree-loadmore");}, m: function m(i, c) {(0, a.$Tr)(i, n, c), (0, a.R3I)(n, e), o || (r = (0, a.oLt)(n, "click", t[17]), o = !0);}, p: function p(t, n) {2176 & n && i !== (i = t[14](t[7].length - t[11]) + "") && (0, a.rTO)(e, i);}, d: function d(t) {t && (0, a.ogt)(n), o = !1, r();} };}function Pt(t, n) {var e, _o4, r;return _o4 = new Gt({ props: { origData: n[16](n[19]), dataKey: String(n[19]), keyType: "symbol", keyPath: n[3] + "[" + String(n[19]) + "]", toggle: n[0] } }), { key: t, first: null, c: function c() {e = (0, a.cSb)(), (0, a.YCL)(_o4.$$.fragment), this.first = e;}, m: function m(t, n) {(0, a.$Tr)(t, e, n), (0, a.yef)(_o4, t, n), r = !0;}, p: function p(t, e) {n = t;var r = {};512 & e && (r.origData = n[16](n[19])), 512 & e && (r.dataKey = String(n[19])), 520 & e && (r.keyPath = n[3] + "[" + String(n[19]) + "]"), 1 & e && (r.toggle = n[0]), _o4.$set(r);}, i: function i(t) {r || ((0, a.Ui)(_o4.$$.fragment, t), r = !0);}, o: function o(t) {(0, a.etI)(_o4.$$.fragment, t), r = !1;}, d: function d(t) {t && (0, a.ogt)(e), (0, a.vpE)(_o4, t);} };}function Mt(t) {var n, e;return n = new Gt({ props: { origData: t[16](t[19]), dataKey: t[19], keyType: "private", keyPath: t[3] + "." + t[19], toggle: t[0] } }), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: function p(t, e) {var o = {};256 & e && (o.origData = t[16](t[19])), 256 & e && (o.dataKey = t[19]), 264 & e && (o.keyPath = t[3] + "." + t[19]), 1 & e && (o.toggle = t[0]), n.$set(o);}, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function St(t, n) {var e,o,r,_i2 = n[21] < n[12] && Mt(n);return { key: t, first: null, c: function c() {e = (0, a.cSb)(), _i2 && _i2.c(), o = (0, a.cSb)(), this.first = e;}, m: function m(t, n) {(0, a.$Tr)(t, e, n), _i2 && _i2.m(t, n), (0, a.$Tr)(t, o, n), r = !0;}, p: function p(t, e) {(n = t)[21] < n[12] ? _i2 ? (_i2.p(n, e), 4352 & e && (0, a.Ui)(_i2, 1)) : ((_i2 = Mt(n)).c(), (0, a.Ui)(_i2, 1), _i2.m(o.parentNode, o)) : _i2 && ((0, a.dvw)(), (0, a.etI)(_i2, 1, 1, function () {_i2 = null;}), (0, a.gbL)());}, i: function i(t) {r || ((0, a.Ui)(_i2), r = !0);}, o: function o(t) {(0, a.etI)(_i2), r = !1;}, d: function d(t) {t && (0, a.ogt)(e), _i2 && _i2.d(t), t && (0, a.ogt)(o);} };}function jt(t) {var n,e,o,r,i = t[14](t[8].length - t[12]) + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.fLW)(i), (0, a.Ljt)(n, "class", "vc-log-tree-loadmore");}, m: function m(i, c) {(0, a.$Tr)(i, n, c), (0, a.R3I)(n, e), o || (r = (0, a.oLt)(n, "click", t[18]), o = !0);}, p: function p(t, n) {4352 & n && i !== (i = t[14](t[8].length - t[12]) + "") && (0, a.rTO)(e, i);}, d: function d(t) {t && (0, a.ogt)(n), o = !1, r();} };}function Bt(t) {var n, e;return n = new Gt({ props: { origData: t[16]("__proto__"), dataKey: "__proto__", keyType: "private", keyPath: t[3] + ".__proto__", toggle: t[0] } }), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: function p(t, e) {var o = {};8 & e && (o.keyPath = t[3] + ".__proto__"), 1 & e && (o.toggle = t[0]), n.$set(o);}, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function At(t) {var n, e, _o5, r, _i3, c, u;_o5 = new bt({ props: { origData: t[1], dataKey: t[2], keyType: t[4] } });var s = t[6] && t[5] && Dt(t);return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), (0, a.YCL)(_o5.$$.fragment), r = (0, a.DhX)(), s && s.c(), (0, a.Ljt)(e, "class", "vc-log-tree-node"), (0, a.Ljt)(n, "class", "vc-log-tree"), (0, a.Ljt)(n, "data-keypath", t[3]), (0, a.VHj)(n, "vc-toggle", t[5]), (0, a.VHj)(n, "vc-is-tree", t[6]);}, m: function m(l, f) {(0, a.$Tr)(l, n, f), (0, a.R3I)(n, e), (0, a.yef)(_o5, e, null), (0, a.R3I)(n, r), s && s.m(n, null), _i3 = !0, c || (u = (0, a.oLt)(e, "click", (0, a.XET)(t[15])), c = !0);}, p: function p(t, e) {var r = e[0],c = {};2 & r && (c.origData = t[1]), 4 & r && (c.dataKey = t[2]), 16 & r && (c.keyType = t[4]), _o5.$set(c), t[6] && t[5] ? s ? (s.p(t, r), 96 & r && (0, a.Ui)(s, 1)) : ((s = Dt(t)).c(), (0, a.Ui)(s, 1), s.m(n, null)) : s && ((0, a.dvw)(), (0, a.etI)(s, 1, 1, function () {s = null;}), (0, a.gbL)()), (!_i3 || 8 & r) && (0, a.Ljt)(n, "data-keypath", t[3]), 32 & r && (0, a.VHj)(n, "vc-toggle", t[5]), 64 & r && (0, a.VHj)(n, "vc-is-tree", t[6]);}, i: function i(t) {_i3 || ((0, a.Ui)(_o5.$$.fragment, t), (0, a.Ui)(s), _i3 = !0);}, o: function o(t) {(0, a.etI)(_o5.$$.fragment, t), (0, a.etI)(s), _i3 = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(_o5), s && s.d(), c = !1, u();} };}function Ut(t, e, o) {var r,i,a,u = e.origData,s = e.dataKey,l = void 0 === s ? void 0 : s,f = e.keyPath,d = void 0 === f ? "" : f,v = e.keyType,h = void 0 === v ? "" : v,p = e.toggle,g = void 0 === p ? {} : p,m = !1,_ = !1,b = !1,y = 50,w = 50;(0, c.H3)(function () {xt.use();}), (0, c.ev)(function () {xt.unuse();});var E = function E(t) {"enum" === t ? o(11, y += 50) : "nonEnum" === t && o(12, w += 50);};return t.$$set = function (t) {"origData" in t && o(1, u = t.origData), "dataKey" in t && o(2, l = t.dataKey), "keyPath" in t && o(3, d = t.keyPath), "keyType" in t && o(4, h = t.keyType), "toggle" in t && o(0, g = t.toggle);}, t.$$.update = function () {1003 & t.$$.dirty && (o(5, m = g[d] || !1), o(6, _ = !(u instanceof et.Tg) && (n.kJ(u) || n.Kn(u))), _ && m && (o(7, r = r || n.qr(n.MH(u))), o(8, i = i || n.qr(n.QK(u))), o(9, a = a || n._D(u)), o(10, b = n.Kn(u) && -1 === i.indexOf("__proto__"))));}, [g, u, l, d, h, m, _, r, i, a, b, y, w, E, function (t) {return "(..." + t + " Key" + (t > 1 ? "s" : "") + " Left)";}, function () {o(5, m = !m), o(0, g[d] = m, g);}, function (t) {try {return u[t];} catch (t) {return new et.Tg();}}, function () {return E("enum");}, function () {return E("nonEnum");}];}var Gt = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, Ut, At, a.AqN, { origData: 1, dataKey: 2, keyPath: 3, keyType: 4, toggle: 0 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "origData", get: function get() {return this.$$.ctx[1];}, set: function set(t) {this.$$set({ origData: t }), (0, a.yl1)();} }, { key: "dataKey", get: function get() {return this.$$.ctx[2];}, set: function set(t) {this.$$set({ dataKey: t }), (0, a.yl1)();} }, { key: "keyPath", get: function get() {return this.$$.ctx[3];}, set: function set(t) {this.$$set({ keyPath: t }), (0, a.yl1)();} }, { key: "keyType", get: function get() {return this.$$.ctx[4];}, set: function set(t) {this.$$set({ keyType: t }), (0, a.yl1)();} }, { key: "toggle", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ toggle: t }), (0, a.yl1)();} }]), e;}(a.f_C),Nt = Gt,Vt = __webpack_require__(7147),Wt = {};Vt.Z && Vt.Z.locals && (Wt.locals = Vt.Z.locals);var Kt,Ht = 0,Ft = {};Ft.styleTagTransform = b(), Ft.setAttributes = p(), Ft.insert = v().bind(null, "head"), Ft.domAPI = f(), Ft.insertStyleElement = m(), Wt.use = function (t) {return Ft.options = t || {}, Ht++ || (Kt = s()(Vt.Z, Ft)), Wt;}, Wt.unuse = function () {Ht > 0 && ! --Ht && (Kt(), Kt = null);};var qt = Wt;function Zt(t, n, e) {var o = t.slice();return o[9] = n[e], o[11] = e, o;}function Xt(t, n, e) {var o = t.slice();return o[12] = n[e], o;}function zt(t) {for (var n, e, o, r, i, _c8, u, s, l, f, d, v, h, _p5 = [], g = new Map(), _m4 = t[0].groupLevel && Yt(t), _ = t[2] > 0 && Qt(t), b = t[1] && tn(t), y = t[0].repeated && nn(t), w = t[0].data, E = function E(t) {return t[11];}, L = 0; L < w.length; L += 1) {var T = Zt(t, w, L),x = E(T);g.set(x, _p5[L] = rn(x, T));}return l = new ut({ props: { handler: t[6] } }), { c: function c() {n = (0, a.bGB)("div"), _m4 && _m4.c(), e = (0, a.DhX)(), _ && _.c(), o = (0, a.DhX)(), b && b.c(), r = (0, a.DhX)(), y && y.c(), i = (0, a.DhX)(), _c8 = (0, a.bGB)("div");for (var d = 0; d < _p5.length; d += 1) {_p5[d].c();}u = (0, a.DhX)(), s = (0, a.bGB)("div"), (0, a.YCL)(l.$$.fragment), (0, a.Ljt)(_c8, "class", "vc-log-content"), (0, a.Ljt)(s, "class", "vc-logrow-icon"), (0, a.Ljt)(n, "class", f = "vc-log-row vc-log-" + t[0].type), (0, a.VHj)(n, "vc-log-input", "input" === t[0].cmdType), (0, a.VHj)(n, "vc-log-output", "output" === t[0].cmdType), (0, a.VHj)(n, "vc-log-group", t[2] > 0), (0, a.VHj)(n, "vc-toggle", 1 === t[2]);}, m: function m(f, g) {(0, a.$Tr)(f, n, g), _m4 && _m4.m(n, null), (0, a.R3I)(n, e), _ && _.m(n, null), (0, a.R3I)(n, o), b && b.m(n, null), (0, a.R3I)(n, r), y && y.m(n, null), (0, a.R3I)(n, i), (0, a.R3I)(n, _c8);for (var w = 0; w < _p5.length; w += 1) {_p5[w].m(_c8, null);}(0, a.R3I)(n, u), (0, a.R3I)(n, s), (0, a.yef)(l, s, null), d = !0, v || (h = (0, a.oLt)(n, "click", t[5]), v = !0);}, p: function p(t, u) {t[0].groupLevel ? _m4 ? _m4.p(t, u) : ((_m4 = Yt(t)).c(), _m4.m(n, e)) : _m4 && (_m4.d(1), _m4 = null), t[2] > 0 ? _ || ((_ = Qt(t)).c(), _.m(n, o)) : _ && (_.d(1), _ = null), t[1] ? b ? b.p(t, u) : ((b = tn(t)).c(), b.m(n, r)) : b && (b.d(1), b = null), t[0].repeated ? y ? y.p(t, u) : ((y = nn(t)).c(), y.m(n, i)) : y && (y.d(1), y = null), 17 & u && (w = t[0].data, (0, a.dvw)(), _p5 = (0, a.GQg)(_p5, u, E, 1, t, w, g, _c8, a.cly, rn, null, Zt), (0, a.gbL)()), (!d || 1 & u && f !== (f = "vc-log-row vc-log-" + t[0].type)) && (0, a.Ljt)(n, "class", f), 1 & u && (0, a.VHj)(n, "vc-log-input", "input" === t[0].cmdType), 1 & u && (0, a.VHj)(n, "vc-log-output", "output" === t[0].cmdType), 5 & u && (0, a.VHj)(n, "vc-log-group", t[2] > 0), 5 & u && (0, a.VHj)(n, "vc-toggle", 1 === t[2]);}, i: function i(t) {if (!d) {for (var n = 0; n < w.length; n += 1) {(0, a.Ui)(_p5[n]);}(0, a.Ui)(l.$$.fragment, t), d = !0;}}, o: function o(t) {for (var n = 0; n < _p5.length; n += 1) {(0, a.etI)(_p5[n]);}(0, a.etI)(l.$$.fragment, t), d = !1;}, d: function d(t) {t && (0, a.ogt)(n), _m4 && _m4.d(), _ && _.d(), b && b.d(), y && y.d();for (var e = 0; e < _p5.length; e += 1) {_p5[e].d();}(0, a.vpE)(l), v = !1, h();} };}function Yt(t) {for (var n, e = new Array(t[0].groupLevel), o = [], r = 0; r < e.length; r += 1) {o[r] = Jt(Xt(t, e, r));}return { c: function c() {for (var t = 0; t < o.length; t += 1) {o[t].c();}n = (0, a.cSb)();}, m: function m(t, e) {for (var r = 0; r < o.length; r += 1) {o[r].m(t, e);}(0, a.$Tr)(t, n, e);}, p: function p(t, r) {if (1 & r) {var i;for (e = new Array(t[0].groupLevel), i = 0; i < e.length; i += 1) {var a = Xt(t, e, i);o[i] ? o[i].p(a, r) : (o[i] = Jt(a), o[i].c(), o[i].m(n.parentNode, n));}for (; i < o.length; i += 1) {o[i].d(1);}o.length = e.length;}}, d: function d(t) {(0, a.RMB)(o, t), t && (0, a.ogt)(n);} };}function Jt(t) {var n;return { c: function c() {n = (0, a.bGB)("i"), (0, a.Ljt)(n, "class", "vc-log-padding");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, p: a.ZTd, d: function d(t) {t && (0, a.ogt)(n);} };}function Qt(t) {var n;return { c: function c() {n = (0, a.bGB)("div"), (0, a.Ljt)(n, "class", "vc-log-group-toggle");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function tn(t) {var n, e;return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.fLW)(t[3]), (0, a.Ljt)(n, "class", "vc-log-time");}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, p: function p(t, n) {8 & n && (0, a.rTO)(e, t[3]);}, d: function d(t) {t && (0, a.ogt)(n);} };}function nn(t) {var n,e,o,r = t[0].repeated + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("i"), o = (0, a.fLW)(r), (0, a.Ljt)(n, "class", "vc-log-repeat");}, m: function m(t, r) {(0, a.$Tr)(t, n, r), (0, a.R3I)(n, e), (0, a.R3I)(e, o);}, p: function p(t, n) {1 & n && r !== (r = t[0].repeated + "") && (0, a.rTO)(o, r);}, d: function d(t) {t && (0, a.ogt)(n);} };}function en(t) {var n, e;return n = new bt({ props: { origData: t[9].origData, style: t[9].style } }), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: function p(t, e) {var o = {};1 & e && (o.origData = t[9].origData), 1 & e && (o.style = t[9].style), n.$set(o);}, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function on(t) {var n, e;return n = new Nt({ props: { origData: t[9].origData, keyPath: String(t[11]), toggle: t[0].toggle } }), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: function p(t, e) {var o = {};1 & e && (o.origData = t[9].origData), 1 & e && (o.keyPath = String(t[11])), 1 & e && (o.toggle = t[0].toggle), n.$set(o);}, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function rn(t, n) {var e,o,r,_i4,_c9,u,s = [on, en],l = [];function f(t, n) {return 1 & n && (o = null), null == o && (o = !!t[4](t[9].origData)), o ? 0 : 1;}return r = f(n, -1), _i4 = l[r] = s[r](n), { key: t, first: null, c: function c() {e = (0, a.cSb)(), _i4.c(), _c9 = (0, a.cSb)(), this.first = e;}, m: function m(t, n) {(0, a.$Tr)(t, e, n), l[r].m(t, n), (0, a.$Tr)(t, _c9, n), u = !0;}, p: function p(t, e) {var o = r;(r = f(n = t, e)) === o ? l[r].p(n, e) : ((0, a.dvw)(), (0, a.etI)(l[o], 1, 1, function () {l[o] = null;}), (0, a.gbL)(), (_i4 = l[r]) ? _i4.p(n, e) : (_i4 = l[r] = s[r](n)).c(), (0, a.Ui)(_i4, 1), _i4.m(_c9.parentNode, _c9));}, i: function i(t) {u || ((0, a.Ui)(_i4), u = !0);}, o: function o(t) {(0, a.etI)(_i4), u = !1;}, d: function d(t) {t && (0, a.ogt)(e), l[r].d(t), t && (0, a.ogt)(_c9);} };}function an(t) {var n,e,_o6 = t[0] && zt(t);return { c: function c() {_o6 && _o6.c(), n = (0, a.cSb)();}, m: function m(t, r) {_o6 && _o6.m(t, r), (0, a.$Tr)(t, n, r), e = !0;}, p: function p(t, e) {var r = e[0];t[0] ? _o6 ? (_o6.p(t, r), 1 & r && (0, a.Ui)(_o6, 1)) : ((_o6 = zt(t)).c(), (0, a.Ui)(_o6, 1), _o6.m(n.parentNode, n)) : _o6 && ((0, a.dvw)(), (0, a.etI)(_o6, 1, 1, function () {_o6 = null;}), (0, a.gbL)());}, i: function i(t) {e || ((0, a.Ui)(_o6), e = !0);}, o: function o(t) {(0, a.etI)(_o6), e = !1;}, d: function d(t) {_o6 && _o6.d(t), t && (0, a.ogt)(n);} };}function cn(t, e, o) {var r = e.log,i = e.showTimestamps,a = void 0 !== i && i,u = e.groupHeader,s = void 0 === u ? 0 : u,l = (0, c.x)(),f = "",d = function d(t, n) {var e = "000" + t;return e.substring(e.length - n);};(0, c.H3)(function () {qt.use();}), (0, c.ev)(function () {qt.unuse();});return t.$$set = function (t) {"log" in t && o(0, r = t.log), "showTimestamps" in t && o(1, a = t.showTimestamps), "groupHeader" in t && o(2, s = t.groupHeader);}, t.$$.update = function () {if (3 & t.$$.dirty && a) {var n = new Date(r.date);o(3, f = d(n.getHours(), 2) + ":" + d(n.getMinutes(), 2) + ":" + d(n.getSeconds(), 2) + ":" + d(n.getMilliseconds(), 3));}}, [r, a, s, f, function (t) {return !(t instanceof et.Tg) && (n.kJ(t) || n.Kn(t));}, function () {s > 0 && l("groupCollapsed", { groupLabel: r.groupLabel, groupHeader: 1 === s ? 2 : 1, isGroupCollapsed: 1 === s });}, function () {var t = [];try {for (var e = 0; e < r.data.length; e++) {n.HD(r.data[e].origData) || n.hj(r.data[e].origData) ? t.push(r.data[e].origData) : t.push(n.hZ(r.data[e].origData, { maxDepth: 10, keyMaxLen: 1e4, pretty: !1, standardJSON: !0 }));}} catch (t) {}return t.join(" ");}];}var un = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, cn, an, a.AqN, { log: 0, showTimestamps: 1, groupHeader: 2 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "log", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ log: t }), (0, a.yl1)();} }, { key: "showTimestamps", get: function get() {return this.$$.ctx[1];}, set: function set(t) {this.$$set({ showTimestamps: t }), (0, a.yl1)();} }, { key: "groupHeader", get: function get() {return this.$$.ctx[2];}, set: function set(t) {this.$$set({ groupHeader: t }), (0, a.yl1)();} }]), e;}(a.f_C),sn = un,ln = __webpack_require__(3903),fn = __webpack_require__(3327),dn = {};fn.Z && fn.Z.locals && (dn.locals = fn.Z.locals);var vn,hn = 0,pn = {};pn.styleTagTransform = b(), pn.setAttributes = p(), pn.insert = v().bind(null, "head"), pn.domAPI = f(), pn.insertStyleElement = m(), dn.use = function (t) {return pn.options = t || {}, hn++ || (vn = s()(fn.Z, pn)), dn;}, dn.unuse = function () {hn > 0 && ! --hn && (vn(), vn = null);};var gn = dn,mn = __webpack_require__(4264),_n = __webpack_require__.n(mn);function bn(t) {var n,e,o = t[1] + "px",r = t[5].default,_i5 = (0, a.nuO)(r, t, t[4], null);return { c: function c() {n = (0, a.bGB)("div"), _i5 && _i5.c(), (0, a.Ljt)(n, "class", "vc-scroller-item"), (0, a.czc)(n, "display", t[0] ? "block" : "none", !1), (0, a.czc)(n, "top", o, !1);}, m: function m(o, r) {(0, a.$Tr)(o, n, r), _i5 && _i5.m(n, null), t[6](n), e = !0;}, p: function p(t, c) {var u = c[0];_i5 && _i5.p && (!e || 16 & u) && (0, a.kmG)(_i5, r, t, t[4], e ? (0, a.u2N)(r, t[4], u, null) : (0, a.VOJ)(t[4]), null), 1 & u && (0, a.czc)(n, "display", t[0] ? "block" : "none", !1), 2 & u && o !== (o = t[1] + "px") && (0, a.czc)(n, "top", o, !1);}, i: function i(t) {e || ((0, a.Ui)(_i5, t), e = !0);}, o: function o(t) {(0, a.etI)(_i5, t), e = !1;}, d: function d(e) {e && (0, a.ogt)(n), _i5 && _i5.d(e), t[6](null);} };}function yn(t, n, e) {var o,r = n.$$slots,i = void 0 === r ? {} : r,u = n.$$scope,s = n.show,l = n.top,f = n.onResize,d = void 0 === f ? function () {} : f,v = null;return (0, c.H3)(function () {s && d(o.getBoundingClientRect().height), (v = new ResizeObserver(function (t) {var n = t[0];s && d(n.contentRect.height);})).observe(o);}), (0, c.ev)(function () {v.disconnect();}), t.$$set = function (t) {"show" in t && e(0, s = t.show), "top" in t && e(1, l = t.top), "onResize" in t && e(3, d = t.onResize), "$$scope" in t && e(4, u = t.$$scope);}, [s, l, o, d, u, i, function (t) {a.VnY[t ? "unshift" : "push"](function () {e(2, o = t);});}];}var wn = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, yn, bn, a.N8, { show: 0, top: 1, onResize: 3 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "show", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ show: t }), (0, a.yl1)();} }, { key: "top", get: function get() {return this.$$.ctx[1];}, set: function set(t) {this.$$set({ top: t }), (0, a.yl1)();} }, { key: "onResize", get: function get() {return this.$$.ctx[3];}, set: function set(t) {this.$$set({ onResize: t }), (0, a.yl1)();} }]), e;}(a.f_C),En = wn,Ln = function () {function t() {this._x = 0, this._endX = 0, this._v = 0, this._startTime = 0, this._endTime = 0;}var n = t.prototype;return n.set = function (t, n, e, o) {this._x = t, this._endX = n, this._v = (n - t) / e, this._startTime = o || Date.now(), this._endTime = this._startTime + e;}, n.x = function (t) {if (this.done(t)) return this._endX;var n = t - this._startTime;return this._x + this._v * n;}, n.dx = function (t) {return this.done(t) ? 0 : this._v;}, n.done = function (t) {return t >= this._endTime;}, t;}(),Tn = function () {function t(t) {this._drag = void 0, this._dragLog = void 0, this._x = 0, this._v = 0, this._startTime = 0, this._drag = t, this._dragLog = Math.log(t);}var n = t.prototype;return n.set = function (t, n, e) {this._x = t, this._v = n, this._startTime = e || Date.now();}, n.x = function (t) {var n = (t - this._startTime) / 1e3;return this._x + this._v * Math.pow(this._drag, n) / this._dragLog - this._v / this._dragLog;}, n.dx = function (t) {var n = (t - this._startTime) / 1e3;return this._v * Math.pow(this._drag, n);}, n.done = function (t) {return Math.abs(this.dx(t)) < 3;}, t;}(),xn = function xn(t, n) {return t > n - .1 && t < n + .1;},Cn = function Cn(t) {return xn(t, 0);},On = function () {function t(t, n, e) {this._solver = void 0, this._solution = void 0, this._endPosition = void 0, this._startTime = void 0, this._solver = function (t, n, e) {var o = e,r = t,i = n,a = o * o - 4 * r * i;if (0 == a) {var c = -o / (2 * r);return function (t, n) {var e = t,o = n / (c * t);return { x: function x(t) {return (e + o * t) * Math.pow(Math.E, c * t);}, dx: function dx(t) {return (c * (e + o * t) + o) * Math.pow(Math.E, c * t);} };};}if (a > 0) {var u = (-o - Math.sqrt(a)) / (2 * r),s = (-o + Math.sqrt(a)) / (2 * r);return function (t, n) {var e = (n - u * t) / (s - u),o = t - e;return { x: function x(t) {return o * Math.pow(Math.E, u * t) + e * Math.pow(Math.E, s * t);}, dx: function dx(t) {return o * u * Math.pow(Math.E, u * t) + e * s * Math.pow(Math.E, s * t);} };};}var l = Math.sqrt(4 * r * i - o * o) / (2 * r),f = -o / 2 * r;return function (t, n) {var e = t,o = (n - f * t) / l;return { x: function x(t) {return Math.pow(Math.E, f * t) * (e * Math.cos(l * t) + o * Math.sin(l * t));}, dx: function dx(t) {var n = Math.pow(Math.E, f * t),r = Math.cos(l * t),i = Math.sin(l * t);return n * (o * l * r - e * l * i) + f * n * (o * i + e * r);} };};}(t, n, e), this._solution = null, this._endPosition = 0, this._startTime = 0;}var n = t.prototype;return n.x = function (t) {if (!this._solution) return 0;var n = (t - this._startTime) / 1e3;return this._endPosition + this._solution.x(n);}, n.dx = function (t) {if (!this._solution) return 0;var n = (t - this._startTime) / 1e3;return this._solution.dx(n);}, n.set = function (t, n, e, o) {o || (o = Date.now()), this._endPosition = t, n == t && Cn(e) || (this._solution = this._solver(n - t, e), this._startTime = o);}, n.done = function (t) {return t || (t = Date.now()), xn(this.x(t), this._endPosition) && Cn(this.dx(t));}, t;}(),In = function () {function t(t, n) {this._enableSpring = n, this._getExtend = void 0, this._friction = new Tn(.05), this._spring = new On(1, 90, 20), this._toEdge = !1, this._getExtend = t;}var n = t.prototype;return n.set = function (t, n, e) {if (void 0 === e && (e = Date.now()), this._friction.set(t, n, e), t > 0 && n >= 0) this._toEdge = !0, this._enableSpring && this._spring.set(0, t, n, e);else {var o = this._getExtend();t < -o && n <= 0 ? (this._toEdge = !0, this._enableSpring && this._spring.set(-o, t, n, e)) : this._toEdge = !1;}}, n.x = function (t) {if (this._enableSpring && this._toEdge) return this._spring.x(t);var n = this._friction.x(t),e = this._friction.dx(t);if (n > 0 && e >= 0) {if (this._toEdge = !0, !this._enableSpring) return 0;this._spring.set(0, n, e, t);} else {var o = this._getExtend();if (n < -o && e <= 0) {if (this._toEdge = !0, !this._enableSpring) return -o;this._spring.set(-o, n, e, t);}}return n;}, n.dx = function (t) {return this._toEdge ? this._enableSpring ? this._spring.dx(t) : 0 : this._friction.dx(t);}, n.done = function (t) {return this._toEdge ? !this._enableSpring || this._spring.done(t) : this._friction.done(t);}, t;}();function Dn(t, n) {var e, o;return function r() {if (!o) {var i = Date.now();n(i), t.done(i) || (e = requestAnimationFrame(r));}}(), { cancel: function cancel() {cancelAnimationFrame(e), o = !0;} };}var Rn = function () {function t(t, n) {this._updatePosition = n, this._scrollModel = void 0, this._linearModel = void 0, this._startPosition = 0, this._position = 0, this._animate = null, this._getExtent = void 0, this._getExtent = t, this._scrollModel = new In(t, !1), this._linearModel = new Ln();}var n = t.prototype;return n.onTouchStart = function () {var t = this._position;if (t > 0) t *= 0;else {var n = this._getExtent();t < -n && (t = 0 * (t + n) - n);}this._startPosition = this._position = t, this._animate && (this._animate.cancel(), this._animate = null), this._updatePosition(-t);}, n.onTouchMove = function (t, n) {var e = n + this._startPosition;if (e > 0) e *= 0;else {var o = this._getExtent();e < -o && (e = 0 * (e + o) - o);}this._position = e, this._updatePosition(-e);}, n.onTouchEnd = function (t, n, e, o) {var r = this,i = n + this._startPosition;if (i > 0) i *= 0;else {var a = this._getExtent();i < -a && (i = 0 * (i + a) - a);}if (this._position = i, this._updatePosition(-i), !(Math.abs(n) <= .1 && Math.abs(o) <= .1)) {var c = this._scrollModel;c.set(i, o), this._animate = Dn(c, function (t) {var n = r._position = c.x(t);r._updatePosition(-n);});}}, n.onTouchCancel = function () {var t = this,n = this._position;if (n > 0) n *= 0;else {var e = this._getExtent();n < -e && (n = 0 * (n + e) - e);}this._position = n;var o = this._scrollModel;o.set(n, 0), this._animate = Dn(o, function (n) {var e = t._position = o.x(n);t._updatePosition(-e);});}, n.onWheel = function (t, n) {var e = this._position - n;if (this._animate && (this._animate.cancel(), this._animate = null), e > 0) e = 0;else {var o = this._getExtent();e < -o && (e = -o);}this._position = e, this._updatePosition(-e);}, n.getPosition = function () {return -this._position;}, n.updatePosition = function (t) {var n = -t - this._position;this._startPosition += n, this._position += n;var e = this._position;this._updatePosition(-e);var o = this._scrollModel,r = Date.now();if (!o.done(r)) {var i = o.dx(r);o.set(e, i, r);}}, n.scrollTo = function (t, n) {var e = this;if (this._animate && (this._animate.cancel(), this._animate = null), n > 0) {var o = this._linearModel;o.set(this._position, -t, n), this._animate = Dn(this._linearModel, function (t) {var n = e._position = o.x(t);e._updatePosition(-n);});} else this._updatePosition(t);}, t;}();function $n(t, n) {var e = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];if (e) return (e = e.call(t)).next.bind(e);if (Array.isArray(t) || (e = function (t, n) {if (!t) return;if ("string" == typeof t) return kn(t, n);var e = Object.prototype.toString.call(t).slice(8, -1);"Object" === e && t.constructor && (e = t.constructor.name);if ("Map" === e || "Set" === e) return Array.from(t);if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return kn(t, n);}(t)) || n && t && "number" == typeof t.length) {e && (t = e);var o = 0;return function () {return o >= t.length ? { done: !0 } : { done: !1, value: t[o++] };};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function kn(t, n) {(null == n || n > t.length) && (n = t.length);for (var e = 0, o = new Array(n); e < n; e++) {o[e] = t[e];}return o;}var Pn = function Pn(t) {var n = null,e = !1,o = function o() {e = !1, t(), n = requestAnimationFrame(function () {n = null, e && o();});};return { trigger: function trigger() {null === n ? o() : e = !0;}, cancel: function cancel() {n && (cancelAnimationFrame(n), e = !1, n = null);} };},Mn = function () {function t(t) {var n = this;this._handler = t, this._touchId = null, this._startX = 0, this._startY = 0, this._historyX = [], this._historyY = [], this._historyTime = [], this._wheelDeltaX = 0, this._wheelDeltaY = 0, this._onTouchMove = function () {var t = n._historyX[n._historyX.length - 1],e = n._historyY[n._historyY.length - 1];n._handler.onTouchMove(t, e);}, this._onWheel = Pn(function () {var t = n._wheelDeltaX,e = n._wheelDeltaY;n._wheelDeltaX = 0, n._wheelDeltaY = 0, n._handler.onWheel(t, e);}), this.handleTouchStart = function (t) {var e;if ("1" !== (null == (e = t.target.dataset) ? void 0 : e.scrollable)) {t.preventDefault();var o = t.touches[0];n._touchId = o.identifier, n._startX = o.pageX, n._startY = o.pageY, n._historyX = [0], n._historyY = [0], n._historyTime = [Date.now()], n._handler.onTouchStart();}}, this.handleTouchMove = function (t) {var e;if ("1" !== (null == (e = t.target.dataset) ? void 0 : e.scrollable)) {t.preventDefault();var o = n._getTouchDelta(t);null !== o && (n._historyX.push(o.x), n._historyY.push(o.y), n._historyTime.push(Date.now()), n._onTouchMove());}}, this.handleTouchEnd = function (t) {var e;if ("1" !== (null == (e = t.target.dataset) ? void 0 : e.scrollable)) {t.preventDefault();var o = n._getTouchDelta(t);if (null !== o) {for (var r = 0, i = 0, a = Date.now(), c = o.y, u = o.x, s = n._historyTime, l = s.length - 1; l > 0; l -= 1) {var f = a - s[l];if (f > 30) {r = 1e3 * (u - n._historyX[l]) / f, i = 1e3 * (c - n._historyY[l]) / f;break;}}n._touchId = null, n._handler.onTouchEnd(o.x, o.y, r, i);}}}, this.handleTouchCancel = function (t) {var e;"1" !== (null == (e = t.target.dataset) ? void 0 : e.scrollable) && (t.preventDefault(), null !== n._getTouchDelta(t) && (n._touchId = null, n._handler.onTouchCancel()));}, this.handleWheel = function (t) {var e;"1" !== (null == (e = t.target.dataset) ? void 0 : e.scrollable) && (t.preventDefault(), n._wheelDeltaX += t.deltaX, n._wheelDeltaY += t.deltaY, n._onWheel.trigger());};}return t.prototype._getTouchDelta = function (t) {if (null === this._touchId) return null;for (var n, e = $n(t.changedTouches); !(n = e()).done;) {var o = n.value;if (o.identifier === this._touchId) return { x: o.pageX - this._startX, y: o.pageY - this._startY };}return null;}, t;}(),Sn = __webpack_require__(1142),jn = {};Sn.Z && Sn.Z.locals && (jn.locals = Sn.Z.locals);var Bn,An = 0,Un = {};Un.styleTagTransform = b(), Un.setAttributes = p(), Un.insert = v().bind(null, "head"), Un.domAPI = f(), Un.insertStyleElement = m(), jn.use = function (t) {return Un.options = t || {}, An++ || (Bn = s()(Sn.Z, Un)), jn;}, jn.unuse = function () {An > 0 && ! --An && (Bn(), Bn = null);};var Gn = jn,Nn = function Nn() {var t = [],n = [],e = 0,o = 0,r = 0,i = 0,a = 0;return function (c, u, s) {if (r === c && i === u && a === s) return t;var l = n.length,f = u <= o ? Math.max(0, Math.min(u, Math.max(e, Math.min(o - 1, s - l)))) : u,d = e <= s ? Math.max(s, Math.min(c, Math.max(e + 1, Math.min(o, f + l)))) : s;if (0 === l || d - f < l) {for (var v = t.length = n.length = s - u, h = 0; h < v; h += 1) {n[h] = h, t[h] = { key: h, index: h + u, show: !0 };}return e = u, o = s, r = c, i = u, a = s, t;}var p = 0,g = 0,m = 0,_ = 0;o < f || d < e ? (m = f, _ = f + l) : e < f ? (g = f - e, m = f, _ = f + l) : d < o ? (g = l - (o - d), m = d - l, _ = d) : f <= e && o <= d && (m = e, _ = o);for (var b = f; b < u; b += 1, p += 1) {var y = n[(g + p) % l],w = t[b - f];w.key = y, w.index = b, w.show = !1;}for (var E = u, L = 0; E < s; E += 1) {var T = void 0;m <= E && E < _ ? (T = n[(g + p) % l], p += 1) : (T = l + L, L += 1);var x = E - f;if (x < t.length) {var C = t[x];C.key = T, C.index = E, C.show = !0;} else t.push({ key: T, index: E, show: !0 });}for (var O = s; O < d; O += 1, p += 1) {var I = n[(g + p) % l],D = t[O - f];D.key = I, D.index = O, D.show = !1;}for (var R = 0; R < t.length; R += 1) {n[R] = t[R].key;}return t.sort(function (t, n) {return t.key - n.key;}), e = f, o = d, r = c, i = u, a = s, t;};},Vn = a.lig.Map,Wn = function Wn(t) {return {};},Kn = function Kn(t) {return {};},Hn = function Hn(t) {return {};},Fn = function Fn(t) {return {};};function qn(t, n, e) {var o = t.slice();return o[48] = n[e], o[50] = e, o;}var Zn = function Zn(t) {return { item: 1025 & t[0] };},Xn = function Xn(t) {return { item: t[0][t[48].index] };},zn = function zn(t) {return {};},Yn = function Yn(t) {return {};};function Jn(t) {var n,e,o = t[22].header,r = (0, a.nuO)(o, t, t[29], Yn);return { c: function c() {n = (0, a.bGB)("div"), r && r.c(), (0, a.Ljt)(n, "class", "vc-scroller-header");}, m: function m(o, i) {(0, a.$Tr)(o, n, i), r && r.m(n, null), t[23](n), e = !0;}, p: function p(t, n) {r && r.p && (!e || 536870912 & n[0]) && (0, a.kmG)(r, o, t, t[29], e ? (0, a.u2N)(o, t[29], n, zn) : (0, a.VOJ)(t[29]), Yn);}, i: function i(t) {e || ((0, a.Ui)(r, t), e = !0);}, o: function o(t) {(0, a.etI)(r, t), e = !1;}, d: function d(e) {e && (0, a.ogt)(n), r && r.d(e), t[23](null);} };}function Qn(t) {var n,e = t[22].empty,_o7 = (0, a.nuO)(e, t, t[29], Fn);return { c: function c() {_o7 && _o7.c();}, m: function m(t, e) {_o7 && _o7.m(t, e), n = !0;}, p: function p(t, r) {_o7 && _o7.p && (!n || 536870912 & r[0]) && (0, a.kmG)(_o7, e, t, t[29], n ? (0, a.u2N)(e, t[29], r, Hn) : (0, a.VOJ)(t[29]), Fn);}, i: function i(t) {n || ((0, a.Ui)(_o7, t), n = !0);}, o: function o(t) {(0, a.etI)(_o7, t), n = !1;}, d: function d(t) {_o7 && _o7.d(t);} };}function te(t) {for (var n, e, _o8 = [], r = new Vn(), _i6 = t[10], c = function c(t) {return t[48].key;}, u = 0; u < _i6.length; u += 1) {var s = qn(t, _i6, u),l = c(s);r.set(l, _o8[u] = ee(l, s));}return { c: function c() {for (var t = 0; t < _o8.length; t += 1) {_o8[t].c();}n = (0, a.cSb)();}, m: function m(t, r) {for (var i = 0; i < _o8.length; i += 1) {_o8[i].m(t, r);}(0, a.$Tr)(t, n, r), e = !0;}, p: function p(t, e) {536874497 & e[0] && (_i6 = t[10], (0, a.dvw)(), _o8 = (0, a.GQg)(_o8, e, c, 1, t, _i6, r, n.parentNode, a.cly, ee, n, qn), (0, a.gbL)());}, i: function i(t) {if (!e) {for (var n = 0; n < _i6.length; n += 1) {(0, a.Ui)(_o8[n]);}e = !0;}}, o: function o(t) {for (var n = 0; n < _o8.length; n += 1) {(0, a.etI)(_o8[n]);}e = !1;}, d: function d(t) {for (var e = 0; e < _o8.length; e += 1) {_o8[e].d(t);}t && (0, a.ogt)(n);} };}function ne(t) {var n,e,o = t[22].item,r = (0, a.nuO)(o, t, t[29], Xn),_i7 = r || function (t) {var n;return { c: function c() {n = (0, a.fLW)("Missing template");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}();return { c: function c() {_i7 && _i7.c(), n = (0, a.DhX)();}, m: function m(t, o) {_i7 && _i7.m(t, o), (0, a.$Tr)(t, n, o), e = !0;}, p: function p(t, n) {r && r.p && (!e || 536871937 & n[0]) && (0, a.kmG)(r, o, t, t[29], e ? (0, a.u2N)(o, t[29], n, Zn) : (0, a.VOJ)(t[29]), Xn);}, i: function i(t) {e || ((0, a.Ui)(_i7, t), e = !0);}, o: function o(t) {(0, a.etI)(_i7, t), e = !1;}, d: function d(t) {_i7 && _i7.d(t), t && (0, a.ogt)(n);} };}function ee(t, n) {var e, _o9, r;function i() {for (var t, e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}return (t = n)[24].apply(t, [n[48]].concat(o));}return _o9 = new En({ props: { show: n[48].show, top: n[9][n[48].index], onResize: i, $$slots: { default: [ne] }, $$scope: { ctx: n } } }), { key: t, first: null, c: function c() {e = (0, a.cSb)(), (0, a.YCL)(_o9.$$.fragment), this.first = e;}, m: function m(t, n) {(0, a.$Tr)(t, e, n), (0, a.yef)(_o9, t, n), r = !0;}, p: function p(t, e) {n = t;var r = {};1024 & e[0] && (r.show = n[48].show), 1536 & e[0] && (r.top = n[9][n[48].index]), 1024 & e[0] && (r.onResize = i), 536871937 & e[0] && (r.$$scope = { dirty: e, ctx: n }), _o9.$set(r);}, i: function i(t) {r || ((0, a.Ui)(_o9.$$.fragment, t), r = !0);}, o: function o(t) {(0, a.etI)(_o9.$$.fragment, t), r = !1;}, d: function d(t) {t && (0, a.ogt)(e), (0, a.vpE)(_o9, t);} };}function oe(t) {var n,e,o = t[22].footer,r = (0, a.nuO)(o, t, t[29], Kn);return { c: function c() {n = (0, a.bGB)("div"), r && r.c(), (0, a.Ljt)(n, "class", "vc-scroller-footer");}, m: function m(o, i) {(0, a.$Tr)(o, n, i), r && r.m(n, null), t[26](n), e = !0;}, p: function p(t, n) {r && r.p && (!e || 536870912 & n[0]) && (0, a.kmG)(r, o, t, t[29], e ? (0, a.u2N)(o, t[29], n, Wn) : (0, a.VOJ)(t[29]), Kn);}, i: function i(t) {e || ((0, a.Ui)(r, t), e = !0);}, o: function o(t) {(0, a.etI)(r, t), e = !1;}, d: function d(e) {e && (0, a.ogt)(n), r && r.d(e), t[26](null);} };}function re(t) {var n,e,o = t[7] + "%",r = t[8] + "%";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), (0, a.Ljt)(e, "class", "vc-scroller-scrollbar-thumb"), (0, a.czc)(e, "height", o, !1), (0, a.czc)(e, "top", r, !1), (0, a.Ljt)(n, "class", "vc-scroller-scrollbar-track"), (0, a.czc)(n, "display", t[7] < 100 ? "block" : "none", !1);}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, p: function p(t, i) {128 & i[0] && o !== (o = t[7] + "%") && (0, a.czc)(e, "height", o, !1), 256 & i[0] && r !== (r = t[8] + "%") && (0, a.czc)(e, "top", r, !1), 128 & i[0] && (0, a.czc)(n, "display", t[7] < 100 ? "block" : "none", !1);}, d: function d(t) {t && (0, a.ogt)(n);} };}function ie(t) {var n,e,o,r,i,_c10,u,s,l,f,_d2,v = t[13].header && Jn(t),h = [te, Qn],_p6 = [];function g(t, n) {return t[0].length ? 0 : 1;}i = g(t), _c10 = _p6[i] = h[i](t);var _m5 = t[13].footer && oe(t),_ = t[1] && re(t);return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), v && v.c(), o = (0, a.DhX)(), r = (0, a.bGB)("div"), _c10.c(), u = (0, a.DhX)(), _m5 && _m5.c(), s = (0, a.DhX)(), _ && _.c(), (0, a.Ljt)(r, "class", "vc-scroller-items"), (0, a.Ljt)(e, "class", "vc-scroller-contents"), (0, a.Ljt)(n, "class", "vc-scroller-viewport");}, m: function m(c, h) {(0, a.$Tr)(c, n, h), (0, a.R3I)(n, e), v && v.m(e, null), (0, a.R3I)(e, o), (0, a.R3I)(e, r), _p6[i].m(r, null), t[25](r), (0, a.R3I)(e, u), _m5 && _m5.m(e, null), t[27](e), (0, a.R3I)(n, s), _ && _.m(n, null), t[28](n), l = !0, f || (_d2 = [(0, a.oLt)(n, "touchstart", t[12].handleTouchStart), (0, a.oLt)(n, "touchmove", t[12].handleTouchMove), (0, a.oLt)(n, "touchend", t[12].handleTouchEnd), (0, a.oLt)(n, "touchcancel", t[12].handleTouchCancel), (0, a.oLt)(n, "wheel", t[12].handleWheel)], f = !0);}, p: function p(t, u) {t[13].header ? v ? (v.p(t, u), 8192 & u[0] && (0, a.Ui)(v, 1)) : ((v = Jn(t)).c(), (0, a.Ui)(v, 1), v.m(e, o)) : v && ((0, a.dvw)(), (0, a.etI)(v, 1, 1, function () {v = null;}), (0, a.gbL)());var s = i;(i = g(t)) === s ? _p6[i].p(t, u) : ((0, a.dvw)(), (0, a.etI)(_p6[s], 1, 1, function () {_p6[s] = null;}), (0, a.gbL)(), (_c10 = _p6[i]) ? _c10.p(t, u) : (_c10 = _p6[i] = h[i](t)).c(), (0, a.Ui)(_c10, 1), _c10.m(r, null)), t[13].footer ? _m5 ? (_m5.p(t, u), 8192 & u[0] && (0, a.Ui)(_m5, 1)) : ((_m5 = oe(t)).c(), (0, a.Ui)(_m5, 1), _m5.m(e, null)) : _m5 && ((0, a.dvw)(), (0, a.etI)(_m5, 1, 1, function () {_m5 = null;}), (0, a.gbL)()), t[1] ? _ ? _.p(t, u) : ((_ = re(t)).c(), _.m(n, null)) : _ && (_.d(1), _ = null);}, i: function i(t) {l || ((0, a.Ui)(v), (0, a.Ui)(_c10), (0, a.Ui)(_m5), l = !0);}, o: function o(t) {(0, a.etI)(v), (0, a.etI)(_c10), (0, a.etI)(_m5), l = !1;}, d: function d(e) {e && (0, a.ogt)(n), v && v.d(), _p6[i].d(), t[25](null), _m5 && _m5.d(), t[27](null), _ && _.d(), t[28](null), f = !1, (0, a.j7q)(_d2);} };}function ae(t, n, e) {var o,r,i,u,s,l = n.$$slots,f = void 0 === l ? {} : l,d = n.$$scope,v = (0, a.XGm)(f),h = this && this.__awaiter || function (t, n, e, o) {return new (e || (e = Promise))(function (r, i) {function a(t) {try {u(o.next(t));} catch (t) {i(t);}}function c(t) {try {u(o.throw(t));} catch (t) {i(t);}}function u(t) {var n;t.done ? r(t.value) : (n = t.value, n instanceof e ? n : new e(function (t) {t(n);})).then(a, c);}u((o = o.apply(t, n || [])).next());});},p = n.items,g = n.itemKey,m = void 0 === g ? void 0 : g,_ = n.itemHeight,b = void 0 === _ ? void 0 : _,y = n.buffer,w = void 0 === y ? 200 : y,E = n.stickToBottom,L = void 0 !== E && E,T = n.scrollbar,x = void 0 !== T && T,C = n.start,O = void 0 === C ? 0 : C,I = n.end,D = void 0 === I ? 0 : I,R = 0,$ = 0,k = 0,P = 0,M = 100,S = 0,j = [],B = [],A = [],U = Nn(),G = function G() {return Math.max(0, P + R + $ - k);},N = !0,V = !1,W = new Rn(G, function (t) {return h(void 0, void 0, void 0, _n().mark(function n() {var o;return _n().wrap(function (n) {for (;;) {switch (n.prev = n.next) {case 0:if (o = G(), N = Math.abs(t - o) <= 1, e(5, u.style.transform = "translateY(" + -t + "px) translateZ(0)", u), K(), !V) {n.next = 8;break;}V = !1, n.next = 11;break;case 8:return n.next = 10, new Promise(function (t) {return setTimeout(t, 0);});case 10:X(p, t, k);case 11:case "end":return n.stop();}}}, n);}));}),K = function K() {var t = W.getPosition(),n = 100 / (P + R + $);e(8, S = t * n), e(7, M = k * n);},H = function H(t) {var n = G();(t || W.getPosition() > n) && W.updatePosition(n);};function F(t) {return function (t, n, o) {for (var r = new Map(), i = 0; i < Z.length; i += 1) {var a = Z[i],c = void 0 === m ? a : a[m];r.set(c, j[i]);}e(9, B.length = j.length = t.length, B);for (var u = 0, l = 0; l < t.length; l += 1) {var f = t[l],d = void 0 === m ? f : f[m];r.has(d) ? j[l] = r.get(d) : j[l] = o, e(9, B[l] = u, B), u += j[l];}P = Math.max(u, n - R - $), Z = t, X(t, W.getPosition(), n), e(6, s.style.height = P + "px", s), H(N && L), K();}(t, k, b);}var q,Z = [];function X(t, n, o) {for (var r = 0, i = 0; r < t.length && i + j[r] < n - w;) {i += j[r], r += 1;}for (e(14, O = r); r < t.length && o && i < n + o + w;) {i += j[r], r += 1;}e(15, D = r), e(10, A = U(t.length, O, D));}var z = function z(t, n) {var e;(0, c.H3)(function () {var o = t();o ? (n(o.getBoundingClientRect().height), e && e.disconnect(), (e = new ResizeObserver(function (t) {var e = t[0];n(e.contentRect.height);})).observe(o)) : (n(0), e && (e.disconnect(), e = null));}), (0, c.ev)(function () {e && (e.disconnect(), e = null);});};z(function () {return i;}, function (t) {return h(void 0, void 0, void 0, _n().mark(function n() {var o, r;return _n().wrap(function (n) {for (;;) {switch (n.prev = n.next) {case 0:if (k !== t) {n.next = 2;break;}return n.abrupt("return");case 2:for (k = t, o = 0, r = 0; r < p.length; r += 1) {o += j[r];}return P = Math.max(o, k - $), e(6, s.style.height = P + "px", s), n.next = 9, new Promise(function (t) {return setTimeout(t, 0);});case 9:F(p), X(p, W.getPosition(), k), 0 !== k && H(N && L), K();case 13:case "end":return n.stop();}}}, n);}));}), z(function () {return r;}, function (t) {if ($ !== t) {$ = t;for (var n = 0, o = 0; o < p.length; o += 1) {n += j[o];}P = Math.max(n, k - R - $), e(6, s.style.height = P + "px", s), 0 !== k && H(N && L), K();}}), z(function () {return o;}, function (t) {R !== t && (R = t, F(p), K());});var Y = function Y(t, n) {return h(void 0, void 0, void 0, _n().mark(function o() {var r, i, a, c;return _n().wrap(function (o) {for (;;) {switch (o.prev = o.next) {case 0:if (j[t] !== n && 0 !== k) {o.next = 2;break;}return o.abrupt("return");case 2:for (r = j[t], j[t] = n, i = p.length, a = t; a < i - 1; a += 1) {e(9, B[a + 1] = B[a] + j[a], B);}return P = Math.max(B[i - 1] + j[i - 1], k - R - $), c = W.getPosition(), V = !0, B[t] + r < c ? W.updatePosition(c + n - r) : H(N && L), o.next = 12, new Promise(function (t) {return setTimeout(t, 0);});case 12:X(p, W.getPosition(), k), e(6, s.style.height = P + "px", s), K();case 15:case "end":return o.stop();}}}, o);}));};(0, c.H3)(function () {e(21, q = !0), Gn.use();}), (0, c.ev)(function () {Gn.unuse();});var J = new Mn(W),Q = { scrollTo: function scrollTo(t) {var n = B[Math.max(0, Math.min(p.length - 1, t))],e = Math.min(G(), n),o = Math.min(Math.floor(500 * Math.abs(W.getPosition() - e) / 2e3), 500);W.scrollTo(e, o);} };return t.$$set = function (t) {"items" in t && e(0, p = t.items), "itemKey" in t && e(16, m = t.itemKey), "itemHeight" in t && e(17, b = t.itemHeight), "buffer" in t && e(18, w = t.buffer), "stickToBottom" in t && e(19, L = t.stickToBottom), "scrollbar" in t && e(1, x = t.scrollbar), "start" in t && e(14, O = t.start), "end" in t && e(15, D = t.end), "$$scope" in t && e(29, d = t.$$scope);}, t.$$.update = function () {2097153 & t.$$.dirty[0] && q && F(p);}, [p, x, o, r, i, u, s, M, S, B, A, Y, J, v, O, D, m, b, w, L, Q, q, f, function (t) {a.VnY[t ? "unshift" : "push"](function () {e(2, o = t);});}, function (t, n) {return Y(t.index, n);}, function (t) {a.VnY[t ? "unshift" : "push"](function () {e(6, s = t);});}, function (t) {a.VnY[t ? "unshift" : "push"](function () {e(3, r = t);});}, function (t) {a.VnY[t ? "unshift" : "push"](function () {e(5, u = t);});}, function (t) {a.VnY[t ? "unshift" : "push"](function () {e(4, i = t);});}, d];}var ce = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, ae, ie, a.N8, { items: 0, itemKey: 16, itemHeight: 17, buffer: 18, stickToBottom: 19, scrollbar: 1, start: 14, end: 15, handler: 20 }, null, [-1, -1]), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "items", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ items: t }), (0, a.yl1)();} }, { key: "itemKey", get: function get() {return this.$$.ctx[16];}, set: function set(t) {this.$$set({ itemKey: t }), (0, a.yl1)();} }, { key: "itemHeight", get: function get() {return this.$$.ctx[17];}, set: function set(t) {this.$$set({ itemHeight: t }), (0, a.yl1)();} }, { key: "buffer", get: function get() {return this.$$.ctx[18];}, set: function set(t) {this.$$set({ buffer: t }), (0, a.yl1)();} }, { key: "stickToBottom", get: function get() {return this.$$.ctx[19];}, set: function set(t) {this.$$set({ stickToBottom: t }), (0, a.yl1)();} }, { key: "scrollbar", get: function get() {return this.$$.ctx[1];}, set: function set(t) {this.$$set({ scrollbar: t }), (0, a.yl1)();} }, { key: "start", get: function get() {return this.$$.ctx[14];}, set: function set(t) {this.$$set({ start: t }), (0, a.yl1)();} }, { key: "end", get: function get() {return this.$$.ctx[15];}, set: function set(t) {this.$$set({ end: t }), (0, a.yl1)();} }, { key: "handler", get: function get() {return this.$$.ctx[20];} }]), e;}(a.f_C),ue = ce;function se(t) {var n;return { c: function c() {(n = (0, a.bGB)("div")).textContent = "Empty", (0, a.Ljt)(n, "slot", "empty"), (0, a.Ljt)(n, "class", "vc-plugin-empty");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, p: a.ZTd, d: function d(t) {t && (0, a.ogt)(n);} };}function le(t) {var n, e;return (n = new sn({ props: { slot: "item", log: t[16], showTimestamps: t[1], groupHeader: t[16].groupHeader } })).$on("groupCollapsed", t[6]), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: function p(t, e) {var o = {};65536 & e && (o.log = t[16]), 2 & e && (o.showTimestamps = t[1]), 65536 & e && (o.groupHeader = t[16].groupHeader), n.$set(o);}, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function fe(t) {var n, e;return (n = new ln.Z({})).$on("filterText", t[5]), { c: function c() {(0, a.YCL)(n.$$.fragment);}, m: function m(t, o) {(0, a.yef)(n, t, o), e = !0;}, p: a.ZTd, i: function i(t) {e || ((0, a.Ui)(n.$$.fragment, t), e = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), e = !1;}, d: function d(t) {(0, a.vpE)(n, t);} };}function de(t) {var n,e,_o10 = t[0] && fe(t);return { c: function c() {_o10 && _o10.c(), n = (0, a.cSb)();}, m: function m(t, r) {_o10 && _o10.m(t, r), (0, a.$Tr)(t, n, r), e = !0;}, p: function p(t, e) {t[0] ? _o10 ? (_o10.p(t, e), 1 & e && (0, a.Ui)(_o10, 1)) : ((_o10 = fe(t)).c(), (0, a.Ui)(_o10, 1), _o10.m(n.parentNode, n)) : _o10 && ((0, a.dvw)(), (0, a.etI)(_o10, 1, 1, function () {_o10 = null;}), (0, a.gbL)());}, i: function i(t) {e || ((0, a.Ui)(_o10), e = !0);}, o: function o(t) {(0, a.etI)(_o10), e = !1;}, d: function d(t) {_o10 && _o10.d(t), t && (0, a.ogt)(n);} };}function ve(t) {var n, e, o, r;function i(n) {t[15](n);}var c = { items: t[4], itemKey: "_id", itemHeight: 30, buffer: 100, stickToBottom: !0, scrollbar: !0, $$slots: { footer: [de], item: [le, function (t) {return { 16: t.item };}, function (t) {return t.item ? 65536 : 0;}], empty: [se] }, $$scope: { ctx: t } };return void 0 !== t[3] && (c.handler = t[3]), e = new ue({ props: c }), a.VnY.push(function () {return (0, a.akz)(e, "handler", i);}), { c: function c() {n = (0, a.bGB)("div"), (0, a.YCL)(e.$$.fragment), (0, a.Ljt)(n, "class", "vc-plugin-content"), (0, a.VHj)(n, "vc-logs-has-cmd", t[0]);}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.yef)(e, n, null), r = !0;}, p: function p(t, r) {var i = r[0],c = {};16 & i && (c.items = t[4]), 196611 & i && (c.$$scope = { dirty: i, ctx: t }), !o && 8 & i && (o = !0, c.handler = t[3], (0, a.hjT)(function () {return o = !1;})), e.$set(c), 1 & i && (0, a.VHj)(n, "vc-logs-has-cmd", t[0]);}, i: function i(t) {r || ((0, a.Ui)(e.$$.fragment, t), r = !0);}, o: function o(t) {(0, a.etI)(e.$$.fragment, t), r = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(e);} };}function he(t, n, e) {var o,r = a.ZTd;t.$$.on_destroy.push(function () {return r();});var i,u,s = n.pluginId,l = void 0 === s ? "default" : s,f = n.showCmd,d = void 0 !== f && f,v = n.filterType,h = void 0 === v ? "all" : v,p = n.showTimestamps,g = void 0 !== p && p,m = !1,_ = "",b = [];(0, c.H3)(function () {gn.use();}), (0, c.ev)(function () {gn.unuse();});return t.$$set = function (t) {"pluginId" in t && e(7, l = t.pluginId), "showCmd" in t && e(0, d = t.showCmd), "filterType" in t && e(8, h = t.filterType), "showTimestamps" in t && e(1, g = t.showTimestamps);}, t.$$.update = function () {29056 & t.$$.dirty && (m || (e(2, i = ot.O.get(l)), r(), r = (0, a.LdU)(i, function (t) {return e(14, o = t);}), e(12, m = !0)), e(4, b = o.logList.filter(function (t) {return ("all" === h || h === t.type) && ("" === _ || (0, et.HX)(t, _)) && !t.groupCollapsed;})));}, [d, g, i, u, b, function (t) {e(13, _ = t.detail.filterText || "");}, function (t) {var n = t.detail.groupLabel,e = t.detail.groupHeader,o = t.detail.isGroupCollapsed;i.update(function (t) {return t.logList.forEach(function (t) {t.groupLabel === n && (t.groupHeader > 0 ? t.groupHeader = e : t.groupCollapsed = o);}), t;});}, l, h, function () {u.scrollTo(0);}, function () {u.scrollTo(b.length - 1);}, { fixedHeight: !0 }, m, _, o, function (t) {e(3, u = t);}];}var pe = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, he, ve, a.N8, { pluginId: 7, showCmd: 0, filterType: 8, showTimestamps: 1, scrollToTop: 9, scrollToBottom: 10, options: 11 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "pluginId", get: function get() {return this.$$.ctx[7];}, set: function set(t) {this.$$set({ pluginId: t }), (0, a.yl1)();} }, { key: "showCmd", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ showCmd: t }), (0, a.yl1)();} }, { key: "filterType", get: function get() {return this.$$.ctx[8];}, set: function set(t) {this.$$set({ filterType: t }), (0, a.yl1)();} }, { key: "showTimestamps", get: function get() {return this.$$.ctx[1];}, set: function set(t) {this.$$set({ showTimestamps: t }), (0, a.yl1)();} }, { key: "scrollToTop", get: function get() {return this.$$.ctx[9];} }, { key: "scrollToBottom", get: function get() {return this.$$.ctx[10];} }, { key: "options", get: function get() {return this.$$.ctx[11];} }]), e;}(a.f_C),ge = pe,me = __webpack_require__(5629),_e = function () {function t(t) {this.model = void 0, this.pluginId = void 0, this.pluginId = t;}return t.prototype.destroy = function () {this.model = void 0;}, t;}(),be = function (t) {function n() {for (var n, e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}return (n = t.call.apply(t, [this].concat(o)) || this).model = me.W.getSingleton(me.W, "VConsoleLogModel"), n;}(0, i.Z)(n, t);var e = n.prototype;return e.log = function () {for (var t = arguments.length, n = new Array(t), e = 0; e < t; e++) {n[e] = arguments[e];}this.addLog.apply(this, ["log"].concat(n));}, e.info = function () {for (var t = arguments.length, n = new Array(t), e = 0; e < t; e++) {n[e] = arguments[e];}this.addLog.apply(this, ["info"].concat(n));}, e.debug = function () {for (var t = arguments.length, n = new Array(t), e = 0; e < t; e++) {n[e] = arguments[e];}this.addLog.apply(this, ["debug"].concat(n));}, e.warn = function () {for (var t = arguments.length, n = new Array(t), e = 0; e < t; e++) {n[e] = arguments[e];}this.addLog.apply(this, ["warn"].concat(n));}, e.error = function () {for (var t = arguments.length, n = new Array(t), e = 0; e < t; e++) {n[e] = arguments[e];}this.addLog.apply(this, ["error"].concat(n));}, e.clear = function () {this.model && this.model.clearPluginLog(this.pluginId);}, e.addLog = function (t) {if (this.model) {for (var n = arguments.length, e = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) {e[o - 1] = arguments[o];}e.unshift("[" + this.pluginId + "]"), this.model.addLog({ type: t, origData: e }, { noOrig: !0 });}}, n;}(_e),ye = function (t) {function n(n, e) {var o;return (o = t.call(this, n, e, ge, { pluginId: n, filterType: "all" }) || this).model = me.W.getSingleton(me.W, "VConsoleLogModel"), o.isReady = !1, o.isShow = !1, o.isInBottom = !0, o.model.bindPlugin(n), o.exporter = new be(n), o;}(0, i.Z)(n, t);var e = n.prototype;return e.onReady = function () {var n, e;t.prototype.onReady.call(this), this.model.maxLogNumber = Number(null == (n = this.vConsole.option.log) ? void 0 : n.maxLogNumber) || 1e3, this.compInstance.showTimestamps = !(null == (e = this.vConsole.option.log) || !e.showTimestamps);}, e.onRemove = function () {t.prototype.onRemove.call(this), this.model.unbindPlugin(this.id);}, e.onAddTopBar = function (t) {for (var n = this, e = ["All", "Log", "Info", "Warn", "Error"], o = [], r = 0; r < e.length; r++) {o.push({ name: e[r], data: { type: e[r].toLowerCase() }, actived: 0 === r, className: "", onClick: function onClick(t, e) {if (e.type === n.compInstance.filterType) return !1;n.compInstance.filterType = e.type;} });}o[0].className = "vc-actived", t(o);}, e.onAddTool = function (t) {var n = this;t([{ name: "Clear", global: !1, onClick: function onClick(t) {n.model.clearPluginLog(n.id), n.vConsole.triggerEvent("clearLog");} }, { name: "Top", global: !1, onClick: function onClick(t) {n.compInstance.scrollToTop();} }, { name: "Bottom", global: !1, onClick: function onClick(t) {n.compInstance.scrollToBottom();} }]);}, e.onUpdateOption = function () {var t, n, e, o;(null == (t = this.vConsole.option.log) ? void 0 : t.maxLogNumber) !== this.model.maxLogNumber && (this.model.maxLogNumber = Number(null == (e = this.vConsole.option.log) ? void 0 : e.maxLogNumber) || 1e3);!(null == (n = this.vConsole.option.log) || !n.showTimestamps) !== this.compInstance.showTimestamps && (this.compInstance.showTimestamps = !(null == (o = this.vConsole.option.log) || !o.showTimestamps));}, n;}(nt),we = function (t) {function e() {for (var n, e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}return (n = t.call.apply(t, [this].concat(o)) || this).onErrorHandler = void 0, n.resourceErrorHandler = void 0, n.rejectionHandler = void 0, n;}(0, i.Z)(e, t);var o = e.prototype;return o.onReady = function () {t.prototype.onReady.call(this), this.bindErrors(), this.compInstance.showCmd = !0;}, o.onRemove = function () {t.prototype.onRemove.call(this), this.unbindErrors();}, o.bindErrors = function () {n.FJ(window) && n.mf(window.addEventListener) && (this.catchWindowOnError(), this.catchResourceError(), this.catchUnhandledRejection());}, o.unbindErrors = function () {n.FJ(window) && n.mf(window.addEventListener) && (window.removeEventListener("error", this.onErrorHandler), window.removeEventListener("error", this.resourceErrorHandler), window.removeEventListener("unhandledrejection", this.rejectionHandler));}, o.catchWindowOnError = function () {var t = this;this.onErrorHandler = this.onErrorHandler ? this.onErrorHandler : function (n) {var e = n.message;n.filename && (e += "\\n\\t" + n.filename.replace(location.origin, ""), (n.lineno || n.colno) && (e += ":" + n.lineno + ":" + n.colno)), e += "\\n" + (!!n.error && !!n.error.stack && n.error.stack.toString() || ""), t.model.addLog({ type: "error", origData: [e] }, { noOrig: !0 });}, window.removeEventListener("error", this.onErrorHandler), window.addEventListener("error", this.onErrorHandler);}, o.catchResourceError = function () {var t = this;this.resourceErrorHandler = this.resourceErrorHandler ? this.resourceErrorHandler : function (n) {var e = n.target;if (["link", "video", "script", "img", "audio"].indexOf(e.localName) > -1) {var o = e.href || e.src || e.currentSrc;t.model.addLog({ type: "error", origData: ["GET <" + e.localName + "> error: " + o] }, { noOrig: !0 });}}, window.removeEventListener("error", this.resourceErrorHandler), window.addEventListener("error", this.resourceErrorHandler, !0);}, o.catchUnhandledRejection = function () {var t = this;this.rejectionHandler = this.rejectionHandler ? this.rejectionHandler : function (n) {var e = n && n.reason,o = "Uncaught (in promise) ",r = [o, e];e instanceof Error && (r = [o, { name: e.name, message: e.message, stack: e.stack }]), t.model.addLog({ type: "error", origData: r }, { noOrig: !0 });}, window.removeEventListener("unhandledrejection", this.rejectionHandler), window.addEventListener("unhandledrejection", this.rejectionHandler);}, e;}(ye),Ee = function (t) {function n() {return t.apply(this, arguments) || this;}(0, i.Z)(n, t);var e = n.prototype;return e.onReady = function () {t.prototype.onReady.call(this), this.printSystemInfo();}, e.printSystemInfo = function () {var t = navigator.userAgent,n = [],e = t.match(/MicroMessenger\/([\d\.]+)/i),o = e && e[1] ? e[1] : null;"servicewechat.com" === location.host || console.info("[system]", "Location:", location.href);var r = t.match(/(ipod).*\s([\d_]+)/i),i = t.match(/(ipad).*\s([\d_]+)/i),a = t.match(/(iphone)\sos\s([\d_]+)/i),c = t.match(/(android)\s([\d\.]+)/i),u = t.match(/(Mac OS X)\s([\d_]+)/i);n = [], c ? n.push("Android " + c[2]) : a ? n.push("iPhone, iOS " + a[2].replace(/_/g, ".")) : i ? n.push("iPad, iOS " + i[2].replace(/_/g, ".")) : r ? n.push("iPod, iOS " + r[2].replace(/_/g, ".")) : u && n.push("Mac, MacOS " + u[2].replace(/_/g, ".")), o && n.push("WeChat " + o), console.info("[system]", "Client:", n.length ? n.join(", ") : "Unknown");var s = t.toLowerCase().match(/ nettype\/([^ ]+)/g);s && s[0] && (n = [(s = s[0].split("/"))[1]], console.info("[system]", "Network:", n.length ? n.join(", ") : "Unknown")), console.info("[system]", "UA:", t), setTimeout(function () {var t = window.performance || window.msPerformance || window.webkitPerformance;if (t && t.timing) {var n = t.timing;n.navigationStart && console.info("[system]", "navigationStart:", n.navigationStart), n.navigationStart && n.domainLookupStart && console.info("[system]", "navigation:", n.domainLookupStart - n.navigationStart + "ms"), n.domainLookupEnd && n.domainLookupStart && console.info("[system]", "dns:", n.domainLookupEnd - n.domainLookupStart + "ms"), n.connectEnd && n.connectStart && (n.connectEnd && n.secureConnectionStart ? console.info("[system]", "tcp (ssl):", n.connectEnd - n.connectStart + "ms (" + (n.connectEnd - n.secureConnectionStart) + "ms)") : console.info("[system]", "tcp:", n.connectEnd - n.connectStart + "ms")), n.responseStart && n.requestStart && console.info("[system]", "request:", n.responseStart - n.requestStart + "ms"), n.responseEnd && n.responseStart && console.info("[system]", "response:", n.responseEnd - n.responseStart + "ms"), n.domComplete && n.domLoading && (n.domContentLoadedEventStart && n.domLoading ? console.info("[system]", "domComplete (domLoaded):", n.domComplete - n.domLoading + "ms (" + (n.domContentLoadedEventStart - n.domLoading) + "ms)") : console.info("[system]", "domComplete:", n.domComplete - n.domLoading + "ms")), n.loadEventEnd && n.loadEventStart && console.info("[system]", "loadEvent:", n.loadEventEnd - n.loadEventStart + "ms"), n.navigationStart && n.loadEventEnd && console.info("[system]", "total (DOM):", n.loadEventEnd - n.navigationStart + "ms (" + (n.domComplete - n.navigationStart) + "ms)");}}, 0);}, n;}(ye),Le = __webpack_require__(3313),Te = __webpack_require__(643);function xe(t, n) {var e = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];if (e) return (e = e.call(t)).next.bind(e);if (Array.isArray(t) || (e = function (t, n) {if (!t) return;if ("string" == typeof t) return Ce(t, n);var e = Object.prototype.toString.call(t).slice(8, -1);"Object" === e && t.constructor && (e = t.constructor.name);if ("Map" === e || "Set" === e) return Array.from(t);if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return Ce(t, n);}(t)) || n && t && "number" == typeof t.length) {e && (t = e);var o = 0;return function () {return o >= t.length ? { done: !0 } : { done: !1, value: t[o++] };};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function Ce(t, n) {(null == n || n > t.length) && (n = t.length);for (var e = 0, o = new Array(n); e < n; e++) {o[e] = t[e];}return o;}var Oe = function Oe(t, e) {void 0 === e && (e = {}), n.Kn(e) || (e = {});var o = t ? t.split("?") : [];if (o.shift(), o.length > 0) for (var r, i = xe(o = o.join("?").split("&")); !(r = i()).done;) {var a = r.value.split("=");try {e[a[0]] = decodeURIComponent(a[1]);} catch (t) {e[a[0]] = a[1];}}return e;},Ie = function Ie(t, e) {var o = "";switch (t) {case "":case "text":case "json":if (n.HD(e)) try {o = JSON.parse(e), o = n.hZ(o, { maxDepth: 10, keyMaxLen: 1e4, pretty: !0, standardJSON: !0 });} catch (t) {o = n.id(String(e), 1e4);} else n.Kn(e) || n.kJ(e) ? o = n.hZ(e, { maxDepth: 10, keyMaxLen: 1e4, pretty: !0, standardJSON: !0 }) : void 0 !== e && (o = Object.prototype.toString.call(e));break;default:void 0 !== e && (o = Object.prototype.toString.call(e));}return o;},De = function De(t) {if (!t) return null;var e = null;if ("string" == typeof t) try {e = JSON.parse(t);} catch (n) {var o = t.split("&");if (1 === o.length) e = t;else {e = {};for (var r, i = xe(o); !(r = i()).done;) {var a = r.value.split("=");e[a[0]] = void 0 === a[1] ? "undefined" : a[1];}}} else if (n.TW(t)) {e = {};for (var c, u = xe(t); !(c = u()).done;) {var s = c.value,l = s[0],f = s[1];e[l] = "string" == typeof f ? f : "[object Object]";}} else if (n.PO(t)) e = t;else {e = "[object " + n.zl(t) + "]";}return e;},Re = function Re(t) {(void 0 === t && (t = ""), t.startsWith("//")) && (t = "" + new URL(window.location.href).protocol + t);return t.startsWith("http") ? new URL(t) : new URL(t, window.location.href);},$e = function $e() {this.id = "", this.name = "", this.method = "", this.url = "", this.status = 0, this.statusText = "", this.cancelState = 0, this.readyState = 0, this.header = null, this.responseType = "", this.requestType = void 0, this.requestHeader = null, this.response = void 0, this.responseSize = 0, this.responseSizeText = "", this.startTime = 0, this.startTimeText = "", this.endTime = 0, this.costTime = 0, this.getData = null, this.postData = null, this.actived = !1, this.noVConsole = !1, this.id = (0, n.QI)();},ke = function (t) {function n(e) {var o;return (o = t.call(this) || this)._response = void 0, new Proxy(e, n.Handler) || (0, r.Z)(o);}return (0, i.Z)(n, t), n;}($e);ke.Handler = { get: function get(t, n) {return "response" === n ? t._response : Reflect.get(t, n);}, set: function set(t, n, e) {var o;switch (n) {case "response":return t._response = Ie(t.responseType, e), !0;case "url":var r = (null == (o = e = String(e)) ? void 0 : o.replace(new RegExp("[/]*$"), "").split("/").pop()) || "Unknown";Reflect.set(t, "name", r);var i = Oe(e, t.getData);Reflect.set(t, "getData", i);break;case "status":var a = String(e) || "Unknown";Reflect.set(t, "statusText", a);break;case "startTime":if (e && t.endTime) {var c = t.endTime - e;Reflect.set(t, "costTime", c);}break;case "endTime":if (e && t.startTime) {var u = e - t.startTime;Reflect.set(t, "costTime", u);}}return Reflect.set(t, n, e);} };var Pe = function () {function t(t, n) {var e = this;this.XMLReq = void 0, this.item = void 0, this.onUpdateCallback = void 0, this.XMLReq = t, this.XMLReq.onreadystatechange = function () {e.onReadyStateChange();}, this.XMLReq.onabort = function () {e.onAbort();}, this.XMLReq.ontimeout = function () {e.onTimeout();}, this.item = new $e(), this.item.requestType = "xhr", this.onUpdateCallback = n;}var e = t.prototype;return e.get = function (t, n) {switch (n) {case "_noVConsole":return this.item.noVConsole;case "open":return this.getOpen(t);case "send":return this.getSend(t);case "setRequestHeader":return this.getSetRequestHeader(t);default:var e = Reflect.get(t, n);return "function" == typeof e ? e.bind(t) : e;}}, e.set = function (t, n, e) {switch (n) {case "_noVConsole":return void (this.item.noVConsole = !!e);case "onreadystatechange":return this.setOnReadyStateChange(t, n, e);case "onabort":return this.setOnAbort(t, n, e);case "ontimeout":return this.setOnTimeout(t, n, e);}return Reflect.set(t, n, e);}, e.onReadyStateChange = function () {this.item.readyState = this.XMLReq.readyState, this.item.responseType = this.XMLReq.responseType, this.item.endTime = Date.now(), this.item.costTime = this.item.endTime - this.item.startTime, this.updateItemByReadyState(), this.item.response = Ie(this.item.responseType, this.item.response), this.triggerUpdate();}, e.onAbort = function () {this.item.cancelState = 1, this.item.statusText = "Abort", this.triggerUpdate();}, e.onTimeout = function () {this.item.cancelState = 3, this.item.statusText = "Timeout", this.triggerUpdate();}, e.triggerUpdate = function () {this.item.noVConsole || this.onUpdateCallback(this.item);}, e.getOpen = function (t) {var n = this,e = Reflect.get(t, "open");return function () {for (var o = arguments.length, r = new Array(o), i = 0; i < o; i++) {r[i] = arguments[i];}var a = r[0],c = r[1];return n.item.method = a ? a.toUpperCase() : "GET", n.item.url = c || "", n.item.name = n.item.url.replace(new RegExp("[/]*$"), "").split("/").pop() || "", n.item.getData = Oe(n.item.url, {}), n.triggerUpdate(), e.apply(t, r);};}, e.getSend = function (t) {var n = this,e = Reflect.get(t, "send");return function () {for (var o = arguments.length, r = new Array(o), i = 0; i < o; i++) {r[i] = arguments[i];}var a = r[0];return n.item.postData = De(a), n.triggerUpdate(), e.apply(t, r);};}, e.getSetRequestHeader = function (t) {var n = this,e = Reflect.get(t, "setRequestHeader");return function () {n.item.requestHeader || (n.item.requestHeader = {});for (var o = arguments.length, r = new Array(o), i = 0; i < o; i++) {r[i] = arguments[i];}return n.item.requestHeader[r[0]] = r[1], n.triggerUpdate(), e.apply(t, r);};}, e.setOnReadyStateChange = function (t, n, e) {var o = this;return Reflect.set(t, n, function () {o.onReadyStateChange();for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) {r[i] = arguments[i];}e.apply(t, r);});}, e.setOnAbort = function (t, n, e) {var o = this;return Reflect.set(t, n, function () {o.onAbort();for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) {r[i] = arguments[i];}e.apply(t, r);});}, e.setOnTimeout = function (t, n, e) {var o = this;return Reflect.set(t, n, function () {o.onTimeout();for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) {r[i] = arguments[i];}e.apply(t, r);});}, e.updateItemByReadyState = function () {switch (this.XMLReq.readyState) {case 0:case 1:if (this.item.status = 0, this.item.statusText = "Pending", !this.item.startTime) {this.item.startTime = Date.now();var t = (0, n._3)(this.item.startTime);this.item.startTimeText = t.year + "-" + t.month + "-" + t.day + " " + t.hour + ":" + t.minute + ":" + t.second + "." + t.millisecond;}break;case 2:this.item.status = this.XMLReq.status, this.item.statusText = "Loading", this.item.header = {};for (var e = (this.XMLReq.getAllResponseHeaders() || "").split("\n"), o = 0; o < e.length; o++) {var r = e[o];if (r) {var i = r.split(": "),a = i[0],c = i.slice(1).join(": ");this.item.header[a] = c;}}break;case 3:this.item.status = this.XMLReq.status, this.item.statusText = "Loading", this.XMLReq.response && this.XMLReq.response.length && (this.item.responseSize = this.XMLReq.response.length, this.item.responseSizeText = (0, n.KL)(this.item.responseSize));break;case 4:this.item.status = this.XMLReq.status || this.item.status || 0, this.item.statusText = String(this.item.status), this.item.endTime = Date.now(), this.item.costTime = this.item.endTime - (this.item.startTime || this.item.endTime), this.item.response = this.XMLReq.response, this.XMLReq.response && this.XMLReq.response.length && (this.item.responseSize = this.XMLReq.response.length, this.item.responseSizeText = (0, n.KL)(this.item.responseSize));break;default:this.item.status = this.XMLReq.status, this.item.statusText = "Unknown";}}, t;}(),Me = function () {function t() {}return t.create = function (t) {return new Proxy(XMLHttpRequest, { construct: function construct(n) {var e = new n();return new Proxy(e, new Pe(e, t));} });}, t;}();function Se(t, n) {var e = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];if (e) return (e = e.call(t)).next.bind(e);if (Array.isArray(t) || (e = function (t, n) {if (!t) return;if ("string" == typeof t) return je(t, n);var e = Object.prototype.toString.call(t).slice(8, -1);"Object" === e && t.constructor && (e = t.constructor.name);if ("Map" === e || "Set" === e) return Array.from(t);if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return je(t, n);}(t)) || n && t && "number" == typeof t.length) {e && (t = e);var o = 0;return function () {return o >= t.length ? { done: !0 } : { done: !1, value: t[o++] };};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function je(t, n) {(null == n || n > t.length) && (n = t.length);for (var e = 0, o = new Array(n); e < n; e++) {o[e] = t[e];}return o;}Me.origXMLHttpRequest = XMLHttpRequest;var Be = function () {function t(t, n, e) {this.resp = void 0, this.item = void 0, this.onUpdateCallback = void 0, this.resp = t, this.item = n, this.onUpdateCallback = e, this.mockReader();}var e = t.prototype;return e.set = function (t, n, e) {return Reflect.set(t, n, e);}, e.get = function (t, n) {var e = this,o = Reflect.get(t, n);switch (n) {case "arrayBuffer":case "blob":case "formData":case "json":case "text":return function () {return e.item.responseType = n.toLowerCase(), o.apply(t).then(function (t) {return e.item.response = Ie(e.item.responseType, t), e.onUpdateCallback(e.item), t;});};}return "function" == typeof o ? o.bind(t) : o;}, e.mockReader = function () {var t,e = this;if (this.resp.body && "function" == typeof this.resp.body.getReader) {var o = this.resp.body.getReader;this.resp.body.getReader = function () {var r = o.apply(e.resp.body);if (4 === e.item.readyState) return r;var i = r.read,a = r.cancel;return e.item.responseType = "arraybuffer", r.read = function () {return i.apply(r).then(function (o) {if (t) {var r = new Uint8Array(t.length + o.value.length);r.set(t), r.set(o.value, t.length), t = r;} else t = new Uint8Array(o.value);return e.item.endTime = Date.now(), e.item.costTime = e.item.endTime - (e.item.startTime || e.item.endTime), e.item.readyState = o.done ? 4 : 3, e.item.statusText = o.done ? String(e.item.status) : "Loading", e.item.responseSize = t.length, e.item.responseSizeText = n.KL(e.item.responseSize), o.done && (e.item.response = Ie(e.item.responseType, t)), e.onUpdateCallback(e.item), o;});}, r.cancel = function () {e.item.cancelState = 2, e.item.statusText = "Cancel", e.item.endTime = Date.now(), e.item.costTime = e.item.endTime - (e.item.startTime || e.item.endTime), e.item.response = Ie(e.item.responseType, t), e.onUpdateCallback(e.item);for (var n = arguments.length, o = new Array(n), i = 0; i < n; i++) {o[i] = arguments[i];}return a.apply(r, o);}, r;};}}, t;}(),Ae = function () {function t(t) {this.onUpdateCallback = void 0, this.onUpdateCallback = t;}var e = t.prototype;return e.apply = function (t, n, e) {var o = this,r = e[0],i = e[1],a = new $e();return this.beforeFetch(a, r, i), t.apply(window, e).then(this.afterFetch(a)).catch(function (t) {throw a.endTime = Date.now(), a.costTime = a.endTime - (a.startTime || a.endTime), o.onUpdateCallback(a), t;});}, e.beforeFetch = function (t, e, o) {var r,i = "GET",a = null;if (n.HD(e) ? (i = (null == o ? void 0 : o.method) || "GET", r = Re(e), a = (null == o ? void 0 : o.headers) || null) : (i = e.method || "GET", r = Re(e.url), a = e.headers), t.method = i, t.requestType = "fetch", t.requestHeader = a, t.url = r.toString(), t.name = (r.pathname.split("/").pop() || "") + r.search, t.status = 0, t.statusText = "Pending", t.readyState = 1, !t.startTime) {t.startTime = Date.now();var c = n._3(t.startTime);t.startTimeText = c.year + "-" + c.month + "-" + c.day + " " + c.hour + ":" + c.minute + ":" + c.second + "." + c.millisecond;}if ("[object Headers]" === Object.prototype.toString.call(a)) {t.requestHeader = {};for (var u, s = Se(a); !(u = s()).done;) {var l = u.value,f = l[0],d = l[1];t.requestHeader[f] = d;}} else t.requestHeader = a;if (r.search && r.searchParams) {t.getData = {};for (var v, h = Se(r.searchParams); !(v = h()).done;) {var p = v.value,g = p[0],m = p[1];t.getData[g] = m;}}null != o && o.body && (t.postData = De(o.body)), this.onUpdateCallback(t);}, e.afterFetch = function (t) {var e = this;return function (o) {t.endTime = Date.now(), t.costTime = t.endTime - (t.startTime || t.endTime), t.status = o.status, t.statusText = String(o.status);var r = !1;t.header = {};for (var i, a = Se(o.headers); !(i = a()).done;) {var c = i.value,u = c[0],s = c[1];t.header[u] = s, r = s.toLowerCase().indexOf("chunked") > -1 || r;}return r ? t.readyState = 3 : (t.readyState = 4, e.handleResponseBody(o.clone(), t).then(function (o) {t.responseSize = "string" == typeof o ? o.length : o.byteLength, t.responseSizeText = n.KL(t.responseSize), t.response = Ie(t.responseType, o), e.onUpdateCallback(t);})), e.onUpdateCallback(t), new Proxy(o, new Be(o, t, e.onUpdateCallback));};}, e.handleResponseBody = function (t, n) {var e = t.headers.get("content-type");return e && e.includes("application/json") ? (n.responseType = "json", t.text()) : e && (e.includes("text/html") || e.includes("text/plain")) ? (n.responseType = "text", t.text()) : (n.responseType = "arraybuffer", t.arrayBuffer());}, t;}(),Ue = function () {function t() {}return t.create = function (t) {return new Proxy(fetch, new Ae(t));}, t;}();function Ge(t, n) {var e = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];if (e) return (e = e.call(t)).next.bind(e);if (Array.isArray(t) || (e = function (t, n) {if (!t) return;if ("string" == typeof t) return Ne(t, n);var e = Object.prototype.toString.call(t).slice(8, -1);"Object" === e && t.constructor && (e = t.constructor.name);if ("Map" === e || "Set" === e) return Array.from(t);if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return Ne(t, n);}(t)) || n && t && "number" == typeof t.length) {e && (t = e);var o = 0;return function () {return o >= t.length ? { done: !0 } : { done: !1, value: t[o++] };};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function Ne(t, n) {(null == n || n > t.length) && (n = t.length);for (var e = 0, o = new Array(n); e < n; e++) {o[e] = t[e];}return o;}Ue.origFetch = fetch;var Ve = function Ve(t) {return t instanceof Blob ? t.type : t instanceof FormData ? "multipart/form-data" : t instanceof URLSearchParams ? "application/x-www-form-urlencoded;charset=UTF-8" : "text/plain;charset=UTF-8";},We = function () {function t(t) {this.onUpdateCallback = void 0, this.onUpdateCallback = t;}return t.prototype.apply = function (t, n, e) {var o = e[0],r = e[1],i = new $e(),a = Re(o);if (i.method = "POST", i.url = o, i.name = (a.pathname.split("/").pop() || "") + a.search, i.requestType = "ping", i.requestHeader = { "Content-Type": Ve(r) }, i.status = 0, i.statusText = "Pending", a.search && a.searchParams) {i.getData = {};for (var c, u = Ge(a.searchParams); !(c = u()).done;) {var s = c.value,l = s[0],f = s[1];i.getData[l] = f;}}i.postData = De(r), i.startTime || (i.startTime = Date.now()), this.onUpdateCallback(i);var d = t.apply(n, e);return d ? (i.endTime = Date.now(), i.costTime = i.endTime - (i.startTime || i.endTime), i.status = 0, i.statusText = "Sent", i.readyState = 4) : (i.status = 500, i.statusText = "Unknown"), this.onUpdateCallback(i), d;}, t;}(),Ke = function () {function t() {}return t.create = function (t) {return new Proxy(navigator.sendBeacon, new We(t));}, t;}();Ke.origSendBeacon = navigator.sendBeacon;var He = (0, Le.fZ)({}),Fe = function (t) {function n() {var n;return (n = t.call(this) || this).maxNetworkNumber = 1e3, n.itemCounter = 0, n.mockXHR(), n.mockFetch(), n.mockSendBeacon(), n;}(0, i.Z)(n, t);var e = n.prototype;return e.unMock = function () {window.hasOwnProperty("XMLHttpRequest") && (window.XMLHttpRequest = Me.origXMLHttpRequest), window.hasOwnProperty("fetch") && (window.fetch = Ue.origFetch), window.navigator.sendBeacon && (window.navigator.sendBeacon = Ke.origSendBeacon);}, e.clearLog = function () {He.set({});}, e.updateRequest = function (t, n) {var e = (0, Le.U2)(He),o = !!e[t];if (o) {var r = e[t];for (var i in n) {r[i] = n[i];}n = r;}He.update(function (e) {return e[t] = n, e;}), o || (R.x.updateTime(), this.limitListLength());}, e.mockXHR = function () {var t = this;window.hasOwnProperty("XMLHttpRequest") && (window.XMLHttpRequest = Me.create(function (n) {t.updateRequest(n.id, n);}));}, e.mockFetch = function () {var t = this;window.hasOwnProperty("fetch") && (window.fetch = Ue.create(function (n) {t.updateRequest(n.id, n);}));}, e.mockSendBeacon = function () {var t = this;window.navigator.sendBeacon && (window.navigator.sendBeacon = Ke.create(function (n) {t.updateRequest(n.id, n);}));}, e.limitListLength = function () {var t = this;if (this.itemCounter++, this.itemCounter % 10 == 0) {this.itemCounter = 0;var n = (0, Le.U2)(He),e = Object.keys(n);e.length > this.maxNetworkNumber - 10 && He.update(function (n) {for (var o = e.splice(0, e.length - t.maxNetworkNumber + 10), r = 0; r < o.length; r++) {n[o[r]] = void 0, delete n[o[r]];}return n;});}}, n;}(Te.N),qe = __webpack_require__(8747),Ze = {};qe.Z && qe.Z.locals && (Ze.locals = qe.Z.locals);var Xe,ze = 0,Ye = {};Ye.styleTagTransform = b(), Ye.setAttributes = p(), Ye.insert = v().bind(null, "head"), Ye.domAPI = f(), Ye.insertStyleElement = m(), Ze.use = function (t) {return Ye.options = t || {}, ze++ || (Xe = s()(qe.Z, Ye)), Ze;}, Ze.unuse = function () {ze > 0 && ! --ze && (Xe(), Xe = null);};var Je = Ze;function Qe(t, n, e) {var o = t.slice();return o[11] = n[e][0], o[12] = n[e][1], o;}function to(t, n, e) {var o = t.slice();return o[11] = n[e][0], o[12] = n[e][1], o;}function no(t, n, e) {var o = t.slice();return o[11] = n[e][0], o[12] = n[e][1], o;}function eo(t, n, e) {var o = t.slice();return o[11] = n[e][0], o[12] = n[e][1], o;}function oo(t) {var n, e, o;return { c: function c() {n = (0, a.fLW)("("), e = (0, a.fLW)(t[0]), o = (0, a.fLW)(")");}, m: function m(t, r) {(0, a.$Tr)(t, n, r), (0, a.$Tr)(t, e, r), (0, a.$Tr)(t, o, r);}, p: function p(t, n) {1 & n && (0, a.rTO)(e, t[0]);}, d: function d(t) {t && (0, a.ogt)(n), t && (0, a.ogt)(e), t && (0, a.ogt)(o);} };}function ro(t) {var n,e,o,r,i,_c11,u = t[0] > 0 && oo(t);return { c: function c() {n = (0, a.bGB)("dl"), e = (0, a.bGB)("dd"), o = (0, a.fLW)("Name "), u && u.c(), (r = (0, a.bGB)("dd")).textContent = "Method", (i = (0, a.bGB)("dd")).textContent = "Status", (_c11 = (0, a.bGB)("dd")).textContent = "Time", (0, a.Ljt)(e, "class", "vc-table-col vc-table-col-4"), (0, a.Ljt)(r, "class", "vc-table-col"), (0, a.Ljt)(i, "class", "vc-table-col"), (0, a.Ljt)(_c11, "class", "vc-table-col"), (0, a.Ljt)(n, "class", "vc-table-row");}, m: function m(t, s) {(0, a.$Tr)(t, n, s), (0, a.R3I)(n, e), (0, a.R3I)(e, o), u && u.m(e, null), (0, a.R3I)(n, r), (0, a.R3I)(n, i), (0, a.R3I)(n, _c11);}, p: function p(t, n) {t[0] > 0 ? u ? u.p(t, n) : ((u = oo(t)).c(), u.m(e, null)) : u && (u.d(1), u = null);}, d: function d(t) {t && (0, a.ogt)(n), u && u.d();} };}function io(t) {var n;return { c: function c() {(n = (0, a.bGB)("div")).textContent = "Empty", (0, a.Ljt)(n, "slot", "empty"), (0, a.Ljt)(n, "class", "vc-plugin-empty");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, p: a.ZTd, d: function d(t) {t && (0, a.ogt)(n);} };}function ao(t) {var n, e, o, r, i, _c12, u, s;_c12 = new ut({ props: { content: t[10].requestHeader } });for (var l = Object.entries(t[10].requestHeader), f = [], d = 0; d < l.length; d += 1) {f[d] = co(eo(t, l, d));}return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("dl"), o = (0, a.bGB)("dt"), r = (0, a.fLW)("Request Headers\n                "), i = (0, a.bGB)("i"), (0, a.YCL)(_c12.$$.fragment), u = (0, a.DhX)();for (var t = 0; t < f.length; t += 1) {f[t].c();}(0, a.Ljt)(i, "class", "vc-table-row-icon"), (0, a.Ljt)(o, "class", "vc-table-col vc-table-col-title"), (0, a.Ljt)(e, "class", "vc-table-row vc-left-border");}, m: function m(t, l) {(0, a.$Tr)(t, n, l), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(o, r), (0, a.R3I)(o, i), (0, a.yef)(_c12, i, null), (0, a.R3I)(n, u);for (var d = 0; d < f.length; d += 1) {f[d].m(n, null);}s = !0;}, p: function p(t, e) {var o = {};if (1024 & e && (o.content = t[10].requestHeader), _c12.$set(o), 1040 & e) {var r;for (l = Object.entries(t[10].requestHeader), r = 0; r < l.length; r += 1) {var i = eo(t, l, r);f[r] ? f[r].p(i, e) : (f[r] = co(i), f[r].c(), f[r].m(n, null));}for (; r < f.length; r += 1) {f[r].d(1);}f.length = l.length;}}, i: function i(t) {s || ((0, a.Ui)(_c12.$$.fragment, t), s = !0);}, o: function o(t) {(0, a.etI)(_c12.$$.fragment, t), s = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(_c12), (0, a.RMB)(f, t);} };}function co(t) {var n,e,o,r,i,_c13,u,s = t[11] + "",l = t[4](t[12]) + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), o = (0, a.fLW)(s), r = (0, a.DhX)(), i = (0, a.bGB)("div"), _c13 = (0, a.fLW)(l), u = (0, a.DhX)(), (0, a.Ljt)(e, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(i, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(n, "class", "vc-table-row vc-left-border vc-small");}, m: function m(t, s) {(0, a.$Tr)(t, n, s), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(n, r), (0, a.R3I)(n, i), (0, a.R3I)(i, _c13), (0, a.R3I)(n, u);}, p: function p(t, n) {1024 & n && s !== (s = t[11] + "") && (0, a.rTO)(o, s), 1024 & n && l !== (l = t[4](t[12]) + "") && (0, a.rTO)(_c13, l);}, d: function d(t) {t && (0, a.ogt)(n);} };}function uo(t) {var n, e, o, r, i, _c14, u, s;_c14 = new ut({ props: { content: t[10].getData } });for (var l = Object.entries(t[10].getData), f = [], d = 0; d < l.length; d += 1) {f[d] = so(no(t, l, d));}return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("dl"), o = (0, a.bGB)("dt"), r = (0, a.fLW)("Query String Parameters\n                "), i = (0, a.bGB)("i"), (0, a.YCL)(_c14.$$.fragment), u = (0, a.DhX)();for (var t = 0; t < f.length; t += 1) {f[t].c();}(0, a.Ljt)(i, "class", "vc-table-row-icon"), (0, a.Ljt)(o, "class", "vc-table-col vc-table-col-title"), (0, a.Ljt)(e, "class", "vc-table-row vc-left-border");}, m: function m(t, l) {(0, a.$Tr)(t, n, l), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(o, r), (0, a.R3I)(o, i), (0, a.yef)(_c14, i, null), (0, a.R3I)(n, u);for (var d = 0; d < f.length; d += 1) {f[d].m(n, null);}s = !0;}, p: function p(t, e) {var o = {};if (1024 & e && (o.content = t[10].getData), _c14.$set(o), 1040 & e) {var r;for (l = Object.entries(t[10].getData), r = 0; r < l.length; r += 1) {var i = no(t, l, r);f[r] ? f[r].p(i, e) : (f[r] = so(i), f[r].c(), f[r].m(n, null));}for (; r < f.length; r += 1) {f[r].d(1);}f.length = l.length;}}, i: function i(t) {s || ((0, a.Ui)(_c14.$$.fragment, t), s = !0);}, o: function o(t) {(0, a.etI)(_c14.$$.fragment, t), s = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(_c14), (0, a.RMB)(f, t);} };}function so(t) {var n,e,o,r,i,_c15,u,s = t[11] + "",l = t[4](t[12]) + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), o = (0, a.fLW)(s), r = (0, a.DhX)(), i = (0, a.bGB)("div"), _c15 = (0, a.fLW)(l), u = (0, a.DhX)(), (0, a.Ljt)(e, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(i, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(n, "class", "vc-table-row vc-left-border vc-small");}, m: function m(t, s) {(0, a.$Tr)(t, n, s), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(n, r), (0, a.R3I)(n, i), (0, a.R3I)(i, _c15), (0, a.R3I)(n, u);}, p: function p(t, n) {1024 & n && s !== (s = t[11] + "") && (0, a.rTO)(o, s), 1024 & n && l !== (l = t[4](t[12]) + "") && (0, a.rTO)(_c15, l);}, d: function d(t) {t && (0, a.ogt)(n);} };}function lo(t) {var n, e, o, r, i, _c16, u, s;function l(t, n) {return "string" == typeof t[10].postData ? vo : fo;}_c16 = new ut({ props: { content: t[10].postData } });var f = l(t),_d3 = f(t);return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("dl"), o = (0, a.bGB)("dt"), r = (0, a.fLW)("Request Payload\n                "), i = (0, a.bGB)("i"), (0, a.YCL)(_c16.$$.fragment), u = (0, a.DhX)(), _d3.c(), (0, a.Ljt)(i, "class", "vc-table-row-icon"), (0, a.Ljt)(o, "class", "vc-table-col vc-table-col-title"), (0, a.Ljt)(e, "class", "vc-table-row vc-left-border");}, m: function m(t, l) {(0, a.$Tr)(t, n, l), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(o, r), (0, a.R3I)(o, i), (0, a.yef)(_c16, i, null), (0, a.R3I)(n, u), _d3.m(n, null), s = !0;}, p: function p(t, e) {var o = {};1024 & e && (o.content = t[10].postData), _c16.$set(o), f === (f = l(t)) && _d3 ? _d3.p(t, e) : (_d3.d(1), (_d3 = f(t)) && (_d3.c(), _d3.m(n, null)));}, i: function i(t) {s || ((0, a.Ui)(_c16.$$.fragment, t), s = !0);}, o: function o(t) {(0, a.etI)(_c16.$$.fragment, t), s = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(_c16), _d3.d();} };}function fo(t) {for (var n, e = Object.entries(t[10].postData), o = [], r = 0; r < e.length; r += 1) {o[r] = ho(to(t, e, r));}return { c: function c() {for (var t = 0; t < o.length; t += 1) {o[t].c();}n = (0, a.cSb)();}, m: function m(t, e) {for (var r = 0; r < o.length; r += 1) {o[r].m(t, e);}(0, a.$Tr)(t, n, e);}, p: function p(t, r) {if (1040 & r) {var i;for (e = Object.entries(t[10].postData), i = 0; i < e.length; i += 1) {var a = to(t, e, i);o[i] ? o[i].p(a, r) : (o[i] = ho(a), o[i].c(), o[i].m(n.parentNode, n));}for (; i < o.length; i += 1) {o[i].d(1);}o.length = e.length;}}, d: function d(t) {(0, a.RMB)(o, t), t && (0, a.ogt)(n);} };}function vo(t) {var n,e,o,r = t[10].postData + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("pre"), o = (0, a.fLW)(r), (0, a.Ljt)(e, "class", "vc-table-col vc-table-col-value vc-max-height-line"), (0, a.Ljt)(e, "data-scrollable", "1"), (0, a.Ljt)(n, "class", "vc-table-row vc-left-border vc-small");}, m: function m(t, r) {(0, a.$Tr)(t, n, r), (0, a.R3I)(n, e), (0, a.R3I)(e, o);}, p: function p(t, n) {1024 & n && r !== (r = t[10].postData + "") && (0, a.rTO)(o, r);}, d: function d(t) {t && (0, a.ogt)(n);} };}function ho(t) {var n,e,o,r,i,_c17,u,s = t[11] + "",l = t[4](t[12]) + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), o = (0, a.fLW)(s), r = (0, a.DhX)(), i = (0, a.bGB)("div"), _c17 = (0, a.fLW)(l), u = (0, a.DhX)(), (0, a.Ljt)(e, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(i, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(i, "data-scrollable", "1"), (0, a.Ljt)(n, "class", "vc-table-row vc-left-border vc-small");}, m: function m(t, s) {(0, a.$Tr)(t, n, s), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(n, r), (0, a.R3I)(n, i), (0, a.R3I)(i, _c17), (0, a.R3I)(n, u);}, p: function p(t, n) {1024 & n && s !== (s = t[11] + "") && (0, a.rTO)(o, s), 1024 & n && l !== (l = t[4](t[12]) + "") && (0, a.rTO)(_c17, l);}, d: function d(t) {t && (0, a.ogt)(n);} };}function po(t) {var n, e, o, r, i, _c18, u, s;_c18 = new ut({ props: { content: t[10].header } });for (var l = Object.entries(t[10].header), f = [], d = 0; d < l.length; d += 1) {f[d] = go(Qe(t, l, d));}return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("dl"), o = (0, a.bGB)("dt"), r = (0, a.fLW)("Response Headers\n                "), i = (0, a.bGB)("i"), (0, a.YCL)(_c18.$$.fragment), u = (0, a.DhX)();for (var t = 0; t < f.length; t += 1) {f[t].c();}(0, a.Ljt)(i, "class", "vc-table-row-icon"), (0, a.Ljt)(o, "class", "vc-table-col vc-table-col-title"), (0, a.Ljt)(e, "class", "vc-table-row vc-left-border");}, m: function m(t, l) {(0, a.$Tr)(t, n, l), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(o, r), (0, a.R3I)(o, i), (0, a.yef)(_c18, i, null), (0, a.R3I)(n, u);for (var d = 0; d < f.length; d += 1) {f[d].m(n, null);}s = !0;}, p: function p(t, e) {var o = {};if (1024 & e && (o.content = t[10].header), _c18.$set(o), 1040 & e) {var r;for (l = Object.entries(t[10].header), r = 0; r < l.length; r += 1) {var i = Qe(t, l, r);f[r] ? f[r].p(i, e) : (f[r] = go(i), f[r].c(), f[r].m(n, null));}for (; r < f.length; r += 1) {f[r].d(1);}f.length = l.length;}}, i: function i(t) {s || ((0, a.Ui)(_c18.$$.fragment, t), s = !0);}, o: function o(t) {(0, a.etI)(_c18.$$.fragment, t), s = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(_c18), (0, a.RMB)(f, t);} };}function go(t) {var n,e,o,r,i,_c19,u,s = t[11] + "",l = t[4](t[12]) + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), o = (0, a.fLW)(s), r = (0, a.DhX)(), i = (0, a.bGB)("div"), _c19 = (0, a.fLW)(l), u = (0, a.DhX)(), (0, a.Ljt)(e, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(i, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(n, "class", "vc-table-row vc-left-border vc-small");}, m: function m(t, s) {(0, a.$Tr)(t, n, s), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(n, r), (0, a.R3I)(n, i), (0, a.R3I)(i, _c19), (0, a.R3I)(n, u);}, p: function p(t, n) {1024 & n && s !== (s = t[11] + "") && (0, a.rTO)(o, s), 1024 & n && l !== (l = t[4](t[12]) + "") && (0, a.rTO)(_c19, l);}, d: function d(t) {t && (0, a.ogt)(n);} };}function mo(t) {var n,e,o,r,i,_c20 = t[10].responseSizeText + "";return { c: function c() {n = (0, a.bGB)("div"), (e = (0, a.bGB)("div")).textContent = "Size", o = (0, a.DhX)(), r = (0, a.bGB)("div"), i = (0, a.fLW)(_c20), (0, a.Ljt)(e, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(r, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(n, "class", "vc-table-row vc-left-border vc-small");}, m: function m(t, c) {(0, a.$Tr)(t, n, c), (0, a.R3I)(n, e), (0, a.R3I)(n, o), (0, a.R3I)(n, r), (0, a.R3I)(r, i);}, p: function p(t, n) {1024 & n && _c20 !== (_c20 = t[10].responseSizeText + "") && (0, a.rTO)(i, _c20);}, d: function d(t) {t && (0, a.ogt)(n);} };}function _o(t) {var n,e,o,r,i,_c21,u,s,l,f,d,v,h,p,g,_m6,_,b,y,w,E,L,T,x,C,O,I,D,R,$,k,P,M,S,j,B,A,U,G,N,V,W,K,H,F,q,Z,X,z,Y,J,Q,tt,nt,et,ot,rt,it,at,ct,st,lt,ft,dt,vt,ht,pt,gt,mt = t[10].name + "",_t = t[10].method + "",bt = t[10].statusText + "",yt = t[10].costTime + "",wt = t[10].url + "",Et = t[10].method + "",Lt = t[10].requestType + "",Tt = t[10].status + "",xt = t[10].startTimeText + "",Ct = (t[10].response || "") + "";function Ot() {return t[7](t[10]);}b = new ut({ props: { handler: t[3], content: t[10] } });var It = null !== t[10].requestHeader && ao(t),Dt = null !== t[10].getData && uo(t),Rt = null !== t[10].postData && lo(t),$t = null !== t[10].header && po(t);at = new ut({ props: { content: t[10].response } });var kt = t[10].responseSize > 0 && mo(t);return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("dl"), o = (0, a.bGB)("dd"), r = (0, a.fLW)(mt), i = (0, a.bGB)("dd"), _c21 = (0, a.fLW)(_t), u = (0, a.bGB)("dd"), s = (0, a.fLW)(bt), l = (0, a.bGB)("dd"), f = (0, a.fLW)(yt), d = (0, a.DhX)(), v = (0, a.bGB)("div"), h = (0, a.bGB)("div"), p = (0, a.bGB)("dl"), g = (0, a.bGB)("dt"), _m6 = (0, a.fLW)("General\n                "), _ = (0, a.bGB)("i"), (0, a.YCL)(b.$$.fragment), y = (0, a.DhX)(), w = (0, a.bGB)("div"), (E = (0, a.bGB)("div")).textContent = "URL", L = (0, a.DhX)(), T = (0, a.bGB)("div"), x = (0, a.fLW)(wt), C = (0, a.DhX)(), O = (0, a.bGB)("div"), (I = (0, a.bGB)("div")).textContent = "Method", D = (0, a.DhX)(), R = (0, a.bGB)("div"), $ = (0, a.fLW)(Et), k = (0, a.DhX)(), P = (0, a.bGB)("div"), (M = (0, a.bGB)("div")).textContent = "Request Type", S = (0, a.DhX)(), j = (0, a.bGB)("div"), B = (0, a.fLW)(Lt), A = (0, a.DhX)(), U = (0, a.bGB)("div"), (G = (0, a.bGB)("div")).textContent = "HTTP Status", N = (0, a.DhX)(), V = (0, a.bGB)("div"), W = (0, a.fLW)(Tt), K = (0, a.DhX)(), H = (0, a.bGB)("div"), (F = (0, a.bGB)("div")).textContent = "Start Time", q = (0, a.DhX)(), Z = (0, a.bGB)("div"), X = (0, a.fLW)(xt), z = (0, a.DhX)(), It && It.c(), Y = (0, a.DhX)(), Dt && Dt.c(), J = (0, a.DhX)(), Rt && Rt.c(), Q = (0, a.DhX)(), $t && $t.c(), tt = (0, a.DhX)(), nt = (0, a.bGB)("div"), et = (0, a.bGB)("dl"), ot = (0, a.bGB)("dt"), rt = (0, a.fLW)("Response\n                "), it = (0, a.bGB)("i"), (0, a.YCL)(at.$$.fragment), ct = (0, a.DhX)(), kt && kt.c(), st = (0, a.DhX)(), lt = (0, a.bGB)("div"), ft = (0, a.bGB)("pre"), dt = (0, a.fLW)(Ct), (0, a.Ljt)(o, "class", "vc-table-col vc-table-col-4"), (0, a.Ljt)(i, "class", "vc-table-col"), (0, a.Ljt)(u, "class", "vc-table-col"), (0, a.Ljt)(l, "class", "vc-table-col"), (0, a.Ljt)(e, "class", "vc-table-row vc-group-preview"), (0, a.VHj)(e, "vc-table-row-error", t[10].status >= 400), (0, a.Ljt)(_, "class", "vc-table-row-icon"), (0, a.Ljt)(g, "class", "vc-table-col vc-table-col-title"), (0, a.Ljt)(p, "class", "vc-table-row vc-left-border"), (0, a.Ljt)(E, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(T, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(w, "class", "vc-table-row vc-left-border vc-small"), (0, a.Ljt)(I, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(R, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(O, "class", "vc-table-row vc-left-border vc-small"), (0, a.Ljt)(M, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(j, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(P, "class", "vc-table-row vc-left-border vc-small"), (0, a.Ljt)(G, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(V, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(U, "class", "vc-table-row vc-left-border vc-small"), (0, a.Ljt)(F, "class", "vc-table-col vc-table-col-2"), (0, a.Ljt)(Z, "class", "vc-table-col vc-table-col-4 vc-table-col-value vc-max-height-line"), (0, a.Ljt)(H, "class", "vc-table-row vc-left-border vc-small"), (0, a.Ljt)(it, "class", "vc-table-row-icon"), (0, a.Ljt)(ot, "class", "vc-table-col vc-table-col-title"), (0, a.Ljt)(et, "class", "vc-table-row vc-left-border"), (0, a.Ljt)(ft, "class", "vc-table-col vc-max-height vc-min-height"), (0, a.Ljt)(ft, "data-scrollable", "1"), (0, a.Ljt)(lt, "class", "vc-table-row vc-left-border vc-small"), (0, a.Ljt)(v, "class", "vc-group-detail"), (0, a.Ljt)(n, "slot", "item"), (0, a.Ljt)(n, "class", "vc-group"), (0, a.Ljt)(n, "id", vt = t[10].id), (0, a.VHj)(n, "vc-actived", t[10].actived);}, m: function m(t, ut) {(0, a.$Tr)(t, n, ut), (0, a.R3I)(n, e), (0, a.R3I)(e, o), (0, a.R3I)(o, r), (0, a.R3I)(e, i), (0, a.R3I)(i, _c21), (0, a.R3I)(e, u), (0, a.R3I)(u, s), (0, a.R3I)(e, l), (0, a.R3I)(l, f), (0, a.R3I)(n, d), (0, a.R3I)(n, v), (0, a.R3I)(v, h), (0, a.R3I)(h, p), (0, a.R3I)(p, g), (0, a.R3I)(g, _m6), (0, a.R3I)(g, _), (0, a.yef)(b, _, null), (0, a.R3I)(h, y), (0, a.R3I)(h, w), (0, a.R3I)(w, E), (0, a.R3I)(w, L), (0, a.R3I)(w, T), (0, a.R3I)(T, x), (0, a.R3I)(h, C), (0, a.R3I)(h, O), (0, a.R3I)(O, I), (0, a.R3I)(O, D), (0, a.R3I)(O, R), (0, a.R3I)(R, $), (0, a.R3I)(h, k), (0, a.R3I)(h, P), (0, a.R3I)(P, M), (0, a.R3I)(P, S), (0, a.R3I)(P, j), (0, a.R3I)(j, B), (0, a.R3I)(h, A), (0, a.R3I)(h, U), (0, a.R3I)(U, G), (0, a.R3I)(U, N), (0, a.R3I)(U, V), (0, a.R3I)(V, W), (0, a.R3I)(h, K), (0, a.R3I)(h, H), (0, a.R3I)(H, F), (0, a.R3I)(H, q), (0, a.R3I)(H, Z), (0, a.R3I)(Z, X), (0, a.R3I)(v, z), It && It.m(v, null), (0, a.R3I)(v, Y), Dt && Dt.m(v, null), (0, a.R3I)(v, J), Rt && Rt.m(v, null), (0, a.R3I)(v, Q), $t && $t.m(v, null), (0, a.R3I)(v, tt), (0, a.R3I)(v, nt), (0, a.R3I)(nt, et), (0, a.R3I)(et, ot), (0, a.R3I)(ot, rt), (0, a.R3I)(ot, it), (0, a.yef)(at, it, null), (0, a.R3I)(nt, ct), kt && kt.m(nt, null), (0, a.R3I)(nt, st), (0, a.R3I)(nt, lt), (0, a.R3I)(lt, ft), (0, a.R3I)(ft, dt), ht = !0, pt || (gt = (0, a.oLt)(e, "click", Ot), pt = !0);}, p: function p(o, i) {t = o, (!ht || 1024 & i) && mt !== (mt = t[10].name + "") && (0, a.rTO)(r, mt), (!ht || 1024 & i) && _t !== (_t = t[10].method + "") && (0, a.rTO)(_c21, _t), (!ht || 1024 & i) && bt !== (bt = t[10].statusText + "") && (0, a.rTO)(s, bt), (!ht || 1024 & i) && yt !== (yt = t[10].costTime + "") && (0, a.rTO)(f, yt), 1024 & i && (0, a.VHj)(e, "vc-table-row-error", t[10].status >= 400);var u = {};1024 & i && (u.content = t[10]), b.$set(u), (!ht || 1024 & i) && wt !== (wt = t[10].url + "") && (0, a.rTO)(x, wt), (!ht || 1024 & i) && Et !== (Et = t[10].method + "") && (0, a.rTO)($, Et), (!ht || 1024 & i) && Lt !== (Lt = t[10].requestType + "") && (0, a.rTO)(B, Lt), (!ht || 1024 & i) && Tt !== (Tt = t[10].status + "") && (0, a.rTO)(W, Tt), (!ht || 1024 & i) && xt !== (xt = t[10].startTimeText + "") && (0, a.rTO)(X, xt), null !== t[10].requestHeader ? It ? (It.p(t, i), 1024 & i && (0, a.Ui)(It, 1)) : ((It = ao(t)).c(), (0, a.Ui)(It, 1), It.m(v, Y)) : It && ((0, a.dvw)(), (0, a.etI)(It, 1, 1, function () {It = null;}), (0, a.gbL)()), null !== t[10].getData ? Dt ? (Dt.p(t, i), 1024 & i && (0, a.Ui)(Dt, 1)) : ((Dt = uo(t)).c(), (0, a.Ui)(Dt, 1), Dt.m(v, J)) : Dt && ((0, a.dvw)(), (0, a.etI)(Dt, 1, 1, function () {Dt = null;}), (0, a.gbL)()), null !== t[10].postData ? Rt ? (Rt.p(t, i), 1024 & i && (0, a.Ui)(Rt, 1)) : ((Rt = lo(t)).c(), (0, a.Ui)(Rt, 1), Rt.m(v, Q)) : Rt && ((0, a.dvw)(), (0, a.etI)(Rt, 1, 1, function () {Rt = null;}), (0, a.gbL)()), null !== t[10].header ? $t ? ($t.p(t, i), 1024 & i && (0, a.Ui)($t, 1)) : (($t = po(t)).c(), (0, a.Ui)($t, 1), $t.m(v, tt)) : $t && ((0, a.dvw)(), (0, a.etI)($t, 1, 1, function () {$t = null;}), (0, a.gbL)());var l = {};1024 & i && (l.content = t[10].response), at.$set(l), t[10].responseSize > 0 ? kt ? kt.p(t, i) : ((kt = mo(t)).c(), kt.m(nt, st)) : kt && (kt.d(1), kt = null), (!ht || 1024 & i) && Ct !== (Ct = (t[10].response || "") + "") && (0, a.rTO)(dt, Ct), (!ht || 1024 & i && vt !== (vt = t[10].id)) && (0, a.Ljt)(n, "id", vt), 1024 & i && (0, a.VHj)(n, "vc-actived", t[10].actived);}, i: function i(t) {ht || ((0, a.Ui)(b.$$.fragment, t), (0, a.Ui)(It), (0, a.Ui)(Dt), (0, a.Ui)(Rt), (0, a.Ui)($t), (0, a.Ui)(at.$$.fragment, t), ht = !0);}, o: function o(t) {(0, a.etI)(b.$$.fragment, t), (0, a.etI)(It), (0, a.etI)(Dt), (0, a.etI)(Rt), (0, a.etI)($t), (0, a.etI)(at.$$.fragment, t), ht = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(b), It && It.d(), Dt && Dt.d(), Rt && Rt.d(), $t && $t.d(), (0, a.vpE)(at), kt && kt.d(), pt = !1, gt();} };}function bo(t) {var n, e, _o11, r;return _o11 = new ue({ props: { items: t[1], itemKey: "id", itemHeight: 30, buffer: 100, stickToBottom: !0, scrollbar: !0, $$slots: { item: [_o, function (t) {return { 10: t.item };}, function (t) {return t.item ? 1024 : 0;}], empty: [io], header: [ro] }, $$scope: { ctx: t } } }), { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("div"), (0, a.YCL)(_o11.$$.fragment), (0, a.Ljt)(e, "class", "vc-plugin-content"), (0, a.Ljt)(n, "class", "vc-table");}, m: function m(t, i) {(0, a.$Tr)(t, n, i), (0, a.R3I)(n, e), (0, a.yef)(_o11, e, null), r = !0;}, p: function p(t, n) {var e = n[0],r = {};2 & e && (r.items = t[1]), 2098177 & e && (r.$$scope = { dirty: e, ctx: t }), _o11.$set(r);}, i: function i(t) {r || ((0, a.Ui)(_o11.$$.fragment, t), r = !0);}, o: function o(t) {(0, a.etI)(_o11.$$.fragment, t), r = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(_o11);} };}function yo(t, e, o) {var r;(0, a.FIv)(t, He, function (t) {return o(6, r = t);});var i = 0,u = function u(t) {o(0, i = Object.keys(t).length);},s = He.subscribe(u);u(r);var l = [],f = function f(t) {(0, a.fxP)(He, r[t].actived = !r[t].actived, r);};(0, c.H3)(function () {Je.use();}), (0, c.ev)(function () {s(), Je.unuse();});return t.$$.update = function () {64 & t.$$.dirty && o(1, l = Object.values(r));}, [i, l, f, function (t) {var e = "curl -X " + t.method;return "string" == typeof t.postData ? e += " -d '" + t.postData + "'" : "object" == typeof t.postData && null !== t.postData && (e += " -d '" + n.hZ(t.postData) + "'"), e + " '" + t.url + "'";}, function (t) {return n.Kn(t) || n.kJ(t) ? n.hZ(t, { maxDepth: 10, keyMaxLen: 1e4, pretty: !0 }) : t;}, { fixedHeight: !0 }, r, function (t) {return f(t.id);}];}var wo = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, yo, bo, a.N8, { options: 5 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "options", get: function get() {return this.$$.ctx[5];} }]), e;}(a.f_C),Eo = wo,Lo = function (t) {function n() {for (var n, e = arguments.length, o = new Array(e), r = 0; r < e; r++) {o[r] = arguments[r];}return (n = t.call.apply(t, [this].concat(o)) || this).model = Fe.getSingleton(Fe, "VConsoleNetworkModel"), n;}(0, i.Z)(n, t);var e = n.prototype;return e.add = function (t) {var n = new ke(new $e());for (var e in t) {n[e] = t[e];}return n.startTime = n.startTime || Date.now(), n.requestType = n.requestType || "custom", this.model.updateRequest(n.id, n), n;}, e.update = function (t, n) {this.model.updateRequest(t, n);}, e.clear = function () {this.model.clearLog();}, n;}(_e),To = function (t) {function n(n, e, o) {var r;return void 0 === o && (o = {}), (r = t.call(this, n, e, Eo, o) || this).model = Fe.getSingleton(Fe, "VConsoleNetworkModel"), r.exporter = void 0, r.exporter = new Lo(n), r;}(0, i.Z)(n, t);var e = n.prototype;return e.onReady = function () {t.prototype.onReady.call(this), this.onUpdateOption();}, e.onAddTool = function (t) {var n = this;t([{ name: "Clear", global: !1, onClick: function onClick(t) {n.model.clearLog();} }]);}, e.onRemove = function () {t.prototype.onRemove.call(this), this.model && this.model.unMock();}, e.onUpdateOption = function () {var t, n;(null == (t = this.vConsole.option.network) ? void 0 : t.maxNetworkNumber) !== this.model.maxNetworkNumber && (this.model.maxNetworkNumber = Number(null == (n = this.vConsole.option.network) ? void 0 : n.maxNetworkNumber) || 1e3);}, n;}(nt),xo = __webpack_require__(8679),Co = __webpack_require__.n(xo),Oo = (0, Le.fZ)(),Io = (0, Le.fZ)(),Do = __webpack_require__(5670),Ro = {};Do.Z && Do.Z.locals && (Ro.locals = Do.Z.locals);var $o,ko = 0,Po = {};Po.styleTagTransform = b(), Po.setAttributes = p(), Po.insert = v().bind(null, "head"), Po.domAPI = f(), Po.insertStyleElement = m(), Ro.use = function (t) {return Po.options = t || {}, ko++ || ($o = s()(Do.Z, Po)), Ro;}, Ro.unuse = function () {ko > 0 && ! --ko && ($o(), $o = null);};var Mo = Ro;function So(t, n, e) {var o = t.slice();return o[8] = n[e], o;}function jo(t, n, e) {var o = t.slice();return o[11] = n[e], o;}function Bo(t) {var n,e,_o12,r = t[0].nodeType === Node.ELEMENT_NODE && Ao(t),i = t[0].nodeType === Node.TEXT_NODE && Xo(t);return { c: function c() {n = (0, a.bGB)("div"), r && r.c(), e = (0, a.DhX)(), i && i.c(), (0, a.Ljt)(n, "class", "vcelm-l"), (0, a.VHj)(n, "vc-actived", t[0]._isActived), (0, a.VHj)(n, "vc-toggle", t[0]._isExpand), (0, a.VHj)(n, "vcelm-noc", t[0]._isSingleLine);}, m: function m(t, c) {(0, a.$Tr)(t, n, c), r && r.m(n, null), (0, a.R3I)(n, e), i && i.m(n, null), _o12 = !0;}, p: function p(t, o) {t[0].nodeType === Node.ELEMENT_NODE ? r ? (r.p(t, o), 1 & o && (0, a.Ui)(r, 1)) : ((r = Ao(t)).c(), (0, a.Ui)(r, 1), r.m(n, e)) : r && ((0, a.dvw)(), (0, a.etI)(r, 1, 1, function () {r = null;}), (0, a.gbL)()), t[0].nodeType === Node.TEXT_NODE ? i ? i.p(t, o) : ((i = Xo(t)).c(), i.m(n, null)) : i && (i.d(1), i = null), 1 & o && (0, a.VHj)(n, "vc-actived", t[0]._isActived), 1 & o && (0, a.VHj)(n, "vc-toggle", t[0]._isExpand), 1 & o && (0, a.VHj)(n, "vcelm-noc", t[0]._isSingleLine);}, i: function i(t) {_o12 || ((0, a.Ui)(r), _o12 = !0);}, o: function o(t) {(0, a.etI)(r), _o12 = !1;}, d: function d(t) {t && (0, a.ogt)(n), r && r.d(), i && i.d();} };}function Ao(t) {var n,e,o,r,i,_c22,u,s,l,f,d = t[0].nodeName + "",v = (t[0].className || t[0].attributes.length) && Uo(t),h = t[0]._isNullEndTag && Wo(t),_p7 = t[0].childNodes.length > 0 && Ko(t),g = !t[0]._isNullEndTag && Zo(t);return { c: function c() {n = (0, a.bGB)("span"), e = (0, a.fLW)("<"), o = (0, a.fLW)(d), v && v.c(), r = (0, a.cSb)(), h && h.c(), i = (0, a.fLW)(">"), _p7 && _p7.c(), _c22 = (0, a.cSb)(), g && g.c(), u = (0, a.cSb)(), (0, a.Ljt)(n, "class", "vcelm-node");}, m: function m(d, _m7) {(0, a.$Tr)(d, n, _m7), (0, a.R3I)(n, e), (0, a.R3I)(n, o), v && v.m(n, null), (0, a.R3I)(n, r), h && h.m(n, null), (0, a.R3I)(n, i), _p7 && _p7.m(d, _m7), (0, a.$Tr)(d, _c22, _m7), g && g.m(d, _m7), (0, a.$Tr)(d, u, _m7), s = !0, l || (f = (0, a.oLt)(n, "click", t[2]), l = !0);}, p: function p(t, e) {(!s || 1 & e) && d !== (d = t[0].nodeName + "") && (0, a.rTO)(o, d), t[0].className || t[0].attributes.length ? v ? v.p(t, e) : ((v = Uo(t)).c(), v.m(n, r)) : v && (v.d(1), v = null), t[0]._isNullEndTag ? h || ((h = Wo(t)).c(), h.m(n, i)) : h && (h.d(1), h = null), t[0].childNodes.length > 0 ? _p7 ? (_p7.p(t, e), 1 & e && (0, a.Ui)(_p7, 1)) : ((_p7 = Ko(t)).c(), (0, a.Ui)(_p7, 1), _p7.m(_c22.parentNode, _c22)) : _p7 && ((0, a.dvw)(), (0, a.etI)(_p7, 1, 1, function () {_p7 = null;}), (0, a.gbL)()), t[0]._isNullEndTag ? g && (g.d(1), g = null) : g ? g.p(t, e) : ((g = Zo(t)).c(), g.m(u.parentNode, u));}, i: function i(t) {s || ((0, a.Ui)(_p7), s = !0);}, o: function o(t) {(0, a.etI)(_p7), s = !1;}, d: function d(t) {t && (0, a.ogt)(n), v && v.d(), h && h.d(), _p7 && _p7.d(t), t && (0, a.ogt)(_c22), g && g.d(t), t && (0, a.ogt)(u), l = !1, f();} };}function Uo(t) {for (var n, e = t[0].attributes, o = [], r = 0; r < e.length; r += 1) {o[r] = Vo(jo(t, e, r));}return { c: function c() {n = (0, a.bGB)("i");for (var t = 0; t < o.length; t += 1) {o[t].c();}(0, a.Ljt)(n, "class", "vcelm-k");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);for (var r = 0; r < o.length; r += 1) {o[r].m(n, null);}}, p: function p(t, r) {if (1 & r) {var i;for (e = t[0].attributes, i = 0; i < e.length; i += 1) {var a = jo(t, e, i);o[i] ? o[i].p(a, r) : (o[i] = Vo(a), o[i].c(), o[i].m(n, null));}for (; i < o.length; i += 1) {o[i].d(1);}o.length = e.length;}}, d: function d(t) {t && (0, a.ogt)(n), (0, a.RMB)(o, t);} };}function Go(t) {var n,e = t[11].name + "";return { c: function c() {n = (0, a.fLW)(e);}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, p: function p(t, o) {1 & o && e !== (e = t[11].name + "") && (0, a.rTO)(n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function No(t) {var n,e,o,r,i,_c23 = t[11].name + "",u = t[11].value + "";return { c: function c() {n = (0, a.fLW)(_c23), e = (0, a.fLW)('="'), o = (0, a.bGB)("i"), r = (0, a.fLW)(u), i = (0, a.fLW)('"'), (0, a.Ljt)(o, "class", "vcelm-v");}, m: function m(t, c) {(0, a.$Tr)(t, n, c), (0, a.$Tr)(t, e, c), (0, a.$Tr)(t, o, c), (0, a.R3I)(o, r), (0, a.$Tr)(t, i, c);}, p: function p(t, e) {1 & e && _c23 !== (_c23 = t[11].name + "") && (0, a.rTO)(n, _c23), 1 & e && u !== (u = t[11].value + "") && (0, a.rTO)(r, u);}, d: function d(t) {t && (0, a.ogt)(n), t && (0, a.ogt)(e), t && (0, a.ogt)(o), t && (0, a.ogt)(i);} };}function Vo(t) {var n, e;function o(t, n) {return "" !== t[11].value ? No : Go;}var r = o(t),i = r(t);return { c: function c() {n = (0, a.fLW)(" \n            "), i.c(), e = (0, a.cSb)();}, m: function m(t, o) {(0, a.$Tr)(t, n, o), i.m(t, o), (0, a.$Tr)(t, e, o);}, p: function p(t, n) {r === (r = o(t)) && i ? i.p(t, n) : (i.d(1), (i = r(t)) && (i.c(), i.m(e.parentNode, e)));}, d: function d(t) {t && (0, a.ogt)(n), i.d(t), t && (0, a.ogt)(e);} };}function Wo(t) {var n;return { c: function c() {n = (0, a.fLW)("/");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, d: function d(t) {t && (0, a.ogt)(n);} };}function Ko(t) {var n,e,o,r,i = [Fo, Ho],c = [];function u(t, n) {return t[0]._isExpand ? 1 : 0;}return n = u(t), e = c[n] = i[n](t), { c: function c() {e.c(), o = (0, a.cSb)();}, m: function m(t, e) {c[n].m(t, e), (0, a.$Tr)(t, o, e), r = !0;}, p: function p(t, r) {var s = n;(n = u(t)) === s ? c[n].p(t, r) : ((0, a.dvw)(), (0, a.etI)(c[s], 1, 1, function () {c[s] = null;}), (0, a.gbL)(), (e = c[n]) ? e.p(t, r) : (e = c[n] = i[n](t)).c(), (0, a.Ui)(e, 1), e.m(o.parentNode, o));}, i: function i(t) {r || ((0, a.Ui)(e), r = !0);}, o: function o(t) {(0, a.etI)(e), r = !1;}, d: function d(t) {c[n].d(t), t && (0, a.ogt)(o);} };}function Ho(t) {for (var n, e, o = t[0].childNodes, r = [], i = 0; i < o.length; i += 1) {r[i] = qo(So(t, o, i));}var c = function c(t) {return (0, a.etI)(r[t], 1, 1, function () {r[t] = null;});};return { c: function c() {for (var t = 0; t < r.length; t += 1) {r[t].c();}n = (0, a.cSb)();}, m: function m(t, o) {for (var i = 0; i < r.length; i += 1) {r[i].m(t, o);}(0, a.$Tr)(t, n, o), e = !0;}, p: function p(t, e) {if (1 & e) {var i;for (o = t[0].childNodes, i = 0; i < o.length; i += 1) {var u = So(t, o, i);r[i] ? (r[i].p(u, e), (0, a.Ui)(r[i], 1)) : (r[i] = qo(u), r[i].c(), (0, a.Ui)(r[i], 1), r[i].m(n.parentNode, n));}for ((0, a.dvw)(), i = o.length; i < r.length; i += 1) {c(i);}(0, a.gbL)();}}, i: function i(t) {if (!e) {for (var n = 0; n < o.length; n += 1) {(0, a.Ui)(r[n]);}e = !0;}}, o: function o(t) {r = r.filter(Boolean);for (var n = 0; n < r.length; n += 1) {(0, a.etI)(r[n]);}e = !1;}, d: function d(t) {(0, a.RMB)(r, t), t && (0, a.ogt)(n);} };}function Fo(t) {var n;return { c: function c() {n = (0, a.fLW)("...");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, p: a.ZTd, i: a.ZTd, o: a.ZTd, d: function d(t) {t && (0, a.ogt)(n);} };}function qo(t) {var n, e, _o13;return (n = new Jo({ props: { node: t[8] } })).$on("toggleNode", t[4]), { c: function c() {(0, a.YCL)(n.$$.fragment), e = (0, a.DhX)();}, m: function m(t, r) {(0, a.yef)(n, t, r), (0, a.$Tr)(t, e, r), _o13 = !0;}, p: function p(t, e) {var o = {};1 & e && (o.node = t[8]), n.$set(o);}, i: function i(t) {_o13 || ((0, a.Ui)(n.$$.fragment, t), _o13 = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), _o13 = !1;}, d: function d(t) {(0, a.vpE)(n, t), t && (0, a.ogt)(e);} };}function Zo(t) {var n,e,o,r,i = t[0].nodeName + "";return { c: function c() {n = (0, a.bGB)("span"), e = (0, a.fLW)("</"), o = (0, a.fLW)(i), r = (0, a.fLW)(">"), (0, a.Ljt)(n, "class", "vcelm-node");}, m: function m(t, i) {(0, a.$Tr)(t, n, i), (0, a.R3I)(n, e), (0, a.R3I)(n, o), (0, a.R3I)(n, r);}, p: function p(t, n) {1 & n && i !== (i = t[0].nodeName + "") && (0, a.rTO)(o, i);}, d: function d(t) {t && (0, a.ogt)(n);} };}function Xo(t) {var n,e,o = t[1](t[0].textContent) + "";return { c: function c() {n = (0, a.bGB)("span"), e = (0, a.fLW)(o), (0, a.Ljt)(n, "class", "vcelm-t vcelm-noc");}, m: function m(t, o) {(0, a.$Tr)(t, n, o), (0, a.R3I)(n, e);}, p: function p(t, n) {1 & n && o !== (o = t[1](t[0].textContent) + "") && (0, a.rTO)(e, o);}, d: function d(t) {t && (0, a.ogt)(n);} };}function zo(t) {var n,e,_o14 = t[0] && Bo(t);return { c: function c() {_o14 && _o14.c(), n = (0, a.cSb)();}, m: function m(t, r) {_o14 && _o14.m(t, r), (0, a.$Tr)(t, n, r), e = !0;}, p: function p(t, e) {var r = e[0];t[0] ? _o14 ? (_o14.p(t, r), 1 & r && (0, a.Ui)(_o14, 1)) : ((_o14 = Bo(t)).c(), (0, a.Ui)(_o14, 1), _o14.m(n.parentNode, n)) : _o14 && ((0, a.dvw)(), (0, a.etI)(_o14, 1, 1, function () {_o14 = null;}), (0, a.gbL)());}, i: function i(t) {e || ((0, a.Ui)(_o14), e = !0);}, o: function o(t) {(0, a.etI)(_o14), e = !1;}, d: function d(t) {_o14 && _o14.d(t), t && (0, a.ogt)(n);} };}function Yo(t, n, e) {var o;(0, a.FIv)(t, Io, function (t) {return e(3, o = t);});var r = n.node,i = (0, c.x)(),u = ["br", "hr", "img", "input", "link", "meta"];(0, c.H3)(function () {Mo.use();}), (0, c.ev)(function () {Mo.unuse();});return t.$$set = function (t) {"node" in t && e(0, r = t.node);}, t.$$.update = function () {9 & t.$$.dirty && r && (e(0, r._isActived = r === o, r), e(0, r._isNullEndTag = function (t) {return u.indexOf(t.nodeName) > -1;}(r), r), e(0, r._isSingleLine = 0 === r.childNodes.length || r._isNullEndTag, r));}, [r, function (t) {return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");}, function () {r._isNullEndTag || (e(0, r._isExpand = !r._isExpand, r), i("toggleNode", { node: r }));}, o, function (n) {a.cKT.call(this, t, n);}];}var Jo = function (n) {function e(t) {var e;return e = n.call(this) || this, (0, a.S1n)((0, r.Z)(e), t, Yo, zo, a.N8, { node: 0 }), e;}return (0, i.Z)(e, n), (0, t.Z)(e, [{ key: "node", get: function get() {return this.$$.ctx[0];}, set: function set(t) {this.$$set({ node: t }), (0, a.yl1)();} }]), e;}(a.f_C),Qo = Jo;function tr(t) {var n, e, _o15;return (e = new Qo({ props: { node: t[0] } })).$on("toggleNode", t[1]), { c: function c() {n = (0, a.bGB)("div"), (0, a.YCL)(e.$$.fragment), (0, a.Ljt)(n, "class", "vc-plugin-content");}, m: function m(t, r) {(0, a.$Tr)(t, n, r), (0, a.yef)(e, n, null), _o15 = !0;}, p: function p(t, n) {var o = {};1 & n[0] && (o.node = t[0]), e.$set(o);}, i: function i(t) {_o15 || ((0, a.Ui)(e.$$.fragment, t), _o15 = !0);}, o: function o(t) {(0, a.etI)(e.$$.fragment, t), _o15 = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.vpE)(e);} };}function nr(t, n, e) {var o;return (0, a.FIv)(t, Oo, function (t) {return e(0, o = t);}), [o, function (n) {a.cKT.call(this, t, n);}];}var er = function (t) {function n(n) {var e;return e = t.call(this) || this, (0, a.S1n)((0, r.Z)(e), n, nr, tr, a.N8, {}), e;}return (0, i.Z)(n, t), n;}(a.f_C),or = er,rr = function (t) {function n(n, e, o) {var r;return void 0 === o && (o = {}), (r = t.call(this, n, e, or, o) || this).isInited = !1, r.observer = void 0, r.nodeMap = void 0, r;}(0, i.Z)(n, t);var e = n.prototype;return e.onShow = function () {this.isInited || this._init();}, e.onRemove = function () {t.prototype.onRemove.call(this), this.isInited && (this.observer.disconnect(), this.isInited = !1, this.nodeMap = void 0, Oo.set(void 0));}, e.onAddTool = function (t) {var n = this;t([{ name: "Expand", global: !1, onClick: function onClick(t) {n._expandActivedNode();} }, { name: "Collapse", global: !1, onClick: function onClick(t) {n._collapseActivedNode();} }]);}, e._init = function () {var t = this;this.isInited = !0, this.nodeMap = new WeakMap();var n = this._generateVNode(document.documentElement);n._isExpand = !0, Io.set(n), Oo.set(n), this.compInstance.$on("toggleNode", function (t) {Io.set(t.detail.node);}), this.observer = new (Co())(function (n) {for (var e = 0; e < n.length; e++) {var o = n[e];t._isInVConsole(o.target) || t._handleMutation(o);}}), this.observer.observe(document.documentElement, { attributes: !0, childList: !0, characterData: !0, subtree: !0 });}, e._handleMutation = function (t) {switch (t.type) {case "childList":t.removedNodes.length > 0 && this._onChildRemove(t), t.addedNodes.length > 0 && this._onChildAdd(t);break;case "attributes":this._onAttributesChange(t);break;case "characterData":this._onCharacterDataChange(t);}}, e._onChildRemove = function (t) {var n = this.nodeMap.get(t.target);if (n) {for (var e = 0; e < t.removedNodes.length; e++) {var o = this.nodeMap.get(t.removedNodes[e]);if (o) {for (var r = 0; r < n.childNodes.length; r++) {if (n.childNodes[r] === o) {n.childNodes.splice(r, 1);break;}}this.nodeMap.delete(t.removedNodes[e]);}}this._refreshStore();}}, e._onChildAdd = function (t) {var n = this.nodeMap.get(t.target);if (n) {for (var e = 0; e < t.addedNodes.length; e++) {var o = t.addedNodes[e],r = this._generateVNode(o);if (r) {var i = void 0,a = o;do {if (null === a.nextSibling) break;a.nodeType === Node.ELEMENT_NODE && (i = this.nodeMap.get(a.nextSibling) || void 0), a = a.nextSibling;} while (void 0 === i);if (void 0 === i) n.childNodes.push(r);else for (var c = 0; c < n.childNodes.length; c++) {if (n.childNodes[c] === i) {n.childNodes.splice(c, 0, r);break;}}}}this._refreshStore();}}, e._onAttributesChange = function (t) {this._updateVNodeAttributes(t.target), this._refreshStore();}, e._onCharacterDataChange = function (t) {var n = this.nodeMap.get(t.target);n && (n.textContent = t.target.textContent, this._refreshStore());}, e._generateVNode = function (t) {if (!this._isIgnoredNode(t)) {var n = { nodeType: t.nodeType, nodeName: t.nodeName.toLowerCase(), textContent: "", id: "", className: "", attributes: [], childNodes: [] };if (this.nodeMap.set(t, n), n.nodeType != t.TEXT_NODE && n.nodeType != t.DOCUMENT_TYPE_NODE || (n.textContent = t.textContent), t.childNodes.length > 0) {n.childNodes = [];for (var e = 0; e < t.childNodes.length; e++) {var o = this._generateVNode(t.childNodes[e]);o && n.childNodes.push(o);}}return this._updateVNodeAttributes(t), n;}}, e._updateVNodeAttributes = function (t) {var n = this.nodeMap.get(t);if (n && t instanceof Element && (n.id = t.id || "", n.className = t.className || "", t.hasAttributes && t.hasAttributes())) {n.attributes = [];for (var e = 0; e < t.attributes.length; e++) {n.attributes.push({ name: t.attributes[e].name, value: t.attributes[e].value || "" });}}}, e._expandActivedNode = function () {var t = (0, Le.U2)(Io);if (t._isExpand) for (var n = 0; n < t.childNodes.length; n++) {t.childNodes[n]._isExpand = !0;} else t._isExpand = !0;this._refreshStore();}, e._collapseActivedNode = function () {var t = (0, Le.U2)(Io);if (t._isExpand) {for (var n = !1, e = 0; e < t.childNodes.length; e++) {t.childNodes[e]._isExpand && (n = !0, t.childNodes[e]._isExpand = !1);}n || (t._isExpand = !1), this._refreshStore();}}, e._isIgnoredNode = function (t) {if (t.nodeType === t.TEXT_NODE) {if ("" === t.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g, "")) return !0;} else if (t.nodeType === t.COMMENT_NODE) return !0;return !1;}, e._isInVConsole = function (t) {for (var n = t; void 0 !== n;) {if ("__vconsole" == n.id) return !0;n = n.parentElement || void 0;}return !1;}, e._refreshStore = function () {Oo.update(function (t) {return t;});}, n;}(nt);function ir(t, n, e, o, r, i, a) {try {var c = t[i](a),u = c.value;} catch (t) {return void e(t);}c.done ? n(u) : Promise.resolve(u).then(o, r);}function ar(t) {return function () {var n = this,e = arguments;return new Promise(function (o, r) {var i = t.apply(n, e);function a(t) {ir(i, o, r, a, c, "next", t);}function c(t) {ir(i, o, r, a, c, "throw", t);}a(void 0);});};}var cr = __webpack_require__(8270);function ur(t, n) {var e = Object.keys(t);if (Object.getOwnPropertySymbols) {var o = Object.getOwnPropertySymbols(t);n && (o = o.filter(function (n) {return Object.getOwnPropertyDescriptor(t, n).enumerable;})), e.push.apply(e, o);}return e;}function sr(t) {for (var n = 1; n < arguments.length; n++) {var e = null != arguments[n] ? arguments[n] : {};n % 2 ? ur(Object(e), !0).forEach(function (n) {(0, cr.Z)(t, n, e[n]);}) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(e)) : ur(Object(e)).forEach(function (n) {Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(e, n));});}return t;}var lr = function lr(t) {if (!t || 0 === t.length) return {};for (var n = {}, e = t.split(";"), o = 0; o < e.length; o++) {var r = e[o].indexOf("=");if (!(r < 0)) {var i = e[o].substring(0, r).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""),a = e[o].substring(r + 1, e[o].length);try {i = decodeURIComponent(i);} catch (t) {}try {a = decodeURIComponent(a);} catch (t) {}n[i] = a;}}return n;},fr = function fr(t, n, e) {"undefined" != typeof document && void 0 !== document.cookie && (document.cookie = encodeURIComponent(t) + "=" + encodeURIComponent(n) + function (t) {void 0 === t && (t = {});var n = t,e = n.path,o = n.domain,r = n.expires,i = n.secure,a = n.sameSite,c = ["none", "lax", "strict"].indexOf((a || "").toLowerCase()) > -1 ? a : null;return [null == e ? "" : ";path=" + e, null == o ? "" : ";domain=" + o, null == r ? "" : ";expires=" + r.toUTCString(), void 0 === i || !1 === i ? "" : ";secure", null === c ? "" : ";SameSite=" + c].join("");}(e));},dr = function dr() {return "undefined" == typeof document || void 0 === document.cookie ? "" : document.cookie;},vr = function () {function n() {}var e = n.prototype;return e.key = function (t) {return t < this.keys.length ? this.keys[t] : null;}, e.setItem = function (t, n, e) {fr(t, n, e);}, e.getItem = function (t) {var n = lr(dr());return Object.prototype.hasOwnProperty.call(n, t) ? n[t] : null;}, e.removeItem = function (t, n) {for (var e, o, r = ["", "/"], i = (null == (e = location) || null == (o = e.hostname) ? void 0 : o.split(".")) || []; i.length > 1;) {r.push(i.join(".")), i.shift();}for (var a = 0; a < r.length; a++) {for (var c, u, s = (null == (c = location) || null == (u = c.pathname) ? void 0 : u.split("/")) || [], l = ""; s.length > 0;) {l += ("/" === l ? "" : "/") + s.shift();var f = sr(sr({}, n), {}, { path: l, domain: r[a], expires: new Date(0) });fr(t, "", f);}}}, e.clear = function () {for (var t = [].concat(this.keys), n = 0; n < t.length; n++) {this.removeItem(t[n]);}}, (0, t.Z)(n, [{ key: "length", get: function get() {return this.keys.length;} }, { key: "keys", get: function get() {var t = lr(dr());return Object.keys(t).sort();} }]), n;}(),hr = function () {function e() {this.keys = [], this.currentSize = 0, this.limitSize = 0;}var o = e.prototype;return o.key = function (t) {return t < this.keys.length ? this.keys[t] : null;}, o.prepare = function () {var t = ar(_n().mark(function t() {var e = this;return _n().wrap(function (t) {for (;;) {switch (t.prev = t.next) {case 0:return t.abrupt("return", new Promise(function (t, o) {(0, n.qt)("getStorageInfo", { success: function success(n) {e.keys = n ? n.keys.sort() : [], e.currentSize = n ? n.currentSize : 0, e.limitSize = n ? n.limitSize : 0, t(!0);}, fail: function fail() {o(!1);} });}));case 1:case "end":return t.stop();}}}, t);}));return function () {return t.apply(this, arguments);};}(), o.getItem = function (t) {return new Promise(function (e, o) {(0, n.qt)("getStorage", { key: t, success: function success(t) {var n = t.data;if ("object" == typeof t.data) try {n = JSON.stringify(t.data);} catch (t) {}e(n);}, fail: function fail(t) {o(t);} });});}, o.setItem = function (t, e) {return new Promise(function (o, r) {(0, n.qt)("setStorage", { key: t, data: e, success: function success(t) {o(t);}, fail: function fail(t) {r(t);} });});}, o.removeItem = function (t) {return new Promise(function (e, o) {(0, n.qt)("removeStorage", { key: t, success: function success(t) {e(t);}, fail: function fail(t) {o(t);} });});}, o.clear = function () {return new Promise(function (t, e) {(0, n.qt)("clearStorage", { success: function success(n) {t(n);}, fail: function fail(t) {e(t);} });});}, (0, t.Z)(e, [{ key: "length", get: function get() {return this.keys.length;} }]), e;}(),pr = { updateTime: (0, Le.fZ)(0), activedName: (0, Le.fZ)(null), defaultStorages: (0, Le.fZ)(["cookies", "localStorage", "sessionStorage"]) },gr = function (e) {function o() {var t;return (t = e.call(this) || this).storage = new Map(), pr.activedName.subscribe(function (t) {var n = (0, Le.U2)(pr.defaultStorages);n.length > 0 && -1 === n.indexOf(t) && pr.activedName.set(n[0]);}), pr.defaultStorages.subscribe(function (n) {-1 === n.indexOf((0, Le.U2)(pr.activedName)) && pr.activedName.set(n[0]), t.updateEnabledStorages();}), t;}(0, i.Z)(o, e);var r = o.prototype;return r.getItem = function () {var t = ar(_n().mark(function t(n) {return _n().wrap(function (t) {for (;;) {switch (t.prev = t.next) {case 0:if (this.activedStorage) {t.next = 2;break;}return t.abrupt("return", "");case 2:return t.next = 4, this.promisify(this.activedStorage.getItem(n));case 4:return t.abrupt("return", t.sent);case 5:case "end":return t.stop();}}}, t, this);}));return function (n) {return t.apply(this, arguments);};}(), r.setItem = function () {var t = ar(_n().mark(function t(n, e) {var o;return _n().wrap(function (t) {for (;;) {switch (t.prev = t.next) {case 0:if (this.activedStorage) {t.next = 2;break;}return t.abrupt("return");case 2:return t.next = 4, this.promisify(this.activedStorage.setItem(n, e));case 4:return o = t.sent, this.refresh(), t.abrupt("return", o);case 7:case "end":return t.stop();}}}, t, this);}));return function (n, e) {return t.apply(this, arguments);};}(), r.removeItem = function () {var t = ar(_n().mark(function t(n) {var e;return _n().wrap(function (t) {for (;;) {switch (t.prev = t.next) {case 0:if (this.activedStorage) {t.next = 2;break;}return t.abrupt("return");case 2:return t.next = 4, this.promisify(this.activedStorage.removeItem(n));case 4:return e = t.sent, this.refresh(), t.abrupt("return", e);case 7:case "end":return t.stop();}}}, t, this);}));return function (n) {return t.apply(this, arguments);};}(), r.clear = function () {var t = ar(_n().mark(function t() {var n;return _n().wrap(function (t) {for (;;) {switch (t.prev = t.next) {case 0:if (this.activedStorage) {t.next = 2;break;}return t.abrupt("return");case 2:return t.next = 4, this.promisify(this.activedStorage.clear());case 4:return n = t.sent, this.refresh(), t.abrupt("return", n);case 7:case "end":return t.stop();}}}, t, this);}));return function () {return t.apply(this, arguments);};}(), r.refresh = function () {pr.updateTime.set(Date.now());}, r.getEntries = function () {var t = ar(_n().mark(function t() {var n, e, o, r, i;return _n().wrap(function (t) {for (;;) {switch (t.prev = t.next) {case 0:if (n = this.activedStorage) {t.next = 3;break;}return t.abrupt("return", []);case 3:if ("function" != typeof n.prepare) {t.next = 6;break;}return t.next = 6, n.prepare();case 6:e = [], o = 0;case 8:if (!(o < n.length)) {t.next = 17;break;}return r = n.key(o), t.next = 12, this.getItem(r);case 12:i = t.sent, e.push([r, i]);case 14:o++, t.next = 8;break;case 17:return t.abrupt("return", e);case 18:case "end":return t.stop();}}}, t, this);}));return function () {return t.apply(this, arguments);};}(), r.updateEnabledStorages = function () {var t = (0, Le.U2)(pr.defaultStorages);t.indexOf("cookies") > -1 ? void 0 !== document.cookie && this.storage.set("cookies", new vr()) : this.deleteStorage("cookies"), t.indexOf("localStorage") > -1 ? window.localStorage && this.storage.set("localStorage", window.localStorage) : this.deleteStorage("localStorage"), t.indexOf("sessionStorage") > -1 ? window.sessionStorage && this.storage.set("sessionStorage", window.sessionStorage) : this.deleteStorage("sessionStorage"), t.indexOf("wxStorage") > -1 ? (0, n.H_)() && this.storage.set("wxStorage", new hr()) : this.deleteStorage("wxStorage");}, r.promisify = function (t) {return "string" == typeof t || null == t ? Promise.resolve(t) : t;}, r.deleteStorage = function (t) {this.storage.has(t) && this.storage.delete(t);}, (0, t.Z)(o, [{ key: "activedStorage", get: function get() {return this.storage.get((0, Le.U2)(pr.activedName));} }]), o;}(Te.N);function mr(t, n, e) {var o = t.slice();return o[20] = n[e][0], o[21] = n[e][1], o[23] = e, o;}function _r(t) {var n;return { c: function c() {(n = (0, a.bGB)("div")).textContent = "Empty", (0, a.Ljt)(n, "class", "vc-plugin-empty");}, m: function m(t, e) {(0, a.$Tr)(t, n, e);}, p: a.ZTd, d: function d(t) {t && (0, a.ogt)(n);} };}function br(t) {var n,e,o,r,i,_c24 = t[20] + "",u = t[5](t[21]) + "";return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.fLW)(_c24), o = (0, a.DhX)(), r = (0, a.bGB)("div"), i = (0, a.fLW)(u), (0, a.Ljt)(n, "class", "vc-table-col"), (0, a.Ljt)(r, "class", "vc-table-col vc-table-col-2");}, m: function m(t, c) {(0, a.$Tr)(t, n, c), (0, a.R3I)(n, e), (0, a.$Tr)(t, o, c), (0, a.$Tr)(t, r, c), (0, a.R3I)(r, i);}, p: function p(t, n) {1 & n && _c24 !== (_c24 = t[20] + "") && (0, a.rTO)(e, _c24), 1 & n && u !== (u = t[5](t[21]) + "") && (0, a.rTO)(i, u);}, d: function d(t) {t && (0, a.ogt)(n), t && (0, a.ogt)(o), t && (0, a.ogt)(r);} };}function yr(t) {var n, e, o, r, i, c, u;return { c: function c() {n = (0, a.bGB)("div"), e = (0, a.bGB)("textarea"), o = (0, a.DhX)(), r = (0, a.bGB)("div"), i = (0, a.bGB)("textarea"), (0, a.Ljt)(e, "class", "vc-table-input"), (0, a.Ljt)(n, "class", "vc-table-col"), (0, a.Ljt)(i, "class", "vc-table-input"), (0, a.Ljt)(r, "class", "vc-table-col vc-table-col-2");}, m: function m(s, l) {(0, a.$Tr)(s, n, l), (0, a.R3I)(n, e), (0, a.BmG)(e, t[2]), (0, a.$Tr)(s, o, l), (0, a.$Tr)(s, r, l), (0, a.R3I)(r, i), (0, a.BmG)(i, t[3]), c || (u = [(0, a.oLt)(e, "input", t[11]), (0, a.oLt)(i, "input", t[12])], c = !0);}, p: function p(t, n) {4 & n && (0, a.BmG)(e, t[2]), 8 & n && (0, a.BmG)(i, t[3]);}, d: function d(t) {t && (0, a.ogt)(n), t && (0, a.ogt)(o), t && (0, a.ogt)(r), c = !1, (0, a.j7q)(u);} };}function wr(t) {var n, e, _o16, r, _i8, c;return (n = new rt.Z({ props: { name: "delete" } })).$on("click", function () {return t[14](t[20]);}), _o16 = new ut({ props: { content: [t[20], t[21]].join("=") } }), (_i8 = new rt.Z({ props: { name: "edit" } })).$on("click", function () {return t[15](t[20], t[21], t[23]);}), { c: function c() {(0, a.YCL)(n.$$.fragment), e = (0, a.DhX)(), (0, a.YCL)(_o16.$$.fragment), r = (0, a.DhX)(), (0, a.YCL)(_i8.$$.fragment);}, m: function m(t, u) {(0, a.yef)(n, t, u), (0, a.$Tr)(t, e, u), (0, a.yef)(_o16, t, u), (0, a.$Tr)(t, r, u), (0, a.yef)(_i8, t, u), c = !0;}, p: function p(n, e) {t = n;var r = {};1 & e && (r.content = [t[20], t[21]].join("=")), _o16.$set(r);}, i: function i(t) {c || ((0, a.Ui)(n.$$.fragment, t), (0, a.Ui)(_o16.$$.fragment, t), (0, a.Ui)(_i8.$$.fragment, t), c = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), (0, a.etI)(_o16.$$.fragment, t), (0, a.etI)(_i8.$$.fragment, t), c = !1;}, d: function d(t) {(0, a.vpE)(n, t), t && (0, a.ogt)(e), (0, a.vpE)(_o16, t), t && (0, a.ogt)(r), (0, a.vpE)(_i8, t);} };}function Er(t) {var n, e, _o17, r;return (n = new rt.Z({ props: { name: "cancel" } })).$on("click", t[9]), (_o17 = new rt.Z({ props: { name: "done" } })).$on("click", function () {return t[13](t[20]);}), { c: function c() {(0, a.YCL)(n.$$.fragment), e = (0, a.DhX)(), (0, a.YCL)(_o17.$$.fragment);}, m: function m(t, i) {(0, a.yef)(n, t, i), (0, a.$Tr)(t, e, i), (0, a.yef)(_o17, t, i), r = !0;}, p: function p(n, e) {t = n;}, i: function i(t) {r || ((0, a.Ui)(n.$$.fragment, t), (0, a.Ui)(_o17.$$.fragment, t), r = !0);}, o: function o(t) {(0, a.etI)(n.$$.fragment, t), (0, a.etI)(_o17.$$.fragment, t), r = !1;}, d: function d(t) {(0, a.vpE)(n, t), t && (0, a.ogt)(e), (0, a.vpE)(_o17, t);} };}function Lr(t) {var n, e, o, r, _i9, _c25, u;function s(t, n) {return t[1] === t[23] ? yr : br;}var l = s(t),f = l(t),d = [Er, wr],v = [];function h(t, n) {return t[1] === t[23] ? 0 : 1;}return r = h(t), _i9 = v[r] = d[r](t), { c: function c() {n = (0, a.bGB)("div"), f.c(), e = (0, a.DhX)(), o = (0, a.bGB)("div"), _i9.c(), _c25 = (0, a.DhX)(), (0, a.Ljt)(o, "class", "vc-table-col vc-table-col-1 vc-table-action"), (0, a.Ljt)(n, "class", "vc-table-row");}, m: function m(t, i) {(0, a.$Tr)(t, n, i), f.m(n, null), (0, a.R3I)(n, e), (0, a.R3I)(n, o), v[r].m(o, null), (0, a.R3I)(n, _c25), u = !0;}, p: function p(t, c) {l === (l = s(t)) && f ? f.p(t, c) : (f.d(1), (f = l(t)) && (f.c(), f.m(n, e)));var u = r;(r = h(t)) === u ? v[r].p(t, c) : ((0, a.dvw)(), (0, a.etI)(v[u], 1, 1, function () {v[u] = null;}), (0, a.gbL)(), (_i9 = v[r]) ? _i9.p(t, c) : (_i9 = v[r] = d[r](t)).c(), (0, a.Ui)(_i9, 1), _i9.m(o, null));}, i: function i(t) {u || ((0, a.Ui)(_i9), u = !0);}, o: function o(t) {(0, a.etI)(_i9), u = !1;}, d: function d(t) {t && (0, a.ogt)(n), f.d(), v[r].d();} };}function Tr(t) {for (var n, e, o, r, _i10 = t[0], _c26 = [], u = 0; u < _i10.length; u += 1) {_c26[u] = Lr(mr(t, _i10, u));}var s = function s(t) {return (0, a.etI)(_c26[t], 1, 1, function () {_c26[t] = null;});},l = null;return _i10.length || (l = _r()), { c: function c() {n = (0, a.bGB)("div"), (e = (0, a.bGB)("div")).innerHTML = '<div class="vc-table-col">Key</div> \n    <div class="vc-table-col vc-table-col-2">Value</div> \n    <div class="vc-table-col vc-table-col-1 vc-table-action"></div>', o = (0, a.DhX)();for (var t = 0; t < _c26.length; t += 1) {_c26[t].c();}l && l.c(), (0, a.Ljt)(e, "class", "vc-table-row"), (0, a.Ljt)(n, "class", "vc-table");}, m: function m(t, i) {(0, a.$Tr)(t, n, i), (0, a.R3I)(n, e), (0, a.R3I)(n, o);for (var u = 0; u < _c26.length; u += 1) {_c26[u].m(n, null);}l && l.m(n, null), r = !0;}, p: function p(t, e) {var o = e[0];if (1007 & o) {var r;for (_i10 = t[0], r = 0; r < _i10.length; r += 1) {var u = mr(t, _i10, r);_c26[r] ? (_c26[r].p(u, o), (0, a.Ui)(_c26[r], 1)) : (_c26[r] = Lr(u), _c26[r].c(), (0, a.Ui)(_c26[r], 1), _c26[r].m(n, null));}for ((0, a.dvw)(), r = _i10.length; r < _c26.length; r += 1) {s(r);}(0, a.gbL)(), !_i10.length && l ? l.p(t, o) : _i10.length ? l && (l.d(1), l = null) : ((l = _r()).c(), l.m(n, null));}}, i: function i(t) {if (!r) {for (var n = 0; n < _i10.length; n += 1) {(0, a.Ui)(_c26[n]);}r = !0;}}, o: function o(t) {_c26 = _c26.filter(Boolean);for (var n = 0; n < _c26.length; n += 1) {(0, a.etI)(_c26[n]);}r = !1;}, d: function d(t) {t && (0, a.ogt)(n), (0, a.RMB)(_c26, t), l && l.d();} };}function xr(t, e, o) {var r,i = this && this.__awaiter || function (t, n, e, o) {return new (e || (e = Promise))(function (r, i) {function a(t) {try {u(o.next(t));} catch (t) {i(t);}}function c(t) {try {u(o.throw(t));} catch (t) {i(t);}}function u(t) {var n;t.done ? r(t.value) : (n = t.value, n instanceof e ? n : new e(function (t) {t(n);})).then(a, c);}u((o = o.apply(t, n || [])).next());});},c = gr.getSingleton(gr, "VConsoleStorageModel"),u = pr.updateTime;(0, a.FIv)(t, u, function (t) {return o(10, r = t);});var s = [],l = -1,f = "",d = "",v = function v() {o(1, l = -1), o(2, f = ""), o(3, d = "");},h = function h(t) {return i(void 0, void 0, void 0, _n().mark(function n() {return _n().wrap(function (n) {for (;;) {switch (n.prev = n.next) {case 0:return n.next = 2, c.removeItem(t);case 2:case "end":return n.stop();}}}, n);}));},p = function p(t) {return i(void 0, void 0, void 0, _n().mark(function n() {return _n().wrap(function (n) {for (;;) {switch (n.prev = n.next) {case 0:if (f === t) {n.next = 3;break;}return n.next = 3, c.removeItem(t);case 3:c.setItem(f, d), v();case 5:case "end":return n.stop();}}}, n);}));},g = function g(t, n, e) {return i(void 0, void 0, void 0, _n().mark(function r() {return _n().wrap(function (r) {for (;;) {switch (r.prev = r.next) {case 0:o(2, f = t), o(3, d = n), o(1, l = e);case 3:case "end":return r.stop();}}}, r);}));};return t.$$.update = function () {1024 & t.$$.dirty && r && i(void 0, void 0, void 0, _n().mark(function t() {return _n().wrap(function (t) {for (;;) {switch (t.prev = t.next) {case 0:return v(), t.t0 = o, t.next = 4, c.getEntries();case 4:t.t1 = s = t.sent, (0, t.t0)(0, t.t1);case 6:case "end":return t.stop();}}}, t);}));}, [s, l, f, d, u, function (t) {return (0, n.id)(t, 1024);}, h, p, g, function () {v();}, r, function () {f = this.value, o(2, f);}, function () {d = this.value, o(3, d);}, function (t) {return p(t);}, function (t) {return h(t);}, function (t, n, e) {return g(t, n, e);}];}var Cr = function (t) {function n(n) {var e;return e = t.call(this) || this, (0, a.S1n)((0, r.Z)(e), n, xr, Tr, a.N8, {}), e;}return (0, i.Z)(n, t), n;}(a.f_C),Or = Cr,Ir = function (t) {function e(n, e, o) {var r;return void 0 === o && (o = {}), (r = t.call(this, n, e, Or, o) || this).model = gr.getSingleton(gr, "VConsoleStorageModel"), r.onAddTopBarCallback = void 0, r;}(0, i.Z)(e, t);var o = e.prototype;return o.onReady = function () {t.prototype.onReady.call(this), this.onUpdateOption();}, o.onShow = function () {this.model.refresh();}, o.onAddTopBar = function (t) {this.onAddTopBarCallback = t, this.updateTopBar();}, o.onAddTool = function (t) {var n = this;t([{ name: "Add", global: !1, onClick: function onClick() {n.model.setItem("new_" + Date.now(), "new_value");} }, { name: "Refresh", global: !1, onClick: function onClick() {n.model.refresh();} }, { name: "Clear", global: !1, onClick: function onClick() {n.model.clear();} }]);}, o.onUpdateOption = function () {var t,e = null == (t = this.vConsole.option.storage) ? void 0 : t.defaultStorages;(0, n.kJ)(e) && (e = e.length > 0 ? e : ["cookies"]) !== (0, Le.U2)(pr.defaultStorages) && (pr.defaultStorages.set(e), pr.activedName.set(e[0]), this.updateTopBar());}, o.updateTopBar = function () {var t = this;if ("function" == typeof this.onAddTopBarCallback) {for (var n = (0, Le.U2)(pr.defaultStorages), e = [], o = 0; o < n.length; o++) {var r = n[o];e.push({ name: r[0].toUpperCase() + r.substring(1), data: { name: r }, actived: r === (0, Le.U2)(pr.activedName), onClick: function onClick(n, e) {var o = (0, Le.U2)(pr.activedName);if (e.name === o) return !1;pr.activedName.set(e.name), t.model.refresh();} });}this.onAddTopBarCallback(e);}}, e;}(nt),Dr = function () {function e(t) {var r = this;if (this.version = "3.15.0", this.isInited = !1, this.option = {}, this.compInstance = void 0, this.pluginList = {}, this.log = void 0, this.system = void 0, this.network = void 0, e.instance && e.instance instanceof e) return console.debug("[vConsole] vConsole is already exists."), e.instance;if (e.instance = this, this.isInited = !1, this.option = { defaultPlugins: ["system", "network", "element", "storage"], log: {}, network: {}, storage: {} }, n.Kn(t)) for (var i in t) {this.option[i] = t[i];}void 0 !== this.option.maxLogNumber && (this.option.log.maxLogNumber = this.option.maxLogNumber, console.debug("[vConsole] Deprecated option: `maxLogNumber`, use `log.maxLogNumber` instead.")), void 0 !== this.option.onClearLog && console.debug("[vConsole] Deprecated option: `onClearLog`."), void 0 !== this.option.maxNetworkNumber && (this.option.network.maxNetworkNumber = this.option.maxNetworkNumber, console.debug("[vConsole] Deprecated option: `maxNetworkNumber`, use `network.maxNetworkNumber` instead.")), this._addBuiltInPlugins();var a = function a() {r.isInited || (r._initComponent(), r._autoRun());};if (void 0 !== document) "loading" === document.readyState ? o.bind(window, "DOMContentLoaded", a) : a();else {var c;c = setTimeout(function t() {document && "complete" == document.readyState ? (c && clearTimeout(c), a()) : c = setTimeout(t, 1);}, 1);}}var r = e.prototype;return r._addBuiltInPlugins = function () {this.addPlugin(new we("default", "Log"));var t = this.option.defaultPlugins,e = { system: { proto: Ee, name: "System" } };if (e.network = { proto: To, name: "Network" }, e.element = { proto: rr, name: "Element" }, e.storage = { proto: Ir, name: "Storage" }, t && n.kJ(t)) for (var o = 0; o < t.length; o++) {var r = e[t[o]];r ? this.addPlugin(new r.proto(t[o], r.name)) : console.debug("[vConsole] Unrecognized default plugin ID:", t[o]);}}, r._initComponent = function () {var t = this;if (!o.one("#__vconsole")) {var e,r = 1 * n.cF("switch_x"),i = 1 * n.cF("switch_y");"string" == typeof this.option.target ? e = document.querySelector(this.option.target) : this.option.target instanceof HTMLElement && (e = this.option.target), e instanceof HTMLElement || (e = document.documentElement), this.compInstance = new Q({ target: e, props: { switchButtonPosition: { x: r, y: i } } }), this.compInstance.$on("show", function (n) {n.detail.show ? t.show() : t.hide();}), this.compInstance.$on("changePanel", function (n) {var e = n.detail.pluginId;t.showPlugin(e);});}this._updateComponentByOptions();}, r._updateComponentByOptions = function () {if (this.compInstance) {if (this.compInstance.theme !== this.option.theme) {var t = this.option.theme;t = "light" !== t && "dark" !== t ? "" : t, this.compInstance.theme = t;}this.compInstance.disableScrolling !== this.option.disableLogScrolling && (this.compInstance.disableScrolling = !!this.option.disableLogScrolling);}}, r.setSwitchPosition = function (t, n) {this.compInstance.switchButtonPosition = { x: t, y: n };}, r._autoRun = function () {for (var t in this.isInited = !0, this.pluginList) {this._initPlugin(this.pluginList[t]);}this._showFirstPluginWhenEmpty(), this.triggerEvent("ready");}, r._showFirstPluginWhenEmpty = function () {var t = Object.keys(this.pluginList);"" === this.compInstance.activedPluginId && t.length > 0 && this.showPlugin(t[0]);}, r.triggerEvent = function (t, e) {var o = this;t = "on" + t.charAt(0).toUpperCase() + t.slice(1), n.mf(this.option[t]) && setTimeout(function () {o.option[t].apply(o, e);}, 0);}, r._initPlugin = function (t) {var e = this;t.vConsole = this, this.compInstance.pluginList[t.id] = { id: t.id, name: t.name, hasTabPanel: !1, tabOptions: void 0, topbarList: [], toolbarList: [] }, this.compInstance.pluginList = this._reorderPluginList(this.compInstance.pluginList), t.trigger("init"), t.trigger("renderTab", function (o, r) {void 0 === r && (r = {});var i = e.compInstance.pluginList[t.id];i.hasTabPanel = !0, i.tabOptions = r, o && setTimeout(function () {var e = document.querySelector("#__vc_plug_" + t.id);n.HD(o) ? e.innerHTML += o : n.mf(o.appendTo) ? o.appendTo(e) : n.kK(o) && e.insertAdjacentElement("beforeend", o);}, 0), e.compInstance.pluginList = e.compInstance.pluginList;}), t.trigger("addTopBar", function (n) {if (n) {for (var o = [], r = 0; r < n.length; r++) {var i = n[r];o.push({ name: i.name || "Undefined", className: i.className || "", actived: !!i.actived, data: i.data, onClick: i.onClick });}e.compInstance.pluginList[t.id].topbarList = o, e.compInstance.pluginList = e.compInstance.pluginList;}}), t.trigger("addTool", function (n) {if (n) {for (var o = [], r = 0; r < n.length; r++) {var i = n[r];o.push({ name: i.name || "Undefined", global: !!i.global, data: i.data, onClick: i.onClick });}e.compInstance.pluginList[t.id].toolbarList = o, e.compInstance.pluginList = e.compInstance.pluginList;}}), t.isReady = !0, t.trigger("ready");}, r._triggerPluginsEvent = function (t) {for (var n in this.pluginList) {this.pluginList[n].isReady && this.pluginList[n].trigger(t);}}, r._triggerPluginEvent = function (t, n) {var e = this.pluginList[t];e && e.isReady && e.trigger(n);}, r._reorderPluginList = function (t) {var e = this;if (!n.kJ(this.option.pluginOrder)) return t;for (var o = Object.keys(t).sort(function (t, n) {var o = e.option.pluginOrder.indexOf(t),r = e.option.pluginOrder.indexOf(n);return o === r ? 0 : -1 === o ? 1 : -1 === r ? -1 : o - r;}), r = {}, i = 0; i < o.length; i++) {r[o[i]] = t[o[i]];}return r;}, r.addPlugin = function (t) {return void 0 !== this.pluginList[t.id] ? (console.debug("[vConsole] Plugin `" + t.id + "` has already been added."), !1) : (this.pluginList[t.id] = t, this.isInited && (this._initPlugin(t), this._showFirstPluginWhenEmpty()), !0);}, r.removePlugin = function (t) {t = (t + "").toLowerCase();var n = this.pluginList[t];if (void 0 === n) return console.debug("[vConsole] Plugin `" + t + "` does not exist."), !1;n.trigger("remove");try {delete this.pluginList[t], delete this.compInstance.pluginList[t];} catch (n) {this.pluginList[t] = void 0, this.compInstance.pluginList[t] = void 0;}return this.compInstance.pluginList = this.compInstance.pluginList, this.compInstance.activedPluginId == t && (this.compInstance.activedPluginId = "", this._showFirstPluginWhenEmpty()), !0;}, r.show = function () {this.isInited && (this.compInstance.show = !0, this._triggerPluginsEvent("showConsole"));}, r.hide = function () {this.isInited && (this.compInstance.show = !1, this._triggerPluginsEvent("hideConsole"));}, r.showSwitch = function () {this.isInited && (this.compInstance.showSwitchButton = !0);}, r.hideSwitch = function () {this.isInited && (this.compInstance.showSwitchButton = !1);}, r.showPlugin = function (t) {this.isInited && (this.pluginList[t] || console.debug("[vConsole] Plugin `" + t + "` does not exist."), this.compInstance.activedPluginId && this._triggerPluginEvent(this.compInstance.activedPluginId, "hide"), this.compInstance.activedPluginId = t, this._triggerPluginEvent(this.compInstance.activedPluginId, "show"));}, r.setOption = function (t, e) {if ("string" == typeof t) {for (var o = t.split("."), r = this.option, i = 0; i < o.length - 1; i++) {void 0 === r[o[i]] && (r[o[i]] = {}), r = r[o[i]];}r[o[o.length - 1]] = e, this._triggerPluginsEvent("updateOption"), this._updateComponentByOptions();} else if (n.Kn(t)) {for (var a in t) {this.option[a] = t[a];}this._triggerPluginsEvent("updateOption"), this._updateComponentByOptions();} else console.debug("[vConsole] The first parameter of `vConsole.setOption()` must be a string or an object.");}, r.destroy = function () {if (this.isInited) {this.isInited = !1, e.instance = void 0;for (var t = Object.keys(this.pluginList), n = t.length - 1; n >= 0; n--) {this.removePlugin(t[n]);}this.compInstance.$destroy();}}, (0, t.Z)(e, null, [{ key: "instance", get: function get() {return window.__VCONSOLE_INSTANCE;}, set: function set(t) {void 0 === t || t instanceof e ? window.__VCONSOLE_INSTANCE = t : console.debug("[vConsole] Cannot set `VConsole.instance` because the value is not the instance of VConsole.");} }]), e;}();Dr.VConsolePlugin = void 0, Dr.VConsoleLogPlugin = void 0, Dr.VConsoleDefaultPlugin = void 0, Dr.VConsoleSystemPlugin = void 0, Dr.VConsoleNetworkPlugin = void 0, Dr.VConsoleElementPlugin = void 0, Dr.VConsoleStoragePlugin = void 0, Dr.VConsolePlugin = tt, Dr.VConsoleLogPlugin = ye, Dr.VConsoleDefaultPlugin = we, Dr.VConsoleSystemPlugin = Ee, Dr.VConsoleNetworkPlugin = To, Dr.VConsoleElementPlugin = rr, Dr.VConsoleStoragePlugin = Ir;var Rr = Dr;}(), __webpack_exports__ = __webpack_exports__.default, __webpack_exports__;}();});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/webpack/buildin/global.js */ 2)))

/***/ }),
/* 15 */
/*!***************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/router/index.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });Object.defineProperty(exports, "RouterMount", { enumerable: true, get: function get() {return _uniSimpleRouter.RouterMount;} });exports.router = void 0;var _uniSimpleRouter = __webpack_require__(/*! uni-simple-router */ 16);function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _iterableToArray(iter) {if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}

var router = (0, _uniSimpleRouter.createRouter)({
  platform: "mp-weixin",
  routes: _toConsumableArray([{"path":"/pages/index/index","aliasPath":"/"},{"path":"/pages/mine/mine"},{"path":"/pages/login/login"},{"path":"/pages/list/list"},{"path":"/pages/search/search"},{"path":"/pages/search-list/search-list"},{"path":"/pages/play/play"},{"path":"/pages/account/account"},{"path":"/pages/collect/collect"},{"path":"/pages/record/record"}]) });

//全局路由前置守卫
exports.router = router;router.beforeEach(function (to, from, next) {
  next();

});
// 全局路由后置守卫
router.afterEach(function (to, from) {
  console.log('跳转结束');
});

/***/ }),
/* 16 */
/*!********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/node_modules/uni-simple-router/dist/uni-simple-router.js ***!
  \********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(uni) {!function (e, t) { true ? module.exports = t() : undefined;}(self, function () {return e = { 779: function _(e, t, r) {var o = r(173);e.exports = function e(t, r, n) {return o(r) || (n = r || n, r = []), n = n || {}, t instanceof RegExp ? function (e, t) {var r = e.source.match(/\((?!\?)/g);if (r) for (var o = 0; o < r.length; o++) {t.push({ name: o, prefix: null, delimiter: null, optional: !1, repeat: !1, partial: !1, asterisk: !1, pattern: null });}return s(e, t);}(t, r) : o(t) ? function (t, r, o) {for (var n = [], a = 0; a < t.length; a++) {n.push(e(t[a], r, o).source);}return s(new RegExp("(?:" + n.join("|") + ")", p(o)), r);}(t, r, n) : function (e, t, r) {return f(a(e, r), t, r);}(t, r, n);}, e.exports.parse = a, e.exports.compile = function (e, t) {return u(a(e, t), t);}, e.exports.tokensToFunction = u, e.exports.tokensToRegExp = f;var n = new RegExp(["(\\\\.)", "([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"), "g");function a(e, t) {for (var r, o = [], a = 0, i = 0, u = "", s = t && t.delimiter || "/"; null != (r = n.exec(e));) {var p = r[0],f = r[1],h = r.index;if (u += e.slice(i, h), i = h + p.length, f) u += f[1];else {var v = e[i],y = r[2],g = r[3],d = r[4],m = r[5],b = r[6],P = r[7];u && (o.push(u), u = "");var O = null != y && null != v && v !== y,k = "+" === b || "*" === b,w = "?" === b || "*" === b,j = r[2] || s,R = d || m;o.push({ name: g || a++, prefix: y || "", delimiter: j, optional: w, repeat: k, partial: O, asterisk: !!P, pattern: R ? c(R) : P ? ".*" : "[^" + l(j) + "]+?" });}}return i < e.length && (u += e.substr(i)), u && o.push(u), o;}function i(e) {return encodeURI(e).replace(/[\/?#]/g, function (e) {return "%" + e.charCodeAt(0).toString(16).toUpperCase();});}function u(e, t) {for (var r = new Array(e.length), n = 0; n < e.length; n++) {"object" == typeof e[n] && (r[n] = new RegExp("^(?:" + e[n].pattern + ")$", p(t)));}return function (t, n) {for (var a = "", u = t || {}, l = (n || {}).pretty ? i : encodeURIComponent, c = 0; c < e.length; c++) {var s = e[c];if ("string" != typeof s) {var p,f = u[s.name];if (null == f) {if (s.optional) {s.partial && (a += s.prefix);continue;}throw new TypeError('Expected "' + s.name + '" to be defined');}if (o(f)) {if (!s.repeat) throw new TypeError('Expected "' + s.name + '" to not repeat, but received `' + JSON.stringify(f) + "`");if (0 === f.length) {if (s.optional) continue;throw new TypeError('Expected "' + s.name + '" to not be empty');}for (var h = 0; h < f.length; h++) {if (p = l(f[h]), !r[c].test(p)) throw new TypeError('Expected all "' + s.name + '" to match "' + s.pattern + '", but received `' + JSON.stringify(p) + "`");a += (0 === h ? s.prefix : s.delimiter) + p;}} else {if (p = s.asterisk ? encodeURI(f).replace(/[?#]/g, function (e) {return "%" + e.charCodeAt(0).toString(16).toUpperCase();}) : l(f), !r[c].test(p)) throw new TypeError('Expected "' + s.name + '" to match "' + s.pattern + '", but received "' + p + '"');a += s.prefix + p;}} else a += s;}return a;};}function l(e) {return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g, "\\$1");}function c(e) {return e.replace(/([=!:$\/()])/g, "\\$1");}function s(e, t) {return e.keys = t, e;}function p(e) {return e && e.sensitive ? "" : "i";}function f(e, t, r) {o(t) || (r = t || r, t = []);for (var n = (r = r || {}).strict, a = !1 !== r.end, i = "", u = 0; u < e.length; u++) {var c = e[u];if ("string" == typeof c) i += l(c);else {var f = l(c.prefix),h = "(?:" + c.pattern + ")";t.push(c), c.repeat && (h += "(?:" + f + h + ")*"), i += h = c.optional ? c.partial ? f + "(" + h + ")?" : "(?:" + f + "(" + h + "))?" : f + "(" + h + ")";}}var v = l(r.delimiter || "/"),y = i.slice(-v.length) === v;return n || (i = (y ? i.slice(0, -v.length) : i) + "(?:" + v + "(?=$))?"), i += a ? "$" : n && y ? "" : "(?=" + v + "|$)", s(new RegExp("^" + i, p(r)), t);}}, 173: function _(e) {e.exports = Array.isArray || function (e) {return "[object Array]" == Object.prototype.toString.call(e);};}, 844: function _(e, t, r) {"use strict";var o = this && this.__assign || function () {return (o = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);};Object.defineProperty(t, "__esModule", { value: !0 }), t.buildVueRouter = t.buildVueRoutes = void 0;var n = r(366),a = r(883),i = r(789),u = r(169);t.buildVueRoutes = function (e, t) {for (var r = e.routesMap, o = r.pathMap, l = r.finallyPathList, c = Object.keys(t), s = 0; s < c.length; s++) {var p = c[s],f = o[p],h = t[p];if (f) {var v = i.getRoutePath(f, e).finallyPath;if (v instanceof Array) throw new Error("非 vueRouterDev 模式下，alias、aliasPath、path 无法提供数组类型！ " + JSON.stringify(f));null != f.name && (h.name = f.name);var y = h.path,g = h.alias;delete h.alias, h.path = v, "/" === y && null != g && (h.alias = g, h.path = y), f.beforeEnter && (h.beforeEnter = function (t, r, o) {u.onTriggerEachHook(t, r, e, n.hookToggle.enterHooks, o);});} else a.warn(p + " 路由地址在路由表中未找到，确定是否传递漏啦", e, !0);}return l.includes("*") && (t["*"] = o["*"]), t;}, t.buildVueRouter = function (e, t, r) {var n;n = "[object Array]" === i.getDataType(r) ? r : Object.values(r);var a = e.options.h5,u = a.scrollBehavior,l = a.fallback,c = t.options.scrollBehavior;t.options.scrollBehavior = function (e, t, r) {return c && c(e, t, r), u(e, t, r);}, t.fallback = l;var s = new t.constructor(o(o({}, e.options.h5), { base: t.options.base, mode: t.options.mode, routes: n }));t.matcher = s.matcher;};}, 369: function _(e, t, r) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 }), t.addKeepAliveInclude = void 0;var o = r(789),n = ["", ""],a = n[0],i = n[1];t.addKeepAliveInclude = function (e) {var t = getApp(),r = t.keepAliveInclude;if (0 === e.runId && 0 === r.length) {i = t.$route.params.__id__;var n = (a = t.$route.meta.name) + "-" + i;t.keepAliveInclude.push(n);} else if ("" !== a) for (var u = t.keepAliveInclude, l = 0; l < u.length; l++) {n = u[l];var c = new RegExp(a + "-(\\d+)$"),s = a + "-" + i;if (c.test(n) && n !== s) {o.removeSimpleValue(u, s), a = "";break;}}};}, 147: function _(e, t) {"use strict";var _r,o = this && this.__extends || (_r = function r(e, t) {return (_r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) {e.__proto__ = t;} || function (e, t) {for (var r in t) {Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);}})(e, t);}, function (e, t) {function o() {this.constructor = e;}_r(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());});Object.defineProperty(t, "__esModule", { value: !0 }), t.proxyH5Mount = t.proxyEachHook = t.MyArray = void 0;var n = function (e) {function t(r, o, n, a) {var i = e.call(this) || this;return i.router = r, i.vueEachArray = o, i.myEachHook = n, i.hookName = a, Object.setPrototypeOf(i, t.prototype), i;}return o(t, e), t.prototype.push = function (e) {var t = this;this.vueEachArray.push(e);var r = this.length;this[this.length] = function (e, o, n) {r > 0 ? t.vueEachArray[r](e, o, function () {n && n();}) : t.myEachHook(e, o, function (a) {!1 === a ? n(!1) : t.vueEachArray[r](e, o, function (e) {n(a);});}, t.router, !0);};}, t;}(Array);t.MyArray = n, t.proxyEachHook = function (e, t) {for (var r = ["beforeHooks", "afterHooks"], o = 0; o < r.length; o++) {var a = r[o],i = e.lifeCycle[a][0];if (i) {var u = t[a];t[a] = new n(e, u, i, a);}}}, t.proxyH5Mount = function (e) {var t;if (0 === e.mount.length) {if (null === (t = e.options.h5) || void 0 === t ? void 0 : t.vueRouterDev) return;navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) && setTimeout(function () {if (document.getElementsByTagName("uni-page").length > 0) return !1;window.location.reload();}, 0);} else e.mount[0].app.$mount(), e.mount = [];};}, 814: function _(e, t) {"use strict";var r = this && this.__assign || function () {return (r = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);};Object.defineProperty(t, "__esModule", { value: !0 }), t.tabIndexSelect = t.HomeNvueSwitchTab = t.runtimeQuit = t.registerLoddingPage = void 0;var o = null,n = null;t.registerLoddingPage = function (e) {var t;if (null === (t = e.options.APP) || void 0 === t ? void 0 : t.registerLoadingPage) {var o = e.options.APP,n = o.loadingPageHook,a = o.loadingPageStyle;n(new plus.nativeObj.View("router-loadding", r({ top: "0px", left: "0px", height: "100%", width: "100%" }, a())));}}, t.runtimeQuit = function (e) {void 0 === e && (e = "再按一次退出应用");var t = +new Date();o ? t - o < 1e3 && plus.runtime.quit() : (o = t, uni.showToast({ title: e, icon: "none", position: "bottom", duration: 1e3 }), setTimeout(function () {o = null;}, 1e3));}, t.HomeNvueSwitchTab = function (e, t, r) {return new Promise(function (t) {return 0 !== e.runId ? t(!1) : __uniConfig.tabBar && Array.isArray(__uniConfig.tabBar.list) ? void r({ url: __uniConfig.entryPagePath, animationDuration: 0, complete: function complete() {return t(!0);} }) : t(!1);});}, t.tabIndexSelect = function (e, t) {if (!__uniConfig.tabBar || !Array.isArray(__uniConfig.tabBar.list)) return !1;for (var r = __uniConfig.tabBar.list, o = [], a = 0, i = 0; i < r.length; i++) {var u = r[i];if ("/" + u.pagePath !== e.path && "/" + u.pagePath !== t.path || (u.pagePath === t.path && (a = i), o.push(u)), 2 === o.length) break;}return 2 === o.length && (null == n && (n = uni.requireNativePlugin("uni-tabview")), n.switchSelect({ index: a }), !0);};}, 334: function _(e, t) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 }), t.getEnterPath = void 0, t.getEnterPath = function (e, t) {switch (t.options.platform) {case "mp-alipay":case "mp-weixin":case "mp-toutiao":case "mp-qq":return e.$options.mpInstance.route;case "mp-baidu":return e.$options.mpInstance.is || e.$options.mpInstance.pageinstance.route;}return e.$options.mpInstance.route;};}, 282: function _(e, t, r) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 }), t.proxyHookName = t.proxyHookDeps = t.lifeCycle = t.baseConfig = t.mpPlatformReg = void 0;var o = r(883),n = r(99);t.mpPlatformReg = "(^mp-weixin$)|(^mp-baidu$)|(^mp-alipay$)|(^mp-toutiao$)|(^mp-qq$)|(^mp-360$)", t.baseConfig = { h5: { paramsToQuery: !1, vueRouterDev: !1, vueNext: !1, mode: "hash", base: "/", linkActiveClass: "router-link-active", linkExactActiveClass: "router-link-exact-active", scrollBehavior: function scrollBehavior(e, t, r) {return { x: 0, y: 0 };}, fallback: !0 }, APP: { registerLoadingPage: !0, loadingPageStyle: function loadingPageStyle() {return JSON.parse('{"backgroundColor":"#FFF"}');}, loadingPageHook: function loadingPageHook(e) {e.show();}, launchedHook: function launchedHook() {plus.navigator.closeSplashscreen();}, animation: {} }, applet: { animationDuration: 300 }, beforeProxyHooks: { onLoad: function onLoad(e, t, r) {var o = e[0];t([n.parseQuery({ query: o }, r)]);} }, platform: "h5", keepUniOriginNav: !1, debugger: !1, routerBeforeEach: function routerBeforeEach(e, t, r) {r();}, routerAfterEach: function routerAfterEach(e, t) {}, routerErrorEach: function routerErrorEach(e, t) {t.$lockStatus = !1, o.err(e, t, !0);}, detectBeforeLock: function detectBeforeLock(e, t, r) {}, routes: [{ path: "/choose-location" }, { path: "/open-location" }, { path: "/preview-image" }] }, t.lifeCycle = { beforeHooks: [], afterHooks: [], routerBeforeHooks: [], routerAfterHooks: [], routerErrorHooks: [] }, t.proxyHookDeps = { resetIndex: [], hooks: {}, options: {} }, t.proxyHookName = ["onLaunch", "onShow", "onHide", "onError", "onInit", "onLoad", "onReady", "onUnload", "onResize", "created", "beforeMount", "mounted", "beforeDestroy", "destroyed"];}, 801: function _(e, t, r) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 }), t.createRouteMap = void 0;var o = r(883),n = r(789);t.createRouteMap = function (e, t) {var r = { finallyPathList: [], finallyPathMap: Object.create(null), aliasPathMap: Object.create(null), pathMap: Object.create(null), vueRouteMap: Object.create(null), nameMap: Object.create(null) };return t.forEach(function (t) {var a = n.getRoutePath(t, e),i = a.finallyPath,u = a.aliasPath,l = a.path;if (null == l) throw new Error("请提供一个完整的路由对象，包括以绝对路径开始的 ‘path’ 字符串 " + JSON.stringify(t));if (i instanceof Array && !e.options.h5.vueRouterDev && "h5" === e.options.platform) throw new Error("非 vueRouterDev 模式下，route.alias 目前无法提供数组类型！ " + JSON.stringify(t));var c = i,s = u;"h5" !== e.options.platform && 0 !== c.indexOf("/") && "*" !== l && o.warn("当前路由对象下，route：" + JSON.stringify(t) + " 是否缺少了前缀 ‘/’", e, !0), r.finallyPathMap[c] || (r.finallyPathMap[c] = t, r.aliasPathMap[s] = t, r.pathMap[l] = t, r.finallyPathList.push(c), null != t.name && (r.nameMap[t.name] = t));}), r;};}, 662: function _(e, t, r) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 }), t.registerEachHooks = t.registerRouterHooks = t.registerHook = void 0;var o = r(366),n = r(169);function a(e, t) {e[0] = t;}t.registerHook = a, t.registerRouterHooks = function (e, t) {return a(e.routerBeforeHooks, function (e, r, o) {t.routerBeforeEach(e, r, o);}), a(e.routerAfterHooks, function (e, r) {t.routerAfterEach(e, r);}), a(e.routerErrorHooks, function (e, r) {t.routerErrorEach(e, r);}), e;}, t.registerEachHooks = function (e, t, r) {a(e.lifeCycle[t], function (e, a, i, u, l) {l ? n.onTriggerEachHook(e, a, u, o.hookToggle[t], i) : r(e, a, i);});};}, 460: function _(e, t, r) {"use strict";var o = this && this.__assign || function () {return (o = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);};Object.defineProperty(t, "__esModule", { value: !0 }), t.initMixins = t.getMixins = void 0;var n = r(801),a = r(844),i = r(147),u = r(814),l = r(845),c = r(890),s = r(789),p = r(334),f = r(282),h = r(925),v = !1,y = !1,g = { app: !1, page: "" };function d(e, t) {var r = t.options.platform;return new RegExp(f.mpPlatformReg, "g").test(r) && (r = "app-lets"), { h5: { beforeCreate: function beforeCreate() {var e;if (h.beforeProxyHook(this, t), this.$options.router) {t.$route = this.$options.router;var r = [];(null === (e = t.options.h5) || void 0 === e ? void 0 : e.vueRouterDev) ? r = t.options.routes : (r = n.createRouteMap(t, this.$options.router.options.routes).finallyPathMap, t.routesMap.vueRouteMap = r, a.buildVueRoutes(t, r)), a.buildVueRouter(t, this.$options.router, r), i.proxyEachHook(t, this.$options.router);}} }, "app-plus": { beforeCreate: function beforeCreate() {h.beforeProxyHook(this, t), v || (v = !0, l.proxyPageHook(this, t, "app"), u.registerLoddingPage(t));} }, "app-lets": { beforeCreate: function beforeCreate() {h.beforeProxyHook(this, t), s.voidFun("UNI-SIMPLE-ROUTER");var e = !0,r = this.$options.mpType;y || ("component" === r ? e = s.assertParentChild(g.page, this) : "page" === r ? (g[r] = p.getEnterPath(this, t), t.enterPath = g[r]) : g[r] = !0, e && l.proxyPageHook(this, t, r));}, onLoad: function onLoad() {s.voidFun("UNI-SIMPLE-ROUTER"), !y && s.assertParentChild(g.page, this) && (y = !0, c.forceGuardEach(t));} } }[r];}t.getMixins = d, t.initMixins = function (e, t) {var r = n.createRouteMap(t, t.options.routes);t.routesMap = r, e.mixin(o({}, d(0, t)));};}, 789: function _(e, t, r) {"use strict";var o = this && this.__assign || function () {return (o = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);},n = this && this.__rest || function (e, t) {var r = {};for (var o in e) {Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);}if (null != e && "function" == typeof Object.getOwnPropertySymbols) {var n = 0;for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);}}return r;},a = this && this.__spreadArrays || function () {for (var e = 0, t = 0, r = arguments.length; t < r; t++) {e += arguments[t].length;}var o = Array(e),n = 0;for (t = 0; t < r; t++) {for (var a = arguments[t], i = 0, u = a.length; i < u; i++, n++) {o[n] = a[i];}}return o;};Object.defineProperty(t, "__esModule", { value: !0 }), t.deepDecodeQuery = t.resolveAbsolutePath = t.assertParentChild = t.lockDetectWarn = t.deepClone = t.baseClone = t.assertDeepObject = t.paramsToQuery = t.forMatNextToFrom = t.urlToJson = t.getUniCachePage = t.removeSimpleValue = t.copyData = t.getDataType = t.routesForMapRoute = t.notRouteTo404 = t.getWildcardRule = t.assertNewOptions = t.getRoutePath = t.notDeepClearNull = t.mergeConfig = t.timeOut = t.def = t.voidFun = void 0;var i = r(282),u = r(169),l = r(883),c = r(890),s = r(779);function p(e, t) {for (var r = Object.create(null), n = Object.keys(e).concat(["resolveQuery", "parseQuery"]), i = 0; i < n.length; i += 1) {var u = n[i];null != t[u] ? t[u].constructor === Object ? r[u] = o(o({}, e[u]), t[u]) : r[u] = "routes" === u ? a(e[u], t[u]) : t[u] : r[u] = e[u];}return r;}function f(e, t) {var r = e.aliasPath || e.alias || e.path;return "h5" !== t.options.platform && (r = e.path), { finallyPath: r, aliasPath: e.aliasPath || e.path, path: e.path, alias: e.alias };}function h(e, t) {var r = e.routesMap.finallyPathMap["*"];if (r) return r;throw t && u.ERRORHOOK[0](t, e), new Error("当前路由表匹配规则已全部匹配完成，未找到满足的匹配规则。你可以使用 '*' 通配符捕捉最后的异常");}function v(e) {return Object.prototype.toString.call(e);}function y(e, t) {if (null == e) t = e;else for (var r = 0, o = Object.keys(e); r < o.length; r++) {var n = o[r],a = n;e[n] !== e && ("object" == typeof e[n] ? (t[a] = "[object Array]" === v(e[n]) ? [] : {}, t[a] = y(e[n], t[a])) : t[a] = e[n]);}return t;}function g(e) {var t = "[object Array]" === v(e) ? [] : {};return y(e, t), t;}t.voidFun = function () {for (var e = [], t = 0; t < arguments.length; t++) {e[t] = arguments[t];}}, t.def = function (e, t, r) {Object.defineProperty(e, t, { get: function get() {return r();} });}, t.timeOut = function (e) {return new Promise(function (t) {setTimeout(function () {t();}, e);});}, t.mergeConfig = p, t.notDeepClearNull = function (e) {for (var t in e) {null == e[t] && delete e[t];}return e;}, t.getRoutePath = f, t.assertNewOptions = function (e) {var t,r = e.platform,o = e.routes;if (null == r) throw new Error("你在实例化路由时必须传递 'platform'");if (null == o || 0 === o.length) throw new Error("你在实例化路由时必须传递 routes 为空，这是无意义的。");return "h5" === e.platform && (null === (t = e.h5) || void 0 === t ? void 0 : t.vueRouterDev) && (i.baseConfig.routes = []), p(i.baseConfig, e);}, t.getWildcardRule = h, t.notRouteTo404 = function (e, t, r, o) {if ("*" !== t.path) return t;var n = t.redirect;if (void 0 === n) throw new Error(" *  通配符必须配合 redirect 使用。redirect: string | Location | Function");var a = n;return "function" == typeof a && (a = a(r)), c.navjump(a, e, o, void 0, void 0, void 0, !1);}, t.routesForMapRoute = function e(t, r, o, n) {var a;if (void 0 === n && (n = !1), null === (a = t.options.h5) || void 0 === a ? void 0 : a.vueRouterDev) return { path: r };for (var i = r.split("?")[0], u = "", l = t.routesMap, c = 0; c < o.length; c++) {for (var p = l[o[c]], f = 0, y = Object.entries(p); f < y.length; f++) {var g = y[f],d = g[0],m = g[1];if ("*" !== d) {var b = m,P = d;if ("[object Array]" === v(p) && (P = b), null != s(P).exec(i)) return "[object String]" === v(b) ? l.finallyPathMap[b] : b;} else "" === u && (u = "*");}}if (n) return {};if (l.aliasPathMap) {var O = e(t, r, ["aliasPathMap"], !0);if (Object.keys(O).length > 0) return O;}if ("" !== u) return h(t);throw new Error(r + " 路径无法在路由表中找到！检查跳转路径及路由表");}, t.getDataType = v, t.copyData = function (e) {return JSON.parse(JSON.stringify(e));}, t.removeSimpleValue = function (e, t) {for (var r = 0; r < e.length; r++) {if (e[r] === t) return e.splice(r, 1), !0;}return !1;}, t.getUniCachePage = function (e) {var t = getCurrentPages();if (null == e) return t;if (0 === t.length) return t;var r = t.reverse()[e];return null == r ? [] : r;}, t.urlToJson = function (e) {var t = {},r = e.split("?"),o = r[0],n = r[1];if (null != n) for (var a = 0, i = n.split("&"); a < i.length; a++) {var u = i[a].split("=");t[u[0]] = u[1];}return { path: o, query: t };}, t.forMatNextToFrom = function (e, t, r) {var o = [t, r],n = o[0],a = o[1];if ("h5" === e.options.platform) {var i = e.options.h5,u = i.vueNext,l = i.vueRouterDev;u || l || (n = c.createRoute(e, void 0, n), a = c.createRoute(e, void 0, a));} else n = c.createRoute(e, void 0, g(n)), a = c.createRoute(e, void 0, g(a));return { matTo: n, matFrom: a };}, t.paramsToQuery = function (e, t) {var r;if ("h5" === e.options.platform && !(null === (r = e.options.h5) || void 0 === r ? void 0 : r.paramsToQuery)) return t;if ("[object Object]" === v(t)) {var a = t,i = a.name,l = a.params,c = n(a, ["name", "params"]),s = l;if ("h5" !== e.options.platform && null == s && (s = {}), null != i && null != s) {var p = e.routesMap.nameMap[i];null == p && (p = h(e, { type: 2, msg: "命名路由为：" + i + " 的路由，无法在路由表中找到！", toRule: t }));var y = f(p, e).finallyPath;if (!y.includes(":")) return o(o({}, c), { path: y, query: s });u.ERRORHOOK[0]({ type: 2, msg: "动态路由：" + y + " 无法使用 paramsToQuery！", toRule: t }, e);}}return t;}, t.assertDeepObject = function (e) {var t = null;try {t = JSON.stringify(e).match(/\{|\[|\}|\]/g);} catch (e) {l.warnLock("传递的参数解析对象失败。" + e);}return null != t && t.length > 3;}, t.baseClone = y, t.deepClone = g, t.lockDetectWarn = function (e, t, r, o, n, a) {if (void 0 === n && (n = {}), "afterHooks" === a) o();else {var i = e.options.detectBeforeLock;i && i(e, t, r), e.$lockStatus ? e.options.routerErrorEach({ type: 2, msg: "当前页面正在处于跳转状态，请稍后再进行跳转....", NAVTYPE: r, uniActualData: n }, e) : o();}}, t.assertParentChild = function (e, t) {for (; null != t.$parent;) {var r = t.$parent.$mp;if (r.page && r.page.is === e) return !0;t = t.$parent;}try {if (t.$mp.page.is === e || t.$mp.page.route === e) return !0;} catch (e) {return !1;}return !1;}, t.resolveAbsolutePath = function (e, t) {var r = /^\/?([^\?\s]+)(\?.+)?$/,o = e.trim();if (!r.test(o)) throw new Error("【" + e + "】 路径错误，请提供完整的路径(10001)。");var n = o.match(r);if (null == n) throw new Error("【" + e + "】 路径错误，请提供完整的路径(10002)。");var a = n[2] || "";if (/^\.\/[^\.]+/.test(o)) return (t.currentRoute.path + e).replace(/[^\/]+\.\//, "");var i = n[1].replace(/\//g, "\\/").replace(/\.\./g, "[^\\/]+").replace(/\./g, "\\."),u = new RegExp("^\\/" + i + "$"),l = t.options.routes.filter(function (e) {return u.test(e.path);});if (1 !== l.length) throw new Error("【" + e + "】 路径错误，尝试转成绝对路径失败，请手动转成绝对路径(10003)。");return l[0].path + a;}, t.deepDecodeQuery = function e(t) {for (var r = "[object Array]" === v(t) ? [] : {}, o = Object.keys(t), n = 0; n < o.length; n++) {var a = o[n],i = t[a];if ("string" == typeof i) try {var u = JSON.parse(decodeURIComponent(i));"object" != typeof u && (u = i), r[a] = u;} catch (e) {try {r[a] = decodeURIComponent(i);} catch (e) {r[a] = i;}} else if ("object" == typeof i) {var l = e(i);r[a] = l;} else r[a] = i;}return r;};}, 883: function _(e, t) {"use strict";function r(e, t, r, o) {if (void 0 === o && (o = !1), !o) {var n = "[object Object]" === t.toString();if (!1 === t) return !1;if (n && !1 === t[e]) return !1;}return console[e](r), !0;}Object.defineProperty(t, "__esModule", { value: !0 }), t.warnLock = t.log = t.warn = t.err = t.isLog = void 0, t.isLog = r, t.err = function (e, t, o) {r("error", t.options.debugger, e, o);}, t.warn = function (e, t, o) {r("warn", t.options.debugger, e, o);}, t.log = function (e, t, o) {r("log", t.options.debugger, e, o);}, t.warnLock = function (e) {console.warn(e);};}, 607: function _(e, t, r) {"use strict";var o = this && this.__createBinding || (Object.create ? function (e, t, r, o) {void 0 === o && (o = r), Object.defineProperty(e, o, { enumerable: !0, get: function get() {return t[r];} });} : function (e, t, r, o) {void 0 === o && (o = r), e[o] = t[r];}),n = this && this.__exportStar || function (e, t) {for (var r in e) {"default" === r || Object.prototype.hasOwnProperty.call(t, r) || o(t, e, r);}};Object.defineProperty(t, "__esModule", { value: !0 }), t.createRouter = t.RouterMount = t.runtimeQuit = void 0, n(r(366), t), n(r(309), t), n(r(789), t);var a = r(814);Object.defineProperty(t, "runtimeQuit", { enumerable: !0, get: function get() {return a.runtimeQuit;} });var i = r(963);Object.defineProperty(t, "RouterMount", { enumerable: !0, get: function get() {return i.RouterMount;} }), Object.defineProperty(t, "createRouter", { enumerable: !0, get: function get() {return i.createRouter;} });var u = "2.0.8-BETA.4";/[A-Z]/g.test(u) && console.warn("【" + "UNI-SIMPLE-ROUTER".toLocaleLowerCase() + " 提示】：当前版本 " + u.toLocaleLowerCase() + " 此版本为测试版。有BUG请退回正式版，线上正式版本：2.0.7");}, 366: function _(e, t) {"use strict";var r, o, n;Object.defineProperty(t, "__esModule", { value: !0 }), t.rewriteMethodToggle = t.navtypeToggle = t.hookToggle = void 0, (n = t.hookToggle || (t.hookToggle = {})).beforeHooks = "beforeEach", n.afterHooks = "afterEach", n.enterHooks = "beforeEnter", (o = t.navtypeToggle || (t.navtypeToggle = {})).push = "navigateTo", o.replace = "redirectTo", o.replaceAll = "reLaunch", o.pushTab = "switchTab", o.back = "navigateBack", (r = t.rewriteMethodToggle || (t.rewriteMethodToggle = {})).navigateTo = "push", r.navigate = "push", r.redirectTo = "replace", r.reLaunch = "replaceAll", r.switchTab = "pushTab", r.navigateBack = "back";}, 309: function _(e, t) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 });}, 925: function _(e, t, r) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 }), t.beforeProxyHook = void 0;var o = r(789),n = r(883);t.beforeProxyHook = function (e, t) {var r = e.$options,a = t.options.beforeProxyHooks;if (null == r) return !1;if (null == a) return !1;for (var i = Object.keys(a), u = function u(e) {var u = i[e],l = r[u];if (l) for (var c = a[u], s = function s(e) {if (l[e].toString().includes("UNI-SIMPLE-ROUTER")) return "continue";var r = l.splice(e, 1, function () {for (var e = this, n = [], a = 0; a < arguments.length; a++) {n[a] = arguments[a];}var i = "UNI-SIMPLE-ROUTER";o.voidFun(i), c ? c.call(this, n, function (t) {r.apply(e, t);}, t) : r.apply(this, n);})[0];}, p = 0; p < l.length; p++) {s(p);} else n.warn("beforeProxyHooks ===> 当前组件不适合" + u + "，或者 hook: " + u + " 不存在，已为你规避处理，可以忽略。", t);}, l = 0; l < i.length; l++) {u(l);}return !0;};}, 169: function _(e, t, r) {"use strict";var o = this && this.__rest || function (e, t) {var r = {};for (var o in e) {Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);}if (null != e && "function" == typeof Object.getOwnPropertySymbols) {var n = 0;for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);}}return r;};Object.defineProperty(t, "__esModule", { value: !0 }), t.loopCallHook = t.transitionTo = t.onTriggerEachHook = t.callHook = t.callBeforeRouteLeave = t.HOOKLIST = t.ERRORHOOK = void 0;var n = r(789),a = r(890),i = r(147),u = r(369),l = r(814);function c(e, t, r, o) {var a,i = n.getUniCachePage(0);if (Object.keys(i).length > 0) {var u = void 0;switch ("h5" === e.options.platform ? u = i.$options.beforeRouteLeave : null != i.$vm && (u = i.$vm.$options.beforeRouteLeave), n.getDataType(u)) {case "[object Array]":a = (a = u[0]).bind(i);break;case "[object Function]":a = u.bind(i.$vm);}}return s(a, t, r, e, o);}function s(e, t, r, o, n, a) {void 0 === a && (a = !0), null != e && e instanceof Function ? !0 === a ? e(t, r, n, o, !1) : (e(t, r, function () {}, o, !1), n()) : n();}function p(e, t, r, o, a, i) {var u = n.forMatNextToFrom(e, t, r),l = u.matTo,c = u.matFrom;"h5" === e.options.platform ? f(a, 0, i, e, l, c, o) : f(a.slice(0, 4), 0, function () {i(function () {f(a.slice(4), 0, n.voidFun, e, l, c, o);});}, e, l, c, o);}function f(e, r, i, u, c, s, p) {var h = n.routesForMapRoute(u, c.path, ["finallyPathMap", "pathMap"]);if (e.length - 1 < r) return i();var v = e[r],y = t.ERRORHOOK[0];v(u, c, s, h, function (t) {if ("app-plus" === u.options.platform && (!1 !== t && "string" != typeof t && "object" != typeof t || l.tabIndexSelect(c, s)), !1 === t) "h5" === u.options.platform && i(!1), y({ type: 0, msg: "管道函数传递 false 导航被终止!", matTo: c, matFrom: s, nextTo: t }, u);else if ("string" == typeof t || "object" == typeof t) {var n = p,h = t;if ("object" == typeof t) {var v = t.NAVTYPE;h = o(t, ["NAVTYPE"]), null != v && (n = v);}a.navjump(h, u, n, { from: s, next: i });} else null == t ? (r++, f(e, r, i, u, c, s, p)) : y({ type: 1, msg: "管道函数传递未知类型，无法被识别。导航被终止！", matTo: c, matFrom: s, nextTo: t }, u);});}t.ERRORHOOK = [function (e, t) {return t.lifeCycle.routerErrorHooks[0](e, t);}], t.HOOKLIST = [function (e, t, r, o, n) {return s(e.lifeCycle.routerBeforeHooks[0], t, r, e, n);}, function (e, t, r, o, n) {return c(e, t, r, n);}, function (e, t, r, o, n) {return s(e.lifeCycle.beforeHooks[0], t, r, e, n);}, function (e, t, r, o, n) {return s(o.beforeEnter, t, r, e, n);}, function (e, t, r, o, n) {return s(e.lifeCycle.afterHooks[0], t, r, e, n, !1);}, function (e, t, r, o, n) {return e.$lockStatus = !1, "h5" === e.options.platform && (i.proxyH5Mount(e), u.addKeepAliveInclude(e)), e.runId++, s(e.lifeCycle.routerAfterHooks[0], t, r, e, n, !1);}], t.callBeforeRouteLeave = c, t.callHook = s, t.onTriggerEachHook = function (e, r, o, n, a) {var i = [];switch (n) {case "beforeEach":i = t.HOOKLIST.slice(0, 3);break;case "afterEach":i = t.HOOKLIST.slice(4);break;case "beforeEnter":i = t.HOOKLIST.slice(3, 4);}p(o, e, r, "push", i, a);}, t.transitionTo = p, t.loopCallHook = f;}, 890: function _(e, t, r) {"use strict";var o = this && this.__assign || function () {return (o = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);},n = this && this.__rest || function (e, t) {var r = {};for (var o in e) {Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);}if (null != e && "function" == typeof Object.getOwnPropertySymbols) {var n = 0;for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);}}return r;};Object.defineProperty(t, "__esModule", { value: !0 }), t.createRoute = t.forceGuardEach = t.backOptionsBuild = t.navjump = t.lockNavjump = void 0;var a = r(366),i = r(99),u = r(789),l = r(169),c = r(845),s = r(169);function p(e, t, r, o, n) {u.lockDetectWarn(t, e, r, function () {"h5" !== t.options.platform && (t.$lockStatus = !0), f(e, t, r, void 0, o, n);}, n);}function f(e, t, r, n, p, f, v) {if (void 0 === v && (v = !0), "back" === r) {var y = 1;if ("string" == typeof e ? y = +e : (y = e.delta || 1, f = o(o({}, f || {}), e)), "h5" === t.options.platform) {t.$route.go(-y);var g = (f || { success: u.voidFun }).success || u.voidFun,d = (f || { complete: u.voidFun }).complete || u.voidFun;return g({ errMsg: "navigateBack:ok" }), void d({ errMsg: "navigateBack:ok" });}e = h(t, y, f);}var m = i.queryPageToMap(e, t).rule;m.type = a.navtypeToggle[r];var b = u.paramsToQuery(t, m),P = i.resolveQuery(b, t);if ("h5" === t.options.platform) {if ("push" !== r && (r = "replace"), null != n) n.next(o({ replace: "push" !== r }, P));else if ("push" === r && Reflect.has(P, "events")) {if (Reflect.has(P, "name")) throw new Error("在h5端上使用 'push'、'navigateTo' 跳转时，如果包含 events 不允许使用 name 跳转，因为 name 实现了动态路由。请更换为 path 或者 url 跳转！");uni.navigateTo(P, !0, u.voidFun, p);} else t.$route[r](P, P.success || u.voidFun, P.fail || u.voidFun);} else {var O = { path: "" };if (null == n) {var k = u.routesForMapRoute(t, P.path, ["finallyPathMap", "pathMap"]);k = u.notRouteTo404(t, k, P, r), P = o(o(o(o({}, k), { params: {} }), P), { path: k.path }), O = c.createToFrom(P, t);} else O = n.from;if (c.createFullPath(P, O), !1 === v) return P;l.transitionTo(t, P, O, r, s.HOOKLIST, function (e) {uni[a.navtypeToggle[r]](P, !0, e, p);});}}function h(e, t, r) {void 0 === r && (r = {});var n = v(e, t, void 0, o({ NAVTYPE: "back" }, r)),a = o(o({}, r), { path: n.path, query: n.query, delta: t });if ("[object Object]" === u.getDataType(r)) {var i = r,l = i.animationDuration,c = i.animationType;null != l && (a.animationDuration = l), null != c && (a.animationType = c);var s = r.from;null != s && (a.BACKTYPE = s);}return a;}function v(e, t, r, l) {void 0 === t && (t = 0), void 0 === l && (l = {});var c = { name: "", meta: {}, path: "", fullPath: "", NAVTYPE: "", query: {}, params: {}, BACKTYPE: (r || { BACKTYPE: "" }).BACKTYPE || "" };if (19970806 === t) return c;if ("h5" === e.options.platform) {var s = { path: "" };s = null != r ? r : e.$route.currentRoute;var p = u.copyData(s.params);delete p.__id__;var f = i.parseQuery(o(o({}, p), u.copyData(s.query)), e);s = o(o({}, s), { query: f }), c.path = s.path, c.fullPath = s.fullPath || "", c.query = u.deepDecodeQuery(s.query || {}), c.NAVTYPE = a.rewriteMethodToggle[s.type || "reLaunch"];} else {var h = {};if (null != r) h = o(o({}, r), { openType: r.type });else {var v = u.getUniCachePage(t);if (0 === Object.keys(v).length) {var y = l.NAVTYPE,g = n(l, ["NAVTYPE"]),d = "不存在的页面栈，请确保有足够的页面可用，当前 level:" + t;throw e.options.routerErrorEach({ type: 3, msg: d, NAVTYPE: y, level: t, uniActualData: g }, e), new Error(d);}var m = v.options || {};h = o(o({}, v.$page || {}), { query: u.deepDecodeQuery(m), fullPath: decodeURIComponent((v.$page || {}).fullPath || "/" + v.route) }), "app-plus" !== e.options.platform && (h.path = "/" + v.route);}var b = h.openType;c.query = h.query, c.path = h.path, c.fullPath = h.fullPath, c.NAVTYPE = a.rewriteMethodToggle[b || "reLaunch"];}var P = u.routesForMapRoute(e, c.path, ["finallyPathMap", "pathMap"]),O = o(o({}, c), P);return O.query = i.parseQuery(O.query, e), O;}t.lockNavjump = p, t.navjump = f, t.backOptionsBuild = h, t.forceGuardEach = function (e, t, r) {if (void 0 === t && (t = "replaceAll"), void 0 === r && (r = !1), "h5" === e.options.platform) throw new Error("在h5端上使用：forceGuardEach 是无意义的，目前 forceGuardEach 仅支持在非h5端上使用");var o = u.getUniCachePage(0);0 === Object.keys(o).length && e.options.routerErrorEach({ type: 3, NAVTYPE: t, uniActualData: {}, level: 0, msg: "不存在的页面栈，请确保有足够的页面可用，当前 level:0" }, e);var n = o,a = n.route,i = n.options;p({ path: "/" + a, query: u.deepDecodeQuery(i || {}) }, e, t, r);}, t.createRoute = v;}, 845: function _(e, t, r) {"use strict";Object.defineProperty(t, "__esModule", { value: !0 }), t.resetPageHook = t.resetAndCallPageHook = t.proxyPageHook = t.createFullPath = t.createToFrom = void 0;var o = r(282),n = r(789),a = r(890),i = r(99);function u(e) {for (var t = e.proxyHookDeps, r = 0, o = Object.entries(t.hooks); r < o.length; r++) {(0, o[r][1].resetHook)();}}t.createToFrom = function (e, t) {var r = n.getUniCachePage(0);return "[object Array]" === n.getDataType(r) ? n.deepClone(e) : a.createRoute(t);}, t.createFullPath = function (e, t) {if (null == e.fullPath) {var r = i.stringifyQuery(e.query);e.fullPath = e.path + r;}null == t.fullPath && (r = i.stringifyQuery(t.query), t.fullPath = t.path + r);}, t.proxyPageHook = function (e, t, r) {for (var n = t.proxyHookDeps, a = e.$options, i = function i(_i) {var u = o.proxyHookName[_i],l = a[u];if (l) for (var c = function c(o) {if (l[o].toString().includes("UNI-SIMPLE-ROUTER")) return "continue";var a = Object.keys(n.hooks).length + 1,i = function i() {for (var e = [], t = 0; t < arguments.length; t++) {e[t] = arguments[t];}n.resetIndex.push(a), n.options[a] = e;},u = l.splice(o, 1, i)[0];n.hooks[a] = { proxyHook: i, callHook: function callHook(o) {if (t.enterPath.replace(/^\//, "") === o.replace(/^\//, "") || "app" === r) {var i = n.options[a];u.apply(e, i);}}, resetHook: function resetHook() {l.splice(o, 1, u);} };}, s = 0; s < l.length; s++) {c(s);}}, u = 0; u < o.proxyHookName.length; u++) {i(u);}}, t.resetAndCallPageHook = function (e, t, r) {void 0 === r && (r = !0);var o = t.trim().match(/^(\/?[^\?\s]+)(\?[\s\S]*$)?$/);if (null == o) throw new Error("还原hook失败。请检查 【" + t + "】 路径是否正确。");t = o[1];for (var n = e.proxyHookDeps, a = n.resetIndex, i = 0; i < a.length; i++) {var l = a[i];(0, n.hooks[l].callHook)(t);}r && u(e);}, t.resetPageHook = u;}, 99: function _(e, t, r) {"use strict";var o = this && this.__assign || function () {return (o = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);};Object.defineProperty(t, "__esModule", { value: !0 }), t.stringifyQuery = t.parseQuery = t.resolveQuery = t.queryPageToMap = void 0;var n = r(789),a = r(169),i = r(883),u = /[!'()*]/g,l = function l(e) {return "%" + e.charCodeAt(0).toString(16);},c = /%2C/g,s = function s(e) {return encodeURIComponent(e).replace(u, l).replace(c, ",");};t.queryPageToMap = function (e, t) {var r = {},i = "",u = e.success,l = e.fail;if ("[object Object]" === n.getDataType(e)) {var c = e;if (null != c.path) {var s = n.urlToJson(c.path),p = s.path,f = s.query;i = n.routesForMapRoute(t, p, ["finallyPathList", "pathMap"]), r = o(o({}, f), e.query || {}), c.path = p, c.query = r, delete e.params;} else null != c.name ? null == (i = t.routesMap.nameMap[c.name]) ? i = n.getWildcardRule(t, { type: 2, msg: "命名路由为：" + c.name + " 的路由，无法在路由表中找到！", toRule: e }) : (r = e.params || {}, delete e.query) : i = n.getWildcardRule(t, { type: 2, msg: e + " 解析失败，请检测当前路由表下是否有包含。", toRule: e });} else e = n.urlToJson(e), i = n.routesForMapRoute(t, e.path, ["finallyPathList", "pathMap"]), r = e.query;if ("h5" === t.options.platform) {n.getRoutePath(i, t).finallyPath.includes(":") && null == e.name && a.ERRORHOOK[0]({ type: 2, msg: "当有设置 alias或者aliasPath 为动态路由时，不允许使用 path 跳转。请使用 name 跳转！", route: i }, t);var h = e.complete,v = e.success,y = e.fail;if ("[object Function]" === n.getDataType(h)) {var g = function g(e, t) {"[object Function]" === n.getDataType(t) && t.apply(this, e), h.apply(this, e);};u = function u() {for (var e = [], t = 0; t < arguments.length; t++) {e[t] = arguments[t];}g.call(this, e, v);}, l = function l() {for (var e = [], t = 0; t < arguments.length; t++) {e[t] = arguments[t];}g.call(this, e, y);};}}var d = e;return "[object Function]" === n.getDataType(d.success) && (d.success = u), "[object Function]" === n.getDataType(d.fail) && (d.fail = l), { rule: d, route: i, query: r };}, t.resolveQuery = function (e, t) {var r = "query";null != e.params && (r = "params"), null != e.query && (r = "query");var o = n.copyData(e[r] || {}),a = t.options.resolveQuery;if (a) {var u = a(o);"[object Object]" !== n.getDataType(u) ? i.warn("请按格式返回参数： resolveQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}", t) : e[r] = u;} else {if (!n.assertDeepObject(o)) return e;var l = JSON.stringify(o);e[r] = { query: l };}return e;}, t.parseQuery = function (e, t) {var r = t.options.parseQuery;if (r) e = r(n.copyData(e)), "[object Object]" !== n.getDataType(e) && i.warn("请按格式返回参数： parseQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}", t);else if (Reflect.get(e, "query")) {var o = Reflect.get(e, "query");if ("string" == typeof o) try {o = JSON.parse(o);} catch (e) {i.warn("尝试解析深度对象失败，按原样输出。" + e, t);}if ("object" == typeof o) return n.deepDecodeQuery(o);}return e;}, t.stringifyQuery = function (e) {var t = e ? Object.keys(e).map(function (t) {var r = e[t];if (void 0 === r) return "";if (null === r) return s(t);if (Array.isArray(r)) {var o = [];return r.forEach(function (e) {void 0 !== e && (null === e ? o.push(s(t)) : o.push(s(t) + "=" + s(e)));}), o.join("&");}return s(t) + "=" + s(r);}).filter(function (e) {return e.length > 0;}).join("&") : null;return t ? "?" + t : "";};}, 314: function _(e, t, r) {"use strict";var o = this && this.__awaiter || function (e, t, r, o) {return new (r || (r = Promise))(function (n, a) {function i(e) {try {l(o.next(e));} catch (e) {a(e);}}function u(e) {try {l(o.throw(e));} catch (e) {a(e);}}function l(e) {var t;e.done ? n(e.value) : (t = e.value, t instanceof r ? t : new r(function (e) {e(t);})).then(i, u);}l((o = o.apply(e, t || [])).next());});},n = this && this.__generator || function (e, t) {var r,o,n,a,i = { label: 0, sent: function sent() {if (1 & n[0]) throw n[1];return n[1];}, trys: [], ops: [] };return a = { next: u(0), throw: u(1), return: u(2) }, "function" == typeof Symbol && (a[Symbol.iterator] = function () {return this;}), a;function u(a) {return function (u) {return function (a) {if (r) throw new TypeError("Generator is already executing.");for (; i;) {try {if (r = 1, o && (n = 2 & a[0] ? o.return : a[0] ? o.throw || ((n = o.return) && n.call(o), 0) : o.next) && !(n = n.call(o, a[1])).done) return n;switch (o = 0, n && (a = [2 & a[0], n.value]), a[0]) {case 0:case 1:n = a;break;case 4:return i.label++, { value: a[1], done: !1 };case 5:i.label++, o = a[1], a = [0];continue;case 7:a = i.ops.pop(), i.trys.pop();continue;default:if (!((n = (n = i.trys).length > 0 && n[n.length - 1]) || 6 !== a[0] && 2 !== a[0])) {i = 0;continue;}if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {i.label = a[1];break;}if (6 === a[0] && i.label < n[1]) {i.label = n[1], n = a;break;}if (n && i.label < n[2]) {i.label = n[2], i.ops.push(a);break;}n[2] && i.ops.pop(), i.trys.pop();continue;}a = t.call(e, i);} catch (e) {a = [6, e], o = 0;} finally {r = n = 0;}}if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };}([a, u]);};}};Object.defineProperty(t, "__esModule", { value: !0 }), t.rewriteMethod = void 0;var a = r(366),i = r(789),u = r(883),l = r(809),c = r(814),s = ["navigateTo", "redirectTo", "reLaunch", "switchTab", "navigateBack"],p = { navigateTo: function navigateTo() {}, redirectTo: function redirectTo() {}, reLaunch: function reLaunch() {}, switchTab: function switchTab() {}, navigateBack: function navigateBack() {} };t.rewriteMethod = function (e) {!1 === e.options.keepUniOriginNav && s.forEach(function (t) {var r = uni[t];p[t] = r, uni[t] = function (s, f, h, v) {return void 0 === f && (f = !1), o(this, void 0, void 0, function () {return n(this, function (o) {switch (o.label) {case 0:return f ? "app-plus" !== e.options.platform ? [3, 2] : [4, c.HomeNvueSwitchTab(e, s, p.reLaunch)] : [3, 3];case 1:o.sent(), o.label = 2;case 2:return l.uniOriginJump(e, r, t, s, h, v), [3, 4];case 3:"app-plus" === e.options.platform && 0 === Object.keys(e.appMain).length && (e.appMain = { NAVTYPE: t, path: s.url }), function (e, t, r) {if ("app-plus" === r.options.platform) {var o = null;e && (o = e.openType), null != o && "appLaunch" === o && (t = "reLaunch");}if ("reLaunch" === t && '{"url":"/"}' === JSON.stringify(e) && (u.warn("uni-app 原生方法：reLaunch({url:'/'}) 默认被重写啦！你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch({url:'/?xxx=xxx'})", r), t = "navigateBack", e = { from: "backbutton" }), "navigateBack" === t) {var n = 1;null == e && (e = { delta: 1 }), "[object Number]" === i.getDataType(e.delta) && (n = e.delta), r.back(n, e);} else {var l = a.rewriteMethodToggle[t],c = e.url;if (!c.startsWith("/")) {var s = i.resolveAbsolutePath(c, r);c = s, e.url = s;}if ("switchTab" === t) {var p = i.routesForMapRoute(r, c, ["pathMap", "finallyPathList"]),f = i.getRoutePath(p, r).finallyPath;if ("[object Array]" === i.getDataType(f) && u.warn("uni-app 原生方法跳转路径为：" + c + "。此路为是tab页面时，不允许设置 alias 为数组的情况，并且不能为动态路由！当然你可以通过通配符*解决！", r), "*" === f && u.warn("uni-app 原生方法跳转路径为：" + c + "。在路由表中找不到相关路由表！当然你可以通过通配符*解决！", r), "h5" === r.options.platform) {var h = e.success;e.success = function () {for (var t = [], r = 0; r < arguments.length; r++) {t[r] = arguments[r];}null == h || h.apply(null, t), i.timeOut(150).then(function () {var t = e.detail || {};if (Object.keys(t).length > 0 && Reflect.has(t, "index")) {var r = i.getUniCachePage(0);if (0 === Object.keys(r).length) return !1;var o = r,n = o.$options.onTabItemTap;if (n) for (var a = 0; a < n.length; a++) {n[a].call(o, t);}}});};}c = f;}var v = e,y = v.events,g = v.success,d = v.fail,m = v.complete,b = v.animationType,P = { path: c, events: y, success: g, fail: d, complete: m, animationDuration: v.animationDuration, animationType: b };r[l](i.notDeepClearNull(P));}}(s, t, e), o.label = 4;case 4:return [2];}});});};});};}, 963: function _(e, t, r) {"use strict";var o = this && this.__assign || function () {return (o = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);};Object.defineProperty(t, "__esModule", { value: !0 }), t.createRouter = t.RouterMount = void 0;var n = r(282),a = r(789),i = r(662),u = r(460),l = r(890),c = r(314),s = function s() {},p = new Promise(function (e) {return s = e;});t.createRouter = function (e) {var t = a.assertNewOptions(e),r = { options: t, mount: [], runId: 0, Vue: null, proxyHookDeps: n.proxyHookDeps, appMain: {}, enterPath: "", $route: null, $lockStatus: !1, routesMap: {}, lifeCycle: i.registerRouterHooks(n.lifeCycle, t), push: function push(e) {l.lockNavjump(e, r, "push");}, replace: function replace(e) {l.lockNavjump(e, r, "replace");}, replaceAll: function replaceAll(e) {l.lockNavjump(e, r, "replaceAll");}, pushTab: function pushTab(e) {l.lockNavjump(e, r, "pushTab");}, back: function back(e, t) {void 0 === e && (e = 1), "[object Object]" !== a.getDataType(t) ? t = { from: "navigateBack" } : Reflect.has(t, "from") || (t = o(o({}, t), { from: "navigateBack" })), l.lockNavjump(e + "", r, "back", void 0, t);}, forceGuardEach: function forceGuardEach(e, t) {l.forceGuardEach(r, e, t);}, beforeEach: function beforeEach(e) {i.registerEachHooks(r, "beforeHooks", e);}, afterEach: function afterEach(e) {i.registerEachHooks(r, "afterHooks", e);}, install: function install(e) {r.Vue = e, c.rewriteMethod(this), u.initMixins(e, this), Object.defineProperty(e.prototype, "$Router", { get: function get() {var e = r;return Object.defineProperty(this, "$Router", { value: e, writable: !1, configurable: !1, enumerable: !1 }), Object.seal(e);} }), Object.defineProperty(e.prototype, "$Route", { get: function get() {return l.createRoute(r);} }), Object.defineProperty(e.prototype, "$AppReady", { get: function get() {return "h5" === r.options.platform ? Promise.resolve() : p;}, set: function set(e) {!0 === e && s();} });} };return a.def(r, "currentRoute", function () {return l.createRoute(r);}), r.beforeEach(function (e, t, r) {return r();}), r.afterEach(function () {}), r;}, t.RouterMount = function (e, t, r) {if (void 0 === r && (r = "#app"), "[object Array]" !== a.getDataType(t.mount)) throw new Error("挂载路由失败，router.app 应该为数组类型。当前类型：" + typeof t.mount);if (t.mount.push({ app: e, el: r }), "h5" === t.options.platform) {var o = t.$route;o.replace({ path: o.currentRoute.fullPath });}};}, 809: function _(e, t, r) {"use strict";var o = this && this.__assign || function () {return (o = Object.assign || function (e) {for (var t, r = 1, o = arguments.length; r < o; r++) {for (var n in t = arguments[r]) {Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);}}return e;}).apply(this, arguments);},n = this && this.__awaiter || function (e, t, r, o) {return new (r || (r = Promise))(function (n, a) {function i(e) {try {l(o.next(e));} catch (e) {a(e);}}function u(e) {try {l(o.throw(e));} catch (e) {a(e);}}function l(e) {var t;e.done ? n(e.value) : (t = e.value, t instanceof r ? t : new r(function (e) {e(t);})).then(i, u);}l((o = o.apply(e, t || [])).next());});},a = this && this.__generator || function (e, t) {var r,o,n,a,i = { label: 0, sent: function sent() {if (1 & n[0]) throw n[1];return n[1];}, trys: [], ops: [] };return a = { next: u(0), throw: u(1), return: u(2) }, "function" == typeof Symbol && (a[Symbol.iterator] = function () {return this;}), a;function u(a) {return function (u) {return function (a) {if (r) throw new TypeError("Generator is already executing.");for (; i;) {try {if (r = 1, o && (n = 2 & a[0] ? o.return : a[0] ? o.throw || ((n = o.return) && n.call(o), 0) : o.next) && !(n = n.call(o, a[1])).done) return n;switch (o = 0, n && (a = [2 & a[0], n.value]), a[0]) {case 0:case 1:n = a;break;case 4:return i.label++, { value: a[1], done: !1 };case 5:i.label++, o = a[1], a = [0];continue;case 7:a = i.ops.pop(), i.trys.pop();continue;default:if (!((n = (n = i.trys).length > 0 && n[n.length - 1]) || 6 !== a[0] && 2 !== a[0])) {i = 0;continue;}if (3 === a[0] && (!n || a[1] > n[0] && a[1] < n[3])) {i.label = a[1];break;}if (6 === a[0] && i.label < n[1]) {i.label = n[1], n = a;break;}if (n && i.label < n[2]) {i.label = n[2], i.ops.push(a);break;}n[2] && i.ops.pop(), i.trys.pop();continue;}a = t.call(e, i);} catch (e) {a = [6, e], o = 0;} finally {r = n = 0;}}if (5 & a[0]) throw a[1];return { value: a[0] ? a[1] : void 0, done: !0 };}([a, u]);};}},i = this && this.__rest || function (e, t) {var r = {};for (var o in e) {Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);}if (null != e && "function" == typeof Object.getOwnPropertySymbols) {var n = 0;for (o = Object.getOwnPropertySymbols(e); n < o.length; n++) {t.indexOf(o[n]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[n]) && (r[o[n]] = e[o[n]]);}}return r;};Object.defineProperty(t, "__esModule", { value: !0 }), t.formatOriginURLQuery = t.uniOriginJump = void 0;var u = r(99),l = r(789),c = r(282),s = r(845),p = 0,f = "reLaunch";function h(e, t, r) {var n,a = t.url,i = t.path,c = t.query,s = t.animationType,p = t.animationDuration,f = t.events,h = t.success,v = t.fail,y = t.complete,g = t.delta,d = t.animation,m = u.stringifyQuery(c || {}),b = "" === m ? i || a : (i || a) + m,P = {};return "app-plus" === e.options.platform && "navigateBack" !== r && (P = (null === (n = e.options.APP) || void 0 === n ? void 0 : n.animation) || {}, P = o(o({}, P), d || {})), l.notDeepClearNull({ delta: g, url: b, animationType: s || P.animationType, animationDuration: p || P.animationDuration, events: f, success: h, fail: v, complete: y });}t.uniOriginJump = function (e, t, r, u, v, y) {var g = h(e, u, r),d = g.complete,m = i(g, ["complete"]),b = e.options.platform;null != y && !1 === y ? (0 === p && (p++, "h5" !== b && (s.resetAndCallPageHook(e, m.url), e.Vue.prototype.$AppReady = !0)), d && d.apply(null, { msg: "forceGuardEach强制触发并且不执行跳转" }), v && v.apply(null, { msg: "forceGuardEach强制触发并且不执行跳转" })) : (0 === p && ("app-plus" === b ? s.resetAndCallPageHook(e, m.url) : new RegExp(c.mpPlatformReg, "g").test(b) && s.resetAndCallPageHook(e, m.url, !1)), t(o(o({}, m), { from: u.BACKTYPE, complete: function complete() {for (var t, o, i, u, h = [], y = 0; y < arguments.length; y++) {h[y] = arguments[y];}return n(this, void 0, void 0, function () {var n, y, g;return a(this, function (a) {switch (a.label) {case 0:return 0 === p && (p++, "h5" !== b && (new RegExp(c.mpPlatformReg, "g").test(b) && s.resetPageHook(e), e.Vue.prototype.$AppReady = !0, "app-plus" === b && ((n = plus.nativeObj.View.getViewById("router-loadding")) && n.close(), (y = null === (t = e.options.APP) || void 0 === t ? void 0 : t.launchedHook) && y()))), g = 0, new RegExp(c.mpPlatformReg, "g").test(b) ? g = null === (o = e.options.applet) || void 0 === o ? void 0 : o.animationDuration : "app-plus" === b && "navigateBack" === r && "navigateTo" === f && (g = null === (u = null === (i = e.options.APP) || void 0 === i ? void 0 : i.animation) || void 0 === u ? void 0 : u.animationDuration), "navigateTo" !== r && "navigateBack" !== r || 0 === g ? [3, 2] : [4, l.timeOut(g)];case 1:a.sent(), a.label = 2;case 2:return f = r, d && d.apply(null, h), v && v.apply(null, h), [2];}});});} })));}, t.formatOriginURLQuery = h;} }, t = {}, function r(o) {if (t[o]) return t[o].exports;var n = t[o] = { exports: {} };return e[o].call(n.exports, n, n.exports, r), n.exports;}(607);var e, t;});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 17 */
/*!*******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/node_modules/video.js/dist/video-js.min.css ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ }),
/* 18 */
/*!*****************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/index.js ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;





var _mixin = _interopRequireDefault(__webpack_require__(/*! ./libs/mixin/mixin.js */ 19));

var _mpMixin = _interopRequireDefault(__webpack_require__(/*! ./libs/mixin/mpMixin.js */ 20));

var _luchRequest = _interopRequireDefault(__webpack_require__(/*! ./libs/luch-request */ 21));


var _route = _interopRequireDefault(__webpack_require__(/*! ./libs/util/route.js */ 39));

var _colorGradient = _interopRequireDefault(__webpack_require__(/*! ./libs/function/colorGradient.js */ 43));


var _test = _interopRequireDefault(__webpack_require__(/*! ./libs/function/test.js */ 44));

var _debounce = _interopRequireDefault(__webpack_require__(/*! ./libs/function/debounce.js */ 45));

var _throttle = _interopRequireDefault(__webpack_require__(/*! ./libs/function/throttle.js */ 46));

var _index = _interopRequireDefault(__webpack_require__(/*! ./libs/function/index.js */ 47));


var _config = _interopRequireDefault(__webpack_require__(/*! ./libs/config/config.js */ 49));

var _props = _interopRequireDefault(__webpack_require__(/*! ./libs/config/props.js */ 50));

var _zIndex = _interopRequireDefault(__webpack_require__(/*! ./libs/config/zIndex.js */ 140));

var _color = _interopRequireDefault(__webpack_require__(/*! ./libs/config/color.js */ 98));

var _platform = _interopRequireDefault(__webpack_require__(/*! ./libs/function/platform */ 141));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;} // 看到此报错，是因为没有配置vue.config.js的【transpileDependencies】，详见：https://www.uviewui.com/components/npmSetting.html#_5-cli模式额外配置
var pleaseSetTranspileDependencies = {},babelTest = pleaseSetTranspileDependencies === null || pleaseSetTranspileDependencies === void 0 ? void 0 : pleaseSetTranspileDependencies.test; // 引入全局mixin
var $u = _objectSpread(_objectSpread({
  route: _route.default,
  date: _index.default.timeFormat, // 另名date
  colorGradient: _colorGradient.default.colorGradient,
  hexToRgb: _colorGradient.default.hexToRgb,
  rgbToHex: _colorGradient.default.rgbToHex,
  colorToRgba: _colorGradient.default.colorToRgba,
  test: _test.default,
  type: ['primary', 'success', 'error', 'warning', 'info'],
  http: new _luchRequest.default(),
  config: _config.default, // uView配置信息相关，比如版本号
  zIndex: _zIndex.default,
  debounce: _debounce.default,
  throttle: _throttle.default,
  mixin: _mixin.default,
  mpMixin: _mpMixin.default,
  props: _props.default },
_index.default), {}, {
  color: _color.default,
  platform: _platform.default });


// $u挂载到uni对象上
uni.$u = $u;

var install = function install(Vue) {
  // 时间格式化，同时两个名称，date和timeFormat
  Vue.filter('timeFormat', function (timestamp, format) {return uni.$u.timeFormat(timestamp, format);});
  Vue.filter('date', function (timestamp, format) {return uni.$u.timeFormat(timestamp, format);});
  // 将多久以前的方法，注入到全局过滤器
  Vue.filter('timeFrom', function (timestamp, format) {return uni.$u.timeFrom(timestamp, format);});
  // 同时挂载到uni和Vue.prototype中

  // 只有vue，挂载到Vue.prototype才有意义，因为nvue中全局Vue.prototype和Vue.mixin是无效的
  Vue.prototype.$u = $u;
  Vue.mixin(_mixin.default);

};var _default =

{
  install: install };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 19 */
/*!****************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/mixin/mixin.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(uni) {module.exports = {
  // 定义每个组件都可能需要用到的外部样式以及类名
  props: {
    // 每个组件都有的父组件传递的样式，可以为字符串或者对象形式
    customStyle: {
      type: [Object, String],
      default: function _default() {return {};} },

    customClass: {
      type: String,
      default: '' },

    // 跳转的页面路径
    url: {
      type: String,
      default: '' },

    // 页面跳转的类型
    linkType: {
      type: String,
      default: 'navigateTo' } },


  data: function data() {
    return {};
  },
  onLoad: function onLoad() {
    // getRect挂载到$u上，因为这方法需要使用in(this)，所以无法把它独立成一个单独的文件导出
    this.$u.getRect = this.$uGetRect;
  },
  created: function created() {
    // 组件当中，只有created声明周期，为了能在组件使用，故也在created中将方法挂载到$u
    this.$u.getRect = this.$uGetRect;
  },
  computed: {
    // 在2.x版本中，将会把$u挂载到uni对象下，导致在模板中无法使用uni.$u.xxx形式
    // 所以这里通过computed计算属性将其附加到this.$u上，就可以在模板或者js中使用uni.$u.xxx
    // 只在nvue环境通过此方式引入完整的$u，其他平台会出现性能问题，非nvue则按需引入（主要原因是props过大）
    $u: function $u() {

      // 在非nvue端，移除props，http，mixin等对象，避免在小程序setData时数据过大影响性能
      return uni.$u.deepMerge(uni.$u, {
        props: undefined,
        http: undefined,
        mixin: undefined });





    },
    /**
        * 生成bem规则类名
        * 由于微信小程序，H5，nvue之间绑定class的差异，无法通过:class="[bem()]"的形式进行同用
        * 故采用如下折中做法，最后返回的是数组（一般平台）或字符串（支付宝和字节跳动平台），类似['a', 'b', 'c']或'a b c'的形式
        * @param {String} name 组件名称
        * @param {Array} fixed 一直会存在的类名
        * @param {Array} change 会根据变量值为true或者false而出现或者隐藏的类名
        * @returns {Array|string}
        */
    bem: function bem() {
      return function (name, fixed, change) {var _this = this;
        // 类名前缀
        var prefix = "u-".concat(name, "--");
        var classes = {};
        if (fixed) {
          fixed.map(function (item) {
            // 这里的类名，会一直存在
            classes[prefix + _this[item]] = true;
          });
        }
        if (change) {
          change.map(function (item) {
            // 这里的类名，会根据this[item]的值为true或者false，而进行添加或者移除某一个类
            _this[item] ? classes[prefix + item] = _this[item] : delete classes[prefix + item];
          });
        }
        return Object.keys(classes);
        // 支付宝，头条小程序无法动态绑定一个数组类名，否则解析出来的结果会带有","，而导致失效



      };
    } },

  methods: {
    // 跳转某一个页面
    openPage: function openPage() {var urlKey = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'url';
      var url = this[urlKey];
      if (url) {
        // 执行类似uni.navigateTo的方法
        uni[this.linkType]({
          url: url });

      }
    },
    // 查询节点信息
    // 目前此方法在支付宝小程序中无法获取组件跟接点的尺寸，为支付宝的bug(2020-07-21)
    // 解决办法为在组件根部再套一个没有任何作用的view元素
    $uGetRect: function $uGetRect(selector, all) {var _this2 = this;
      return new Promise(function (resolve) {
        uni.createSelectorQuery().
        in(_this2)[all ? 'selectAll' : 'select'](selector).
        boundingClientRect(function (rect) {
          if (all && Array.isArray(rect) && rect.length) {
            resolve(rect);
          }
          if (!all && rect) {
            resolve(rect);
          }
        }).
        exec();
      });
    },
    getParentData: function getParentData() {var _this3 = this;var parentName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      // 避免在created中去定义parent变量
      if (!this.parent) this.parent = {};
      // 这里的本质原理是，通过获取父组件实例(也即类似u-radio的父组件u-radio-group的this)
      // 将父组件this中对应的参数，赋值给本组件(u-radio的this)的parentData对象中对应的属性
      // 之所以需要这么做，是因为所有端中，头条小程序不支持通过this.parent.xxx去监听父组件参数的变化
      // 此处并不会自动更新子组件的数据，而是依赖父组件u-radio-group去监听data的变化，手动调用更新子组件的方法去重新获取
      this.parent = uni.$u.$parent.call(this, parentName);
      if (this.parent.children) {
        // 如果父组件的children不存在本组件的实例，才将本实例添加到父组件的children中
        this.parent.children.indexOf(this) === -1 && this.parent.children.push(this);
      }
      if (this.parent && this.parentData) {
        // 历遍parentData中的属性，将parent中的同名属性赋值给parentData
        Object.keys(this.parentData).map(function (key) {
          _this3.parentData[key] = _this3.parent[key];
        });
      }
    },
    // 阻止事件冒泡
    preventEvent: function preventEvent(e) {
      e && typeof e.stopPropagation === 'function' && e.stopPropagation();
    },
    // 空操作
    noop: function noop(e) {
      this.preventEvent(e);
    } },

  onReachBottom: function onReachBottom() {
    uni.$emit('uOnReachBottom');
  },
  beforeDestroy: function beforeDestroy() {var _this4 = this;
    // 判断当前页面是否存在parent和chldren，一般在checkbox和checkbox-group父子联动的场景会有此情况
    // 组件销毁时，移除子组件在父组件children数组中的实例，释放资源，避免数据混乱
    if (this.parent && uni.$u.test.array(this.parent.children)) {
      // 组件销毁时，移除父组件中的children数组中对应的实例
      var childrenList = this.parent.children;
      childrenList.map(function (child, index) {
        // 如果相等，则移除
        if (child === _this4) {
          childrenList.splice(index, 1);
        }
      });
    }
  } };
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 20 */
/*!******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/mixin/mpMixin.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {

  // 将自定义节点设置成虚拟的，更加接近Vue组件的表现，能更好的使用flex属性
  options: {
    virtualHost: true } };exports.default = _default;

/***/ }),
/* 21 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/index.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _Request = _interopRequireDefault(__webpack_require__(/*! ./core/Request */ 22));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var _default =

_Request.default;exports.default = _default;

/***/ }),
/* 22 */
/*!******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/core/Request.js ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;












var _dispatchRequest = _interopRequireDefault(__webpack_require__(/*! ./dispatchRequest */ 23));
var _InterceptorManager = _interopRequireDefault(__webpack_require__(/*! ./InterceptorManager */ 31));
var _mergeConfig = _interopRequireDefault(__webpack_require__(/*! ./mergeConfig */ 32));
var _defaults = _interopRequireDefault(__webpack_require__(/*! ./defaults */ 33));
var _utils = __webpack_require__(/*! ../utils */ 26);
var _clone = _interopRequireDefault(__webpack_require__(/*! ../utils/clone */ 34));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var

Request = /*#__PURE__*/function () {
  /**
                                    * @param {Object} arg - 全局配置
                                    * @param {String} arg.baseURL - 全局根路径
                                    * @param {Object} arg.header - 全局header
                                    * @param {String} arg.method = [GET|POST|PUT|DELETE|CONNECT|HEAD|OPTIONS|TRACE] - 全局默认请求方式
                                    * @param {String} arg.dataType = [json] - 全局默认的dataType
                                    * @param {String} arg.responseType = [text|arraybuffer] - 全局默认的responseType。支付宝小程序不支持
                                    * @param {Object} arg.custom - 全局默认的自定义参数
                                    * @param {Number} arg.timeout - 全局默认的超时时间，单位 ms。默认60000。H5(HBuilderX 2.9.9+)、APP(HBuilderX 2.9.9+)、微信小程序（2.10.0）、支付宝小程序
                                    * @param {Boolean} arg.sslVerify - 全局默认的是否验证 ssl 证书。默认true.仅App安卓端支持（HBuilderX 2.3.3+）
                                    * @param {Boolean} arg.withCredentials - 全局默认的跨域请求时是否携带凭证（cookies）。默认false。仅H5支持（HBuilderX 2.6.15+）
                                    * @param {Boolean} arg.firstIpv4 - 全DNS解析时优先使用ipv4。默认false。仅 App-Android 支持 (HBuilderX 2.8.0+)
                                    * @param {Function(statusCode):Boolean} arg.validateStatus - 全局默认的自定义验证器。默认statusCode >= 200 && statusCode < 300
                                    */
  function Request() {var arg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};_classCallCheck(this, Request);
    if (!(0, _utils.isPlainObject)(arg)) {
      arg = {};
      console.warn('设置全局参数必须接收一个Object');
    }
    this.config = (0, _clone.default)(_objectSpread(_objectSpread({}, _defaults.default), arg));
    this.interceptors = {
      request: new _InterceptorManager.default(),
      response: new _InterceptorManager.default() };

  }

  /**
    * @Function
    * @param {Request~setConfigCallback} f - 设置全局默认配置
    */_createClass(Request, [{ key: "setConfig", value: function setConfig(
    f) {
      this.config = f(this.config);
    } }, { key: "middleware", value: function middleware(

    config) {
      config = (0, _mergeConfig.default)(this.config, config);
      var chain = [_dispatchRequest.default, undefined];
      var promise = Promise.resolve(config);

      this.interceptors.request.forEach(function (interceptor) {
        chain.unshift(interceptor.fulfilled, interceptor.rejected);
      });

      this.interceptors.response.forEach(function (interceptor) {
        chain.push(interceptor.fulfilled, interceptor.rejected);
      });

      while (chain.length) {
        promise = promise.then(chain.shift(), chain.shift());
      }

      return promise;
    }

    /**
      * @Function
      * @param {Object} config - 请求配置项
      * @prop {String} options.url - 请求路径
      * @prop {Object} options.data - 请求参数
      * @prop {Object} [options.responseType = config.responseType] [text|arraybuffer] - 响应的数据类型
      * @prop {Object} [options.dataType = config.dataType] - 如果设为 json，会尝试对返回的数据做一次 JSON.parse
      * @prop {Object} [options.header = config.header] - 请求header
      * @prop {Object} [options.method = config.method] - 请求方法
      * @returns {Promise<unknown>}
      */ }, { key: "request", value: function request()
    {var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      return this.middleware(config);
    } }, { key: "get", value: function get(

    url) {var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      return this.middleware(_objectSpread({
        url: url,
        method: 'GET' },
      options));

    } }, { key: "post", value: function post(

    url, data) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.middleware(_objectSpread({
        url: url,
        data: data,
        method: 'POST' },
      options));

    } }, { key: "put", value: function put(


    url, data) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.middleware(_objectSpread({
        url: url,
        data: data,
        method: 'PUT' },
      options));

    } }, { key: "delete", value: function _delete(




    url, data) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.middleware(_objectSpread({
        url: url,
        data: data,
        method: 'DELETE' },
      options));

    } }, { key: "connect", value: function connect(




    url, data) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.middleware(_objectSpread({
        url: url,
        data: data,
        method: 'CONNECT' },
      options));

    } }, { key: "head", value: function head(




    url, data) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.middleware(_objectSpread({
        url: url,
        data: data,
        method: 'HEAD' },
      options));

    } }, { key: "options", value: function options(




    url, data) {var _options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.middleware(_objectSpread({
        url: url,
        data: data,
        method: 'OPTIONS' },
      _options));

    } }, { key: "trace", value: function trace(




    url, data) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.middleware(_objectSpread({
        url: url,
        data: data,
        method: 'TRACE' },
      options));

    } }, { key: "upload", value: function upload(



    url) {var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      config.url = url;
      config.method = 'UPLOAD';
      return this.middleware(config);
    } }, { key: "download", value: function download(

    url) {var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      config.url = url;
      config.method = 'DOWNLOAD';
      return this.middleware(config);
    } }]);return Request;}();


/**
                               * setConfig回调
                               * @return {Object} - 返回操作后的config
                               * @callback Request~setConfigCallback
                               * @param {Object} config - 全局默认config
                               */exports.default = Request;

/***/ }),
/* 23 */
/*!**************************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/core/dispatchRequest.js ***!
  \**************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _index = _interopRequireDefault(__webpack_require__(/*! ../adapters/index */ 24));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var _default =

function _default(config) {return (0, _index.default)(config);};exports.default = _default;

/***/ }),
/* 24 */
/*!********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/adapters/index.js ***!
  \********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _buildURL = _interopRequireDefault(__webpack_require__(/*! ../helpers/buildURL */ 25));
var _buildFullPath = _interopRequireDefault(__webpack_require__(/*! ../core/buildFullPath */ 27));
var _settle = _interopRequireDefault(__webpack_require__(/*! ../core/settle */ 30));
var _utils = __webpack_require__(/*! ../utils */ 26);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}

/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * 返回可选值存在的配置
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * @param {Array} keys - 可选值数组
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * @param {Object} config2 - 配置
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           * @return {{}} - 存在的配置项
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           */
var mergeKeys = function mergeKeys(keys, config2) {
  var config = {};
  keys.forEach(function (prop) {
    if (!(0, _utils.isUndefined)(config2[prop])) {
      config[prop] = config2[prop];
    }
  });
  return config;
};var _default =
function _default(config) {return new Promise(function (resolve, reject) {
    var fullPath = (0, _buildURL.default)((0, _buildFullPath.default)(config.baseURL, config.url), config.params);
    var _config = {
      url: fullPath,
      header: config.header,
      complete: function complete(response) {
        config.fullPath = fullPath;
        response.config = config;
        try {
          // 对可能字符串不是json 的情况容错
          if (typeof response.data === 'string') {
            response.data = JSON.parse(response.data);
          }
          // eslint-disable-next-line no-empty
        } catch (e) {
        }
        (0, _settle.default)(resolve, reject, response);
      } };

    var requestTask;
    if (config.method === 'UPLOAD') {
      delete _config.header['content-type'];
      delete _config.header['Content-Type'];
      var otherConfig = {



        filePath: config.filePath,
        name: config.name };

      var optionalKeys = [









      'formData'];

      requestTask = uni.uploadFile(_objectSpread(_objectSpread(_objectSpread({}, _config), otherConfig), mergeKeys(optionalKeys, config)));
    } else if (config.method === 'DOWNLOAD') {





      requestTask = uni.downloadFile(_config);
    } else {
      var _optionalKeys = [
      'data',
      'method',

      'timeout',

      'dataType',

      'responseType'];











      requestTask = uni.request(_objectSpread(_objectSpread({}, _config), mergeKeys(_optionalKeys, config)));
    }
    if (config.getTask) {
      config.getTask(requestTask, config);
    }
  });};exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 25 */
/*!**********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/helpers/buildURL.js ***!
  \**********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = buildURL;

var utils = _interopRequireWildcard(__webpack_require__(/*! ../utils */ 26));function _getRequireWildcardCache() {if (typeof WeakMap !== "function") return null;var cache = new WeakMap();_getRequireWildcardCache = function _getRequireWildcardCache() {return cache;};return cache;}function _interopRequireWildcard(obj) {if (obj && obj.__esModule) {return obj;}if (obj === null || typeof obj !== "object" && typeof obj !== "function") {return { default: obj };}var cache = _getRequireWildcardCache();if (cache && cache.has(obj)) {return cache.get(obj);}var newObj = {};var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;for (var key in obj) {if (Object.prototype.hasOwnProperty.call(obj, key)) {var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;if (desc && (desc.get || desc.set)) {Object.defineProperty(newObj, key, desc);} else {newObj[key] = obj[key];}}}newObj.default = obj;if (cache) {cache.set(obj, newObj);}return newObj;}

function encode(val) {
  return encodeURIComponent(val).
  replace(/%40/gi, '@').
  replace(/%3A/gi, ':').
  replace(/%24/g, '$').
  replace(/%2C/gi, ',').
  replace(/%20/g, '+').
  replace(/%5B/gi, '[').
  replace(/%5D/gi, ']');
}

/**
   * Build a URL by appending params to the end
   *
   * @param {string} url The base of the url (e.g., http://www.google.com)
   * @param {object} [params] The params to be appended
   * @returns {string} The formatted url
   */
function buildURL(url, params) {
  /* eslint no-param-reassign:0 */
  if (!params) {
    return url;
  }

  var serializedParams;
  if (utils.isURLSearchParams(params)) {
    serializedParams = params.toString();
  } else {
    var parts = [];

    utils.forEach(params, function (val, key) {
      if (val === null || typeof val === 'undefined') {
        return;
      }

      if (utils.isArray(val)) {
        key = "".concat(key, "[]");
      } else {
        val = [val];
      }

      utils.forEach(val, function (v) {
        if (utils.isDate(v)) {
          v = v.toISOString();
        } else if (utils.isObject(v)) {
          v = JSON.stringify(v);
        }
        parts.push("".concat(encode(key), "=").concat(encode(v)));
      });
    });

    serializedParams = parts.join('&');
  }

  if (serializedParams) {
    var hashmarkIndex = url.indexOf('#');
    if (hashmarkIndex !== -1) {
      url = url.slice(0, hashmarkIndex);
    }

    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
  }

  return url;
}

/***/ }),
/* 26 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/utils.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// utils is a library of generic helper functions non-specific to axios
Object.defineProperty(exports, "__esModule", { value: true });exports.isArray = isArray;exports.isObject = isObject;exports.isDate = isDate;exports.isURLSearchParams = isURLSearchParams;exports.forEach = forEach;exports.isBoolean = isBoolean;exports.isPlainObject = isPlainObject;exports.deepMerge = deepMerge;exports.isUndefined = isUndefined;var
toString = Object.prototype.toString;

/**
                                       * Determine if a value is an Array
                                       *
                                       * @param {Object} val The value to test
                                       * @returns {boolean} True if value is an Array, otherwise false
                                       */
function isArray(val) {
  return toString.call(val) === '[object Array]';
}

/**
   * Determine if a value is an Object
   *
   * @param {Object} val The value to test
   * @returns {boolean} True if value is an Object, otherwise false
   */
function isObject(val) {
  return val !== null && typeof val === 'object';
}

/**
   * Determine if a value is a Date
   *
   * @param {Object} val The value to test
   * @returns {boolean} True if value is a Date, otherwise false
   */
function isDate(val) {
  return toString.call(val) === '[object Date]';
}

/**
   * Determine if a value is a URLSearchParams object
   *
   * @param {Object} val The value to test
   * @returns {boolean} True if value is a URLSearchParams object, otherwise false
   */
function isURLSearchParams(val) {
  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;
}

/**
   * Iterate over an Array or an Object invoking a function for each item.
   *
   * If `obj` is an Array callback will be called passing
   * the value, index, and complete array for each item.
   *
   * If 'obj' is an Object callback will be called passing
   * the value, key, and complete object for each property.
   *
   * @param {Object|Array} obj The object to iterate
   * @param {Function} fn The callback to invoke for each item
   */
function forEach(obj, fn) {
  // Don't bother if no value provided
  if (obj === null || typeof obj === 'undefined') {
    return;
  }

  // Force an array if not already something iterable
  if (typeof obj !== 'object') {
    /* eslint no-param-reassign:0 */
    obj = [obj];
  }

  if (isArray(obj)) {
    // Iterate over array values
    for (var i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    // Iterate over object keys
    for (var key in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, key)) {
        fn.call(null, obj[key], key, obj);
      }
    }
  }
}

/**
   * 是否为boolean 值
   * @param val
   * @returns {boolean}
   */
function isBoolean(val) {
  return typeof val === 'boolean';
}

/**
   * 是否为真正的对象{} new Object
   * @param {any} obj - 检测的对象
   * @returns {boolean}
   */
function isPlainObject(obj) {
  return Object.prototype.toString.call(obj) === '[object Object]';
}

/**
   * Function equal to merge with the difference being that no reference
   * to original objects is kept.
   *
   * @see merge
   * @param {Object} obj1 Object to merge
   * @returns {Object} Result of all merge properties
   */
function deepMerge() /* obj1, obj2, obj3, ... */{
  var result = {};
  function assignValue(val, key) {
    if (typeof result[key] === 'object' && typeof val === 'object') {
      result[key] = deepMerge(result[key], val);
    } else if (typeof val === 'object') {
      result[key] = deepMerge({}, val);
    } else {
      result[key] = val;
    }
  }
  for (var i = 0, l = arguments.length; i < l; i++) {
    forEach(arguments[i], assignValue);
  }
  return result;
}

function isUndefined(val) {
  return typeof val === 'undefined';
}

/***/ }),
/* 27 */
/*!************************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/core/buildFullPath.js ***!
  \************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = buildFullPath;

var _isAbsoluteURL = _interopRequireDefault(__webpack_require__(/*! ../helpers/isAbsoluteURL */ 28));
var _combineURLs = _interopRequireDefault(__webpack_require__(/*! ../helpers/combineURLs */ 29));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

/**
                                                                                                                                                                            * Creates a new URL by combining the baseURL with the requestedURL,
                                                                                                                                                                            * only when the requestedURL is not already an absolute URL.
                                                                                                                                                                            * If the requestURL is absolute, this function returns the requestedURL untouched.
                                                                                                                                                                            *
                                                                                                                                                                            * @param {string} baseURL The base URL
                                                                                                                                                                            * @param {string} requestedURL Absolute or relative URL to combine
                                                                                                                                                                            * @returns {string} The combined full path
                                                                                                                                                                            */
function buildFullPath(baseURL, requestedURL) {
  if (baseURL && !(0, _isAbsoluteURL.default)(requestedURL)) {
    return (0, _combineURLs.default)(baseURL, requestedURL);
  }
  return requestedURL;
}

/***/ }),
/* 28 */
/*!***************************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/helpers/isAbsoluteURL.js ***!
  \***************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
               * Determines whether the specified URL is absolute
               *
               * @param {string} url The URL to test
               * @returns {boolean} True if the specified URL is absolute, otherwise false
               */Object.defineProperty(exports, "__esModule", { value: true });exports.default = isAbsoluteURL;
function isAbsoluteURL(url) {
  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
  // by any combination of letters, digits, plus, period, or hyphen.
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
}

/***/ }),
/* 29 */
/*!*************************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/helpers/combineURLs.js ***!
  \*************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
               * Creates a new URL by combining the specified URLs
               *
               * @param {string} baseURL The base URL
               * @param {string} relativeURL The relative URL
               * @returns {string} The combined URL
               */Object.defineProperty(exports, "__esModule", { value: true });exports.default = combineURLs;
function combineURLs(baseURL, relativeURL) {
  return relativeURL ? "".concat(
  baseURL.replace(/\/+$/, ''), "/").concat(relativeURL.replace(/^\/+/, '')) :
  baseURL;
}

/***/ }),
/* 30 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/core/settle.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = settle; /**
                                                                                                      * Resolve or reject a Promise based on response status.
                                                                                                      *
                                                                                                      * @param {Function} resolve A function that resolves the promise.
                                                                                                      * @param {Function} reject A function that rejects the promise.
                                                                                                      * @param {object} response The response.
                                                                                                      */
function settle(resolve, reject, response) {var
  validateStatus = response.config.validateStatus;
  var status = response.statusCode;
  if (status && (!validateStatus || validateStatus(status))) {
    resolve(response);
  } else {
    reject(response);
  }
}

/***/ }),
/* 31 */
/*!*****************************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/core/InterceptorManager.js ***!
  \*****************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;

function InterceptorManager() {
  this.handlers = [];
}

/**
   * Add a new interceptor to the stack
   *
   * @param {Function} fulfilled The function to handle `then` for a `Promise`
   * @param {Function} rejected The function to handle `reject` for a `Promise`
   *
   * @return {Number} An ID used to remove interceptor later
   */
InterceptorManager.prototype.use = function use(fulfilled, rejected) {
  this.handlers.push({
    fulfilled: fulfilled,
    rejected: rejected });

  return this.handlers.length - 1;
};

/**
    * Remove an interceptor from the stack
    *
    * @param {Number} id The ID that was returned by `use`
    */
InterceptorManager.prototype.eject = function eject(id) {
  if (this.handlers[id]) {
    this.handlers[id] = null;
  }
};

/**
    * Iterate over all the registered interceptors
    *
    * This method is particularly useful for skipping over any
    * interceptors that may have become `null` calling `eject`.
    *
    * @param {Function} fn The function to call for each interceptor
    */
InterceptorManager.prototype.forEach = function forEach(fn) {
  this.handlers.forEach(function (h) {
    if (h !== null) {
      fn(h);
    }
  });
};var _default =

InterceptorManager;exports.default = _default;

/***/ }),
/* 32 */
/*!**********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/core/mergeConfig.js ***!
  \**********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _utils = __webpack_require__(/*! ../utils */ 26);function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}

/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * 合并局部配置优先的配置，如果局部有该配置项则用局部，如果全局有该配置项则用全局
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * @param {Array} keys - 配置项
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * @param {Object} globalsConfig - 当前的全局配置
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * @param {Object} config2 - 局部配置
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  * @return {{}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  */
var mergeKeys = function mergeKeys(keys, globalsConfig, config2) {
  var config = {};
  keys.forEach(function (prop) {
    if (!(0, _utils.isUndefined)(config2[prop])) {
      config[prop] = config2[prop];
    } else if (!(0, _utils.isUndefined)(globalsConfig[prop])) {
      config[prop] = globalsConfig[prop];
    }
  });
  return config;
};
/**
    *
    * @param globalsConfig - 当前实例的全局配置
    * @param config2 - 当前的局部配置
    * @return - 合并后的配置
    */var _default =
function _default(globalsConfig) {var config2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var method = config2.method || globalsConfig.method || 'GET';
  var config = {
    baseURL: globalsConfig.baseURL || '',
    method: method,
    url: config2.url || '',
    params: config2.params || {},
    custom: _objectSpread(_objectSpread({}, globalsConfig.custom || {}), config2.custom || {}),
    header: (0, _utils.deepMerge)(globalsConfig.header || {}, config2.header || {}) };

  var defaultToConfig2Keys = ['getTask', 'validateStatus'];
  config = _objectSpread(_objectSpread({}, config), mergeKeys(defaultToConfig2Keys, globalsConfig, config2));

  // eslint-disable-next-line no-empty
  if (method === 'DOWNLOAD') {







  } else if (method === 'UPLOAD') {
    delete config.header['content-type'];
    delete config.header['Content-Type'];
    var uploadKeys = [









    'filePath',
    'name',



    'formData'];

    uploadKeys.forEach(function (prop) {
      if (!(0, _utils.isUndefined)(config2[prop])) {
        config[prop] = config2[prop];
      }
    });





  } else {
    var defaultsKeys = [
    'data',

    'timeout',

    'dataType',

    'responseType'];











    config = _objectSpread(_objectSpread({}, config), mergeKeys(defaultsKeys, globalsConfig, config2));
  }

  return config;
};exports.default = _default;

/***/ }),
/* 33 */
/*!*******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/core/defaults.js ***!
  \*******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /**
                                                                                                      * 默认的全局配置
                                                                                                      */var _default =

{
  baseURL: '',
  header: {},
  method: 'GET',
  dataType: 'json',

  responseType: 'text',

  custom: {},

  timeout: 60000,










  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  } };exports.default = _default;

/***/ }),
/* 34 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/luch-request/utils/clone.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /* eslint-disable */
var clone = function () {
  'use strict';

  function _instanceof(obj, type) {
    return type != null && obj instanceof type;
  }

  var nativeMap;
  try {
    nativeMap = Map;
  } catch (_) {
    // maybe a reference error because no `Map`. Give it a dummy value that no
    // value will ever be an instanceof.
    nativeMap = function nativeMap() {};
  }

  var nativeSet;
  try {
    nativeSet = Set;
  } catch (_) {
    nativeSet = function nativeSet() {};
  }

  var nativePromise;
  try {
    nativePromise = Promise;
  } catch (_) {
    nativePromise = function nativePromise() {};
  }

  /**
     * Clones (copies) an Object using deep copying.
     *
     * This function supports circular references by default, but if you are certain
     * there are no circular references in your object, you can save some CPU time
     * by calling clone(obj, false).
     *
     * Caution: if `circular` is false and `parent` contains circular references,
     * your program may enter an infinite loop and crash.
     *
     * @param `parent` - the object to be cloned
     * @param `circular` - set to true if the object to be cloned may contain
     *    circular references. (optional - true by default)
     * @param `depth` - set to a number if the object is only to be cloned to
     *    a particular depth. (optional - defaults to Infinity)
     * @param `prototype` - sets the prototype to be used when cloning an object.
     *    (optional - defaults to parent prototype).
     * @param `includeNonEnumerable` - set to true if the non-enumerable properties
     *    should be cloned as well. Non-enumerable properties on the prototype
     *    chain will be ignored. (optional - false by default)
     */
  function clone(parent, circular, depth, prototype, includeNonEnumerable) {
    if (typeof circular === 'object') {
      depth = circular.depth;
      prototype = circular.prototype;
      includeNonEnumerable = circular.includeNonEnumerable;
      circular = circular.circular;
    }
    // maintain two arrays for circular references, where corresponding parents
    // and children have the same index
    var allParents = [];
    var allChildren = [];

    var useBuffer = typeof Buffer != 'undefined';

    if (typeof circular == 'undefined')
    circular = true;

    if (typeof depth == 'undefined')
    depth = Infinity;

    // recurse this function so we don't reset allParents and allChildren
    function _clone(parent, depth) {
      // cloning null always returns null
      if (parent === null)
      return null;

      if (depth === 0)
      return parent;

      var child;
      var proto;
      if (typeof parent != 'object') {
        return parent;
      }

      if (_instanceof(parent, nativeMap)) {
        child = new nativeMap();
      } else if (_instanceof(parent, nativeSet)) {
        child = new nativeSet();
      } else if (_instanceof(parent, nativePromise)) {
        child = new nativePromise(function (resolve, reject) {
          parent.then(function (value) {
            resolve(_clone(value, depth - 1));
          }, function (err) {
            reject(_clone(err, depth - 1));
          });
        });
      } else if (clone.__isArray(parent)) {
        child = [];
      } else if (clone.__isRegExp(parent)) {
        child = new RegExp(parent.source, __getRegExpFlags(parent));
        if (parent.lastIndex) child.lastIndex = parent.lastIndex;
      } else if (clone.__isDate(parent)) {
        child = new Date(parent.getTime());
      } else if (useBuffer && Buffer.isBuffer(parent)) {
        if (Buffer.from) {
          // Node.js >= 5.10.0
          child = Buffer.from(parent);
        } else {
          // Older Node.js versions
          child = new Buffer(parent.length);
          parent.copy(child);
        }
        return child;
      } else if (_instanceof(parent, Error)) {
        child = Object.create(parent);
      } else {
        if (typeof prototype == 'undefined') {
          proto = Object.getPrototypeOf(parent);
          child = Object.create(proto);
        } else
        {
          child = Object.create(prototype);
          proto = prototype;
        }
      }

      if (circular) {
        var index = allParents.indexOf(parent);

        if (index != -1) {
          return allChildren[index];
        }
        allParents.push(parent);
        allChildren.push(child);
      }

      if (_instanceof(parent, nativeMap)) {
        parent.forEach(function (value, key) {
          var keyChild = _clone(key, depth - 1);
          var valueChild = _clone(value, depth - 1);
          child.set(keyChild, valueChild);
        });
      }
      if (_instanceof(parent, nativeSet)) {
        parent.forEach(function (value) {
          var entryChild = _clone(value, depth - 1);
          child.add(entryChild);
        });
      }

      for (var i in parent) {
        var attrs = Object.getOwnPropertyDescriptor(parent, i);
        if (attrs) {
          child[i] = _clone(parent[i], depth - 1);
        }

        try {
          var objProperty = Object.getOwnPropertyDescriptor(parent, i);
          if (objProperty.set === 'undefined') {
            // no setter defined. Skip cloning this property
            continue;
          }
          child[i] = _clone(parent[i], depth - 1);
        } catch (e) {
          if (e instanceof TypeError) {
            // when in strict mode, TypeError will be thrown if child[i] property only has a getter
            // we can't do anything about this, other than inform the user that this property cannot be set.
            continue;
          } else if (e instanceof ReferenceError) {
            //this may happen in non strict mode
            continue;
          }
        }

      }

      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(parent);
        for (var i = 0; i < symbols.length; i++) {
          // Don't need to worry about cloning a symbol because it is a primitive,
          // like a number or string.
          var symbol = symbols[i];
          var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);
          if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {
            continue;
          }
          child[symbol] = _clone(parent[symbol], depth - 1);
          Object.defineProperty(child, symbol, descriptor);
        }
      }

      if (includeNonEnumerable) {
        var allPropertyNames = Object.getOwnPropertyNames(parent);
        for (var i = 0; i < allPropertyNames.length; i++) {
          var propertyName = allPropertyNames[i];
          var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);
          if (descriptor && descriptor.enumerable) {
            continue;
          }
          child[propertyName] = _clone(parent[propertyName], depth - 1);
          Object.defineProperty(child, propertyName, descriptor);
        }
      }

      return child;
    }

    return _clone(parent, depth);
  }

  /**
     * Simple flat clone using prototype, accepts only objects, usefull for property
     * override on FLAT configuration object (no nested props).
     *
     * USE WITH CAUTION! This may not behave as you wish if you do not know how this
     * works.
     */
  clone.clonePrototype = function clonePrototype(parent) {
    if (parent === null)
    return null;

    var c = function c() {};
    c.prototype = parent;
    return new c();
  };

  // private utility functions

  function __objToStr(o) {
    return Object.prototype.toString.call(o);
  }
  clone.__objToStr = __objToStr;

  function __isDate(o) {
    return typeof o === 'object' && __objToStr(o) === '[object Date]';
  }
  clone.__isDate = __isDate;

  function __isArray(o) {
    return typeof o === 'object' && __objToStr(o) === '[object Array]';
  }
  clone.__isArray = __isArray;

  function __isRegExp(o) {
    return typeof o === 'object' && __objToStr(o) === '[object RegExp]';
  }
  clone.__isRegExp = __isRegExp;

  function __getRegExpFlags(re) {
    var flags = '';
    if (re.global) flags += 'g';
    if (re.ignoreCase) flags += 'i';
    if (re.multiline) flags += 'm';
    return flags;
  }
  clone.__getRegExpFlags = __getRegExpFlags;

  return clone;
}();var _default =

clone;exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../../../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/buffer/index.js */ 35).Buffer))

/***/ }),
/* 35 */
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ 36)
var ieee754 = __webpack_require__(/*! ieee754 */ 37)
var isArray = __webpack_require__(/*! isarray */ 38)

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ 2)))

/***/ }),
/* 36 */
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),
/* 37 */
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),
/* 38 */
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),
/* 39 */
/*!***************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/util/route.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 40));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;} /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * 路由跳转方法，该方法相对于直接使用uni.xxx的好处是使用更加简单快捷
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * 并且带有路由拦截功能
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */var

Router = /*#__PURE__*/function () {
  function Router() {_classCallCheck(this, Router);
    // 原始属性定义
    this.config = {
      type: 'navigateTo',
      url: '',
      delta: 1, // navigateBack页面后退时,回退的层数
      params: {}, // 传递的参数
      animationType: 'pop-in', // 窗口动画,只在APP有效
      animationDuration: 300, // 窗口动画持续时间,单位毫秒,只在APP有效
      intercept: false // 是否需要拦截
    };
    // 因为route方法是需要对外赋值给另外的对象使用，同时route内部有使用this，会导致route失去上下文
    // 这里在构造函数中进行this绑定
    this.route = this.route.bind(this);
  }

  // 判断url前面是否有"/"，如果没有则加上，否则无法跳转
  _createClass(Router, [{ key: "addRootPath", value: function addRootPath(url) {
      return url[0] === '/' ? url : "/".concat(url);
    }

    // 整合路由参数
  }, { key: "mixinParam", value: function mixinParam(url, params) {
      url = url && this.addRootPath(url);

      // 使用正则匹配，主要依据是判断是否有"/","?","="等，如“/page/index/index?name=mary"
      // 如果有url中有get参数，转换后无需带上"?"
      var query = '';
      if (/.*\/.*\?.*=.*/.test(url)) {
        // object对象转为get类型的参数
        query = uni.$u.queryParams(params, false);
        // 因为已有get参数,所以后面拼接的参数需要带上"&"隔开
        return url += "&".concat(query);
      }
      // 直接拼接参数，因为此处url中没有后面的query参数，也就没有"?/&"之类的符号
      query = uni.$u.queryParams(params);
      return url += query;
    }

    // 对外的方法名称
  }, { key: "route", value: function () {var _route = _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee() {var options,params,mergeConfig,isNext,_args = arguments;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};params = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};
                // 合并用户的配置和内部的默认配置
                mergeConfig = {};

                if (typeof options === 'string') {
                  // 如果options为字符串，则为route(url, params)的形式
                  mergeConfig.url = this.mixinParam(options, params);
                  mergeConfig.type = 'navigateTo';
                } else {
                  mergeConfig = uni.$u.deepMerge(options, this.config);
                  // 否则正常使用mergeConfig中的url和params进行拼接
                  mergeConfig.url = this.mixinParam(options.url, options.params);
                }

                // 如果本次跳转的路径和本页面路径一致，不执行跳转，防止用户快速点击跳转按钮，造成多次跳转同一个页面的问题
                if (!(mergeConfig.url === uni.$u.page())) {_context.next = 6;break;}return _context.abrupt("return");case 6:

                if (params.intercept) {
                  this.config.intercept = params.intercept;
                }
                // params参数也带给拦截器
                mergeConfig.params = params;
                // 合并内外部参数
                mergeConfig = uni.$u.deepMerge(this.config, mergeConfig);
                // 判断用户是否定义了拦截器
                if (!(typeof uni.$u.routeIntercept === 'function')) {_context.next = 16;break;}_context.next = 12;return (

                  new Promise(function (resolve, reject) {
                    uni.$u.routeIntercept(mergeConfig, resolve);
                  }));case 12:isNext = _context.sent;
                // 如果isNext为true，则执行路由跳转
                isNext && this.openPage(mergeConfig);_context.next = 17;break;case 16:

                this.openPage(mergeConfig);case 17:case "end":return _context.stop();}}}, _callee, this);}));function route() {return _route.apply(this, arguments);}return route;}()



    // 执行路由跳转
  }, { key: "openPage", value: function openPage(config) {
      // 解构参数
      var
      url =




      config.url,type = config.type,delta = config.delta,animationType = config.animationType,animationDuration = config.animationDuration;
      if (config.type == 'navigateTo' || config.type == 'to') {
        uni.navigateTo({
          url: url,
          animationType: animationType,
          animationDuration: animationDuration });

      }
      if (config.type == 'redirectTo' || config.type == 'redirect') {
        uni.redirectTo({
          url: url });

      }
      if (config.type == 'switchTab' || config.type == 'tab') {
        uni.switchTab({
          url: url });

      }
      if (config.type == 'reLaunch' || config.type == 'launch') {
        uni.reLaunch({
          url: url });

      }
      if (config.type == 'navigateBack' || config.type == 'back') {
        uni.navigateBack({
          delta: delta });

      }
    } }]);return Router;}();var _default =


new Router().route;exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 40 */
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! regenerator-runtime */ 41);

/***/ }),
/* 41 */
/*!************************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime-module.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g = (function() {
  return this || (typeof self === "object" && self);
})() || Function("return this")();

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = __webpack_require__(/*! ./runtime */ 42);

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}


/***/ }),
/* 42 */
/*!*****************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // In sloppy mode, unbound `this` refers to the global object, fallback to
  // Function constructor if we're in global strict mode. That is sadly a form
  // of indirect eval which violates Content Security Policy.
  (function() {
    return this || (typeof self === "object" && self);
  })() || Function("return this")()
);


/***/ }),
/* 43 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/function/colorGradient.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /**
                                                                                                      * 求两个颜色之间的渐变值
                                                                                                      * @param {string} startColor 开始的颜色
                                                                                                      * @param {string} endColor 结束的颜色
                                                                                                      * @param {number} step 颜色等分的份额
                                                                                                      * */
function colorGradient() {var startColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rgb(0, 0, 0)';var endColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'rgb(255, 255, 255)';var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;
  var startRGB = hexToRgb(startColor, false); // 转换为rgb数组模式
  var startR = startRGB[0];
  var startG = startRGB[1];
  var startB = startRGB[2];

  var endRGB = hexToRgb(endColor, false);
  var endR = endRGB[0];
  var endG = endRGB[1];
  var endB = endRGB[2];

  var sR = (endR - startR) / step; // 总差值
  var sG = (endG - startG) / step;
  var sB = (endB - startB) / step;
  var colorArr = [];
  for (var i = 0; i < step; i++) {
    // 计算每一步的hex值
    var hex = rgbToHex("rgb(".concat(Math.round(sR * i + startR), ",").concat(Math.round(sG * i + startG), ",").concat(Math.round(sB *
    i + startB), ")"));
    // 确保第一个颜色值为startColor的值
    if (i === 0) hex = rgbToHex(startColor);
    // 确保最后一个颜色值为endColor的值
    if (i === step - 1) hex = rgbToHex(endColor);
    colorArr.push(hex);
  }
  return colorArr;
}

// 将hex表示方式转换为rgb表示方式(这里返回rgb数组模式)
function hexToRgb(sColor) {var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
  sColor = String(sColor).toLowerCase();
  if (sColor && reg.test(sColor)) {
    if (sColor.length === 4) {
      var sColorNew = '#';
      for (var i = 1; i < 4; i += 1) {
        sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));
      }
      sColor = sColorNew;
    }
    // 处理六位的颜色值
    var sColorChange = [];
    for (var _i = 1; _i < 7; _i += 2) {
      sColorChange.push(parseInt("0x".concat(sColor.slice(_i, _i + 2))));
    }
    if (!str) {
      return sColorChange;
    }
    return "rgb(".concat(sColorChange[0], ",").concat(sColorChange[1], ",").concat(sColorChange[2], ")");
  }if (/^(rgb|RGB)/.test(sColor)) {
    var arr = sColor.replace(/(?:\(|\)|rgb|RGB)*/g, '').split(',');
    return arr.map(function (val) {return Number(val);});
  }
  return sColor;
}

// 将rgb表示方式转换为hex表示方式
function rgbToHex(rgb) {
  var _this = rgb;
  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
  if (/^(rgb|RGB)/.test(_this)) {
    var aColor = _this.replace(/(?:\(|\)|rgb|RGB)*/g, '').split(',');
    var strHex = '#';
    for (var i = 0; i < aColor.length; i++) {
      var hex = Number(aColor[i]).toString(16);
      hex = String(hex).length == 1 ? "".concat(0, hex) : hex; // 保证每个rgb的值为2位
      if (hex === '0') {
        hex += hex;
      }
      strHex += hex;
    }
    if (strHex.length !== 7) {
      strHex = _this;
    }
    return strHex;
  }if (reg.test(_this)) {
    var aNum = _this.replace(/#/, '').split('');
    if (aNum.length === 6) {
      return _this;
    }if (aNum.length === 3) {
      var numHex = '#';
      for (var _i2 = 0; _i2 < aNum.length; _i2 += 1) {
        numHex += aNum[_i2] + aNum[_i2];
      }
      return numHex;
    }
  } else {
    return _this;
  }
}

/**
  * JS颜色十六进制转换为rgb或rgba,返回的格式为 rgba（255，255，255，0.5）字符串
  * sHex为传入的十六进制的色值
  * alpha为rgba的透明度
  */
function colorToRgba(color, alpha) {
  color = rgbToHex(color);
  // 十六进制颜色值的正则表达式
  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
  /* 16进制颜色转为RGB格式 */
  var sColor = String(color).toLowerCase();
  if (sColor && reg.test(sColor)) {
    if (sColor.length === 4) {
      var sColorNew = '#';
      for (var i = 1; i < 4; i += 1) {
        sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));
      }
      sColor = sColorNew;
    }
    // 处理六位的颜色值
    var sColorChange = [];
    for (var _i3 = 1; _i3 < 7; _i3 += 2) {
      sColorChange.push(parseInt("0x".concat(sColor.slice(_i3, _i3 + 2))));
    }
    // return sColorChange.join(',')
    return "rgba(".concat(sColorChange.join(','), ",").concat(alpha, ")");
  }

  return sColor;
}var _default =

{
  colorGradient: colorGradient,
  hexToRgb: hexToRgb,
  rgbToHex: rgbToHex,
  colorToRgba: colorToRgba };exports.default = _default;

/***/ }),
/* 44 */
/*!******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/function/test.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /**
                                                                                                      * 验证电子邮箱格式
                                                                                                      */
function email(value) {
  return /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(value);
}

/**
   * 验证手机格式
   */
function mobile(value) {
  return /^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(value);
}

/**
   * 验证URL格式
   */
function url(value) {
  return /^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.
  test(value);
}

/**
   * 验证日期格式
   */
function date(value) {
  if (!value) return false;
  // 判断是否数值或者字符串数值(意味着为时间戳)，转为数值，否则new Date无法识别字符串时间戳
  if (number(value)) value = +value;
  return !/Invalid|NaN/.test(new Date(value).toString());
}

/**
   * 验证ISO类型的日期格式
   */
function dateISO(value) {
  return /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);
}

/**
   * 验证十进制数字
   */
function number(value) {
  return /^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(value);
}

/**
   * 验证字符串
   */
function string(value) {
  return typeof value === 'string';
}

/**
   * 验证整数
   */
function digits(value) {
  return /^\d+$/.test(value);
}

/**
   * 验证身份证号码
   */
function idCard(value) {
  return /^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(
  value);

}

/**
   * 是否车牌号
   */
function carNo(value) {
  // 新能源车牌
  var xreg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/;
  // 旧车牌
  var creg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;
  if (value.length === 7) {
    return creg.test(value);
  }if (value.length === 8) {
    return xreg.test(value);
  }
  return false;
}

/**
   * 金额,只允许2位小数
   */
function amount(value) {
  // 金额，只允许保留两位小数
  return /^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(value);
}

/**
   * 中文
   */
function chinese(value) {
  var reg = /^[\u4e00-\u9fa5]+$/gi;
  return reg.test(value);
}

/**
   * 只能输入字母
   */
function letter(value) {
  return /^[a-zA-Z]*$/.test(value);
}

/**
   * 只能是字母或者数字
   */
function enOrNum(value) {
  // 英文或者数字
  var reg = /^[0-9a-zA-Z]*$/g;
  return reg.test(value);
}

/**
   * 验证是否包含某个值
   */
function contains(value, param) {
  return value.indexOf(param) >= 0;
}

/**
   * 验证一个值范围[min, max]
   */
function range(value, param) {
  return value >= param[0] && value <= param[1];
}

/**
   * 验证一个长度范围[min, max]
   */
function rangeLength(value, param) {
  return value.length >= param[0] && value.length <= param[1];
}

/**
   * 是否固定电话
   */
function landline(value) {
  var reg = /^\d{3,4}-\d{7,8}(-\d{3,4})?$/;
  return reg.test(value);
}

/**
   * 判断是否为空
   */
function empty(value) {
  switch (typeof value) {
    case 'undefined':
      return true;
    case 'string':
      if (value.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g, '').length == 0) return true;
      break;
    case 'boolean':
      if (!value) return true;
      break;
    case 'number':
      if (value === 0 || isNaN(value)) return true;
      break;
    case 'object':
      if (value === null || value.length === 0) return true;
      for (var i in value) {
        return false;
      }
      return true;}

  return false;
}

/**
   * 是否json字符串
   */
function jsonString(value) {
  if (typeof value === 'string') {
    try {
      var obj = JSON.parse(value);
      if (typeof obj === 'object' && obj) {
        return true;
      }
      return false;
    } catch (e) {
      return false;
    }
  }
  return false;
}

/**
   * 是否数组
   */
function array(value) {
  if (typeof Array.isArray === 'function') {
    return Array.isArray(value);
  }
  return Object.prototype.toString.call(value) === '[object Array]';
}

/**
   * 是否对象
   */
function object(value) {
  return Object.prototype.toString.call(value) === '[object Object]';
}

/**
   * 是否短信验证码
   */
function code(value) {var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;
  return new RegExp("^\\d{".concat(len, "}$")).test(value);
}

/**
   * 是否函数方法
   * @param {Object} value
   */
function func(value) {
  return typeof value === 'function';
}

/**
   * 是否promise对象
   * @param {Object} value
   */
function promise(value) {
  return object(value) && func(value.then) && func(value.catch);
}

/** 是否图片格式
   * @param {Object} value
   */
function image(value) {
  var newValue = value.split('?')[0];
  var IMAGE_REGEXP = /\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;
  return IMAGE_REGEXP.test(newValue);
}

/**
   * 是否视频格式
   * @param {Object} value
   */
function video(value) {
  var VIDEO_REGEXP = /\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i;
  return VIDEO_REGEXP.test(value);
}

/**
   * 是否为正则对象
   * @param {Object}
   * @return {Boolean}
   */
function regExp(o) {
  return o && Object.prototype.toString.call(o) === '[object RegExp]';
}var _default =

{
  email: email,
  mobile: mobile,
  url: url,
  date: date,
  dateISO: dateISO,
  number: number,
  digits: digits,
  idCard: idCard,
  carNo: carNo,
  amount: amount,
  chinese: chinese,
  letter: letter,
  enOrNum: enOrNum,
  contains: contains,
  range: range,
  rangeLength: rangeLength,
  empty: empty,
  isEmpty: empty,
  jsonString: jsonString,
  landline: landline,
  object: object,
  array: array,
  code: code,
  func: func,
  promise: promise,
  video: video,
  image: image,
  regExp: regExp,
  string: string };exports.default = _default;

/***/ }),
/* 45 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/function/debounce.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var timeout = null;

/**
                                                                                                                         * 防抖原理：一定时间内，只有最后一次操作，再过wait毫秒后才执行函数
                                                                                                                         *
                                                                                                                         * @param {Function} func 要执行的回调函数
                                                                                                                         * @param {Number} wait 延时的时间
                                                                                                                         * @param {Boolean} immediate 是否立即执行
                                                                                                                         * @return null
                                                                                                                         */
function debounce(func) {var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  // 清除定时器
  if (timeout !== null) clearTimeout(timeout);
  // 立即执行，此类情况一般用不到
  if (immediate) {
    var callNow = !timeout;
    timeout = setTimeout(function () {
      timeout = null;
    }, wait);
    if (callNow) typeof func === 'function' && func();
  } else {
    // 设置定时器，当最后一次操作后，timeout不会再被清除，所以在延时wait毫秒后执行func回调方法
    timeout = setTimeout(function () {
      typeof func === 'function' && func();
    }, wait);
  }
}var _default =

debounce;exports.default = _default;

/***/ }),
/* 46 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/function/throttle.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var timer;var
flag;
/**
       * 节流原理：在一定时间内，只能触发一次
       *
       * @param {Function} func 要执行的回调函数
       * @param {Number} wait 延时的时间
       * @param {Boolean} immediate 是否立即执行
       * @return null
       */
function throttle(func) {var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  if (immediate) {
    if (!flag) {
      flag = true;
      // 如果是立即执行，则在wait毫秒内开始时执行
      typeof func === 'function' && func();
      timer = setTimeout(function () {
        flag = false;
      }, wait);
    }
  } else if (!flag) {
    flag = true;
    // 如果是非立即执行，则在wait毫秒内的结束处执行
    timer = setTimeout(function () {
      flag = false;
      typeof func === 'function' && func();
    }, wait);
  }
}var _default =
throttle;exports.default = _default;

/***/ }),
/* 47 */
/*!*******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/function/index.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _test = _interopRequireDefault(__webpack_require__(/*! ./test.js */ 44));
var _digit = __webpack_require__(/*! ./digit.js */ 48);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _slicedToArray(arr, i) {return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();}function _nonIterableRest() {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}function _iterableToArrayLimit(arr, i) {if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"] != null) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}function _arrayWithHoles(arr) {if (Array.isArray(arr)) return arr;}
/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * @description 如果value小于min，取min；如果value大于max，取max
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * @param {number} min 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * @param {number} max 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * @param {number} value
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             */
function range() {var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  return Math.max(min, Math.min(max, Number(value)));
}

/**
   * @description 用于获取用户传递值的px值  如果用户传递了"xxpx"或者"xxrpx"，取出其数值部分，如果是"xxxrpx"还需要用过uni.upx2px进行转换
   * @param {number|string} value 用户传递值的px值
   * @param {boolean} unit 
   * @returns {number|string}
   */
function getPx(value) {var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (_test.default.number(value)) {
    return unit ? "".concat(value, "px") : Number(value);
  }
  // 如果带有rpx，先取出其数值部分，再转为px值
  if (/(rpx|upx)$/.test(value)) {
    return unit ? "".concat(uni.upx2px(parseInt(value)), "px") : Number(uni.upx2px(parseInt(value)));
  }
  return unit ? "".concat(parseInt(value), "px") : parseInt(value);
}

/**
   * @description 进行延时，以达到可以简写代码的目的 比如: await uni.$u.sleep(20)将会阻塞20ms
   * @param {number} value 堵塞时间 单位ms 毫秒
   * @returns {Promise} 返回promise
   */
function sleep() {var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;
  return new Promise(function (resolve) {
    setTimeout(function () {
      resolve();
    }, value);
  });
}
/**
   * @description 运行期判断平台
   * @returns {string} 返回所在平台(小写) 
   * @link 运行期判断平台 https://uniapp.dcloud.io/frame?id=判断平台
   */
function os() {
  return uni.getSystemInfoSync().platform.toLowerCase();
}
/**
   * @description 获取系统信息同步接口
   * @link 获取系统信息同步接口 https://uniapp.dcloud.io/api/system/info?id=getsysteminfosync 
   */
function sys() {
  return uni.getSystemInfoSync();
}

/**
   * @description 取一个区间数
   * @param {Number} min 最小值
   * @param {Number} max 最大值
   */
function random(min, max) {
  if (min >= 0 && max > 0 && max >= min) {
    var gab = max - min + 1;
    return Math.floor(Math.random() * gab + min);
  }
  return 0;
}

/**
   * @param {Number} len uuid的长度
   * @param {Boolean} firstU 将返回的首字母置为"u"
   * @param {Nubmer} radix 生成uuid的基数(意味着返回的字符串都是这个基数),2-二进制,8-八进制,10-十进制,16-十六进制
   */
function guid() {var len = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;var firstU = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;var radix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
  var uuid = [];
  radix = radix || chars.length;

  if (len) {
    // 如果指定uuid长度,只是取随机的字符,0|x为位运算,能去掉x的小数位,返回整数位
    for (var i = 0; i < len; i++) {uuid[i] = chars[0 | Math.random() * radix];}
  } else {
    var r;
    // rfc4122标准要求返回的uuid中,某些位为固定的字符
    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
    uuid[14] = '4';

    for (var _i = 0; _i < 36; _i++) {
      if (!uuid[_i]) {
        r = 0 | Math.random() * 16;
        uuid[_i] = chars[_i == 19 ? r & 0x3 | 0x8 : r];
      }
    }
  }
  // 移除第一个字符,并用u替代,因为第一个字符为数值时,该guuid不能用作id或者class
  if (firstU) {
    uuid.shift();
    return "u".concat(uuid.join(''));
  }
  return uuid.join('');
}

/**
  * @description 获取父组件的参数，因为支付宝小程序不支持provide/inject的写法
     this.$parent在非H5中，可以准确获取到父组件，但是在H5中，需要多次this.$parent.$parent.xxx
     这里默认值等于undefined有它的含义，因为最顶层元素(组件)的$parent就是undefined，意味着不传name
     值(默认为undefined)，就是查找最顶层的$parent
  *  @param {string|undefined} name 父组件的参数名
  */
function $parent() {var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;
  var parent = this.$parent;
  // 通过while历遍，这里主要是为了H5需要多层解析的问题
  while (parent) {
    // 父组件
    if (parent.$options && parent.$options.name !== name) {
      // 如果组件的name不相等，继续上一级寻找
      parent = parent.$parent;
    } else {
      return parent;
    }
  }
  return false;
}

/**
   * @description 样式转换
   * 对象转字符串，或者字符串转对象
   * @param {object | string} customStyle 需要转换的目标
   * @param {String} target 转换的目的，object-转为对象，string-转为字符串
   * @returns {object|string}
   */
function addStyle(customStyle) {var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'object';
  // 字符串转字符串，对象转对象情形，直接返回
  if (_test.default.empty(customStyle) || typeof customStyle === 'object' && target === 'object' || target === 'string' &&
  typeof customStyle === 'string') {
    return customStyle;
  }
  // 字符串转对象
  if (target === 'object') {
    // 去除字符串样式中的两端空格(中间的空格不能去掉，比如padding: 20px 0如果去掉了就错了)，空格是无用的
    customStyle = trim(customStyle);
    // 根据";"将字符串转为数组形式
    var styleArray = customStyle.split(';');
    var style = {};
    // 历遍数组，拼接成对象
    for (var i = 0; i < styleArray.length; i++) {
      // 'font-size:20px;color:red;'，如此最后字符串有";"的话，会导致styleArray最后一个元素为空字符串，这里需要过滤
      if (styleArray[i]) {
        var item = styleArray[i].split(':');
        style[trim(item[0])] = trim(item[1]);
      }
    }
    return style;
  }
  // 这里为对象转字符串形式
  var string = '';
  for (var _i2 in customStyle) {
    // 驼峰转为中划线的形式，否则css内联样式，无法识别驼峰样式属性名
    var key = _i2.replace(/([A-Z])/g, '-$1').toLowerCase();
    string += "".concat(key, ":").concat(customStyle[_i2], ";");
  }
  // 去除两端空格
  return trim(string);
}

/**
   * @description 添加单位，如果有rpx，upx，%，px等单位结尾或者值为auto，直接返回，否则加上px单位结尾
   * @param {string|number} value 需要添加单位的值
   * @param {string} unit 添加的单位名 比如px
   */
function addUnit() {var _uni$$u$config$unit, _uni, _uni$$u, _uni$$u$config;var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'auto';var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_uni$$u$config$unit = (_uni = uni) === null || _uni === void 0 ? void 0 : (_uni$$u = _uni.$u) === null || _uni$$u === void 0 ? void 0 : (_uni$$u$config = _uni$$u.config) === null || _uni$$u$config === void 0 ? void 0 : _uni$$u$config.unit) !== null && _uni$$u$config$unit !== void 0 ? _uni$$u$config$unit : 'px';
  value = String(value);
  // 用uView内置验证规则中的number判断是否为数值
  return _test.default.number(value) ? "".concat(value).concat(unit) : value;
}

/**
   * @description 深度克隆
   * @param {object} obj 需要深度克隆的对象
   * @returns {*} 克隆后的对象或者原值（不是对象）
   */
function deepClone(obj) {
  // 对常见的“非”值，直接返回原来值
  if ([null, undefined, NaN, false].includes(obj)) return obj;
  if (typeof obj !== 'object' && typeof obj !== 'function') {
    // 原始类型直接返回
    return obj;
  }
  var o = _test.default.array(obj) ? [] : {};
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      o[i] = typeof obj[i] === 'object' ? deepClone(obj[i]) : obj[i];
    }
  }
  return o;
}

/**
   * @description JS对象深度合并
   * @param {object} target 需要拷贝的对象
   * @param {object} source 拷贝的来源对象
   * @returns {object|boolean} 深度合并后的对象或者false（入参有不是对象）
   */
function deepMerge() {var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  target = deepClone(target);
  if (typeof target !== 'object' || typeof source !== 'object') return false;
  for (var prop in source) {
    if (!source.hasOwnProperty(prop)) continue;
    if (prop in target) {
      if (typeof target[prop] !== 'object') {
        target[prop] = source[prop];
      } else if (typeof source[prop] !== 'object') {
        target[prop] = source[prop];
      } else if (target[prop].concat && source[prop].concat) {
        target[prop] = target[prop].concat(source[prop]);
      } else {
        target[prop] = deepMerge(target[prop], source[prop]);
      }
    } else {
      target[prop] = source[prop];
    }
  }
  return target;
}

/**
   * @description error提示
   * @param {*} err 错误内容
   */
function error(err) {
  // 开发环境才提示，生产环境不会提示
  if (true) {
    console.error("uView\u63D0\u793A\uFF1A".concat(err));
  }
}

/**
   * @description 打乱数组
   * @param {array} array 需要打乱的数组
   * @returns {array} 打乱后的数组
   */
function randomArray() {var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  // 原理是sort排序,Math.random()产生0<= x < 1之间的数,会导致x-0.05大于或者小于0
  return array.sort(function () {return Math.random() - 0.5;});
}

// padStart 的 polyfill，因为某些机型或情况，还无法支持es7的padStart，比如电脑版的微信小程序
// 所以这里做一个兼容polyfill的兼容处理
if (!String.prototype.padStart) {
  // 为了方便表示这里 fillString 用了ES6 的默认参数，不影响理解
  String.prototype.padStart = function (maxLength) {var fillString = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ' ';
    if (Object.prototype.toString.call(fillString) !== '[object String]') {
      throw new TypeError(
      'fillString must be String');

    }
    var str = this;
    // 返回 String(str) 这里是为了使返回的值是字符串字面量，在控制台中更符合直觉
    if (str.length >= maxLength) return String(str);

    var fillLength = maxLength - str.length;
    var times = Math.ceil(fillLength / fillString.length);
    while (times >>= 1) {
      fillString += fillString;
      if (times === 1) {
        fillString += fillString;
      }
    }
    return fillString.slice(0, fillLength) + str;
  };
}

/**
   * @description 格式化时间
   * @param {String|Number} dateTime 需要格式化的时间戳
   * @param {String} fmt 格式化规则 yyyy:mm:dd|yyyy:mm|yyyy年mm月dd日|yyyy年mm月dd日 hh时MM分等,可自定义组合 默认yyyy-mm-dd
   * @returns {string} 返回格式化后的字符串
   */
function timeFormat() {var dateTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;var formatStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'yyyy-mm-dd';
  var date;
  // 若传入时间为假值，则取当前时间
  if (!dateTime) {
    date = new Date();
  }
  // 若为unix秒时间戳，则转为毫秒时间戳（逻辑有点奇怪，但不敢改，以保证历史兼容）
  else if (/^\d{10}$/.test(dateTime === null || dateTime === void 0 ? void 0 : dateTime.toString().trim())) {
      date = new Date(dateTime * 1000);
    }
    // 若用户传入字符串格式时间戳，new Date无法解析，需做兼容
    else if (typeof dateTime === 'string' && /^\d+$/.test(dateTime.trim())) {
        date = new Date(Number(dateTime));
      }
      // 处理平台性差异，在Safari/Webkit中，new Date仅支持/作为分割符的字符串时间
      // 处理 '2022-07-10 01:02:03'，跳过 '2022-07-10T01:02:03'
      else if (typeof dateTime === 'string' && dateTime.includes('-') && !dateTime.includes('T')) {
          date = new Date(dateTime.replace(/-/g, '/'));
        }
        // 其他都认为符合 RFC 2822 规范
        else {
            date = new Date(dateTime);
          }

  var timeSource = {
    'y': date.getFullYear().toString(), // 年
    'm': (date.getMonth() + 1).toString().padStart(2, '0'), // 月
    'd': date.getDate().toString().padStart(2, '0'), // 日
    'h': date.getHours().toString().padStart(2, '0'), // 时
    'M': date.getMinutes().toString().padStart(2, '0'), // 分
    's': date.getSeconds().toString().padStart(2, '0') // 秒
    // 有其他格式化字符需求可以继续添加，必须转化成字符串
  };

  for (var key in timeSource) {var _ref =
    new RegExp("".concat(key, "+")).exec(formatStr) || [],_ref2 = _slicedToArray(_ref, 1),ret = _ref2[0];
    if (ret) {
      // 年可能只需展示两位
      var beginIndex = key === 'y' && ret.length === 2 ? 2 : 0;
      formatStr = formatStr.replace(ret, timeSource[key].slice(beginIndex));
    }
  }

  return formatStr;
}

/**
   * @description 时间戳转为多久之前
   * @param {String|Number} timestamp 时间戳
   * @param {String|Boolean} format 
   * 格式化规则如果为时间格式字符串，超出一定时间范围，返回固定的时间格式；
   * 如果为布尔值false，无论什么时间，都返回多久以前的格式
   * @returns {string} 转化后的内容
   */
function timeFrom() {var timestamp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'yyyy-mm-dd';
  if (timestamp == null) timestamp = Number(new Date());
  timestamp = parseInt(timestamp);
  // 判断用户输入的时间戳是秒还是毫秒,一般前端js获取的时间戳是毫秒(13位),后端传过来的为秒(10位)
  if (timestamp.toString().length == 10) timestamp *= 1000;
  var timer = new Date().getTime() - timestamp;
  timer = parseInt(timer / 1000);
  // 如果小于5分钟,则返回"刚刚",其他以此类推
  var tips = '';
  switch (true) {
    case timer < 300:
      tips = '刚刚';
      break;
    case timer >= 300 && timer < 3600:
      tips = "".concat(parseInt(timer / 60), "\u5206\u949F\u524D");
      break;
    case timer >= 3600 && timer < 86400:
      tips = "".concat(parseInt(timer / 3600), "\u5C0F\u65F6\u524D");
      break;
    case timer >= 86400 && timer < 2592000:
      tips = "".concat(parseInt(timer / 86400), "\u5929\u524D");
      break;
    default:
      // 如果format为false，则无论什么时间戳，都显示xx之前
      if (format === false) {
        if (timer >= 2592000 && timer < 365 * 86400) {
          tips = "".concat(parseInt(timer / (86400 * 30)), "\u4E2A\u6708\u524D");
        } else {
          tips = "".concat(parseInt(timer / (86400 * 365)), "\u5E74\u524D");
        }
      } else {
        tips = timeFormat(timestamp, format);
      }}

  return tips;
}

/**
   * @description 去除空格
   * @param String str 需要去除空格的字符串
   * @param String pos both(左右)|left|right|all 默认both
   */
function trim(str) {var pos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'both';
  str = String(str);
  if (pos == 'both') {
    return str.replace(/^\s+|\s+$/g, '');
  }
  if (pos == 'left') {
    return str.replace(/^\s*/, '');
  }
  if (pos == 'right') {
    return str.replace(/(\s*$)/g, '');
  }
  if (pos == 'all') {
    return str.replace(/\s+/g, '');
  }
  return str;
}

/**
   * @description 对象转url参数
   * @param {object} data,对象
   * @param {Boolean} isPrefix,是否自动加上"?"
   * @param {string} arrayFormat 规则 indices|brackets|repeat|comma
   */
function queryParams() {var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};var isPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;var arrayFormat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'brackets';
  var prefix = isPrefix ? '?' : '';
  var _result = [];
  if (['indices', 'brackets', 'repeat', 'comma'].indexOf(arrayFormat) == -1) arrayFormat = 'brackets';var _loop = function _loop(
  key) {
    var value = data[key];
    // 去掉为空的参数
    if (['', undefined, null].indexOf(value) >= 0) {
      return "continue";
    }
    // 如果值为数组，另行处理
    if (value.constructor === Array) {
      // e.g. {ids: [1, 2, 3]}
      switch (arrayFormat) {
        case 'indices':
          // 结果: ids[0]=1&ids[1]=2&ids[2]=3
          for (var i = 0; i < value.length; i++) {
            _result.push("".concat(key, "[").concat(i, "]=").concat(value[i]));
          }
          break;
        case 'brackets':
          // 结果: ids[]=1&ids[]=2&ids[]=3
          value.forEach(function (_value) {
            _result.push("".concat(key, "[]=").concat(_value));
          });
          break;
        case 'repeat':
          // 结果: ids=1&ids=2&ids=3
          value.forEach(function (_value) {
            _result.push("".concat(key, "=").concat(_value));
          });
          break;
        case 'comma':
          // 结果: ids=1,2,3
          var commaStr = '';
          value.forEach(function (_value) {
            commaStr += (commaStr ? ',' : '') + _value;
          });
          _result.push("".concat(key, "=").concat(commaStr));
          break;
        default:
          value.forEach(function (_value) {
            _result.push("".concat(key, "[]=").concat(_value));
          });}

    } else {
      _result.push("".concat(key, "=").concat(value));
    }};for (var key in data) {var _ret = _loop(key);if (_ret === "continue") continue;
  }
  return _result.length ? prefix + _result.join('&') : '';
}

/**
   * 显示消息提示框
   * @param {String} title 提示的内容，长度与 icon 取值有关。
   * @param {Number} duration 提示的延迟时间，单位毫秒，默认：2000
   */
function toast(title) {var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2000;
  uni.showToast({
    title: String(title),
    icon: 'none',
    duration: duration });

}

/**
   * @description 根据主题type值,获取对应的图标
   * @param {String} type 主题名称,primary|info|error|warning|success
   * @param {boolean} fill 是否使用fill填充实体的图标
   */
function type2icon() {var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'success';var fill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  // 如果非预置值,默认为success
  if (['primary', 'info', 'error', 'warning', 'success'].indexOf(type) == -1) type = 'success';
  var iconName = '';
  // 目前(2019-12-12),info和primary使用同一个图标
  switch (type) {
    case 'primary':
      iconName = 'info-circle';
      break;
    case 'info':
      iconName = 'info-circle';
      break;
    case 'error':
      iconName = 'close-circle';
      break;
    case 'warning':
      iconName = 'error-circle';
      break;
    case 'success':
      iconName = 'checkmark-circle';
      break;
    default:
      iconName = 'checkmark-circle';}

  // 是否是实体类型,加上-fill,在icon组件库中,实体的类名是后面加-fill的
  if (fill) iconName += '-fill';
  return iconName;
}

/**
   * @description 数字格式化
   * @param {number|string} number 要格式化的数字
   * @param {number} decimals 保留几位小数
   * @param {string} decimalPoint 小数点符号
   * @param {string} thousandsSeparator 千分位符号
   * @returns {string} 格式化后的数字
   */
function priceFormat(number) {var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;var decimalPoint = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';var thousandsSeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ',';
  number = "".concat(number).replace(/[^0-9+-Ee.]/g, '');
  var n = !isFinite(+number) ? 0 : +number;
  var prec = !isFinite(+decimals) ? 0 : Math.abs(decimals);
  var sep = typeof thousandsSeparator === 'undefined' ? ',' : thousandsSeparator;
  var dec = typeof decimalPoint === 'undefined' ? '.' : decimalPoint;
  var s = '';

  s = (prec ? (0, _digit.round)(n, prec) + '' : "".concat(Math.round(n))).split('.');
  var re = /(-?\d+)(\d{3})/;
  while (re.test(s[0])) {
    s[0] = s[0].replace(re, "$1".concat(sep, "$2"));
  }

  if ((s[1] || '').length < prec) {
    s[1] = s[1] || '';
    s[1] += new Array(prec - s[1].length + 1).join('0');
  }
  return s.join(dec);
}

/**
   * @description 获取duration值
   * 如果带有ms或者s直接返回，如果大于一定值，认为是ms单位，小于一定值，认为是s单位
   * 比如以30位阈值，那么300大于30，可以理解为用户想要的是300ms，而不是想花300s去执行一个动画
   * @param {String|number} value 比如: "1s"|"100ms"|1|100
   * @param {boolean} unit  提示: 如果是false 默认返回number
   * @return {string|number} 
   */
function getDuration(value) {var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var valueNum = parseInt(value);
  if (unit) {
    if (/s$/.test(value)) return value;
    return value > 30 ? "".concat(value, "ms") : "".concat(value, "s");
  }
  if (/ms$/.test(value)) return valueNum;
  if (/s$/.test(value)) return valueNum > 30 ? valueNum : valueNum * 1000;
  return valueNum;
}

/**
   * @description 日期的月或日补零操作
   * @param {String} value 需要补零的值
   */
function padZero(value) {
  return "00".concat(value).slice(-2);
}

/**
   * @description 在u-form的子组件内容发生变化，或者失去焦点时，尝试通知u-form执行校验方法
   * @param {*} instance
   * @param {*} event
   */
function formValidate(instance, event) {
  var formItem = uni.$u.$parent.call(instance, 'u-form-item');
  var form = uni.$u.$parent.call(instance, 'u-form');
  // 如果发生变化的input或者textarea等，其父组件中有u-form-item或者u-form等，就执行form的validate方法
  // 同时将form-item的pros传递给form，让其进行精确对象验证
  if (formItem && form) {
    form.validateField(formItem.prop, function () {}, event);
  }
}

/**
   * @description 获取某个对象下的属性，用于通过类似'a.b.c'的形式去获取一个对象的的属性的形式
   * @param {object} obj 对象
   * @param {string} key 需要获取的属性字段
   * @returns {*}
   */
function getProperty(obj, key) {
  if (!obj) {
    return;
  }
  if (typeof key !== 'string' || key === '') {
    return '';
  }
  if (key.indexOf('.') !== -1) {
    var keys = key.split('.');
    var firstObj = obj[keys[0]] || {};

    for (var i = 1; i < keys.length; i++) {
      if (firstObj) {
        firstObj = firstObj[keys[i]];
      }
    }
    return firstObj;
  }
  return obj[key];
}

/**
   * @description 设置对象的属性值，如果'a.b.c'的形式进行设置
   * @param {object} obj 对象
   * @param {string} key 需要设置的属性
   * @param {string} value 设置的值
   */
function setProperty(obj, key, value) {
  if (!obj) {
    return;
  }
  // 递归赋值
  var inFn = function inFn(_obj, keys, v) {
    // 最后一个属性key
    if (keys.length === 1) {
      _obj[keys[0]] = v;
      return;
    }
    // 0~length-1个key
    while (keys.length > 1) {
      var k = keys[0];
      if (!_obj[k] || typeof _obj[k] !== 'object') {
        _obj[k] = {};
      }
      var _key = keys.shift();
      // 自调用判断是否存在属性，不存在则自动创建对象
      inFn(_obj[k], keys, v);
    }
  };

  if (typeof key !== 'string' || key === '') {

  } else if (key.indexOf('.') !== -1) {// 支持多层级赋值操作
    var keys = key.split('.');
    inFn(obj, keys, value);
  } else {
    obj[key] = value;
  }
}

/**
   * @description 获取当前页面路径
   */
function page() {var _pages$route, _pages;
  var pages = getCurrentPages();
  // 某些特殊情况下(比如页面进行redirectTo时的一些时机)，pages可能为空数组
  return "/".concat((_pages$route = (_pages = pages[pages.length - 1]) === null || _pages === void 0 ? void 0 : _pages.route) !== null && _pages$route !== void 0 ? _pages$route : '');
}

/**
   * @description 获取当前路由栈实例数组
   */
function pages() {
  var pages = getCurrentPages();
  return pages;
}

/**
   * @description 修改uView内置属性值
   * @param {object} props 修改内置props属性
   * @param {object} config 修改内置config属性
   * @param {object} color 修改内置color属性
   * @param {object} zIndex 修改内置zIndex属性
   */
function setConfig(_ref3)




{var _ref3$props = _ref3.props,props = _ref3$props === void 0 ? {} : _ref3$props,_ref3$config = _ref3.config,config = _ref3$config === void 0 ? {} : _ref3$config,_ref3$color = _ref3.color,color = _ref3$color === void 0 ? {} : _ref3$color,_ref3$zIndex = _ref3.zIndex,zIndex = _ref3$zIndex === void 0 ? {} : _ref3$zIndex;var

  deepMerge =
  uni.$u.deepMerge;
  uni.$u.config = deepMerge(uni.$u.config, config);
  uni.$u.props = deepMerge(uni.$u.props, props);
  uni.$u.color = deepMerge(uni.$u.color, color);
  uni.$u.zIndex = deepMerge(uni.$u.zIndex, zIndex);
}var _default =

{
  range: range,
  getPx: getPx,
  sleep: sleep,
  os: os,
  sys: sys,
  random: random,
  guid: guid,
  $parent: $parent,
  addStyle: addStyle,
  addUnit: addUnit,
  deepClone: deepClone,
  deepMerge: deepMerge,
  error: error,
  randomArray: randomArray,
  timeFormat: timeFormat,
  timeFrom: timeFrom,
  trim: trim,
  queryParams: queryParams,
  toast: toast,
  type2icon: type2icon,
  priceFormat: priceFormat,
  getDuration: getDuration,
  padZero: padZero,
  formValidate: formValidate,
  getProperty: getProperty,
  setProperty: setProperty,
  page: page,
  pages: pages,
  setConfig: setConfig };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 48 */
/*!*******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/function/digit.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.times = times;exports.plus = plus;exports.minus = minus;exports.divide = divide;exports.round = round;exports.enableBoundaryChecking = enableBoundaryChecking;exports.default = void 0;function _toArray(arr) {return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest();}function _nonIterableRest() {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}function _iterableToArray(iter) {if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);}function _arrayWithHoles(arr) {if (Array.isArray(arr)) return arr;}var _boundaryCheckingState = true; // 是否进行越界检查的全局开关

/**
 * 把错误的数据转正
 * @private
 * @example strip(0.09999999999999998)=0.1
 */
function strip(num) {var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 15;
  return +parseFloat(Number(num).toPrecision(precision));
}

/**
   * Return digits length of a number
   * @private
   * @param {*number} num Input number
   */
function digitLength(num) {
  // Get digit length of e
  var eSplit = num.toString().split(/[eE]/);
  var len = (eSplit[0].split('.')[1] || '').length - +(eSplit[1] || 0);
  return len > 0 ? len : 0;
}

/**
   * 把小数转成整数,如果是小数则放大成整数
   * @private
   * @param {*number} num 输入数
   */
function float2Fixed(num) {
  if (num.toString().indexOf('e') === -1) {
    return Number(num.toString().replace('.', ''));
  }
  var dLen = digitLength(num);
  return dLen > 0 ? strip(Number(num) * Math.pow(10, dLen)) : Number(num);
}

/**
   * 检测数字是否越界，如果越界给出提示
   * @private
   * @param {*number} num 输入数
   */
function checkBoundary(num) {
  if (_boundaryCheckingState) {
    if (num > Number.MAX_SAFE_INTEGER || num < Number.MIN_SAFE_INTEGER) {
      console.warn("".concat(num, " \u8D85\u51FA\u4E86\u7CBE\u5EA6\u9650\u5236\uFF0C\u7ED3\u679C\u53EF\u80FD\u4E0D\u6B63\u786E"));
    }
  }
}

/**
   * 把递归操作扁平迭代化
   * @param {number[]} arr 要操作的数字数组
   * @param {function} operation 迭代操作
   * @private
   */
function iteratorOperation(arr, operation) {var _arr = _toArray(
  arr),num1 = _arr[0],num2 = _arr[1],others = _arr.slice(2);
  var res = operation(num1, num2);

  others.forEach(function (num) {
    res = operation(res, num);
  });

  return res;
}

/**
   * 高精度乘法
   * @export
   */
function times() {for (var _len = arguments.length, nums = new Array(_len), _key = 0; _key < _len; _key++) {nums[_key] = arguments[_key];}
  if (nums.length > 2) {
    return iteratorOperation(nums, times);
  }var

  num1 = nums[0],num2 = nums[1];
  var num1Changed = float2Fixed(num1);
  var num2Changed = float2Fixed(num2);
  var baseNum = digitLength(num1) + digitLength(num2);
  var leftValue = num1Changed * num2Changed;

  checkBoundary(leftValue);

  return leftValue / Math.pow(10, baseNum);
}

/**
   * 高精度加法
   * @export
   */
function plus() {for (var _len2 = arguments.length, nums = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {nums[_key2] = arguments[_key2];}
  if (nums.length > 2) {
    return iteratorOperation(nums, plus);
  }var

  num1 = nums[0],num2 = nums[1];
  // 取最大的小数位
  var baseNum = Math.pow(10, Math.max(digitLength(num1), digitLength(num2)));
  // 把小数都转为整数然后再计算
  return (times(num1, baseNum) + times(num2, baseNum)) / baseNum;
}

/**
   * 高精度减法
   * @export
   */
function minus() {for (var _len3 = arguments.length, nums = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {nums[_key3] = arguments[_key3];}
  if (nums.length > 2) {
    return iteratorOperation(nums, minus);
  }var

  num1 = nums[0],num2 = nums[1];
  var baseNum = Math.pow(10, Math.max(digitLength(num1), digitLength(num2)));
  return (times(num1, baseNum) - times(num2, baseNum)) / baseNum;
}

/**
   * 高精度除法
   * @export
   */
function divide() {for (var _len4 = arguments.length, nums = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {nums[_key4] = arguments[_key4];}
  if (nums.length > 2) {
    return iteratorOperation(nums, divide);
  }var

  num1 = nums[0],num2 = nums[1];
  var num1Changed = float2Fixed(num1);
  var num2Changed = float2Fixed(num2);
  checkBoundary(num1Changed);
  checkBoundary(num2Changed);
  // 重要，这里必须用strip进行修正
  return times(num1Changed / num2Changed, strip(Math.pow(10, digitLength(num2) - digitLength(num1))));
}

/**
   * 四舍五入
   * @export
   */
function round(num, ratio) {
  var base = Math.pow(10, ratio);
  var result = divide(Math.round(Math.abs(times(num, base))), base);
  if (num < 0 && result !== 0) {
    result = times(result, -1);
  }
  // 位数不足则补0
  return result;
}

/**
   * 是否进行边界检查，默认开启
   * @param flag 标记开关，true 为开启，false 为关闭，默认为 true
   * @export
   */
function enableBoundaryChecking() {var flag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  _boundaryCheckingState = flag;
}var _default =


{
  times: times,
  plus: plus,
  minus: minus,
  divide: divide,
  round: round,
  enableBoundaryChecking: enableBoundaryChecking };exports.default = _default;

/***/ }),
/* 49 */
/*!******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/config.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; // 此版本发布于2022-00-24
var version = '2.0.34';

// 开发环境才提示，生产环境不会提示
if (true) {
  console.log("\n %c uView V".concat(version, " %c https://uviewui.com/ \n\n"), 'color: #ffffff; background: #3c9cff; padding:5px 0; border-radius: 5px;');
}var _default =

{
  v: version,
  version: version,
  // 主题名称
  type: [
  'primary',
  'success',
  'info',
  'error',
  'warning'],

  // 颜色部分，本来可以通过scss的:export导出供js使用，但是奈何nvue不支持
  color: {
    'u-primary': '#2979ff',
    'u-warning': '#ff9900',
    'u-success': '#19be6b',
    'u-error': '#fa3534',
    'u-info': '#909399',
    'u-main-color': '#303133',
    'u-content-color': '#606266',
    'u-tips-color': '#909399',
    'u-light-color': '#c0c4cc' },

  // 默认单位，可以通过配置为rpx，那么在用于传入组件大小参数为数值时，就默认为rpx
  unit: 'px' };exports.default = _default;

/***/ }),
/* 50 */
/*!*****************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;




var _config = _interopRequireDefault(__webpack_require__(/*! ./config */ 49));

var _actionSheet = _interopRequireDefault(__webpack_require__(/*! ./props/actionSheet.js */ 51));
var _album = _interopRequireDefault(__webpack_require__(/*! ./props/album.js */ 52));
var _alert = _interopRequireDefault(__webpack_require__(/*! ./props/alert.js */ 53));
var _avatar = _interopRequireDefault(__webpack_require__(/*! ./props/avatar */ 54));
var _avatarGroup = _interopRequireDefault(__webpack_require__(/*! ./props/avatarGroup */ 55));
var _backtop = _interopRequireDefault(__webpack_require__(/*! ./props/backtop */ 56));
var _badge = _interopRequireDefault(__webpack_require__(/*! ./props/badge */ 57));
var _button = _interopRequireDefault(__webpack_require__(/*! ./props/button */ 58));
var _calendar = _interopRequireDefault(__webpack_require__(/*! ./props/calendar */ 59));
var _carKeyboard = _interopRequireDefault(__webpack_require__(/*! ./props/carKeyboard */ 60));
var _cell = _interopRequireDefault(__webpack_require__(/*! ./props/cell */ 61));
var _cellGroup = _interopRequireDefault(__webpack_require__(/*! ./props/cellGroup */ 62));
var _checkbox = _interopRequireDefault(__webpack_require__(/*! ./props/checkbox */ 63));
var _checkboxGroup = _interopRequireDefault(__webpack_require__(/*! ./props/checkboxGroup */ 64));
var _circleProgress = _interopRequireDefault(__webpack_require__(/*! ./props/circleProgress */ 65));
var _code = _interopRequireDefault(__webpack_require__(/*! ./props/code */ 66));
var _codeInput = _interopRequireDefault(__webpack_require__(/*! ./props/codeInput */ 67));
var _col = _interopRequireDefault(__webpack_require__(/*! ./props/col */ 68));
var _collapse = _interopRequireDefault(__webpack_require__(/*! ./props/collapse */ 69));
var _collapseItem = _interopRequireDefault(__webpack_require__(/*! ./props/collapseItem */ 70));
var _columnNotice = _interopRequireDefault(__webpack_require__(/*! ./props/columnNotice */ 71));
var _countDown = _interopRequireDefault(__webpack_require__(/*! ./props/countDown */ 72));
var _countTo = _interopRequireDefault(__webpack_require__(/*! ./props/countTo */ 73));
var _datetimePicker = _interopRequireDefault(__webpack_require__(/*! ./props/datetimePicker */ 74));
var _divider = _interopRequireDefault(__webpack_require__(/*! ./props/divider */ 75));
var _empty = _interopRequireDefault(__webpack_require__(/*! ./props/empty */ 76));
var _form = _interopRequireDefault(__webpack_require__(/*! ./props/form */ 77));
var _formItem = _interopRequireDefault(__webpack_require__(/*! ./props/formItem */ 78));
var _gap = _interopRequireDefault(__webpack_require__(/*! ./props/gap */ 79));
var _grid = _interopRequireDefault(__webpack_require__(/*! ./props/grid */ 80));
var _gridItem = _interopRequireDefault(__webpack_require__(/*! ./props/gridItem */ 81));
var _icon = _interopRequireDefault(__webpack_require__(/*! ./props/icon */ 82));
var _image = _interopRequireDefault(__webpack_require__(/*! ./props/image */ 83));
var _indexAnchor = _interopRequireDefault(__webpack_require__(/*! ./props/indexAnchor */ 84));
var _indexList = _interopRequireDefault(__webpack_require__(/*! ./props/indexList */ 85));
var _input = _interopRequireDefault(__webpack_require__(/*! ./props/input */ 86));
var _keyboard = _interopRequireDefault(__webpack_require__(/*! ./props/keyboard */ 87));
var _line = _interopRequireDefault(__webpack_require__(/*! ./props/line */ 88));
var _lineProgress = _interopRequireDefault(__webpack_require__(/*! ./props/lineProgress */ 89));
var _link = _interopRequireDefault(__webpack_require__(/*! ./props/link */ 90));
var _list = _interopRequireDefault(__webpack_require__(/*! ./props/list */ 91));
var _listItem = _interopRequireDefault(__webpack_require__(/*! ./props/listItem */ 92));
var _loadingIcon = _interopRequireDefault(__webpack_require__(/*! ./props/loadingIcon */ 93));
var _loadingPage = _interopRequireDefault(__webpack_require__(/*! ./props/loadingPage */ 94));
var _loadmore = _interopRequireDefault(__webpack_require__(/*! ./props/loadmore */ 95));
var _modal = _interopRequireDefault(__webpack_require__(/*! ./props/modal */ 96));
var _navbar = _interopRequireDefault(__webpack_require__(/*! ./props/navbar */ 97));
var _noNetwork = _interopRequireDefault(__webpack_require__(/*! ./props/noNetwork */ 99));
var _noticeBar = _interopRequireDefault(__webpack_require__(/*! ./props/noticeBar */ 100));
var _notify = _interopRequireDefault(__webpack_require__(/*! ./props/notify */ 101));
var _numberBox = _interopRequireDefault(__webpack_require__(/*! ./props/numberBox */ 102));
var _numberKeyboard = _interopRequireDefault(__webpack_require__(/*! ./props/numberKeyboard */ 103));
var _overlay = _interopRequireDefault(__webpack_require__(/*! ./props/overlay */ 104));
var _parse = _interopRequireDefault(__webpack_require__(/*! ./props/parse */ 105));
var _picker = _interopRequireDefault(__webpack_require__(/*! ./props/picker */ 106));
var _popup = _interopRequireDefault(__webpack_require__(/*! ./props/popup */ 107));
var _radio = _interopRequireDefault(__webpack_require__(/*! ./props/radio */ 108));
var _radioGroup = _interopRequireDefault(__webpack_require__(/*! ./props/radioGroup */ 109));
var _rate = _interopRequireDefault(__webpack_require__(/*! ./props/rate */ 110));
var _readMore = _interopRequireDefault(__webpack_require__(/*! ./props/readMore */ 111));
var _row = _interopRequireDefault(__webpack_require__(/*! ./props/row */ 112));
var _rowNotice = _interopRequireDefault(__webpack_require__(/*! ./props/rowNotice */ 113));
var _scrollList = _interopRequireDefault(__webpack_require__(/*! ./props/scrollList */ 114));
var _search = _interopRequireDefault(__webpack_require__(/*! ./props/search */ 115));
var _section = _interopRequireDefault(__webpack_require__(/*! ./props/section */ 116));
var _skeleton = _interopRequireDefault(__webpack_require__(/*! ./props/skeleton */ 117));
var _slider = _interopRequireDefault(__webpack_require__(/*! ./props/slider */ 118));
var _statusBar = _interopRequireDefault(__webpack_require__(/*! ./props/statusBar */ 119));
var _steps = _interopRequireDefault(__webpack_require__(/*! ./props/steps */ 120));
var _stepsItem = _interopRequireDefault(__webpack_require__(/*! ./props/stepsItem */ 121));
var _sticky = _interopRequireDefault(__webpack_require__(/*! ./props/sticky */ 122));
var _subsection = _interopRequireDefault(__webpack_require__(/*! ./props/subsection */ 123));
var _swipeAction = _interopRequireDefault(__webpack_require__(/*! ./props/swipeAction */ 124));
var _swipeActionItem = _interopRequireDefault(__webpack_require__(/*! ./props/swipeActionItem */ 125));
var _swiper = _interopRequireDefault(__webpack_require__(/*! ./props/swiper */ 126));
var _swipterIndicator = _interopRequireDefault(__webpack_require__(/*! ./props/swipterIndicator */ 127));
var _switch2 = _interopRequireDefault(__webpack_require__(/*! ./props/switch */ 128));
var _tabbar = _interopRequireDefault(__webpack_require__(/*! ./props/tabbar */ 129));
var _tabbarItem = _interopRequireDefault(__webpack_require__(/*! ./props/tabbarItem */ 130));
var _tabs = _interopRequireDefault(__webpack_require__(/*! ./props/tabs */ 131));
var _tag = _interopRequireDefault(__webpack_require__(/*! ./props/tag */ 132));
var _text = _interopRequireDefault(__webpack_require__(/*! ./props/text */ 133));
var _textarea = _interopRequireDefault(__webpack_require__(/*! ./props/textarea */ 134));
var _toast = _interopRequireDefault(__webpack_require__(/*! ./props/toast */ 135));
var _toolbar = _interopRequireDefault(__webpack_require__(/*! ./props/toolbar */ 136));
var _tooltip = _interopRequireDefault(__webpack_require__(/*! ./props/tooltip */ 137));
var _transition = _interopRequireDefault(__webpack_require__(/*! ./props/transition */ 138));
var _upload = _interopRequireDefault(__webpack_require__(/*! ./props/upload */ 139));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var


color =
_config.default.color;var _default = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},


_actionSheet.default),
_album.default),
_alert.default),
_avatar.default),
_avatarGroup.default),
_backtop.default),
_badge.default),
_button.default),
_calendar.default),
_carKeyboard.default),
_cell.default),
_cellGroup.default),
_checkbox.default),
_checkboxGroup.default),
_circleProgress.default),
_code.default),
_codeInput.default),
_col.default),
_collapse.default),
_collapseItem.default),
_columnNotice.default),
_countDown.default),
_countTo.default),
_datetimePicker.default),
_divider.default),
_empty.default),
_form.default),
_formItem.default),
_gap.default),
_grid.default),
_gridItem.default),
_icon.default),
_image.default),
_indexAnchor.default),
_indexList.default),
_input.default),
_keyboard.default),
_line.default),
_lineProgress.default),
_link.default),
_list.default),
_listItem.default),
_loadingIcon.default),
_loadingPage.default),
_loadmore.default),
_modal.default),
_navbar.default),
_noNetwork.default),
_noticeBar.default),
_notify.default),
_numberBox.default),
_numberKeyboard.default),
_overlay.default),
_parse.default),
_picker.default),
_popup.default),
_radio.default),
_radioGroup.default),
_rate.default),
_readMore.default),
_row.default),
_rowNotice.default),
_scrollList.default),
_search.default),
_section.default),
_skeleton.default),
_slider.default),
_statusBar.default),
_steps.default),
_stepsItem.default),
_sticky.default),
_subsection.default),
_swipeAction.default),
_swipeActionItem.default),
_swiper.default),
_swipterIndicator.default),
_switch2.default),
_tabbar.default),
_tabbarItem.default),
_tabs.default),
_tag.default),
_text.default),
_textarea.default),
_toast.default),
_toolbar.default),
_tooltip.default),
_transition.default),
_upload.default);exports.default = _default;

/***/ }),
/* 51 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/actionSheet.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:44:35
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/actionSheet.js
                                                                                                      */var _default =
{
  // action-sheet组件
  actionSheet: {
    show: false,
    title: '',
    description: '',
    actions: function actions() {return [];},
    index: '',
    cancelText: '',
    closeOnClickAction: true,
    safeAreaInsetBottom: true,
    openType: '',
    closeOnClickOverlay: true,
    round: 0 } };exports.default = _default;

/***/ }),
/* 52 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/album.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:47:24
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/album.js
                                                                                                      */var _default =
{
  // album 组件
  album: {
    urls: function urls() {return [];},
    keyName: '',
    singleSize: 180,
    multipleSize: 70,
    space: 6,
    singleMode: 'scaleToFill',
    multipleMode: 'aspectFill',
    maxCount: 9,
    previewFullImage: true,
    rowCount: 3,
    showMore: true } };exports.default = _default;

/***/ }),
/* 53 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/alert.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:48:53
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/alert.js
                                                                                                      */var _default =
{
  // alert警告组件
  alert: {
    title: '',
    type: 'warning',
    description: '',
    closable: false,
    showIcon: false,
    effect: 'light',
    center: false,
    fontSize: 14 } };exports.default = _default;

/***/ }),
/* 54 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/avatar.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:49:22
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/avatar.js
                                                                                                      */var _default =
{
  // avatar 组件
  avatar: {
    src: '',
    shape: 'circle',
    size: 40,
    mode: 'scaleToFill',
    text: '',
    bgColor: '#c0c4cc',
    color: '#ffffff',
    fontSize: 18,
    icon: '',
    mpAvatar: false,
    randomBgColor: false,
    defaultUrl: '',
    colorIndex: '',
    name: '' } };exports.default = _default;

/***/ }),
/* 55 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/avatarGroup.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:49:55
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/avatarGroup.js
                                                                                                      */var _default =
{
  // avatarGroup 组件
  avatarGroup: {
    urls: function urls() {return [];},
    maxCount: 5,
    shape: 'circle',
    mode: 'scaleToFill',
    showMore: true,
    size: 40,
    keyName: '',
    gap: 0.5,
    extraValue: 0 } };exports.default = _default;

/***/ }),
/* 56 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/backtop.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:50:18
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/backtop.js
                                                                                                      */var _default =
{
  // backtop组件
  backtop: {
    mode: 'circle',
    icon: 'arrow-upward',
    text: '',
    duration: 100,
    scrollTop: 0,
    top: 400,
    bottom: 100,
    right: 20,
    zIndex: 9,
    iconStyle: function iconStyle() {return {
        color: '#909399',
        fontSize: '19px' };} } };exports.default = _default;

/***/ }),
/* 57 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/badge.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-23 19:51:50
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/badge.js
                                                                                                      */var _default =
{
  // 徽标数组件
  badge: {
    isDot: false,
    value: '',
    show: true,
    max: 999,
    type: 'error',
    showZero: false,
    bgColor: null,
    color: null,
    shape: 'circle',
    numberType: 'overflow',
    offset: function offset() {return [];},
    inverted: false,
    absolute: false } };exports.default = _default;

/***/ }),
/* 58 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/button.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:51:27
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/button.js
                                                                                                      */var _default =
{
  // button组件
  button: {
    hairline: false,
    type: 'info',
    size: 'normal',
    shape: 'square',
    plain: false,
    disabled: false,
    loading: false,
    loadingText: '',
    loadingMode: 'spinner',
    loadingSize: 15,
    openType: '',
    formType: '',
    appParameter: '',
    hoverStopPropagation: true,
    lang: 'en',
    sessionFrom: '',
    sendMessageTitle: '',
    sendMessagePath: '',
    sendMessageImg: '',
    showMessageCard: false,
    dataName: '',
    throttleTime: 0,
    hoverStartTime: 0,
    hoverStayTime: 200,
    text: '',
    icon: '',
    iconColor: '',
    color: '' } };exports.default = _default;

/***/ }),
/* 59 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/calendar.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:52:43
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/calendar.js
                                                                                                      */var _default =
{
  // calendar 组件
  calendar: {
    title: '日期选择',
    showTitle: true,
    showSubtitle: true,
    mode: 'single',
    startText: '开始',
    endText: '结束',
    customList: function customList() {return [];},
    color: '#3c9cff',
    minDate: 0,
    maxDate: 0,
    defaultDate: null,
    maxCount: Number.MAX_SAFE_INTEGER, // Infinity
    rowHeight: 56,
    formatter: null,
    showLunar: false,
    showMark: true,
    confirmText: '确定',
    confirmDisabledText: '确定',
    show: false,
    closeOnClickOverlay: false,
    readonly: false,
    showConfirm: true,
    maxRange: Number.MAX_SAFE_INTEGER, // Infinity
    rangePrompt: '',
    showRangePrompt: true,
    allowSameDay: false,
    round: 0,
    monthNum: 3 } };exports.default = _default;

/***/ }),
/* 60 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/carKeyboard.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:53:20
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/carKeyboard.js
                                                                                                      */var _default =
{
  // 车牌号键盘
  carKeyboard: {
    random: false } };exports.default = _default;

/***/ }),
/* 61 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/cell.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-23 20:53:09
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/cell.js
                                                                                                      */var _default =
{
  // cell组件的props
  cell: {
    customClass: '',
    title: '',
    label: '',
    value: '',
    icon: '',
    disabled: false,
    border: true,
    center: false,
    url: '',
    linkType: 'navigateTo',
    clickable: false,
    isLink: false,
    required: false,
    arrowDirection: '',
    iconStyle: {},
    rightIconStyle: {},
    rightIcon: 'arrow-right',
    titleStyle: {},
    size: '',
    stop: true,
    name: '' } };exports.default = _default;

/***/ }),
/* 62 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/cellGroup.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:54:16
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/cellGroup.js
                                                                                                      */var _default =
{
  // cell-group组件的props
  cellGroup: {
    title: '',
    border: true,
    customStyle: {} } };exports.default = _default;

/***/ }),
/* 63 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/checkbox.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-23 21:06:59
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/checkbox.js
                                                                                                      */var _default =
{
  // checkbox组件
  checkbox: {
    name: '',
    shape: '',
    size: '',
    checkbox: false,
    disabled: '',
    activeColor: '',
    inactiveColor: '',
    iconSize: '',
    iconColor: '',
    label: '',
    labelSize: '',
    labelColor: '',
    labelDisabled: '' } };exports.default = _default;

/***/ }),
/* 64 */
/*!*******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/checkboxGroup.js ***!
  \*******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:54:47
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/checkboxGroup.js
                                                                                                      */var _default =
{
  // checkbox-group组件
  checkboxGroup: {
    name: '',
    value: function value() {return [];},
    shape: 'square',
    disabled: false,
    activeColor: '#2979ff',
    inactiveColor: '#c8c9cc',
    size: 18,
    placement: 'row',
    labelSize: 14,
    labelColor: '#303133',
    labelDisabled: false,
    iconColor: '#ffffff',
    iconSize: 12,
    iconPlacement: 'left',
    borderBottom: false } };exports.default = _default;

/***/ }),
/* 65 */
/*!********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/circleProgress.js ***!
  \********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:55:02
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/circleProgress.js
                                                                                                      */var _default =
{
  // circleProgress 组件
  circleProgress: {
    percentage: 30 } };exports.default = _default;

/***/ }),
/* 66 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/code.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:55:27
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/code.js
                                                                                                      */var _default =

{
  // code 组件
  code: {
    seconds: 60,
    startText: '获取验证码',
    changeText: 'X秒重新获取',
    endText: '重新获取',
    keepRunning: false,
    uniqueKey: '' } };exports.default = _default;

/***/ }),
/* 67 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/codeInput.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:55:58
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/codeInput.js
                                                                                                      */var _default =
{
  // codeInput 组件
  codeInput: {
    adjustPosition: true,
    maxlength: 6,
    dot: false,
    mode: 'box',
    hairline: false,
    space: 10,
    value: '',
    focus: false,
    bold: false,
    color: '#606266',
    fontSize: 18,
    size: 35,
    disabledKeyboard: false,
    borderColor: '#c9cacc',
    disabledDot: true } };exports.default = _default;

/***/ }),
/* 68 */
/*!*********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/col.js ***!
  \*********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:56:12
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/col.js
                                                                                                      */var _default =
{
  // col 组件
  col: {
    span: 12,
    offset: 0,
    justify: 'start',
    align: 'stretch',
    textAlign: 'left' } };exports.default = _default;

/***/ }),
/* 69 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/collapse.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:56:30
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/collapse.js
                                                                                                      */var _default =
{
  // collapse 组件
  collapse: {
    value: null,
    accordion: false,
    border: true } };exports.default = _default;

/***/ }),
/* 70 */
/*!******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/collapseItem.js ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:56:42
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/collapseItem.js
                                                                                                      */var _default =
{
  // collapseItem 组件
  collapseItem: {
    title: '',
    value: '',
    label: '',
    disabled: false,
    isLink: true,
    clickable: true,
    border: true,
    align: 'left',
    name: '',
    icon: '',
    duration: 300 } };exports.default = _default;

/***/ }),
/* 71 */
/*!******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/columnNotice.js ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:57:16
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/columnNotice.js
                                                                                                      */var _default =
{
  // columnNotice 组件
  columnNotice: {
    text: '',
    icon: 'volume',
    mode: '',
    color: '#f9ae3d',
    bgColor: '#fdf6ec',
    fontSize: 14,
    speed: 80,
    step: false,
    duration: 1500,
    disableTouch: true } };exports.default = _default;

/***/ }),
/* 72 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/countDown.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:11:29
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/countDown.js
                                                                                                      */var _default =
{
  // u-count-down 计时器组件
  countDown: {
    time: 0,
    format: 'HH:mm:ss',
    autoStart: true,
    millisecond: false } };exports.default = _default;

/***/ }),
/* 73 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/countTo.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:57:32
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/countTo.js
                                                                                                      */var _default =
{
  // countTo 组件
  countTo: {
    startVal: 0,
    endVal: 0,
    duration: 2000,
    autoplay: true,
    decimals: 0,
    useEasing: true,
    decimal: '.',
    color: '#606266',
    fontSize: 22,
    bold: false,
    separator: '' } };exports.default = _default;

/***/ }),
/* 74 */
/*!********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/datetimePicker.js ***!
  \********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:57:48
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/datetimePicker.js
                                                                                                      */var _default =
{
  // datetimePicker 组件
  datetimePicker: {
    show: false,
    showToolbar: true,
    value: '',
    title: '',
    mode: 'datetime',
    maxDate: new Date(new Date().getFullYear() + 10, 0, 1).getTime(),
    minDate: new Date(new Date().getFullYear() - 10, 0, 1).getTime(),
    minHour: 0,
    maxHour: 23,
    minMinute: 0,
    maxMinute: 59,
    filter: null,
    formatter: null,
    loading: false,
    itemHeight: 44,
    cancelText: '取消',
    confirmText: '确认',
    cancelColor: '#909193',
    confirmColor: '#3c9cff',
    visibleItemCount: 5,
    closeOnClickOverlay: false,
    defaultIndex: function defaultIndex() {return [];} } };exports.default = _default;

/***/ }),
/* 75 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/divider.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:58:03
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/divider.js
                                                                                                      */var _default =
{
  // divider组件
  divider: {
    dashed: false,
    hairline: true,
    dot: false,
    textPosition: 'center',
    text: '',
    textSize: 14,
    textColor: '#909399',
    lineColor: '#dcdfe6' } };exports.default = _default;

/***/ }),
/* 76 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/empty.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:03:27
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/empty.js
                                                                                                      */var _default =
{
  // empty组件
  empty: {
    icon: '',
    text: '',
    textColor: '#c0c4cc',
    textSize: 14,
    iconColor: '#c0c4cc',
    iconSize: 90,
    mode: 'data',
    width: 160,
    height: 160,
    show: true,
    marginTop: 0 } };exports.default = _default;

/***/ }),
/* 77 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/form.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:03:49
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/form.js
                                                                                                      */var _default =
{
  // form 组件
  form: {
    model: function model() {return {};},
    rules: function rules() {return {};},
    errorType: 'message',
    borderBottom: true,
    labelPosition: 'left',
    labelWidth: 45,
    labelAlign: 'left',
    labelStyle: function labelStyle() {return {};} } };exports.default = _default;

/***/ }),
/* 78 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/formItem.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:04:32
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/formItem.js
                                                                                                      */var _default =
{
  // formItem 组件
  formItem: {
    label: '',
    prop: '',
    borderBottom: '',
    labelPosition: '',
    labelWidth: '',
    rightIcon: '',
    leftIcon: '',
    required: false,
    leftIconStyle: '' } };exports.default = _default;

/***/ }),
/* 79 */
/*!*********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/gap.js ***!
  \*********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:05:25
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/gap.js
                                                                                                      */var _default =
{
  // gap组件
  gap: {
    bgColor: 'transparent',
    height: 20,
    marginTop: 0,
    marginBottom: 0,
    customStyle: {} } };exports.default = _default;

/***/ }),
/* 80 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/grid.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:05:57
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/grid.js
                                                                                                      */var _default =
{
  // grid组件
  grid: {
    col: 3,
    border: false,
    align: 'left' } };exports.default = _default;

/***/ }),
/* 81 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/gridItem.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:06:13
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/gridItem.js
                                                                                                      */var _default =
{
  // grid-item组件
  gridItem: {
    name: null,
    bgColor: 'transparent' } };exports.default = _default;

/***/ }),
/* 82 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/icon.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;








var _config = _interopRequireDefault(__webpack_require__(/*! ../config */ 49));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} /*
                                                                                                                                                          * @Author       : LQ
                                                                                                                                                          * @Description  :
                                                                                                                                                          * @version      : 1.0
                                                                                                                                                          * @Date         : 2021-08-20 16:44:21
                                                                                                                                                          * @LastAuthor   : LQ
                                                                                                                                                          * @lastTime     : 2021-08-20 18:00:14
                                                                                                                                                          * @FilePath     : /u-view2.0/uview-ui/libs/config/props/icon.js
                                                                                                                                                          */var color = _config.default.color;var _default = { // icon组件
  icon: { name: '', color: color['u-content-color'],
    size: '16px',
    bold: false,
    index: '',
    hoverClass: '',
    customPrefix: 'uicon',
    label: '',
    labelPos: 'right',
    labelSize: '15px',
    labelColor: color['u-content-color'],
    space: '3px',
    imgMode: '',
    width: '',
    height: '',
    top: 0,
    stop: false } };exports.default = _default;

/***/ }),
/* 83 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/image.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:01:51
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/image.js
                                                                                                      */var _default =
{
  // image组件
  image: {
    src: '',
    mode: 'aspectFill',
    width: '300',
    height: '225',
    shape: 'square',
    radius: 0,
    lazyLoad: true,
    showMenuByLongpress: true,
    loadingIcon: 'photo',
    errorIcon: 'error-circle',
    showLoading: true,
    showError: true,
    fade: true,
    webp: false,
    duration: 500,
    bgColor: '#f3f4f6' } };exports.default = _default;

/***/ }),
/* 84 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/indexAnchor.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:13:15
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/indexAnchor.js
                                                                                                      */var _default =
{
  // indexAnchor 组件
  indexAnchor: {
    text: '',
    color: '#606266',
    size: 14,
    bgColor: '#dedede',
    height: 32 } };exports.default = _default;

/***/ }),
/* 85 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/indexList.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:13:35
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/indexList.js
                                                                                                      */var _default =
{
  // indexList 组件
  indexList: {
    inactiveColor: '#606266',
    activeColor: '#5677fc',
    indexList: function indexList() {return [];},
    sticky: true,
    customNavHeight: 0 } };exports.default = _default;

/***/ }),
/* 86 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/input.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:13:55
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/input.js
                                                                                                      */var _default =
{
  // index 组件
  input: {
    value: '',
    type: 'text',
    fixed: false,
    disabled: false,
    disabledColor: '#f5f7fa',
    clearable: false,
    password: false,
    maxlength: -1,
    placeholder: null,
    placeholderClass: 'input-placeholder',
    placeholderStyle: 'color: #c0c4cc',
    showWordLimit: false,
    confirmType: 'done',
    confirmHold: false,
    holdKeyboard: false,
    focus: false,
    autoBlur: false,
    disableDefaultPadding: false,
    cursor: -1,
    cursorSpacing: 30,
    selectionStart: -1,
    selectionEnd: -1,
    adjustPosition: true,
    inputAlign: 'left',
    fontSize: '15px',
    color: '#303133',
    prefixIcon: '',
    prefixIconStyle: '',
    suffixIcon: '',
    suffixIconStyle: '',
    border: 'surround',
    readonly: false,
    shape: 'square',
    formatter: null } };exports.default = _default;

/***/ }),
/* 87 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/keyboard.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:07:49
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/keyboard.js
                                                                                                      */var _default =
{
  // 键盘组件
  keyboard: {
    mode: 'number',
    dotDisabled: false,
    tooltip: true,
    showTips: true,
    tips: '',
    showCancel: true,
    showConfirm: true,
    random: false,
    safeAreaInsetBottom: true,
    closeOnClickOverlay: true,
    show: false,
    overlay: true,
    zIndex: 10075,
    cancelText: '取消',
    confirmText: '确定',
    autoChange: false } };exports.default = _default;

/***/ }),
/* 88 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/line.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:04:49
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/line.js
                                                                                                      */var _default =
{
  // line组件
  line: {
    color: '#d6d7d9',
    length: '100%',
    direction: 'row',
    hairline: true,
    margin: 0,
    dashed: false } };exports.default = _default;

/***/ }),
/* 89 */
/*!******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/lineProgress.js ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:14:11
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/lineProgress.js
                                                                                                      */var _default =
{
  // lineProgress 组件
  lineProgress: {
    activeColor: '#19be6b',
    inactiveColor: '#ececec',
    percentage: 0,
    showText: true,
    height: 12 } };exports.default = _default;

/***/ }),
/* 90 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/link.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;








var _config = _interopRequireDefault(__webpack_require__(/*! ../config */ 49));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} /*
                                                                                                                                                          * @Author       : LQ
                                                                                                                                                          * @Description  :
                                                                                                                                                          * @version      : 1.0
                                                                                                                                                          * @Date         : 2021-08-20 16:44:21
                                                                                                                                                          * @LastAuthor   : LQ
                                                                                                                                                          * @lastTime     : 2021-08-20 17:45:36
                                                                                                                                                          * @FilePath     : /u-view2.0/uview-ui/libs/config/props/link.js
                                                                                                                                                          */var color = _config.default.color;var _default = { // link超链接组件props参数
  link: { color: color['u-primary'], fontSize: 15,
    underLine: false,
    href: '',
    mpTips: '链接已复制，请在浏览器打开',
    lineColor: '',
    text: '' } };exports.default = _default;

/***/ }),
/* 91 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/list.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:14:53
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/list.js
                                                                                                      */var _default =
{
  // list 组件
  list: {
    showScrollbar: false,
    lowerThreshold: 50,
    upperThreshold: 0,
    scrollTop: 0,
    offsetAccuracy: 10,
    enableFlex: false,
    pagingEnabled: false,
    scrollable: true,
    scrollIntoView: '',
    scrollWithAnimation: false,
    enableBackToTop: false,
    height: 0,
    width: 0,
    preLoadScreen: 1 } };exports.default = _default;

/***/ }),
/* 92 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/listItem.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:15:40
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/listItem.js
                                                                                                      */var _default =
{
  // listItem 组件
  listItem: {
    anchor: '' } };exports.default = _default;

/***/ }),
/* 93 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/loadingIcon.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;








var _config = _interopRequireDefault(__webpack_require__(/*! ../config */ 49));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} /*
                                                                                                                                                          * @Author       : LQ
                                                                                                                                                          * @Description  :
                                                                                                                                                          * @version      : 1.0
                                                                                                                                                          * @Date         : 2021-08-20 16:44:21
                                                                                                                                                          * @LastAuthor   : LQ
                                                                                                                                                          * @lastTime     : 2021-08-20 17:45:47
                                                                                                                                                          * @FilePath     : /u-view2.0/uview-ui/libs/config/props/loadingIcon.js
                                                                                                                                                          */var color = _config.default.color;var _default = { // loading-icon加载中图标组件
  loadingIcon: { show: true, color: color['u-tips-color'],
    textColor: color['u-tips-color'],
    vertical: false,
    mode: 'spinner',
    size: 24,
    textSize: 15,
    text: '',
    timingFunction: 'ease-in-out',
    duration: 1200,
    inactiveColor: '' } };exports.default = _default;

/***/ }),
/* 94 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/loadingPage.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:00:23
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/loadingPage.js
                                                                                                      */var _default =
{
  // loading-page组件
  loadingPage: {
    loadingText: '正在加载',
    image: '',
    loadingMode: 'circle',
    loading: false,
    bgColor: '#ffffff',
    color: '#C8C8C8',
    fontSize: 19,
    iconSize: 28,
    loadingColor: '#C8C8C8' } };exports.default = _default;

/***/ }),
/* 95 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/loadmore.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:15:26
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/loadmore.js
                                                                                                      */var _default =
{
  // loadmore 组件
  loadmore: {
    status: 'loadmore',
    bgColor: 'transparent',
    icon: true,
    fontSize: 14,
    iconSize: 17,
    color: '#606266',
    loadingIcon: 'spinner',
    loadmoreText: '加载更多',
    loadingText: '正在加载...',
    nomoreText: '没有更多了',
    isDot: false,
    iconColor: '#b7b7b7',
    marginTop: 10,
    marginBottom: 10,
    height: 'auto',
    line: false,
    lineColor: '#E6E8EB',
    dashed: false } };exports.default = _default;

/***/ }),
/* 96 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/modal.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:15:59
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/modal.js
                                                                                                      */var _default =
{
  // modal 组件
  modal: {
    show: false,
    title: '',
    content: '',
    confirmText: '确认',
    cancelText: '取消',
    showConfirmButton: true,
    showCancelButton: false,
    confirmColor: '#2979ff',
    cancelColor: '#606266',
    buttonReverse: false,
    zoom: true,
    asyncClose: false,
    closeOnClickOverlay: false,
    negativeTop: 0,
    width: '650rpx',
    confirmButtonShape: '' } };exports.default = _default;

/***/ }),
/* 97 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/navbar.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;








var _color = _interopRequireDefault(__webpack_require__(/*! ../color */ 98));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} /*
                                                                                                                                                        * @Author       : LQ
                                                                                                                                                        * @Description  :
                                                                                                                                                        * @version      : 1.0
                                                                                                                                                        * @Date         : 2021-08-20 16:44:21
                                                                                                                                                        * @LastAuthor   : LQ
                                                                                                                                                        * @lastTime     : 2021-08-20 17:16:18
                                                                                                                                                        * @FilePath     : /u-view2.0/uview-ui/libs/config/props/navbar.js
                                                                                                                                                        */var _default = { // navbar 组件
  navbar: { safeAreaInsetTop: true, placeholder: false, fixed: true, border: false, leftIcon: 'arrow-left', leftText: '',
    rightText: '',
    rightIcon: '',
    title: '',
    bgColor: '#ffffff',
    titleWidth: '400rpx',
    height: '44px',
    leftIconSize: 20,
    leftIconColor: _color.default.mainColor,
    autoBack: false,
    titleStyle: '' } };exports.default = _default;

/***/ }),
/* 98 */
/*!*****************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/color.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; // 为了让用户能够自定义主题，会逐步弃用此文件，各颜色通过css提供
// 为了给某些特殊场景使用和向后兼容，无需删除此文件(2020-06-20)
var color = {
  primary: '#3c9cff',
  info: '#909399',
  default: '#909399',
  warning: '#f9ae3d',
  error: '#f56c6c',
  success: '#5ac725',
  mainColor: '#303133',
  contentColor: '#606266',
  tipsColor: '#909399',
  lightColor: '#c0c4cc',
  borderColor: '#e4e7ed' };var _default =


color;exports.default = _default;

/***/ }),
/* 99 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/noNetwork.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:16:39
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/noNetwork.js
                                                                                                      */var _default =
{
  // noNetwork
  noNetwork: {
    tips: '哎呀，网络信号丢失',
    zIndex: '',
    image: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABLKADAAQAAAABAAABLAAAAADYYILnAABAAElEQVR4Ae29CZhkV3kefNeq6m2W7tn3nl0aCbHIAgmQPGB+sLCNzSID9g9PYrAf57d/+4+DiW0cy8QBJ06c2In/PLFDHJ78+MGCGNsYgyxwIwktwEijAc1ohtmnZ+2Z7p5eq6vu9r/vuXWrq25VdVV1V3dXVX9Hmj73nv285963vvOd75yraeIEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaD8E9PbrkvRopSMwMBBYRs+5O/yJS68cPnzYXel4tFP/jXbqjPRFEAiCQNe6Bw/6gdFn9Oy9Q90LLG2DgBBW2wyldIQIPPPCte2a5q3jtR+4ff/4wuBuXotrDwSEsNpjHKUXQODppy+udYJMEUEZgbd94DvnNwlA7YGAEFZ7jOOK78Xp06eTTkq7sxwQhmXuf/754VXl4iSstRAQwmqt8ZLWlkHg0UcD49qYfUjXfLtMtOZ7npExJu4iqZWLl7DWQUAIq3XGSlpaAYHD77q8xwuCOSUoXw8Sl0eMux977DGzQjES3AIICGG1wCBJEysj8PXnz230XXdr5RQFMYbRvWnv6w8UhMhliyGwYghr4Pjg3oEXL34ey9zyC9tiD2ml5h47dr1LN7S6CMjz/A3PvHh1Z6UyJby5EVgRhKUe7Kz/JU0LfvrJo5f+Y3MPibSuFgQGBgasYSd9l6GDsup0WS/T/9RTp9fXmU2SNwECdQ92E7S57iaMeJnPQLK6ixkDLfjlb7546RfrLkQyNBcC3dsP6oHWMd9G+V3JgwPHh7rnm1/yLQ8CbU9Y33zp0j+nZFUMb/DHmB7+SHGY3LUKAk8cObtD00xlHDrfNge+Z2ozU3c9dvx4Yr5lSL6lR6CtCWvg6OAPw9z538ZhhZRl6XrwhW8du1KX/iNejtwvPQIDR8+vSRqJ/obU7GupjdNdh2gW0ZDypJBFR6BtB2rg2OVtuub9JcmpHIpBoK1xfffLzx4f7C0XL2HNiYDp6bs9z23Ypn1fC1Y/9PCFDc3ZW2lVHIG2JKzTp4Ok7nv/G6Q054MIvda+bNb74pEgKGtwGAdL7pcfAa8vOKEZ2kyjWuLr7uDh+/qvN6o8KWdxEWhLwroyeek/g4zuqwU6kNrhyZcu/UktaSXN8iNwuL9/RuvVXtJ9PbPQ1vhmcP6t9+47u9ByJP/SIdB2hDVw9MJHQFYfrQdCph84evFX68kjaZcPAZJWwjMXRFpJ2zr91tfuvrh8vZCa54NA2xGWrunvmg8QWCJ/N4ir7fCYDxatkOeBB7an501agXbygVdvv9IK/ZQ2FiPQdi9osGbH+zRNf7y4m9Xu9Me7N9nv0HXdr5ZS4psHgXpJC9P/wDRTx0Vn1TxjWG9LGrbaUm/Fi5meSvcrkxf/Cg/ow9XqAUk91v3qHT97r6471dJKfHMi8Oyzgx1Z03t1YAQVT2MwgsC3u+yXHzi0faQ5eyGtqgWBtpOw2Ol9+/TM+sTOn8L08MtzgQCy+tOHXr3jA0JWc6HU/HF5Scssr4jXcYqfP6V/T8iq+ceyWgvbUsKKOn38eJAYyl56TAuCEr2WYei//9Crd/5GlFb81kdASVopSFrerKRlaoZj9HR+700H10+0fg+lB21NWBxe2lhNHsUpDZr27mi4dV379R9+za4/iO7Fbx8ECknLCPTsTDJ17O33bJpqnx6u7J60PWFxeAcCbMV56dJfQKf1bkMLfuGh1+76zMoe9vbuPUnLsb2DtmOe5HSxvXsrvWtLBEhaTx29+Ma27Jx0ShAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaEsEVoQdVluO3BJ06ptHL34b1XRjp4Ch6Rq24+kmjG4Nwwg+9uA9u/73EjRBqhAEihAoe3xwUQq5WTYEzp0b3ZnV/Ncf6O/9AvY9wlh/6dy3X7ncN512Zw9BVLXjuAP4np44vnQtkZoEgVkEhLBmsWiKqwsXpjbPBOn3gRfenwnc+7GBe+zsjclvonFDS9nA9Iy/u3x9+vAP3735VPk4CRUEFhcBIazFxbfm0k9fHD7k+v4nQFaPQIrx8Gmyx/GJ0J/t7ez7mw0b9MmaC2pQQgh0/ZSm4g5TwueWWtqLt0HuVy4CQljLPPYnB0depTn+b3t+8B4t0AdBUv93h2H9xc6da0aXs2m+r1WQsLRnl7NdUvfKRkAIa5nG//r1oGtsZvjTgev/kqYHF/TA+AXoqv4npJemOEiQU1Eo2l+G0movBK1UBBPU7s9E1+ILAkuNgKwSLjXiqO/khVtvARH8dxDBRkMzPrF/V+9/BlG5y9CUqlXinHv9mRPXtvuus88L9H3JPv2zD2yXExCqAicJBIFWRwAvv3Xqwq0/Pnn+lv/K+ZvfPH3p9p5W75O0fxaBp793ce3AwIDMWmYhafiVgNtwSMsXeHp4eNXJC8Nf0PAdRCiuf/XgrnWUqsqotcvnl9DmRkCdweX4b9N7+m/ih+mbMraLM14yJVwcXItKpT1VRve+ArC3Qqn+3gM7132jKEGZm6tXg86J7OhDfuA/iHwPUpfUZSfu2L59tXxEoQxeyxkEgjKeOnLxHb4RqC+NY5H3+2953d4XlrNN7Vq3ENYij+yZwbG9jpt9GkBPQ5H9zgP9607OVeWp87cOQtn9zwJf+xDMNFfj+jryPqXpxj8c2Nn7P+SXey70lidu4IXzb0DNB4tr9751+HV7zxSHyd1CERDCWiiCc+QPjUCnsaqmZ62O5IN7N/VUNP48ee7mAZDTf4Tt049iUG4Guv4ZfNLos9UIbo7qJWoJEHjy+bP7fNsoOcnW0A0/aacef8PdG28sQTNWTBVCWIs01OfPj66BpfqTmq732UnjgT1bei+Vq4pTv7HM8Ceg2/o1qLQug7T+FaaM3IqTLZdewpoHgYEjV9fphvOj+OShWa5V+CxvZtpzv/LwG/aNl4uXsPoRwI+4uEYjAJ2GmdG8L0FK2mYa+tsrkdXZy+P7x2ZuHdW14P+BLdank9q6Qwd3rf+ckFWjR6Tx5Q2cP58K9Jm3VCIr1ogt48lO237r3//96YofeG18y9q7RFklXITxPXV+5DchKb3ZDMy37Nu5tuxG4R9cHH6b42QfAzlds+3EPXu2rfrBIjRFilwkBIIR7SHoJDurFU89ZOd680Gke6JaWomvjoBIWNUxqivFD87fej0e0n8Fwvr0/t1rnyqX+QfnRz7g+8FX8Rv8vL3auF/IqhxKzR2WCPxXqKeq3krDTdj2ierpJEUtCIgOqxaUakwzNBR0D09yiqePHOjveyOkpxLr9VMXb73V97S/h3nDXx7Y2fdPkAYbncW1IgIDxy5vM7LZt/hgrnLtxyaBrJNxv/72N+6tuNhSLp+EVUZACKsyNnXHvHL+1qcgNf2KbSXu2bt9dcmS9qlzo/fARgcmCtpzB3b1/Vg5QiuslLowENyDWDn8cSjl98PgdBviu03N+rl9/WufLEwr18uDwLdevLTF1YK3xnVZ2HI1bUxrT7z5zTuXdRP78qCyeLUKYTUI25OXbm4JPO00TBj+6I7+db8ZL3ZwMOiYdG4dA1lN9HWte2iuI2NAVPapC8O/CGPR34Ip/AZIbIMo7yX8G9QMbcS09P+2b1vf5XgdrXaPfiYns9oeLLEd8D1/B7Dp0E1jGP042pXQj7RKf546cmGzp+tv1TRf6YQD35/QO3seP3xow5IfC9QqmM23naJ0ny9ysXwgq98BWc0kVhv/Nhalbqe8kd/Fr8MOSEr3zEVWrwyO3I29hl+E9LUHGf+nAXI6sGPdd8uV2YphIKnE5IyL6bLxk7cn3bdkHHefrpvJAExMZ1uBZmqeNzXtfzUzk/m/ens7LjV7Px+8d9e1579/44l0duZtge+Np5zEEw8c2pBu9na3YvtEwmrAqNE8IZvNHsep5//yjl3r/0O8yFOXbv0QCO05gP0JGIL+fjw+uj91YeRh/Dp/PtCDM7Zpfmjvjt6Xo7hW9ycmJjaYduf7Hdf/8HTGfa3rG9rYxLSWnsloPg7fijZV8oFM2Ja2a9t6EJd7bCztvHP7us4rrdD/r3/7ct9I99jEI4cOiQ3dIg2YEFYDgOUJDFj1e8TqX7cT4kImXuQr5279A4DeBEX8ayvprU4N3rovcALot/TH13T0fXDTJn0qXk4r3k9OTm4y7a6PzjjORzOOvn1kbEqbnEprPhRzwAKzwFLHk05hv6Yd6N+o3R6beG50aPSdr3qV6IJKkVp5ITIlXOCYn4Yexr0w/DO6YXymHFlR0e5r7tsM3fxgJbI6fW1ivTeT+SsYmr54cFff+5Cu5X+hb94Merp6/J/PusGvTE6724eGJ7RpSFOkKPCUZvBPBccoHBet3Rwe13rX9tw/PjXzZ5hKvr8SfhWKkeA2REAIa4GD6p0feRdWBnvxjv2PckVhVfBf4A29uG/X2i+Ui2eYn8n8NryuDr3jPfWSFV5k44UT137eshIP2K7/64cObbheqZ6lCp+Ydt8TBO7vTM5od1+/NR4SFVhoLpKKt410lnE8LTMzo3V2dLznxLkhYgQ9obiVjEDln7mVjEodfYcpw+MAsftg/7qSDbAnb97sCSb0Yei2fqOcbovVqKNnNO8HmAE9Cv3Wp+uoWjt27HpXNqH9WTKR+kBHKqEFbvo5y3N/avfu4g23R45f3WGa1k9ZicTd0zPTf/f6O7f8dT311Jp2fHzmgJlI/N70jPPe4bEZ6Kg4qw0lqlrLiNKBiLWerpTW25PUbkPXZViW62ecHz+4d8PXojTirzwEyhq8rTwYFtRjvpX/rlwJ+iSXugPbMuyKBOHo3geRJtuT7PujcmVUCuPJlhnL/9NUqvMD2eyM5sxMaIlE4n7XML907tyNjcxHQjty4sZv66Z1xEok/xNW5n4uZSf+8sT5m++vVO58wkEu5sR09pd9w/rWyET2vReujiqygrSopn/zKZN5qMeirotKeTyolm7p/+X06Wvr51ue5Gt9BISwFjiGsLl6N6SrvylXDNTK70D4mX071pwtF88w6Jd/DG/1E1u26NOV0pQL71y3/8PJVOcHMzPTWkcCH2YGOaTTaS2RTN6f1fQvvvDK1bdnbO2JZCr1SeRfn05Pa1PTU0gXJBKW+ecnzlxvCGndhFQ1NRP8bcY1/vjS9bF1V26MwHwsVKiXa3etYVw1TNhYJ3TDjQCO42jJVMcez7J+t9YyJF37ISCEtahjGjxkGDr2DJZ31D8h5vUQJL5RPkXlUMM07u3qSGidICvkzzuSlmlZb0olrK9hD9v9JCrPC196JoPMAolFg6CV+PPj54YeyWecx8Vk2v1Q0rSfhFT18LnBmzBRyNalp5qrSuq7kiAsh4SFa7oZ9M0wzI+cPHOjZPo9V1kS1z4ICGEt4lhiCvZrSa2jol7qzPXJPk6nIGbVbWfUvcr7hO9MP97ZVXpggOu6ajplYStj7l1XvbRMXbPAbp6HzSSBlkraNknrvfVCcPt2sHYi7f3pTDb47KUbYxuvKqkKpYBXKBnV869c3WgbDEixAck0FGFFfEzJzbIsO9C1TyrcymWWsLZGIHoW2rqTzdo5dXyykz0NC8l779i5vu4zwM+eHVntGP5jqVTq/6AkVc5NZ3wNH2lVxNWZNIukMSjiNd9z0+CHp5DXAdX4SAg203w8GB5IATtODHzdK8C15kEjhXvNS9rWA11dnfcMDY9prscss48RySakrOLWqODCoIKAgkuVgsS0urtD60haeV1YYVbbtjUn6/74HXvW/11huFy3PwKzT1r797Upe3jq4sib9u9Y+wxe+vh7W1N7jx49v6ZzbffnQD4/Cj1Pfjx54XiBls6GVuTUc9mQsOIO9mPQFdkIRlz4fy5JLm2ZMOqTcJaXIqpcqnixVe+rdbZ3dbc2OT0D0wZIibHSksmklslknvx+//q3PiKnXcTQae/b+LPQ3r1t0969cOL6G7o6E09qgZegdMJBpVQ1DbKCpyUt6oPKz/4NEJalCAuZFIuEVBJd+jgLh4rvAiFqUVGkhJZMWFp3Z0obGSu/d5gSnWmavuO6h+/cvYHSobgVgoAYjrb4QPMUiGtj1/79jBMkLBwiTlMASlYzTkhWCJyTrGAyMOFkst/BoYMmuIIyGJYcMXMMdNwHPhYN1qWS1t6ZLGaKZL8yzFXTr15BooLLMugHMBRNKgW+It8y9TEcJGt4rvcRFCCEVQbFdg0Swmrxkb0+cf2XOzq73kgdFieEXF2jdEUJKQH6SVWQrNjtZDKlpTPp38U58iUbthk/Ph7sN6zg/xudSGvD4xkq6otcnnjyF0XRRTflkyC0IIJE1JG0QbqGNpMNp5xFhRTcZDNoj66988SFm5vv3LX+WkGUXLYxAuXnCW3c4XbqGs9hwjv+a9lsuN+ahOJSCoLjNDAFvVUll0p1aNPp6adTweSflEszPO48oFn+4yOTmR+6enOshKyYhzWpf/jDuuf6x2aV/qNRaPG/1d0gUXWCA0uu7GhMmkqmerEc8KOVU0lMuyFQ+Ylut562YX9Sncmf7Ojo3BDZWbGLtMkiUVXSWTFNuMqWuYG530f7+/tnGFboxsfdd9mm8XdDo9O7rg6NFq0CFqZr5DWlK9qV0fZqGvZchSuPlevB2VmG/hOV4yWm3RAQwmrhEcW64qu4ykfJho52Vp3J8quBYQooqWDKADftBd6HD+5efyoKj/zR8ew/hWXY56/cnFh7a3RCTTGjuMX0SVB9qzu1qfQM+jO3dBW1g6uVSHv/qVNX10Vh4rc3AkJYLTy+WA/8ou9kJjo7bOh+DLVFZ64TEbCyBktxI5PJZj56R//Gx+NdH5vM4vuI+p8NXh9LjU1iw3EZhXc8TyPuuV9wDaaCfBjTM06N0hVWQmHBDzvSDZ5tvqYR7ZAymh8BIazmH6OKLbzv0KZvJEz3ZzEFnEolaEtV2XEaCLKadrIz//TQnk1/EU85NuH8th8Yf4j9gMZUOrNkZEVZCnsbtTU9KW18GqcKFyjh420sd2+j33pg3F8uTsLaDwEhrBYf04O7N/2t7/o/C2FoGnsIy/YGlvAwSfCvZzLOe+8oR1ZT3u/5uvHJC9dGtJlMrfqjslXVHwjpat2aLi2rjFFLjUSrFUjlO0juddXSSXx7ICCE1QbjiHO0/hofbPgwpnDTOR2V6hWNQqGUx34890noet5yaO+Gko3Y45PO7/uB/lvnrwxrWdha1absbgxo1FWtwplXqYSJY5Nn5lU3bLHQmGA/yko0plVSSjMjIITVzKNTR9sO7dv8RSeb/T9BWmMkKv4D+YzBXuljV7yxd+zfte6VeHGKrHTz4+cv38JWmyUmKzSGG5z7VndoE7kz3uPtq+Welvhwm39weVjOyaoFsBZPI4TV4gNY2Pw79mz8KyebeRIH+VEZTaX0sf27+v794TKmCxNTzr/2NOPj5wZBVjjdYSklq6jN69dyKuhqmWztivYob+RTSkPbe/xMdlMUJn77IiCE1W5jq+s4dYEO6mzsYAmvi/+CrH7LDYxPcBq4HGTFVcG1ULLT5orS1ULIkoSFI2cMHKG8obiXcteOCAhhtdmo6gaOh4EWWlkyYU9gvHswXfgV19d/7+LVkSWfBrItJJhObL/p7elQR8fUZnEV70XxPc01sM+xrzhU7toRgZIHuh07uZL6xA3LBaYB+Ar8rBsfz34YX1j+D5eu317QNGy2xPquSE4mDuXb2IujY2AgytNE67RiKFshzuwCR5s9ZSMlsK0QEMJqq+GkBKOF5yFzRoidK5BoFCeMjM/8mG+a//Xy0Li55KYLBRiTrGjwOQ1br4VMBQuKVJeQKVPxMLlvPwSEsNpsTEECmBLSgbHUpwD1YGwse59l2p+9fmuig4fiNZIowrqq/6Xeqm9Vh9JbjcOKvqFtACX7gV8kTVZvkaRoRQSEsFpx1OZoM2iKxxuHLtDcsZlgLzYZfv7m7XSv+r7fIm234XSP/8o5ktWqzqSyZr89PoXPYDTYkZvziw0NLluKayoEyq4iNVULpTF1IaDjHHZmoAW4aep9geN8fiLt998cGYdtVp7K6iqzXGJFUCAi7jdkuapsBJKcPBwgyP8YRyV7B04Q3dDbpY3jg6gupoMNla5U41BbUN9n0sr1ScKaHwEhrOYfo7paCAW0WiWknihhW/0Tabf/6tDtxpIVSIhGnz1dSXUkDL8fSHKi4/lWPId9Kp3Vxqegp8J/m9f14D6DQ/nmb281FwgkZ1Dj7bnSSFx7ICCE1R7jmO8FJJr8jCvjeNrIxFjDJBpKVaSlXhwDw384MyucBoLAGEfHI5ptO6n1YAq4FjorH9IWjUOnFlF3pj62aui3whbI33ZGQAir/UY3XCVEvzgdw/8NcSyGUhSlpVWQrFg2p39xp0JYLyIohaXxdZ2FGofG6yi85/QS32F0Asu8URgu1+2JgCjd22xcsVElPC85169Gaa1YTkRWJKpSqooBiQQzONvq9sRULKKxtzzAEJw1api2EFZjoW3K0oSwmnJY5tcoSD09HanEDztubnfO/IopyUWC6sUmZUpW5aSqkgwgK04DxxaZrFivacCaIdAuH9zaM1rSDgloOwSEsNpoSMenvU93dXb+EE5taFivKElRqd67qrNmsqIF+yjMF/i56MV2JqadYKxXMDXM6+4Wu04pf/kQEMJaPuwbWvPticwj4Il/NnTrdl7JrqaDC5wTUle1GmdWWVCw1+JotjA6PgnThsIdQrXknF8arkJi/+R355dbcrUaArU9ha3WqxXW3tHR9C5dN//T9eEJ3aGdUwP7T0V7F86Mr0VW4mF6o2NTS/ilaB2HDmb8wA2+08AuS1FNjIAQVhMPTi1NgwRkGKbxRxMz3uaJSRzVUkumOtLwo6Zc7aOkVdEhynN9NQ1cyuNqeEqD67mX9TXGyxXbJhFthYAQVosP58S0909czfqJqzdGODVqaG/IUbCWr2p0yukfp4FUtDfeir1yl8IPUGjPHFy/fqJyKolpJwSEsFp4NEfT6Z3YBvOp8MvMc0hAi9hHNQ1cBrJil5TUZxhfXsTuSdFNhoAQVpMNSD3NMTzzU1PZYAM/ProYkg3UV5rHT8lXmA7SwnwEq4FLLVkRI04HM+n0LdvzvlEPZpK2tREQwmrR8ZucCd7hePr7rw2N5PfxLUZXON1zHKz4kb0KnIttP6Njk8tyaimbwXPrsW/yq3v3bhoqaJZctjkCQlgtOMCYCnU4GedTI+NpQ32XbxH7QOmKG5nzdIWZJz8HNkKygqI9TmSL2JSiovGVn0A39c8WBcpN2yMghNWCQ4zPc0HRbr6GEs6chJFnmfl3knZO4/hmII1B6fiFG9br0s6qAeXPp2WUrhzHeXH/jr6n5pNf8rQuAkJYLTZ2kK7Wul7w6zeGx9DyUsZovOodOizosTg1TM9k1Wogpa7lIisOF+w48E/7E5B1Y/cgtdizsBKbK6c1tNioT6X9n3MDcyePOo7OoJqrC6S0+ZIYV+GSOHxvc18PJCxXG4ed13I727axqTp9yk9rX1jutkj9S4+ASFhLj/m8axwdDdbgELxfGsLpoZyqVXPVU1QugVJUV0dC27p+FaaBWWxknq6ceAljTNMiAf/BoUMbJpewWqmqSRAQCatJBqKWZpgJ731Zx9pJM4aK0hXe5vlKVFEbKFlxs3PvqpSSqpbzKztRm+gnEkktnU6/2GFMfa4wXK5XDgJCWC0y1iAR6/Z49iOjY7C5qkG6mk+3SFQGlEP8FFdnygrNFqBsn1OxP5+K5pGHbcBhqhT8fqu/v39mHkVIljZAQAirRQYx7Wj3Zj3tddQjVVJ4l50CMjHe8mqOTJCCvmoTyIrENXx7Uinbm4Gs2PZUqkObnp76i0N7N36tWl8kvn0RaGnCGhgILKPn3B3+xKVXDh8+nPseX3sOlpt13+P4uonv71WeDqLr1ampFB8S1JrulNaHc9rTMxltcpofOeWns0rTLkeIZUHRnpm5YibMf7kc9UudzYNAyyrd8ZLpWvfgQT8w+oyevXeo++bBtaEtQd9s1/ffRsV3I6eDJCp+nourgH04UZQnhIYfWm1o8xdUGCU8/E/bil89sH3dlQUVJplbHoGWJaxnXri2HTvd1nEEcCBS3z++MLi75UejQgcmJjL92ax/gNJPo6QekhVXAbdvXI3D+XQ1Bcxiu02zTAEjKFIdHTQS/S8Hd2/4YhQm/spFoCUJ6+mnL651gkwRQRmBt33gO+c3teNQYin/oG6aKX5rcKEukqqoWN+Ij5vy81v8UATDG0WGC21jlJ96K6wKPpWd8H8jChN/ZSPQcoR1+vTppJPS7iw3bIZl7n/++eFV5eJaOczX9Z2YvM1LPxWpocBHKv8qHHdMqSphGUqqahaThfj40ITBcbLnsDj6oXvu2bS4n96JVy73TYtASxHWo48GxrUx+5Cu+XY5RH3PMzLGxF0ktXLxrRoGNVPPfNtOolIrgElLGYH2wbZqcipdIFVFlDbfGhqfj9bskCaHHS/7gTt3r73Y+BqkxFZFoKUI6/C7Lu/Bl1jmlKB8PUhcHjHufuyxx/g5lbZw+BL7bX4EoiZqyS0T0uM0j1+82QSl+ua+bhxj7GjD2LicwWkLzaarigbKsmDJ7gcTmezMBw/t3ixntUfAiK8QaBmzhq8/f26j77pbaxo3w+jetPf1B5D2RE3pmzyR4/nH+Mti4Wx1dUrCHO0lSVGqskFUnakkpn6mhu086jgYHkWTW3Wbo4Tli6L5gqYHE47vfeDufVv+YflaIjU3KwItIWEdO3a9Szc0ElDNDqcLbHjmxas7a87QxAnX9ljfxcr+Mzs29ykpi1O8iJjoR/cm5o7dnUl89LRLW93dyWmVIip+Kp7pmlWqIvQ8Mga9Gslm3Efu3LX+K008HNK0ZUSgplnGMrZPGxgYsIKeXa/TA61jPu0w0+7xBx/cd3M+eZspD0wbDgWm+RXP13cODY/jWGKuGAb48jG+agNpilbqlKZoWDqDY2AyjtNUlupzYZlKpXgaxIVMNv0zd+/d+uxcaSVuZSPQ/IT13TN34QRvZW81n6HSDdMLUqmjh9tgd//Fi8OHEl3JL3Z2dh3MzGA7XU664llVWRz/QhLjNYmsmaWp/DjCjqIDdlaZTOZZ1/A+fGj7hjP5OLkQBMog0NSE9cSRszuswNhdpt31BRnazM3U9IuPHDrUuG+419eChqU+cvzqjp7u5P9KJpMPpqc51Zv9QntLkFQBEqZluVCw/7nhaP9i376+8YIouRQEyiLQtIQ1cPT8GjOw7vE8tyFtxBrb2MBXdh579FF99g0vC0nzB548ebNHT2l/aFmJj1BPBYyav9EFLaQ+jdPAVNL8/pZ13a8qiJLLOhAAjvrTRy/d0enbF+69d0tzHFhWR/vnk7Rple6mp+9uFFkRGF8LVj/08IUN8wGp2fIcPLh+4sCu9R+F3ucj0MLf4vaVVnChqYWmdaQS2jpY2vd0djh86Vqh7c3Yxm8dudTPxaW0lrn7yJEjZW0Tm7HdC2lT0xKW1xecgHE3FDWNcb7uDh6+r/96Y0prjlIO7ur7TOD5b3ayzt9ylY0Gl83qKFXZsCXrXdOlrV3djf2LBr556JOshLDmMWhPPXV6vav5O5jVxYLUhNl3iIbV8yiqpbI0bQcP85C2Xu0l3dczC0XUN4Pzb71339mFltOM+Q/0rzu5f2fvu1zH+QDOt3uZ0pbVRMRFouJK5qqeTkhVqyBdtdUmhGV5JI4cudrpd5kHiyp3tTU/8s6r+4rC2vCmaQmLWJO0Ep65INJK2tbpt75298U2HLuiLh3oX/95L+0/kHUyvwTieiUJHVEimVzy1UKeWMqv2pCoKEVFRNXT1aHawnBx80eAZj7TwcxdAc5Gi5fiaNnNT37nCk4xaV/X1IRF2B94YHt63qQVaCcfePX2K+07fMU9U7qtHev+xE/7r3cc70O+6w1gxuV0dHZiusgvJS/O7IskRXLs6KCxqj+B26t9a3uUREWi4plbQlTFYzXvu+7tB3EIUGel/L6e3TNw5NS8zYAqldss4YvzBC9C7559drAja3qvDoyg6pwCP+KBZaVOPPjazS1vMLpQKE9fuPnawDB+EqehPwzWuAuSl8LPg90WVxhJJPWQCUmPBAWTBEz1TFUGpqO3wYYvIPgr2az35a2b1/50V6f1e1NTlVcvEzB0xRekj67usu5FmS2/crvQcaol/zeeObfTSOj91dIq28PxiaOHDx9quy8LtQxhcZBqIS0Dhkl2l/3yA4e2j1Qb2JUUD1Iyz1waOQib0vsxKXsAFvH3wMB0JySwtZC+DBPTN5BOCEnhrI1BuKe9l6tIzsVCiD6E0DOabrwI2elZ09aP7N3aNxjheXvK+a1OENa0EFYEyYL9rz072Ju03ZpNQKj7Xd899cKhNrA9LASvZTY/s9GcHoK0XsrakLS8UklLxyl+/rj+/Qfu2367sJNyTS7SuZfneO7ffweBGScu3NwAqWgrTvTc5jjBZmw87tMCfRXYKQWOgula4OiBOQUZ7DZuhrAGdQXxV0zPuCaGnkv3VPGHOpPw7+QPR62OM5HhdNddGOeX2kmCbSnC4mDlSStVTFr4eLljdHV+702vWz9R66Cu5HS5h5hmHvz3QiOxwJTRo2BGgY06dm7OVhewYGAY6s75oD+ZDs4JPY9JyqSCQ7ABqftd5VFM3/j2Ja4mtsWpJQSq6ZXu5UZTKeJnsHpohiYPRqBn04nkS2+CQWW59BK2dAjwS0Y4IHDz2ERWG8Gnwm7iK9W3sFmbvrqGPzw6gW8eTmvTM07XmTPX28KYd7EQ3rjnvv1QFHbPt3zT9DcMPHd+13zzN1s+/hC2rKOo7NjeQdsxT5LEWrYjbdLw05eHtwWe9jl0542u62HZHZIVpalY/yIlP5X3MHYddLLZfy4fmYiBhNuB509vw+rG3tKY+kOwGHLi7W/cS91jS7v4s9TSnZHGLx8CICH9lXNDX+zpWfXuycnaBV2e3e567nAm4973qv0bzy1fD5qr5oEB7KXt0u7B3Loh7yhWVfypbOalh9+wr6U3mbfklLC5Hi1pDRE4ef7Wj+EEiZ+amqpvJT2bzWjJRLIPR3n9riA5i4DZg720DSIrlsrvHXSZ9p7ZGlrzSgirNcetqVp9/vz5FJTqj6JRejTdq6eBMzNpHP9s//QrF4bvrydfO6f1JrCX1mvcXlo98Kembjotr3wXwmrnp36J+pYNeh5JdqRem83O77gxkpxtW3bgOZ/g1HKJmt3U1Rw+3D+zrc89aunagnWzpq6PdxujLz388L4F78tdbtCEsJZ7BFq8/sHBoMPX/I9hyrGgnuDUUZzrnnz7yQu3HlxQQW2Ued++fZmJ1e5LoPB5k5ZpWCPXz+08du+99zrtAI0QVjuM4jL2YcIZeh+2+9wF49MFtYJSlgmHE0g/JlLWLJQPg7RmhtyXsJ18eja0tivsXhj6xy9ve/mRR5TRcG2ZmjyViN9NPkDN3Dz1FW5z9XM4i+s1ME1YcFNpUIrVLHzJzHnwjl0bn1twgW1UwPHjxxPXpztejR0HFTc+F3YXRwxdfdM9W08D0zrs4wtLaM5rkbCac1xaolWOvurhZIPIih0OdVm2haNTfqUlAFjCRnJP4HBn+iUqz6tVa2nGpTe/etsP2o2s2G8hrGqjL/FlEQC5GHghfplSUSMdvwaEA/9+4vjpa3c2stx2KIsfUek2dr+EuXNF2xEjSJx98w/tbFt7NiGsdniSl6EPp84O3W/Z1oPzXRms1GRKWdCJdeCIlJ+vlGYlh997r+70+EPH8NHJEtLCauCph+7bmj81ox1xEsJqx1Fdij4Zxi9AT2KSYBrtslgxhOD2gWOyz7AstFzx6zFHj1mGobYUYAgC9cHge3ddK5uhjQKFsNpoMJeqK6+8cm0X6noXiWUxHA8WxAdWNyQM45HFKL8dyiRpueM7jllmMGpnjO+1w9fNaxmXxiogaqlR0jQdAkeOBPjczrnOiQ6jw88ESSOA6KT7iQzOHEvavu1pZsLQg4QPP/DdZG9Xx/vWrOr+mfR03SvtNffdxleAQIgvTzjBT0w409Mpu2faufZy+vDhw5WPMa25dEnYqggIYbXqyNXY7i/jCyvdfmaVb5hdVsLp9LJGp43j1/1A7/RdvdMwPRzEboRnLVHe9vEvL3eXBOB4ZMta22H+TiqV2LJQ26u5u6Bju44Z3J7O/Lvp6cwPmBanOwQ4uNHRTWMK21bSvh1Mm642nTWCtKkH07rnTE72aOO0XZq7bIltVQSEsFp15HLthg5J/+aJE12m3tVjOPYq1/dW4cTjHnwMYhXOce8xDd3y/PJW6OpMdsTRVy4iK/rKMR/jwvz825VIHFzT3fkx13UW/dnhRy3GJyeeHEs7n1XNibUPFvY6vtGDw5vV9w0Vofn81qGhZfDhi3HX8SfQ/3HPMse9CWcCX0gel2OIFJIt+2fRH7qWRaYJG85NxldGzV4tGayFSLQ24+q9ULyu9gJfMU5ELTn6wUISTl03NHz1KzyiJLqmX657OLLdSJgoXTO7cBxyN172blier4YCvBsFdSNXV2dC35tKJrbzfPfFdjwvC/qs9MSMxxNRsSqmT6LhUDQHE+jUBE7UnATXTuLsrRn01K2l/x6+qItiR3TNG8V59KNB0DGSfNXGUXwJY2Gm+osNhpSvEBDCasIHgVLTt75/aQ0MnXpBNb2QgNYEntfr4wu/nBYpKQLtxtdwAh0SBX3VDe7nM/Ha5vf1Fb/CURS2bCTAWWuxR229qRsbQQQbUed61LfW14JVKKsTJ5sk8WUcHbtlNANyTOhgcmAGKH7p3m1FWpqtuZCu+LByVdKHVMjpKEQrBwIW9tnpXOIH+QTDSH/D9f0bmCLewDn1I4HmwtAypPDZ/oe9oXKf/aMPsWxSs/RR13FHrURiZE1gDR86tKHEdCDMKX+XCwEhrOVCvqBeHNaW6ui11/mWDtLQ1kEiWodXE4rwYgepAPssTPCMOjIdAk94TZ8pMZjch8HjDorGFUTUAwlkh64be0A9/ZCatiDZWtOyE7ClQmIdJICJFYhA+TRV4Fo5/QIHiUvrTEbkVRCxiJfsSBbfYk87OTExXxdazY5yUgiRKfpHQ1YSkONmAZY+gV4NIeVFfCXoLNA5h/Plb5LzWAyzF+IVXdNnvO/6GcsyhjC1vmWZ7s2pO3fdOqzriy9asnJxZREoerDLppDAhiIAEtCfO3F5rW0a6z1PX4/nf53nG5RqqrpieSnULEVh8cx4E7ugH78H8tG9eP/24oVezY+pkpA8b/abhPF8le75BqdsXUtaFeaTlTI2IByEoU1l8oq1mkokcZHElIRoWmpejMMCMyCvQXyy7JjjuUcgOl4tLCzCMpTHgFpcgkViX/dH/ax2Szf8m2Yqc/MN+1r7BM/C/rfCtRDWEozSkbMjq7NTY5t13dqE6dhG3wsSqlp+C9DDi0ifLrqmT1f6BgUaPjiHN0lJAGAfvpWcI4XjiHIMF6ocO/EjmMa9HeelQ1LT1PRpoce/sJwOTCQtc+kfGQp6Uxl+9JWtmL+jNEaJ0gKBgbsygR58B4sHfwV5aliVWg3vCHv6ymHcdG868IzrVsK6pnd71+/dsmXxbD3m3/W2ybn0T1/bQFe5I8euX+9ybuqbXMPbDA7ZCKV4uMOecyz+9OfmWvj9x9zEw6JW+JuOX298WhE6qtwLEV3TL1tb/AWj7sqwfqaro/sdmcyM+vBp2XzzDEzaBiQsNH+e+eeTjQ+ohwqnG0BYhfVzNYKrkOmpyauYYH8KvD8G6RPBszrC6Jq+ystl0ghzXEZjR5+O4+iZwTh+eG7Yqa5rq/3hGzzTSkXKn4YgIITVABjBP+ZzP7i8ydasrZCetuCHvIvFRs92SEdlpnCYE2LOQi12OA7RNf1yjrphHIyE9yOXPnfNMDg70DpdTf8DWDKs5rRvMVwChAWrUgh21HzllD0NrigqlxKVC7bKQuOOWeGiuI7OTkhb6T8C/Xw3xkel9cXxj6eIxiY3Hhx3X9dHsWJwDaa3l1+zd9Mt/F4tUk/ijWnP+/DBb8++LWqvnh0c7NDGta0pO7kl6zpb8AJzEUr91kYEFdeBRCt69Nm4+AsSl6jwjVGckY6VwPwUpLhLURx9xliWvxFHi/w+zB0SWCnLsVpxnoXesSI2ngp4zmRJXPgf/0IleGH51R6uwjeX5MR76qtITh7+8N9Cp4GF7Sm8Zl1s35pVXVomm/5c1vG+Wm284njHJeJq44/FjixUAld8w7uijW6+xo3MhW2S6+oIVHumqpewglJ87+LFtcFUcqur+1vxwPcZJqYPMOyhXw6GKI4+4/GwQpjCBhe+6XDIpFb06PM+np5hhS5eXzw9bLJ2pBLGv4Fe36BU4kA6IQGw8MUY6MJywVeqDs54Z69zrWdY7jI3G1ZtUiSV6zzDI3IqLLew/wu9jspl+yywrA1pEed5QceXPT3jBb/DLrA5ua5UHZ/4eMTbFx+fwvE3DJO8fANrjlctL7giJhRx9MrfR89R+VgJ1Y6currONuwd0FNsxwtV02mPlWGLy1TxlPHf6Hh8PH9xesvw9yRM+5PIRT2ZIgVKKZxWUY/PT8aTFPji0i3m4Ed1hDWV/7uY9bNGtiGqAyorJRWSqCgdkrQiR5KddrwPlsq8xfhG6efvx8dvtiQczDdmmPaldDBxSVYeZ3GJXxUMWzxq5d4fPz7Ym7X1HTAL2A7NqtJHEQ3qtCPjw3LoxB/v+OMZ5VVzR5aHWRuErYA+y4uu6fM+Xl9J/lh7bFvbY+vmv0bWos9tsXAWSLIiaSnyApHxJz6SbFSFuXTw8i86r5vVRW1m+6IHmUREAuI0lcREP5q2ztWPrO9/YK54xsXHI56+cePvj3qBfimZNS+J5FWMcrjptThsRd4dPX9+DcwEd5iQphwozfkCwJKaLv9ewHYKeicfSudwShcnJDBBOD3MTwGRO0cqLIj73jQTaejDBYaPHTBgJ/i5+HyYijd95sFhRzkzB7yL2IrCtGwezj9nOQVTUlfPwiicifnu5J0qHHd8mXHIG6ZD7JQqIk9kJK6QwAokMWRUhMaSeJ0vcfaiXNhs7PyuwpYV51Vh+EM/Pu2M9GckpyiOuZm2Wvtom+Y4me8xPbvIIujzPu6Wbvyt1ejL3U7Sv/v754ZHsORwaX3KGdwiJhO5pzY+Mivk/urVq52jTnIXlEc78LKu8qAMx/G8kHhyOicosz0ovM3IrIDKb15HSvDoOoqv+hMLYCOWI8ash0vmufryZVcqLz4u8fym3ov1xT/EVp4UDUTn4/iS0xW+sZTMojASmLqGp64iH4FRXJQ2TKj+lv7JVRTVxwQkm9APyaboGnGMzSVR6VR87ipsVT645ovOzi5tamb6zzB1/nqzjz+s9YetwLioZW5C8jq08K9+1IxS8yQsfF6ap1WL2BK8VOaJc6NbPcPrx7wJ++hmHQUPvOaQgMJ3ETtVlERDP0wVsQ19uPgcLQyt/Dc+p4jlL6k/1xa2qVyh5ApEzEoErm/DsPOTXV3de6anq36roFyRdYWVbVSshHJEMt98saIXfIu9koplYZL6m/hUz7kS/Jt0/PE8+Jj6X/Y6k+fv2tA1BKIvB/OC8WnGAmp5dpqx3XW36fjgYK/upXbhFd+BrRlqn16MfkrspkoC4hnirYjbUVWzs4rHx8uL3cerjwt0TA4RcBcsuX8Rn97q54okVsCKJJ9YkSvy1gJR4aOtnAr6OJP+L13d+BKBKMEzHhAfgDh6yzD+vqHjTDDvYpAxLqwEfVdbE9bpIEi6V27tdLP+LnzPrWS/XrRTnz5d4e79+LNY7r4kP+Z7Jv7z1LyPL0B4Tb+ci9cXLy+eJ54e8Rw//rqqcUR+HOrgYVprJbBl5E2w63oI64J7k8mUDZLGhmAXs19ucVkxP8gKQu4ptCxbMy2TW3KAGI4u1P207ztH3CDx/7bL+Cdse8h1Zy5ev7Dp8uHD7blJuy0J69TV8XW6l92Dl3cbLG6g98idbhDgdANcY1ZY9o2N4mpNr96GRf1Da3Wui0RW69F1bWslvp81LD2xDTOGu9DhQzBc7AcYfYlkAqo6A6ozqHNBYJTESGitTGShsp0qQSxT4AcoPJQw0LBlEPhBFakHDjoLvY+XgVIyg7WK77tG8n9pvpHXBbXL+OMBd7FN6KLu+uf27esbX9RHdIkLbxvCGhgYsDb3v2a7obt7YHakpKmYiqgE2ioqJbzIOszXcSov/DAzRRNehyJKvPx4+igv/ZLKEaCkoZxUFMYXE1I8f7Xyq/UHp9CkAlfbCF3NdlhS7IQguA0N2wiJYy1ktC5IISb1Okr5jSYruy2SGlYkIkKLSC3yy/WrUWGzSnjaTUX/QEhYQuNewLCdwBFKRkpOuAfr4sBnwwfDg6B0MHagORhBHNqHw5WxTwYav6lAt/42MBLfrYZXHO9w3Ftr/B0Hp0pY+tkD29ddAz5ln8NGjddSlNPyhHV8aKjbzAS7Dd3egRcvgRHJWyrHASw9Pyp+vlSxEluH0jWAGQF9VVZMpxHVRZ/xSKQU4PR5Xy0+/sLQZCFS9DN/XKtSeh5WrL2x+sMyZv+W67+vwz5eC7oDx12rm9pakNg639B68XL3Qh+2Bm94DySxHhg0daBHSQhiCbyyyMS9SDi8RhEHyYP1qD9qak0S4VGn5VYrSTRKEkKHWYYiHuQmCYb/YKYLqS+3H5LYckxJmz6qhSYJ5yNgzgtuclESpncBfN8Fj3lgJdCSGpHcGECoxrouMoHjzO+4evLLMB1VKxJV8Wyj8Q80Ix043jnTu32hlTdkh08Yn7UWcnio9Qs3pzZm0lN7LCOxIdIZxbuQ1+lAVFFxJB7aMeUIiPkiPRPjo2v6dPF4FVjHnxi/oQK0Az/bymf5uI7ayGLj6eM63nrbF5VNXzV7nv3HViQL3JAEaSV1z0iBNJIgJBCYkSKJYbdjEiSHw7a0BI5s6QBBbINUswMUsQ6E11UojZGccA9dcZDBdQY+TgyFTgkiEKYyIBvstAQzIRk8cBJ+A2j4gZFDFWAqjAp3V5IhQYYwwUJ57ByS0QINzMYK8FyrRxt3KNbXb2qG/UVNT5wDyCt6/A0boGbdqzPA4tD21SPquWihPy1FWHjQzYs3xnZkM95ePIZd8RccBx1xez/UPowp46I4+uVcLD9/8Plq0Gfy6Jp+uez5uqPyY+UtNN5DuVQc06drpv4bIDXsjtsMpdkOSC79QK4Xog3PzwF4IBNCBiIhpBSpoE8jioqWaM2KCRuOqwLXgIQItKIe0lCYD/lZjoqgGIo0+J++SsmMKA8eqQ21qHuUh2PfzQHN6vgG6vVK8GfmQhcbr3Yff+AEi3rtdCtNF8u/eIWD2ATXx4Mg0XH1Vr/hm7sDQw8PvyvTrriKWocEE0C6oM/kJRJHrAykgj6WGlq+JUifu6YfS6pu4/UVa6AgQcXKi78ApekhcWFBwMstEkTX9MvVHw+Lt2ex+4+Pg62CxgsHEwZbAdgWIJfA+ICkfDRYtyAwWWB7Ay8F8VT/KB0bOJ4Gx/CQfUKSwZGrJJs8iZHYgB0zMB+zk8hopQ8hEcEog2ERASIBAOL5fIrVIKLxXKtzKPZLgZUckvGf+/nH5HsK0+Uz3316zeAjj3D23Lwu90w0ZwNpiZ72UnvwfO/AXIFnXfLBxLOsHn6yiLqmr3oQ04LHX9hq6TFHI6txrlYWkHj98UT1lh8vryR/rIKq6aO204drdP8hRWF3itmLUw42QnW1CSTSA2IAIXkWOBYKLWw8wjVqNkEaFqjFwLQNJhWI4ZiFoiq6QX0SbsEo6HMoWVFCYprwjw6FP65BXCSoXJwiOwpnFK9A6yiWkQhRDwA9XAfpwLS/AqnqSKP7jwapquiznXFXMn6x8Yg/X/HySvLHKqiaPlZfvf0H6BloAM/v3tpzHkJwUx59Uxb4GE5Lfnt2ZGS16SX3+F5mq4llfegtwnaSR6J5EC8hPUV6IDaS6aDnoZ5DpYe6AtdgOr4pyhXLNPH0KKCo/DDP7N+S+mI6qHzbQr7AbdgW+iylWn0l5cf6E29ftfSN6L9lGl04x30tOtMHklmLhxpClW9BL4S1T+i2uNPRp+0FflD0AN9A9LHnmHGBBfJCE3QL9ALiguoJqiu+64gDzWGIIAlhzhaSDsMV/yjJi3BxyY9khP9BXBSzEMY/AFORGMmM1yyKZfmm+ZKuJf4uMHV1THEj+o+S864E7zYd/8Dliqp2MamvPbt9uw4dY/M4DnXTuMuXx/scK9iHLcbryzfKwvOJBSGNPl10Tb8WV0xYyMFymDdXXv46Kq+ueChJQI4WlSUqf8StOf5CNdXqr9afxe8/Gm6AoLAqGKyCGLSG350ACFzKM2FvaeOseEhFOsjItdQ2S6wYYmkOdl2+CfLBvmpIV55vYY2Qn6uAxAWC40zbhxSmWArcQj0TSIiSU37mx0kgVesgLereOSz8E5EWJa6Qzyh1hZEcO7xY4Ct9WLfNvwa+5xA2h6uGP6vMPxMsZ8WNf0Gf+cOCw9usq51a5+kNG9Sn1IjJsjoO0LI7EpVra/vxhPdFs7JyjYriohlbTAKGxO1C6oJEljseOLqmTxfPX66OucJK66OUNzuDjK7p05UIbGwX25I/vrj4BYrnD0uZ/Rtvfzz9fPsPIkgkbL0DZNMFRVEHFEY2ZCBTcwMLdfCsCCVN4SwpE9YG+ARNgD24IDHYSYB1yNCYDkLRFoC8oOUG40AKQx5IYyAmlQ6SF7dDoSof0hbJiApzqLs43aPc5UG+AvVQ/4T7nGQFQiJ5kdbAkmgH2Sz0FaWB4gLrad22v4nmuvPt/yzCc1+V4t0e4z93r8PYwDCvNANxLSthkai0jmCf5+jq6y6Y4SkjTfoKprgWufj9Dg3AozBmiK7pl3H8WDH3u0YfLY6u6c/HVS2vSvsxoygyTF2q/qNenEyjJ5NJPYGPRidME1M1/JYqwyoNq32Ihu4J0z5M+WA2DoqwEI9wfmEaEhQJzPNsKNOh0jJwrfRVJqbnNOrC6IGwQFzgHiKrpCuq2kE+FizrMXWE7IWCEKemg7hSiimOQchNIC3EchqpHlBO95TshQThkwF5TL9k+Mm/MZLGzVo3AlQdLzagDle1vCYd/wU9/5Z5ZcyZPnNow/J8ZHZZCGtsbKw3rdn7nIzTx42o0WfP1cPKuYJ6XPFs5q7p8zmKx5v8cdcxDeMPOR1fj+gh4X10TV/dukiC+nJPeLy8eH1hrtm/UVvpKxcrP2oL/dlcs1eQ9PCeo73wGcp+R2Xyvlp74vH19B9EkoA2CYKUlcQqJCQj6vkoyBjh/IurcJiy4Zxy2FMptRBO7sK3kClR0UYUZAX+wMqfC1ICiYHMYBsKSQsSFKaAUEqZLoiK00ASFsgpN0UEUWE6yOkiiArE6NmUb91OWwAAEuNJREFUszCNxA0c/uBoF04W86YOarWQAYjGmHBBEIkUiXEqib025hNmInWknv6zKo77Sh3/RvcfSx5Xl4O4yr5Y7NxiuEEQFT4uvs8yrF5VvosX28LLS185vsiRHkc9YPiJtrCbJIzHyx3gJdfpl80flZWPR6qIxJghus7xjSqj4E9UNn2VvN76Csqq6XIR+48OYEeGlcAaXhLfQwxNQcgQEI9IErOOxBUuCuDLz9Arm5iyOTaYy7Jty8hAb2VCm43ZmwnwQTbgFpAWyA4SGEKhaMdgYNpngKAcpeMCAfFjYGE4yAqco3RZ0LorUqOkxVkf6AgzvFBPFbISSsOUD+WRrWijpcwbmI4Gomj4yxAIv4bPVU+q9sfxk/EP36UlfP49N3vNWr/m9CZdX/zzjDDofAoW3XHVr9NPHdB8p2+uORl/mjFLUktMbBTtkSJbpLCRxYyD5OpJps/4+DJuvq5IIgoLqfi3pLzcRuloM7QSzKImsBSWG80LVKkxkSvOkFHaCjL5QvrPN9rwvaSVtEg2ICmQCNRQkGjwnlOpNktMxdds+GxcRFrIyCmhTQMEUJjl4qwtzPbAOVC8o0DUZroGiMmBpEUfRBZ4DvRUJC4/1GOpij1ML9XU0PJdFxIZGsOpJkkOQ0YdFh5CPodKl0WfRqQkVUhTIEf1iN4GkdJU4Rx/xsJfHkpfMv4cd+IAUJb1+YdkfSU7NXp6+/bti7qquKiEdfVq0Gl2TO2DonYzAcUTCv0slCB8FuGia/q8j7iAPl30aNIPHVKq55w+00MvjFLo05WmV8H5P9XLzydVF/H0xbGl9UGfjm226B98po2u6fO+0f3H9M7SbT1h+FoS00ybSmm+5/RZHxzbwWvVHtSvNuLRR4BKl0vPtHRhWh1SESUsNBkH0qjvNiAx4MA1JDBc4yBmTPmwJArJCFM+dA1SE5XsmFIqRTzKUrZYkMio78IUkauFoW6Mcbin1GWrOR8nqOEUEUQFmuK3ZdEw6NFg92s9j3XLp0CIsAuS8VdPkcKhCZ9/KAc81x/c3NdzFjy6KHZc0YPNh7VhDg9jYnh4co9n2dvx1nLalys7Rimx2xLGigfEJBQ0Xr149FkBVb04BQiTlPAFbTiDxRGKM1pJf5AgarPKG0sQu413N07hkCANO5m0fSebtCwziW5DqMISHTRMJCDF23inYbmsauNCHq+Vn1ta5dErzKN8psP/RiIXVpAegKJQ30Y06AQSEXdAIpdL0wbTNsLpoSIeCwRJHZYBpTusIFAIlPC0iqL5AxoCcmLPQkkLdITRCc0dSFqQD1A51g4pLOXmhZCwDMO2BpH9q6ZtDoU4oKQIy5yEynFnv+mzw+0+/q3Sf5yT4aYs89zq1alLIK7wYeQANcCpgW5AOaqIARzxcudrXrMTz+cuFAxBI1Rw06eLKz3xsnDikt+Mmr9mWBlXrbySeJAlTt8MXJImXHRNv0zx2GpWZ3r0KKqzXHlRHH26+fQf+mkbg56ADjppUuihMJl7BEhGtmnj+4Phj1lEUAzjaQcgJkzcqPPmlI/yjdJV8Trf/+hbeYyP0uMS0zSVF8SEaSELxkhR6a7IC1IVHkNMBWEkCljxYQ7YXgWKrDCHw2ohJDDKSkr5Tst3TANBp7DdgkTFKSOpxYMtV2i3hXQoJjwbBo3L4oibAajdXmSbCl01PEvi6x3PetMvwfi3cv+xHpPRk8GZvo6Oq5y5FvZlvtfqQZ5v5igfH7iRdHqrn/H24McyEb6ejCUxkCwqEATi8JDNKtWRIxI6wrLj+aOyQgIqLT/KTZ+OLYnCFGHE60PdSgzIgVmcfrbt5evjYkB97VeNyv8plx/UYoChElhYgB7KtD3PAUWRpejIVNzNAjNzyDuYRqnrMF5dIx4CkTrlAJQRps2FhZIX5lqYwfFLOygTBeSmkUhDEgNvIC7MR5ML6JhozoCpn+858G1utbH4j7BRT0Z9VlZzbTyOKJCKeCjkqYbkFBJh+DXCPVcKuXKIFURlm8WBoZSFOBCYmk6i33ioT+Kw1CegEMspcFfe+M8+rRySNum/YUwm9I7TPT04NWOBDg/nwtz16xMbEp3mPswIOuI6G7wBSlynz1pQWZEIP0smIcEEWN3QsfJDn+nj9FFSPh73wilgdE2f+eOumo4pPqWI2kI/LKu4RVXLq7H/kJopRUFhnkj4joNT9KC/BlZgAIVD1I+cwASVUBgCIsF1KEQxJLpGPKHGP5LYrAs5ikREnmJ61KF4K5cG1+REVS6HC1JauGroYYcOrLWUEp6MSF0UpoZgK5hV2dgEzeNLYbMBnRQZEUPnOwGMT6GOp57Kg/0WTCMYjnsQHpDmlJFTR5IcNt/alvV1PdF5NsKcLSpGG03L6QcjnWDpeIXqgFYb//A9wGi1+fMPDeqY7nae6uvT530KKp+JebkhHJyX6Fqz33X83tCgRr1d6gXBH+XnFtEwDmEVMBfAtbK7UvHxVTb1gGLQokbFVBZMDtUJHmT+dsPxmqSRU2nkrxkWxhfbOfEVwLov4sIaonSRr1qZy6vy8xliPbn+qPjYHxSm6mJwdB357DfaVtJ/BMLeW0/ayVQSR6TA5AB7h8kwmFeRrFBUSFYkJk7GsM+F5SuiCQmFBEriCskHYcxfEM9ozBjBS/yaKD//rBzndjD3BHswAcmqwFdhOWGugCw5owwpEt9sxMlVGWQEK4GlcAOi1XAcL6eLICfdcMFmNDnH7xdO/YTCHTkxM2B6EiSPbuXmHrZO5eJy4Iu6lfo2Gu8orFfA+PM9UMjnHpBIx9v+/Q9Wm8nMfcMTE1d7u7vP4Ec6fzy1wqOGP3xI63JHjgT2/rsy/boTbMP0pe78dVUWS5wjK0VUjIqNN3kA62ZYeIcfxofXDFNFUZBTT4W6m71mWBlXrb4yWSoEYWh0jVIUdJEmzA6o18mRDN7dCplCEkK8IiP4WRAU9OO8j5wimZB3SAhKYlJEphLkJCaSEP7PEdxsfVG5UWFxP6qPPngTlvBED6IWLN8dTPmg8ocFPPRXWBdlFWqqCEmLlhAgLRtKdLaAkpQNfRUM6DUQGOUiTimNEaT7FvRVw/F6K91XG4/mHf9KPaovvJ36jzfSS1mpc6mUdhnvhZL4a0GjZsKBKK+n0+kt0AHvztCAsIzjeeAeUKVPF1l101cBWCICxcGmcPalUeHRnyguIsJYej79fFnpKxdjrKhu+spVK69Ke+OW6SXlh7Xk/8b7D5umJKY6nUiQAEmp5ZKoD5Ay8kTFzcAsJIrL+ZREYCWAaU4ubXRNP8wfpuSuGubHMwCJhSuGPCiYJIMw5GV6xkfY0Wd+WoPiBAlEhvnzNluw3SKZYTkQHIQ5J1RQDg7Lw/QQGUIdFp4wcC9KgQ/7KkxjucEHROVmc3ZaCFfEjMxUvlPvBZ0WhT1Q1zG06hQKyGPA9qEh4bPRJuO/0p//WvoPyXpa77BPr9L1mn64QiJRT0vlP3jg1oyn0/th1dnN6VOkQyh8wVRuPpLUH9GHi+sckD4vLaj43NSHLwfv8cKjbGxdgc97JUpFpIRbpovKYHTUltkpHYkyEqNYf1gWfZU+Vn+JiMZERS4qKyTAMv1hmwoItLT/aL6OL9cn8A4mknhDkR5CUuh43ExhAXjnIQVxRQ9UwnU1JM73meHISINzlY/1Ir3jwNQBtui5IpU3K2mFZbEUEhgJiHlZhkqI8rws7hPFxBHlZ5romu1CGRSv2HyQEQiLPkwefJcSk2o0mU+F8Z46KswbKd8qvRUWiq7BsuoYlF/q+Jd839p4/KNnFHhw+Fbc819r/y3dHO7qsk9D2lLPBvEq59SLXC6CYSCq1OTk5F48g+FxLyQSvvyzhFK8taaYL1ACiYdkkSOg/HVO4irmAySLlR8+yHy5wnaWysTF7YmnRxdyecMXFDcxx3KjNCUEGUtb2r4Iixwh5qebxEG58v2Hkh0ERqlLp5kClNLkngLSyF8XExrZi089SYbFm9DRg1FCbEKyoxQE8sqFkTOgTwrDVIPCP/k8qpRcGrxMEXmxnpwjUeXbhjpgA2bBNsp0HPQWOiwNOnddw5YcNIdSFyzTlUKehEbrLDxDNn7osjCXPw5FO22qgPfKHn/pf8XxxxetvSvYlX8BxBVKCdGDmPPDhz0W+Oijjxof//jHt+Hh2oko/qKqFx4l0BJQmQIwS3RNn/fxZXqGFbq4nQzimI9tKFs+S1S1KJ9XoQkEfUQwtKg98fSzefMMwmx5F28/IqK2RLjM2b54/gX0H0v6+IiDZSVgHJogfYWNzDMUpCtsUkKg4pKIUJAsnNTlkjNWzfBCPMOhi8JAiCSqPBmyMFVQ1OdctQwLywNZ5cPCpDl80D6IhjzBASQF0sUeREpSJCyE4ceSpJXbEO2612AHepaTSRn/YrtEAD3n8xV/ntv4+S96nyGRO9gccQZmEPiBK3bRi5kPHcG+v2T32n2+53bxNY8oQyWIB0SR9OmqxMeTh5lm/8azx8srEbCQNSqTpUTX+eagwCiPqiWeQAXO/olHV2tPaYUFjWCxsQJjt7MV564K6iOB2Xj1adNGa3PqDMFl4XwSSnAQCUIibqFPlwtTwbiOkoSR+JvLx3KYv9BXaSrlLyifSegQBNMFTAWhiIeFArRZnoX+8Y2EzKhbnuNlYO9wFpZXkwoH5Kmj/6qOFTz+0n8+Y4Y/2pVIcJqY35+YJ6wjEN33ZzL9kPY3hWjx6Sv+RcByLIQAZZYQJSn2C944FRF/QkvjQ31XZDcV04GVPOGl+WdJEhVGbaNPV3d7Va7ZP83U/1ACgzTjkg4gjUFvHhGWkrPAPnnBLNeFSEKKfAbzOu9yBAUdVj6cZURpZuU3XOUILioD93x2IEnxxFGc9c6M+M93cHSNZVzHquBQDeMn4x898wQ2us7pgGvAbyU8/z5e5EupVEqtJirCgp4KHxVI7sbrQIYKHyKF3+yvIvEEX8FsQNk9qXwgBpgQwNo7p9OKrukzfdzF08+WTmYrV35YF+tU8bEpYImInGtLVH+8PkzZ8iQcVpjrawXCLOHH5uo/9JmWjbXHJMQcNhVW8bOklbsumnJw7Q+cgtVK2mJxAUNNKKncp54KHuzAwnjCE01B1UIHA1A80ik/IkdIfTj6mE8MXh2sSKZhdHUd+IcDykwFLj4eMv7Fv+il75c8/xEmeHaojD+jZ4LgbsPVVvO5iutg4oSAFCCiAqVp/jrUKRU8mzVexsube05ff3tiD0Q1wkP/ojrYgeiaftiheHsjLKL4GrudTxYvb0H9h94bpzeAwCD4cAqJf5SmlBjFH5D8ChVC1Q8KyIkrjtgbE64y4lqtINJHel5Hq4q4ZdsYzsWBWaU+rkFWtFzQbiNNnWciNbT/qD4+Hitq/FdE/3mWzmvQU+W4hZZPenQuRHRNfylcvfVjpUqz0Tj6dNE1/fm4euufTx1z5am3/hr6z6lj9A9ElneKwPJ3IYEVEpqKys0YFeUhoDBP4TV/+bjVIkfqKuu8/ixC/+tqR73111V4DYnrrb+G8a+h1tkk9dY/m7MxV7XUzwdP3ApBgCYG6Co+L6/+kcB4X0g0ERFFzwXjojBc5q8ZhqOKtWEoROmLEwSWBIHowVySyqSS5kIABEYhisRFEov8SgRWGD6K9OMgq8IwBIkTBBYXASGsxcW3pUoHgfF5iIiLPv9x+03kuLxMqaqsUj1KJL4gsFgICGEtFrJtUG6OwDhtJHHhqLOl+dBAG0AnXRAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBIGVhMD/D0fV/fpMMM+gAAAAAElFTkSuQmCC' } };exports.default = _default;

/***/ }),
/* 100 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/noticeBar.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:17:13
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/noticeBar.js
                                                                                                      */var _default =
{
  // noticeBar
  noticeBar: {
    text: function text() {return [];},
    direction: 'row',
    step: false,
    icon: 'volume',
    mode: '',
    color: '#f9ae3d',
    bgColor: '#fdf6ec',
    speed: 80,
    fontSize: 14,
    duration: 2000,
    disableTouch: true,
    url: '',
    linkType: 'navigateTo' } };exports.default = _default;

/***/ }),
/* 101 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/notify.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:10:21
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/notify.js
                                                                                                      */var _default =
{
  // notify组件
  notify: {
    top: 0,
    type: 'primary',
    color: '#ffffff',
    bgColor: '',
    message: '',
    duration: 3000,
    fontSize: 15,
    safeAreaInsetTop: false } };exports.default = _default;

/***/ }),
/* 102 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/numberBox.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:11:46
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/numberBox.js
                                                                                                      */var _default =
{
  // 步进器组件
  numberBox: {
    name: '',
    value: 0,
    min: 1,
    max: Number.MAX_SAFE_INTEGER,
    step: 1,
    integer: false,
    disabled: false,
    disabledInput: false,
    asyncChange: false,
    inputWidth: 35,
    showMinus: true,
    showPlus: true,
    decimalLength: null,
    longPress: true,
    color: '#323233',
    buttonSize: 30,
    bgColor: '#EBECEE',
    cursorSpacing: 100,
    disableMinus: false,
    disablePlus: false,
    iconStyle: '' } };exports.default = _default;

/***/ }),
/* 103 */
/*!********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/numberKeyboard.js ***!
  \********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:08:05
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/numberKeyboard.js
                                                                                                      */var _default =
{
  // 数字键盘
  numberKeyboard: {
    mode: 'number',
    dotDisabled: false,
    random: false } };exports.default = _default;

/***/ }),
/* 104 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/overlay.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:06:50
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/overlay.js
                                                                                                      */var _default =
{
  // overlay组件
  overlay: {
    show: false,
    zIndex: 10070,
    duration: 300,
    opacity: 0.5 } };exports.default = _default;

/***/ }),
/* 105 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/parse.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:17:33
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/parse.js
                                                                                                      */var _default =
{
  // parse
  parse: {
    copyLink: true,
    errorImg: '',
    lazyLoad: false,
    loadingImg: '',
    pauseVideo: true,
    previewImg: true,
    setTitle: true,
    showImgMenu: true } };exports.default = _default;

/***/ }),
/* 106 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/picker.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:18:20
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/picker.js
                                                                                                      */var _default =
{
  // picker
  picker: {
    show: false,
    showToolbar: true,
    title: '',
    columns: function columns() {return [];},
    loading: false,
    itemHeight: 44,
    cancelText: '取消',
    confirmText: '确定',
    cancelColor: '#909193',
    confirmColor: '#3c9cff',
    visibleItemCount: 5,
    keyName: 'text',
    closeOnClickOverlay: false,
    defaultIndex: function defaultIndex() {return [];},
    immediateChange: false } };exports.default = _default;

/***/ }),
/* 107 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/popup.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:06:33
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/popup.js
                                                                                                      */var _default =
{
  // popup组件
  popup: {
    show: false,
    overlay: true,
    mode: 'bottom',
    duration: 300,
    closeable: false,
    overlayStyle: function overlayStyle() {},
    closeOnClickOverlay: true,
    zIndex: 10075,
    safeAreaInsetBottom: true,
    safeAreaInsetTop: false,
    closeIconPos: 'top-right',
    round: 0,
    zoom: true,
    bgColor: '',
    overlayOpacity: 0.5 } };exports.default = _default;

/***/ }),
/* 108 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/radio.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:02:34
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/radio.js
                                                                                                      */var _default =
{
  // radio组件
  radio: {
    name: '',
    shape: '',
    disabled: '',
    labelDisabled: '',
    activeColor: '',
    inactiveColor: '',
    iconSize: '',
    labelSize: '',
    label: '',
    labelColor: '',
    size: '',
    iconColor: '',
    placement: '' } };exports.default = _default;

/***/ }),
/* 109 */
/*!****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/radioGroup.js ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:03:12
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/radioGroup.js
                                                                                                      */var _default =
{
  // radio-group组件
  radioGroup: {
    value: '',
    disabled: false,
    shape: 'circle',
    activeColor: '#2979ff',
    inactiveColor: '#c8c9cc',
    name: '',
    size: 18,
    placement: 'row',
    label: '',
    labelColor: '#303133',
    labelSize: 14,
    labelDisabled: false,
    iconColor: '#ffffff',
    iconSize: 12,
    borderBottom: false,
    iconPlacement: 'left' } };exports.default = _default;

/***/ }),
/* 110 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/rate.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:05:09
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/rate.js
                                                                                                      */var _default =
{
  // rate组件
  rate: {
    value: 1,
    count: 5,
    disabled: false,
    size: 18,
    inactiveColor: '#b2b2b2',
    activeColor: '#FA3534',
    gutter: 4,
    minCount: 1,
    allowHalf: false,
    activeIcon: 'star-fill',
    inactiveIcon: 'star',
    touchable: true } };exports.default = _default;

/***/ }),
/* 111 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/readMore.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:18:41
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/readMore.js
                                                                                                      */var _default =
{
  // readMore
  readMore: {
    showHeight: 400,
    toggle: false,
    closeText: '展开阅读全文',
    openText: '收起',
    color: '#2979ff',
    fontSize: 14,
    textIndent: '2em',
    name: '' } };exports.default = _default;

/***/ }),
/* 112 */
/*!*********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/row.js ***!
  \*********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:18:58
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/row.js
                                                                                                      */var _default =
{
  // row
  row: {
    gutter: 0,
    justify: 'start',
    align: 'center' } };exports.default = _default;

/***/ }),
/* 113 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/rowNotice.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:19:13
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/rowNotice.js
                                                                                                      */var _default =
{
  // rowNotice
  rowNotice: {
    text: '',
    icon: 'volume',
    mode: '',
    color: '#f9ae3d',
    bgColor: '#fdf6ec',
    fontSize: 14,
    speed: 80 } };exports.default = _default;

/***/ }),
/* 114 */
/*!****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/scrollList.js ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:19:28
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/scrollList.js
                                                                                                      */var _default =
{
  // scrollList
  scrollList: {
    indicatorWidth: 50,
    indicatorBarWidth: 20,
    indicator: true,
    indicatorColor: '#f2f2f2',
    indicatorActiveColor: '#3c9cff',
    indicatorStyle: '' } };exports.default = _default;

/***/ }),
/* 115 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/search.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:19:45
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/search.js
                                                                                                      */var _default =
{
  // search
  search: {
    shape: 'round',
    bgColor: '#f2f2f2',
    placeholder: '请输入关键字',
    clearabled: true,
    focus: false,
    showAction: true,
    actionStyle: function actionStyle() {return {};},
    actionText: '搜索',
    inputAlign: 'left',
    inputStyle: function inputStyle() {return {};},
    disabled: false,
    borderColor: 'transparent',
    searchIconColor: '#909399',
    searchIconSize: 22,
    color: '#606266',
    placeholderColor: '#909399',
    searchIcon: 'search',
    margin: '0',
    animation: false,
    value: '',
    maxlength: '-1',
    height: 32,
    label: null } };exports.default = _default;

/***/ }),
/* 116 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/section.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:07:33
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/section.js
                                                                                                      */var _default =
{
  // u-section组件
  section: {
    title: '',
    subTitle: '更多',
    right: true,
    fontSize: 15,
    bold: true,
    color: '#303133',
    subColor: '#909399',
    showLine: true,
    lineColor: '',
    arrow: true } };exports.default = _default;

/***/ }),
/* 117 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/skeleton.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:20:14
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/skeleton.js
                                                                                                      */var _default =
{
  // skeleton
  skeleton: {
    loading: true,
    animate: true,
    rows: 0,
    rowsWidth: '100%',
    rowsHeight: 18,
    title: true,
    titleWidth: '50%',
    titleHeight: 18,
    avatar: false,
    avatarSize: 32,
    avatarShape: 'circle' } };exports.default = _default;

/***/ }),
/* 118 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/slider.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:08:25
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/slider.js
                                                                                                      */var _default =
{
  // slider组件
  slider: {
    value: 0,
    blockSize: 18,
    min: 0,
    max: 100,
    step: 1,
    activeColor: '#2979ff',
    inactiveColor: '#c0c4cc',
    blockColor: '#ffffff',
    showValue: false,
    disabled: false,
    blockStyle: function blockStyle() {} } };exports.default = _default;

/***/ }),
/* 119 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/statusBar.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:20:39
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/statusBar.js
                                                                                                      */var _default =
{
  // statusBar
  statusBar: {
    bgColor: 'transparent' } };exports.default = _default;

/***/ }),
/* 120 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/steps.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:12:37
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/steps.js
                                                                                                      */var _default =
{
  // steps组件
  steps: {
    direction: 'row',
    current: 0,
    activeColor: '#3c9cff',
    inactiveColor: '#969799',
    activeIcon: '',
    inactiveIcon: '',
    dot: false } };exports.default = _default;

/***/ }),
/* 121 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/stepsItem.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:12:55
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/stepsItem.js
                                                                                                      */var _default =
{
  // steps-item组件
  stepsItem: {
    title: '',
    desc: '',
    iconSize: 17,
    error: false } };exports.default = _default;

/***/ }),
/* 122 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/sticky.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:01:30
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/sticky.js
                                                                                                      */var _default =
{
  // sticky组件
  sticky: {
    offsetTop: 0,
    customNavHeight: 0,
    disabled: false,
    bgColor: 'transparent',
    zIndex: '',
    index: '' } };exports.default = _default;

/***/ }),
/* 123 */
/*!****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/subsection.js ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:12:20
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/subsection.js
                                                                                                      */var _default =
{
  // subsection组件
  subsection: {
    list: [],
    current: 0,
    activeColor: '#3c9cff',
    inactiveColor: '#303133',
    mode: 'button',
    fontSize: 12,
    bold: true,
    bgColor: '#eeeeef',
    keyName: 'name' } };exports.default = _default;

/***/ }),
/* 124 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/swipeAction.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:00:42
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/swipeAction.js
                                                                                                      */var _default =
{
  // swipe-action组件
  swipeAction: {
    autoClose: true } };exports.default = _default;

/***/ }),
/* 125 */
/*!*********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/swipeActionItem.js ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:01:13
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/swipeActionItem.js
                                                                                                      */var _default =
{
  // swipeActionItem 组件
  swipeActionItem: {
    show: false,
    name: '',
    disabled: false,
    threshold: 20,
    autoClose: true,
    options: [],
    duration: 300 } };exports.default = _default;

/***/ }),
/* 126 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/swiper.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:21:38
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/swiper.js
                                                                                                      */var _default =
{
  // swiper 组件
  swiper: {
    list: function list() {return [];},
    indicator: false,
    indicatorActiveColor: '#FFFFFF',
    indicatorInactiveColor: 'rgba(255, 255, 255, 0.35)',
    indicatorStyle: '',
    indicatorMode: 'line',
    autoplay: true,
    current: 0,
    currentItemId: '',
    interval: 3000,
    duration: 300,
    circular: false,
    previousMargin: 0,
    nextMargin: 0,
    acceleration: false,
    displayMultipleItems: 1,
    easingFunction: 'default',
    keyName: 'url',
    imgMode: 'aspectFill',
    height: 130,
    bgColor: '#f3f4f6',
    radius: 4,
    loading: false,
    showTitle: false } };exports.default = _default;

/***/ }),
/* 127 */
/*!**********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/swipterIndicator.js ***!
  \**********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:22:07
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/swiperIndicator.js
                                                                                                      */var _default =
{
  // swiperIndicator 组件
  swiperIndicator: {
    length: 0,
    current: 0,
    indicatorActiveColor: '',
    indicatorInactiveColor: '',
    indicatorMode: 'line' } };exports.default = _default;

/***/ }),
/* 128 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/switch.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:22:24
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/switch.js
                                                                                                      */var _default =
{
  // switch
  switch: {
    loading: false,
    disabled: false,
    size: 25,
    activeColor: '#2979ff',
    inactiveColor: '#ffffff',
    value: false,
    activeValue: true,
    inactiveValue: false,
    asyncChange: false,
    space: 0 } };exports.default = _default;

/***/ }),
/* 129 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/tabbar.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:22:40
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/tabbar.js
                                                                                                      */var _default =
{
  // tabbar
  tabbar: {
    value: null,
    safeAreaInsetBottom: true,
    border: true,
    zIndex: 1,
    activeColor: '#1989fa',
    inactiveColor: '#7d7e80',
    fixed: true,
    placeholder: true } };exports.default = _default;

/***/ }),
/* 130 */
/*!****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/tabbarItem.js ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:22:55
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/tabbarItem.js
                                                                                                      */var _default =
{
  //
  tabbarItem: {
    name: null,
    icon: '',
    badge: null,
    dot: false,
    text: '',
    badgeStyle: 'top: 6px;right:2px;' } };exports.default = _default;

/***/ }),
/* 131 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/tabs.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:23:14
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/tabs.js
                                                                                                      */var _default =
{
  //
  tabs: {
    duration: 300,
    list: function list() {return [];},
    lineColor: '#3c9cff',
    activeStyle: function activeStyle() {return {
        color: '#303133' };},

    inactiveStyle: function inactiveStyle() {return {
        color: '#606266' };},

    lineWidth: 20,
    lineHeight: 3,
    lineBgSize: 'cover',
    itemStyle: function itemStyle() {return {
        height: '44px' };},

    scrollable: true,
    current: 0,
    keyName: 'name' } };exports.default = _default;

/***/ }),
/* 132 */
/*!*********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/tag.js ***!
  \*********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:23:37
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/tag.js
                                                                                                      */var _default =
{
  // tag 组件
  tag: {
    type: 'primary',
    disabled: false,
    size: 'medium',
    shape: 'square',
    text: '',
    bgColor: '',
    color: '',
    borderColor: '',
    closeColor: '#C6C7CB',
    name: '',
    plainFill: false,
    plain: false,
    closable: false,
    show: true,
    icon: '' } };exports.default = _default;

/***/ }),
/* 133 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/text.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:23:58
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/text.js
                                                                                                      */var _default =
{
  // text 组件
  text: {
    type: '',
    show: true,
    text: '',
    prefixIcon: '',
    suffixIcon: '',
    mode: '',
    href: '',
    format: '',
    call: false,
    openType: '',
    bold: false,
    block: false,
    lines: '',
    color: '#303133',
    size: 15,
    iconStyle: function iconStyle() {return {
        fontSize: '15px' };},

    decoration: 'none',
    margin: 0,
    lineHeight: '',
    align: 'left',
    wordWrap: 'normal' } };exports.default = _default;

/***/ }),
/* 134 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/textarea.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:24:32
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/textarea.js
                                                                                                      */var _default =
{
  // textarea 组件
  textarea: {
    value: '',
    placeholder: '',
    placeholderClass: 'textarea-placeholder',
    placeholderStyle: 'color: #c0c4cc',
    height: 70,
    confirmType: 'done',
    disabled: false,
    count: false,
    focus: false,
    autoHeight: false,
    fixed: false,
    cursorSpacing: 0,
    cursor: '',
    showConfirmBar: true,
    selectionStart: -1,
    selectionEnd: -1,
    adjustPosition: true,
    disableDefaultPadding: false,
    holdKeyboard: false,
    maxlength: 140,
    border: 'surround',
    formatter: null } };exports.default = _default;

/***/ }),
/* 135 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/toast.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:07:07
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/toast.js
                                                                                                      */var _default =
{
  // toast组件
  toast: {
    zIndex: 10090,
    loading: false,
    text: '',
    icon: '',
    type: '',
    loadingMode: '',
    show: '',
    overlay: false,
    position: 'center',
    params: function params() {},
    duration: 2000,
    isTab: false,
    url: '',
    callback: null,
    back: false } };exports.default = _default;

/***/ }),
/* 136 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/toolbar.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:24:55
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/toolbar.js
                                                                                                      */var _default =
{
  // toolbar 组件
  toolbar: {
    show: true,
    cancelText: '取消',
    confirmText: '确认',
    cancelColor: '#909193',
    confirmColor: '#3c9cff',
    title: '' } };exports.default = _default;

/***/ }),
/* 137 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/tooltip.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:25:14
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/tooltip.js
                                                                                                      */var _default =
{
  // tooltip 组件
  tooltip: {
    text: '',
    copyText: '',
    size: 14,
    color: '#606266',
    bgColor: 'transparent',
    direction: 'top',
    zIndex: 10071,
    showCopy: true,
    buttons: function buttons() {return [];},
    overlay: true,
    showToast: true } };exports.default = _default;

/***/ }),
/* 138 */
/*!****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/transition.js ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 16:59:00
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/transition.js
                                                                                                      */var _default =
{
  // transition动画组件的props
  transition: {
    show: false,
    mode: 'fade',
    duration: '300',
    timingFunction: 'ease-out' } };exports.default = _default;

/***/ }),
/* 139 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/props/upload.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-20 16:44:21
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-20 17:09:50
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/libs/config/props/upload.js
                                                                                                      */var _default =
{
  // upload组件
  upload: {
    accept: 'image',
    capture: function capture() {return ['album', 'camera'];},
    compressed: true,
    camera: 'back',
    maxDuration: 60,
    uploadIcon: 'camera-fill',
    uploadIconColor: '#D3D4D6',
    useBeforeRead: false,
    previewFullImage: true,
    maxCount: 52,
    disabled: false,
    imageMode: 'aspectFill',
    name: '',
    sizeType: function sizeType() {return ['original', 'compressed'];},
    multiple: false,
    deletable: true,
    maxSize: Number.MAX_VALUE,
    fileList: function fileList() {return [];},
    uploadText: '',
    width: 80,
    height: 80,
    previewImage: true } };exports.default = _default;

/***/ }),
/* 140 */
/*!******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/config/zIndex.js ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; // uniapp在H5中各API的z-index值如下：
/**
 * actionsheet: 999
 * modal: 999
 * navigate: 998
 * tabbar: 998
 * toast: 999
 */var _default =

{
  toast: 10090,
  noNetwork: 10080,
  // popup包含popup，actionsheet，keyboard，picker的值
  popup: 10075,
  mask: 10070,
  navbar: 980,
  topTips: 975,
  sticky: 970,
  indexListSticky: 965 };exports.default = _default;

/***/ }),
/* 141 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/function/platform.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /**
                                                                                                      * 注意：
                                                                                                      * 此部分内容，在vue-cli模式下，需要在vue.config.js加入如下内容才有效：
                                                                                                      * module.exports = {
                                                                                                      *     transpileDependencies: ['uview-v2']
                                                                                                      * }
                                                                                                      */

var platform = 'none';






platform = 'vue2';















platform = 'weixin';



























platform = 'mp';var _default =














platform;exports.default = _default;

/***/ }),
/* 142 */,
/* 143 */,
/* 144 */,
/* 145 */,
/* 146 */,
/* 147 */,
/* 148 */,
/* 149 */,
/* 150 */,
/* 151 */,
/* 152 */,
/* 153 */,
/* 154 */,
/* 155 */,
/* 156 */,
/* 157 */,
/* 158 */,
/* 159 */,
/* 160 */,
/* 161 */,
/* 162 */,
/* 163 */,
/* 164 */,
/* 165 */,
/* 166 */,
/* 167 */,
/* 168 */,
/* 169 */,
/* 170 */,
/* 171 */,
/* 172 */,
/* 173 */,
/* 174 */,
/* 175 */,
/* 176 */,
/* 177 */,
/* 178 */,
/* 179 */,
/* 180 */,
/* 181 */,
/* 182 */,
/* 183 */,
/* 184 */,
/* 185 */,
/* 186 */,
/* 187 */,
/* 188 */,
/* 189 */,
/* 190 */,
/* 191 */,
/* 192 */,
/* 193 */,
/* 194 */,
/* 195 */,
/* 196 */
/*!*******************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/node_modules/hls.js/dist/hls.js ***!
  \*******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

typeof window!=="undefined"&&
function webpackUniversalModuleDefinition(root,factory){
if(true)
module.exports=factory();else
{}
}(this,function(){
return(/******/function(){// webpackBootstrap
/******/var __webpack_modules__={

/***/"./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/***/function srcConfigTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"enableStreamingMode":function enableStreamingMode(){return(/* binding */_enableStreamingMode);},
/* harmony export */"hlsDefaultConfig":function hlsDefaultConfig(){return(/* binding */_hlsDefaultConfig);},
/* harmony export */"mergeConfig":function mergeConfig(){return(/* binding */_mergeConfig);}
/* harmony export */});
/* harmony import */var _controller_abr_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./controller/abr-controller */"./src/controller/abr-controller.ts");
/* harmony import */var _controller_audio_stream_controller__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.ts");
/* harmony import */var _controller_audio_track_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.ts");
/* harmony import */var _controller_subtitle_stream_controller__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.ts");
/* harmony import */var _controller_subtitle_track_controller__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.ts");
/* harmony import */var _controller_buffer_controller__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.ts");
/* harmony import */var _controller_timeline_controller__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.ts");
/* harmony import */var _controller_cap_level_controller__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.ts");
/* harmony import */var _controller_fps_controller__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ./controller/fps-controller */"./src/controller/fps-controller.ts");
/* harmony import */var _controller_eme_controller__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! ./controller/eme-controller */"./src/controller/eme-controller.ts");
/* harmony import */var _controller_cmcd_controller__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(/*! ./controller/cmcd-controller */"./src/controller/cmcd-controller.ts");
/* harmony import */var _utils_xhr_loader__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.ts");
/* harmony import */var _utils_fetch_loader__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(/*! ./utils/fetch-loader */"./src/utils/fetch-loader.ts");
/* harmony import */var _utils_cues__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(/*! ./utils/cues */"./src/utils/cues.ts");
/* harmony import */var _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(/*! ./utils/logger */"./src/utils/logger.ts");
function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}
function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}
function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
















// If possible, keep hlsDefaultConfig shallow
// It is cloned whenever a new Hls instance is created, by keeping the config
// shallow the properties are cloned, and we don't end up manipulating the default
var _hlsDefaultConfig=_objectSpread(_objectSpread({
autoStartLoad:true,
// used by stream-controller
startPosition:-1,
// used by stream-controller
defaultAudioCodec:undefined,
// used by stream-controller
debug:false,
// used by logger
capLevelOnFPSDrop:false,
// used by fps-controller
capLevelToPlayerSize:false,
// used by cap-level-controller
ignoreDevicePixelRatio:false,
// used by cap-level-controller
initialLiveManifestSize:1,
// used by stream-controller
maxBufferLength:30,
// used by stream-controller
backBufferLength:Infinity,
// used by buffer-controller
maxBufferSize:60*1000*1000,
// used by stream-controller
maxBufferHole:0.1,
// used by stream-controller
highBufferWatchdogPeriod:2,
// used by stream-controller
nudgeOffset:0.1,
// used by stream-controller
nudgeMaxRetry:3,
// used by stream-controller
maxFragLookUpTolerance:0.25,
// used by stream-controller
liveSyncDurationCount:3,
// used by latency-controller
liveMaxLatencyDurationCount:Infinity,
// used by latency-controller
liveSyncDuration:undefined,
// used by latency-controller
liveMaxLatencyDuration:undefined,
// used by latency-controller
maxLiveSyncPlaybackRate:1,
// used by latency-controller
liveDurationInfinity:false,
// used by buffer-controller
liveBackBufferLength:null,
// used by buffer-controller
maxMaxBufferLength:600,
// used by stream-controller
enableWorker:true,
// used by demuxer
enableSoftwareAES:true,
// used by decrypter
manifestLoadingTimeOut:10000,
// used by playlist-loader
manifestLoadingMaxRetry:1,
// used by playlist-loader
manifestLoadingRetryDelay:1000,
// used by playlist-loader
manifestLoadingMaxRetryTimeout:64000,
// used by playlist-loader
startLevel:undefined,
// used by level-controller
levelLoadingTimeOut:10000,
// used by playlist-loader
levelLoadingMaxRetry:4,
// used by playlist-loader
levelLoadingRetryDelay:1000,
// used by playlist-loader
levelLoadingMaxRetryTimeout:64000,
// used by playlist-loader
fragLoadingTimeOut:20000,
// used by fragment-loader
fragLoadingMaxRetry:6,
// used by fragment-loader
fragLoadingRetryDelay:1000,
// used by fragment-loader
fragLoadingMaxRetryTimeout:64000,
// used by fragment-loader
startFragPrefetch:false,
// used by stream-controller
fpsDroppedMonitoringPeriod:5000,
// used by fps-controller
fpsDroppedMonitoringThreshold:0.2,
// used by fps-controller
appendErrorMaxRetry:3,
// used by buffer-controller
loader:_utils_xhr_loader__WEBPACK_IMPORTED_MODULE_11__["default"],
// loader: FetchLoader,
fLoader:undefined,
// used by fragment-loader
pLoader:undefined,
// used by playlist-loader
xhrSetup:undefined,
// used by xhr-loader
licenseXhrSetup:undefined,
// used by eme-controller
licenseResponseCallback:undefined,
// used by eme-controller
abrController:_controller_abr_controller__WEBPACK_IMPORTED_MODULE_0__["default"],
bufferController:_controller_buffer_controller__WEBPACK_IMPORTED_MODULE_5__["default"],
capLevelController:_controller_cap_level_controller__WEBPACK_IMPORTED_MODULE_7__["default"],
fpsController:_controller_fps_controller__WEBPACK_IMPORTED_MODULE_8__["default"],
stretchShortVideoTrack:false,
// used by mp4-remuxer
maxAudioFramesDrift:1,
// used by mp4-remuxer
forceKeyFrameOnDiscontinuity:true,
// used by ts-demuxer
abrEwmaFastLive:3,
// used by abr-controller
abrEwmaSlowLive:9,
// used by abr-controller
abrEwmaFastVoD:3,
// used by abr-controller
abrEwmaSlowVoD:9,
// used by abr-controller
abrEwmaDefaultEstimate:5e5,
// 500 kbps  // used by abr-controller
abrBandWidthFactor:0.95,
// used by abr-controller
abrBandWidthUpFactor:0.7,
// used by abr-controller
abrMaxWithRealBitrate:false,
// used by abr-controller
maxStarvationDelay:4,
// used by abr-controller
maxLoadingDelay:4,
// used by abr-controller
minAutoBitrate:0,
// used by hls
emeEnabled:false,
// used by eme-controller
widevineLicenseUrl:undefined,
// used by eme-controller
drmSystems:{},
// used by eme-controller
drmSystemOptions:{},
// used by eme-controller
requestMediaKeySystemAccessFunc:_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_14__.requestMediaKeySystemAccess,
// used by eme-controller
testBandwidth:true,
progressive:false,
lowLatencyMode:true,
cmcd:undefined,
enableDateRangeMetadataCues:true,
enableEmsgMetadataCues:true,
enableID3MetadataCues:true},
timelineConfig()),{},{
subtitleStreamController:true?_controller_subtitle_stream_controller__WEBPACK_IMPORTED_MODULE_3__.SubtitleStreamController:undefined,
subtitleTrackController:true?_controller_subtitle_track_controller__WEBPACK_IMPORTED_MODULE_4__["default"]:undefined,
timelineController:true?_controller_timeline_controller__WEBPACK_IMPORTED_MODULE_6__.TimelineController:undefined,
audioStreamController:true?_controller_audio_stream_controller__WEBPACK_IMPORTED_MODULE_1__["default"]:undefined,
audioTrackController:true?_controller_audio_track_controller__WEBPACK_IMPORTED_MODULE_2__["default"]:undefined,
emeController:true?_controller_eme_controller__WEBPACK_IMPORTED_MODULE_9__["default"]:undefined,
cmcdController:true?_controller_cmcd_controller__WEBPACK_IMPORTED_MODULE_10__["default"]:undefined});

function timelineConfig(){
return{
cueHandler:_utils_cues__WEBPACK_IMPORTED_MODULE_13__["default"],
// used by timeline-controller
enableWebVTT:true,
// used by timeline-controller
enableIMSC1:true,
// used by timeline-controller
enableCEA708Captions:true,
// used by timeline-controller
captionsTextTrack1Label:'English',
// used by timeline-controller
captionsTextTrack1LanguageCode:'en',
// used by timeline-controller
captionsTextTrack2Label:'Spanish',
// used by timeline-controller
captionsTextTrack2LanguageCode:'es',
// used by timeline-controller
captionsTextTrack3Label:'Unknown CC',
// used by timeline-controller
captionsTextTrack3LanguageCode:'',
// used by timeline-controller
captionsTextTrack4Label:'Unknown CC',
// used by timeline-controller
captionsTextTrack4LanguageCode:'',
// used by timeline-controller
renderTextTracksNatively:true};

}
function _mergeConfig(defaultConfig,userConfig){
if((userConfig.liveSyncDurationCount||userConfig.liveMaxLatencyDurationCount)&&(userConfig.liveSyncDuration||userConfig.liveMaxLatencyDuration)){
throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");
}
if(userConfig.liveMaxLatencyDurationCount!==undefined&&(userConfig.liveSyncDurationCount===undefined||userConfig.liveMaxLatencyDurationCount<=userConfig.liveSyncDurationCount)){
throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');
}
if(userConfig.liveMaxLatencyDuration!==undefined&&(userConfig.liveSyncDuration===undefined||userConfig.liveMaxLatencyDuration<=userConfig.liveSyncDuration)){
throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');
}
return _extends({},defaultConfig,userConfig);
}
function _enableStreamingMode(config){
var currentLoader=config.loader;
if(currentLoader!==_utils_fetch_loader__WEBPACK_IMPORTED_MODULE_12__["default"]&&currentLoader!==_utils_xhr_loader__WEBPACK_IMPORTED_MODULE_11__["default"]){
// If a developer has configured their own loader, respect that choice
_utils_logger__WEBPACK_IMPORTED_MODULE_15__.logger.log('[config]: Custom loader detected, cannot enable progressive streaming');
config.progressive=false;
}else{
var canStreamProgressively=(0,_utils_fetch_loader__WEBPACK_IMPORTED_MODULE_12__.fetchSupported)();
if(canStreamProgressively){
config.loader=_utils_fetch_loader__WEBPACK_IMPORTED_MODULE_12__["default"];
config.progressive=true;
config.enableSoftwareAES=true;
_utils_logger__WEBPACK_IMPORTED_MODULE_15__.logger.log('[config]: Progressive streaming enabled, using FetchLoader');
}
}
}

/***/},

/***/"./src/controller/abr-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.ts ***!
  \******************************************/
/***/function srcControllerAbrControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _utils_ewma_bandwidth_estimator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");



function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}





var AbrController=/*#__PURE__*/function(){
function AbrController(hls){
this.hls=void 0;
this.lastLoadedFragLevel=0;
this._nextAutoLevel=-1;
this.timer=void 0;
this.onCheck=this._abandonRulesCheck.bind(this);
this.fragCurrent=null;
this.partCurrent=null;
this.bitrateTestDelay=0;
this.bwEstimator=void 0;
this.hls=hls;
var config=hls.config;
this.bwEstimator=new _utils_ewma_bandwidth_estimator__WEBPACK_IMPORTED_MODULE_1__["default"](config.abrEwmaSlowVoD,config.abrEwmaFastVoD,config.abrEwmaDefaultEstimate);
this.registerListeners();
}
var _proto=AbrController.prototype;
_proto.registerListeners=function registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_LOADING,this.onFragLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_LOADED,this.onFragLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,this.onError,this);
};
_proto.unregisterListeners=function unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_LOADING,this.onFragLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_LOADED,this.onFragLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,this.onError,this);
};
_proto.destroy=function destroy(){
this.unregisterListeners();
this.clearTimer();
// @ts-ignore
this.hls=this.onCheck=null;
this.fragCurrent=this.partCurrent=null;
};
_proto.onFragLoading=function onFragLoading(event,data){
var frag=data.frag;
if(frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_4__.PlaylistLevelType.MAIN){
if(!this.timer){
var _data$part;
this.fragCurrent=frag;
this.partCurrent=(_data$part=data.part)!=null?_data$part:null;
this.timer=self.setInterval(this.onCheck,100);
}
}
};
_proto.onLevelLoaded=function onLevelLoaded(event,data){
var config=this.hls.config;
if(data.details.live){
this.bwEstimator.update(config.abrEwmaSlowLive,config.abrEwmaFastLive);
}else{
this.bwEstimator.update(config.abrEwmaSlowVoD,config.abrEwmaFastVoD);
}
}

/*
      This method monitors the download rate of the current fragment, and will downswitch if that fragment will not load
      quickly enough to prevent underbuffering
    */;
_proto._abandonRulesCheck=function _abandonRulesCheck(){
var frag=this.fragCurrent,
part=this.partCurrent,
hls=this.hls;
var autoLevelEnabled=hls.autoLevelEnabled,
media=hls.media;
if(!frag||!media){
return;
}
var stats=part?part.stats:frag.stats;
var duration=part?part.duration:frag.duration;
// If frag loading is aborted, complete, or from lowest level, stop timer and return
if(stats.aborted||stats.loaded&&stats.loaded===stats.total||frag.level===0){
this.clearTimer();
// reset forced auto level value so that next level will be selected
this._nextAutoLevel=-1;
return;
}

// This check only runs if we're in ABR mode and actually playing
if(!autoLevelEnabled||media.paused||!media.playbackRate||!media.readyState){
return;
}
var bufferInfo=hls.mainForwardBufferInfo;
if(bufferInfo===null){
return;
}
var requestDelay=performance.now()-stats.loading.start;
var playbackRate=Math.abs(media.playbackRate);
// In order to work with a stable bandwidth, only begin monitoring bandwidth after half of the fragment has been loaded
if(requestDelay<=500*duration/playbackRate){
return;
}
var loadedFirstByte=stats.loaded&&stats.loading.first;
var bwEstimate=this.bwEstimator.getEstimate();
var levels=hls.levels,
minAutoLevel=hls.minAutoLevel;
var level=levels[frag.level];
var expectedLen=stats.total||Math.max(stats.loaded,Math.round(duration*level.maxBitrate/8));
var loadRate=loadedFirstByte?stats.loaded*1000/requestDelay:0;

// fragLoadDelay is an estimate of the time (in seconds) it will take to buffer the remainder of the fragment
var fragLoadedDelay=loadRate?(expectedLen-stats.loaded)/loadRate:expectedLen*8/bwEstimate;

// bufferStarvationDelay is an estimate of the amount time (in seconds) it will take to exhaust the buffer
var bufferStarvationDelay=bufferInfo.len/playbackRate;

// Only downswitch if the time to finish loading the current fragment is greater than the amount of buffer left
if(fragLoadedDelay<=bufferStarvationDelay){
return;
}
var fragLevelNextLoadedDelay=Number.POSITIVE_INFINITY;
var nextLoadLevel;
// Iterate through lower level and try to find the largest one that avoids rebuffering
for(nextLoadLevel=frag.level-1;nextLoadLevel>minAutoLevel;nextLoadLevel--){
// compute time to load next fragment at lower level
// 0.8 : consider only 80% of current bw to be conservative
// 8 = bits per byte (bps/Bps)
var levelNextBitrate=levels[nextLoadLevel].maxBitrate;
fragLevelNextLoadedDelay=loadRate?duration*levelNextBitrate/(8*0.8*loadRate):duration*levelNextBitrate/bwEstimate;
if(fragLevelNextLoadedDelay<bufferStarvationDelay){
break;
}
}
// Only emergency switch down if it takes less time to load a new fragment at lowest level instead of continuing
// to load the current one
if(fragLevelNextLoadedDelay>=fragLoadedDelay){
return;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Fragment "+frag.sn+(part?' part '+part.index:'')+" of level "+frag.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+nextLoadLevel+"\n      Current BW estimate: "+((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(bwEstimate)?(bwEstimate/1024).toFixed(3):'Unknown')+" Kb/s\n      Estimated load time for current fragment: "+fragLoadedDelay.toFixed(3)+" s\n      Estimated load time for the next fragment: "+fragLevelNextLoadedDelay.toFixed(3)+" s\n      Time to underbuffer: "+bufferStarvationDelay.toFixed(3)+" s");
hls.nextLoadLevel=nextLoadLevel;
if(loadedFirstByte){
// If there has been loading progress, sample bandwidth
this.bwEstimator.sample(requestDelay,stats.loaded);
}
this.clearTimer();
if(frag.loader||frag.keyLoader){
this.fragCurrent=this.partCurrent=null;
frag.abortRequests();
}
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_LOAD_EMERGENCY_ABORTED,{
frag:frag,
part:part,
stats:stats});

};
_proto.onFragLoaded=function onFragLoaded(event,_ref){
var frag=_ref.frag,
part=_ref.part;
if(frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_4__.PlaylistLevelType.MAIN&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(frag.sn)){
var stats=part?part.stats:frag.stats;
var duration=part?part.duration:frag.duration;
// stop monitoring bw once frag loaded
this.clearTimer();
// store level id after successful fragment load
this.lastLoadedFragLevel=frag.level;
// reset forced auto level value so that next level will be selected
this._nextAutoLevel=-1;

// compute level average bitrate
if(this.hls.config.abrMaxWithRealBitrate){
var level=this.hls.levels[frag.level];
var loadedBytes=(level.loaded?level.loaded.bytes:0)+stats.loaded;
var loadedDuration=(level.loaded?level.loaded.duration:0)+duration;
level.loaded={
bytes:loadedBytes,
duration:loadedDuration};

level.realBitrate=Math.round(8*loadedBytes/loadedDuration);
}
if(frag.bitrateTest){
var fragBufferedData={
stats:stats,
frag:frag,
part:part,
id:frag.type};

this.onFragBuffered(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_BUFFERED,fragBufferedData);
}
}
};
_proto.onFragBuffered=function onFragBuffered(event,data){
var frag=data.frag,
part=data.part;
var stats=part?part.stats:frag.stats;
if(stats.aborted){
return;
}
// Only count non-alt-audio frags which were actually buffered in our BW calculations
if(frag.type!==_types_loader__WEBPACK_IMPORTED_MODULE_4__.PlaylistLevelType.MAIN||frag.sn==='initSegment'){
return;
}
// Use the difference between parsing and request instead of buffering and request to compute fragLoadingProcessing;
// rationale is that buffer appending only happens once media is attached. This can happen when config.startFragPrefetch
// is used. If we used buffering in that case, our BW estimate sample will be very large.
var processingMs=stats.parsing.end-stats.loading.start;
this.bwEstimator.sample(processingMs,stats.loaded);
stats.bwEstimate=this.bwEstimator.getEstimate();
if(frag.bitrateTest){
this.bitrateTestDelay=processingMs/1000;
}else{
this.bitrateTestDelay=0;
}
};
_proto.onError=function onError(event,data){
var _data$frag;
// stop timer in case of frag loading error
if(((_data$frag=data.frag)===null||_data$frag===void 0?void 0:_data$frag.type)===_types_loader__WEBPACK_IMPORTED_MODULE_4__.PlaylistLevelType.MAIN){
if(data.type===_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorTypes.KEY_SYSTEM_ERROR){
this.clearTimer();
return;
}
switch(data.details){
case _errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.FRAG_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.FRAG_LOAD_TIMEOUT:
case _errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.KEY_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.KEY_LOAD_TIMEOUT:
this.clearTimer();
break;
default:
break;}

}
};
_proto.clearTimer=function clearTimer(){
self.clearInterval(this.timer);
this.timer=undefined;
}

// return next auto level
;
_proto.getNextABRAutoLevel=function getNextABRAutoLevel(){
var fragCurrent=this.fragCurrent,
partCurrent=this.partCurrent,
hls=this.hls;
var maxAutoLevel=hls.maxAutoLevel,
config=hls.config,
minAutoLevel=hls.minAutoLevel,
media=hls.media;
var currentFragDuration=partCurrent?partCurrent.duration:fragCurrent?fragCurrent.duration:0;

// playbackRate is the absolute value of the playback rate; if media.playbackRate is 0, we use 1 to load as
// if we're playing back at the normal rate.
var playbackRate=media&&media.playbackRate!==0?Math.abs(media.playbackRate):1.0;
var avgbw=this.bwEstimator?this.bwEstimator.getEstimate():config.abrEwmaDefaultEstimate;
// bufferStarvationDelay is the wall-clock time left until the playback buffer is exhausted.
var bufferInfo=hls.mainForwardBufferInfo;
var bufferStarvationDelay=(bufferInfo?bufferInfo.len:0)/playbackRate;

// First, look to see if we can find a level matching with our avg bandwidth AND that could also guarantee no rebuffering at all
var bestLevel=this.findBestLevel(avgbw,minAutoLevel,maxAutoLevel,bufferStarvationDelay,config.abrBandWidthFactor,config.abrBandWidthUpFactor);
if(bestLevel>=0){
return bestLevel;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.trace((bufferStarvationDelay?'rebuffering expected':'buffer is empty')+", finding optimal quality level");
// not possible to get rid of rebuffering ... let's try to find level that will guarantee less than maxStarvationDelay of rebuffering
// if no matching level found, logic will return 0
var maxStarvationDelay=currentFragDuration?Math.min(currentFragDuration,config.maxStarvationDelay):config.maxStarvationDelay;
var bwFactor=config.abrBandWidthFactor;
var bwUpFactor=config.abrBandWidthUpFactor;
if(!bufferStarvationDelay){
// in case buffer is empty, let's check if previous fragment was loaded to perform a bitrate test
var bitrateTestDelay=this.bitrateTestDelay;
if(bitrateTestDelay){
// if it is the case, then we need to adjust our max starvation delay using maxLoadingDelay config value
// max video loading delay used in  automatic start level selection :
// in that mode ABR controller will ensure that video loading time (ie the time to fetch the first fragment at lowest quality level +
// the time to fetch the fragment at the appropriate quality level is less than ```maxLoadingDelay``` )
// cap maxLoadingDelay and ensure it is not bigger 'than bitrate test' frag duration
var maxLoadingDelay=currentFragDuration?Math.min(currentFragDuration,config.maxLoadingDelay):config.maxLoadingDelay;
maxStarvationDelay=maxLoadingDelay-bitrateTestDelay;
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.trace("bitrate test took "+Math.round(1000*bitrateTestDelay)+"ms, set first fragment max fetchDuration to "+Math.round(1000*maxStarvationDelay)+" ms");
// don't use conservative factor on bitrate test
bwFactor=bwUpFactor=1;
}
}
bestLevel=this.findBestLevel(avgbw,minAutoLevel,maxAutoLevel,bufferStarvationDelay+maxStarvationDelay,bwFactor,bwUpFactor);
return Math.max(bestLevel,0);
};
_proto.findBestLevel=function findBestLevel(currentBw,minAutoLevel,maxAutoLevel,maxFetchDuration,bwFactor,bwUpFactor){
var _level$details;
var fragCurrent=this.fragCurrent,
partCurrent=this.partCurrent,
currentLevel=this.lastLoadedFragLevel;
var levels=this.hls.levels;
var level=levels[currentLevel];
var live=!!(level!==null&&level!==void 0&&(_level$details=level.details)!==null&&_level$details!==void 0&&_level$details.live);
var currentCodecSet=level===null||level===void 0?void 0:level.codecSet;
var currentFragDuration=partCurrent?partCurrent.duration:fragCurrent?fragCurrent.duration:0;
for(var i=maxAutoLevel;i>=minAutoLevel;i--){
var levelInfo=levels[i];
if(!levelInfo||currentCodecSet&&levelInfo.codecSet!==currentCodecSet){
continue;
}
var levelDetails=levelInfo.details;
var avgDuration=(partCurrent?levelDetails===null||levelDetails===void 0?void 0:levelDetails.partTarget:levelDetails===null||levelDetails===void 0?void 0:levelDetails.averagetargetduration)||currentFragDuration;
var adjustedbw=void 0;
// follow algorithm captured from stagefright :
// https://android.googlesource.com/platform/frameworks/av/+/master/media/libstagefright/httplive/LiveSession.cpp
// Pick the highest bandwidth stream below or equal to estimated bandwidth.
// consider only 80% of the available bandwidth, but if we are switching up,
// be even more conservative (70%) to avoid overestimating and immediately
// switching back.
if(i<=currentLevel){
adjustedbw=bwFactor*currentBw;
}else{
adjustedbw=bwUpFactor*currentBw;
}
var bitrate=levels[i].maxBitrate;
var fetchDuration=bitrate*avgDuration/adjustedbw;
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+i+"/"+Math.round(adjustedbw)+"/"+bitrate+"/"+avgDuration+"/"+maxFetchDuration+"/"+fetchDuration);
// if adjusted bw is greater than level bitrate AND
if(adjustedbw>bitrate&&(
// fragment fetchDuration unknown OR live stream OR fragment fetchDuration less than max allowed fetch duration, then this level matches
// we don't account for max Fetch Duration for live streams, this is to avoid switching down when near the edge of live sliding window ...
// special case to support startLevel = -1 (bitrateTest) on live streams : in that case we should not exit loop so that findBestLevel will return -1
fetchDuration===0||!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(fetchDuration)||live&&!this.bitrateTestDelay||fetchDuration<maxFetchDuration)){
// as we are looping from highest to lowest, this will return the best achievable quality level
return i;
}
}
// not enough time budget even with quality level 0 ... rebuffering might happen
return-1;
};
_createClass(AbrController,[{
key:"nextAutoLevel",
get:function get(){
var forcedAutoLevel=this._nextAutoLevel;
var bwEstimator=this.bwEstimator;
// in case next auto level has been forced, and bw not available or not reliable, return forced value
if(forcedAutoLevel!==-1&&!bwEstimator.canEstimate()){
return forcedAutoLevel;
}

// compute next level using ABR logic
var nextABRAutoLevel=this.getNextABRAutoLevel();
// use forced auto level when ABR selected level has errored
if(forcedAutoLevel!==-1&&this.hls.levels[nextABRAutoLevel].loadError){
return forcedAutoLevel;
}
// if forced auto level has been defined, use it to cap ABR computed quality level
if(forcedAutoLevel!==-1){
nextABRAutoLevel=Math.min(forcedAutoLevel,nextABRAutoLevel);
}
return nextABRAutoLevel;
},
set:function set(nextLevel){
this._nextAutoLevel=nextLevel;
}}]);

return AbrController;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=AbrController;

/***/},

/***/"./src/controller/audio-stream-controller.ts":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.ts ***!
  \***************************************************/
/***/function srcControllerAudioStreamControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts");
/* harmony import */var _fragment_tracker__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts");
/* harmony import */var _types_level__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../types/level */"./src/types/level.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
/* harmony import */var _loader_fragment__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../loader/fragment */"./src/loader/fragment.ts");
/* harmony import */var _demux_chunk_cache__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts");
/* harmony import */var _demux_transmuxer_interface__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts");
/* harmony import */var _types_transmuxer__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(/*! ../types/transmuxer */"./src/types/transmuxer.ts");
/* harmony import */var _fragment_finders__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(/*! ./fragment-finders */"./src/controller/fragment-finders.ts");
/* harmony import */var _utils_discontinuities__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(/*! ../errors */"./src/errors.ts");

function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}













var TICK_INTERVAL=100;// how often to tick in ms
var AudioStreamController=/*#__PURE__*/function(_BaseStreamController){
_inheritsLoose(AudioStreamController,_BaseStreamController);
function AudioStreamController(hls,fragmentTracker,keyLoader){
var _this;
_this=_BaseStreamController.call(this,hls,fragmentTracker,keyLoader,'[audio-stream-controller]')||this;
_this.videoBuffer=null;
_this.videoTrackCC=-1;
_this.waitingVideoCC=-1;
_this.audioSwitch=false;
_this.trackId=-1;
_this.waitingData=null;
_this.mainDetails=null;
_this.bufferFlushed=false;
_this.cachedTrackLoadedData=null;
_this._registerListeners();
return _this;
}
var _proto=AudioStreamController.prototype;
_proto.onHandlerDestroying=function onHandlerDestroying(){
this._unregisterListeners();
this.mainDetails=null;
};
_proto._registerListeners=function _registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,this.onError,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_RESET,this.onBufferReset,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_CREATED,this.onBufferCreated,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_FLUSHED,this.onBufferFlushed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.INIT_PTS_FOUND,this.onInitPtsFound,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
};
_proto._unregisterListeners=function _unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,this.onError,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_RESET,this.onBufferReset,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_CREATED,this.onBufferCreated,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_FLUSHED,this.onBufferFlushed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.INIT_PTS_FOUND,this.onInitPtsFound,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
}

// INIT_PTS_FOUND is triggered when the video track parsed in the stream-controller has a new PTS value
;
_proto.onInitPtsFound=function onInitPtsFound(event,_ref){
var frag=_ref.frag,
id=_ref.id,
initPTS=_ref.initPTS;
// Always update the new INIT PTS
// Can change due level switch
if(id==='main'){
var cc=frag.cc;
this.initPTS[frag.cc]=initPTS;
this.log("InitPTS for cc: "+cc+" found from main: "+initPTS);
this.videoTrackCC=cc;
// If we are waiting, tick immediately to unblock audio fragment transmuxing
if(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_INIT_PTS){
this.tick();
}
}
};
_proto.startLoad=function startLoad(startPosition){
if(!this.levels){
this.startPosition=startPosition;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.STOPPED;
return;
}
var lastCurrentTime=this.lastCurrentTime;
this.stopLoad();
this.setInterval(TICK_INTERVAL);
this.fragLoadError=0;
if(lastCurrentTime>0&&startPosition===-1){
this.log("Override startPosition with lastCurrentTime @"+lastCurrentTime.toFixed(3));
startPosition=lastCurrentTime;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}else{
this.loadedmetadata=false;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_TRACK;
}
this.nextLoadPosition=this.startPosition=this.lastCurrentTime=startPosition;
this.tick();
};
_proto.doTick=function doTick(){
switch(this.state){
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE:
this.doTickIdle();
break;
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_TRACK:
{
var _levels$trackId;
var levels=this.levels,
trackId=this.trackId;
var details=levels===null||levels===void 0?void 0:(_levels$trackId=levels[trackId])===null||_levels$trackId===void 0?void 0:_levels$trackId.details;
if(details){
if(this.waitForCdnTuneIn(details)){
break;
}
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_INIT_PTS;
}
break;
}
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.FRAG_LOADING_WAITING_RETRY:
{
var _this$media;
var now=performance.now();
var retryDate=this.retryDate;
// if current time is gt than retryDate, or if media seeking let's switch to IDLE state to retry loading
if(!retryDate||now>=retryDate||(_this$media=this.media)!==null&&_this$media!==void 0&&_this$media.seeking){
this.log('RetryDate reached, switch back to IDLE state');
this.resetStartWhenNotLoaded(this.trackId);
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
break;
}
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_INIT_PTS:
{
// Ensure we don't get stuck in the WAITING_INIT_PTS state if the waiting frag CC doesn't match any initPTS
var waitingData=this.waitingData;
if(waitingData){
var frag=waitingData.frag,
part=waitingData.part,
cache=waitingData.cache,
complete=waitingData.complete;
if(this.initPTS[frag.cc]!==undefined){
this.waitingData=null;
this.waitingVideoCC=-1;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.FRAG_LOADING;
var payload=cache.flush();
var data={
frag:frag,
part:part,
payload:payload,
networkDetails:null};

this._handleFragmentLoadProgress(data);
if(complete){
_BaseStreamController.prototype._handleFragmentLoadComplete.call(this,data);
}
}else if(this.videoTrackCC!==this.waitingVideoCC){
// Drop waiting fragment if videoTrackCC has changed since waitingFragment was set and initPTS was not found
this.log("Waiting fragment cc ("+frag.cc+") cancelled because video is at cc "+this.videoTrackCC);
this.clearWaitingFragment();
}else{
// Drop waiting fragment if an earlier fragment is needed
var pos=this.getLoadPosition();
var bufferInfo=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.bufferInfo(this.mediaBuffer,pos,this.config.maxBufferHole);
var waitingFragmentAtPosition=(0,_fragment_finders__WEBPACK_IMPORTED_MODULE_11__.fragmentWithinToleranceTest)(bufferInfo.end,this.config.maxFragLookUpTolerance,frag);
if(waitingFragmentAtPosition<0){
this.log("Waiting fragment cc ("+frag.cc+") @ "+frag.start+" cancelled because another fragment at "+bufferInfo.end+" is needed");
this.clearWaitingFragment();
}
}
}else{
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
}}

this.onTickEnd();
};
_proto.clearWaitingFragment=function clearWaitingFragment(){
var waitingData=this.waitingData;
if(waitingData){
this.fragmentTracker.removeFragment(waitingData.frag);
this.waitingData=null;
this.waitingVideoCC=-1;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
};
_proto.resetLoadingState=function resetLoadingState(){
this.clearWaitingFragment();
_BaseStreamController.prototype.resetLoadingState.call(this);
};
_proto.onTickEnd=function onTickEnd(){
var media=this.media;
if(!media||!media.readyState){
// Exit early if we don't have media or if the media hasn't buffered anything yet (readyState 0)
return;
}
this.lastCurrentTime=media.currentTime;
};
_proto.doTickIdle=function doTickIdle(){
var hls=this.hls,
levels=this.levels,
media=this.media,
trackId=this.trackId;
var config=hls.config;
if(!levels||!levels[trackId]){
return;
}

// if video not attached AND
// start fragment already requested OR start frag prefetch not enabled
// exit loop
// => if media not attached but start frag prefetch is enabled and start frag not requested yet, we will not exit loop
if(!media&&(this.startFragRequested||!config.startFragPrefetch)){
return;
}
var levelInfo=levels[trackId];
var trackDetails=levelInfo.details;
if(!trackDetails||trackDetails.live&&this.levelLastLoaded!==trackId||this.waitForCdnTuneIn(trackDetails)){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_TRACK;
return;
}
var bufferable=this.mediaBuffer?this.mediaBuffer:this.media;
if(this.bufferFlushed&&bufferable){
this.bufferFlushed=false;
this.afterBufferFlushed(bufferable,_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO);
}
var bufferInfo=this.getFwdBufferInfo(bufferable,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO);
if(bufferInfo===null){
return;
}
var audioSwitch=this.audioSwitch;
if(!audioSwitch&&this._streamEnded(bufferInfo,trackDetails)){
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_EOS,{
type:'audio'});

this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.ENDED;
return;
}
var mainBufferInfo=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN);
var bufferLen=bufferInfo.len;
var maxBufLen=this.getMaxBufferLength(mainBufferInfo===null||mainBufferInfo===void 0?void 0:mainBufferInfo.len);

// if buffer length is less than maxBufLen try to load a new fragment
if(bufferLen>=maxBufLen&&!audioSwitch){
return;
}
var fragments=trackDetails.fragments;
var start=fragments[0].start;
var targetBufferTime=bufferInfo.end;
if(audioSwitch&&media){
var pos=this.getLoadPosition();
targetBufferTime=pos;
// if currentTime (pos) is less than alt audio playlist start time, it means that alt audio is ahead of currentTime
if(trackDetails.PTSKnown&&pos<start){
// if everything is buffered from pos to start or if audio buffer upfront, let's seek to start
if(bufferInfo.end>start||bufferInfo.nextStart){
this.log('Alt audio track ahead of main track, seek to start of alt audio track');
media.currentTime=start+0.05;
}
}
}

// buffer audio up to one target duration ahead of main buffer
if(mainBufferInfo&&targetBufferTime>mainBufferInfo.end+trackDetails.targetduration){
return;
}
// wait for main buffer after buffing some audio
if((!mainBufferInfo||!mainBufferInfo.len)&&bufferInfo.len){
return;
}
var frag=this.getNextFragment(targetBufferTime,trackDetails);
if(!frag){
this.bufferFlushed=true;
return;
}
this.loadFragment(frag,trackDetails,targetBufferTime);
};
_proto.getMaxBufferLength=function getMaxBufferLength(mainBufferLength){
var maxConfigBuffer=_BaseStreamController.prototype.getMaxBufferLength.call(this);
if(!mainBufferLength){
return maxConfigBuffer;
}
return Math.max(maxConfigBuffer,mainBufferLength);
};
_proto.onMediaDetaching=function onMediaDetaching(){
this.videoBuffer=null;
_BaseStreamController.prototype.onMediaDetaching.call(this);
};
_proto.onAudioTracksUpdated=function onAudioTracksUpdated(event,_ref2){
var audioTracks=_ref2.audioTracks;
this.resetTransmuxer();
this.levels=audioTracks.map(function(mediaPlaylist){
return new _types_level__WEBPACK_IMPORTED_MODULE_5__.Level(mediaPlaylist);
});
};
_proto.onAudioTrackSwitching=function onAudioTrackSwitching(event,data){
// if any URL found on new audio track, it is an alternate audio track
var altAudio=!!data.url;
this.trackId=data.id;
var fragCurrent=this.fragCurrent;
if(fragCurrent){
fragCurrent.abortRequests();
}
this.fragCurrent=null;
this.clearWaitingFragment();
// destroy useless transmuxer when switching audio to main
if(!altAudio){
this.resetTransmuxer();
}else{
// switching to audio track, start timer if not already started
this.setInterval(TICK_INTERVAL);
}

// should we switch tracks ?
if(altAudio){
this.audioSwitch=true;
// main audio track are handled by stream-controller, just do something if switching to alt audio track
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}else{
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.STOPPED;
}
this.tick();
};
_proto.onManifestLoading=function onManifestLoading(){
this.mainDetails=null;
this.fragmentTracker.removeAllFragments();
this.startPosition=this.lastCurrentTime=0;
this.bufferFlushed=false;
};
_proto.onLevelLoaded=function onLevelLoaded(event,data){
this.mainDetails=data.details;
if(this.cachedTrackLoadedData!==null){
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData);
this.cachedTrackLoadedData=null;
}
};
_proto.onAudioTrackLoaded=function onAudioTrackLoaded(event,data){
var _track$details;
if(this.mainDetails==null){
this.cachedTrackLoadedData=data;
return;
}
var levels=this.levels;
var newDetails=data.details,
trackId=data.id;
if(!levels){
this.warn("Audio tracks were reset while loading level "+trackId);
return;
}
this.log("Track "+trackId+" loaded ["+newDetails.startSN+","+newDetails.endSN+"],duration:"+newDetails.totalduration);
var track=levels[trackId];
var sliding=0;
if(newDetails.live||(_track$details=track.details)!==null&&_track$details!==void 0&&_track$details.live){
var mainDetails=this.mainDetails;
if(!newDetails.fragments[0]){
newDetails.deltaUpdateFailed=true;
}
if(newDetails.deltaUpdateFailed||!mainDetails){
return;
}
if(!track.details&&newDetails.hasProgramDateTime&&mainDetails.hasProgramDateTime){
// Make sure our audio rendition is aligned with the "main" rendition, using
// pdt as our reference times.
(0,_utils_discontinuities__WEBPACK_IMPORTED_MODULE_12__.alignMediaPlaylistByPDT)(newDetails,mainDetails);
sliding=newDetails.fragments[0].start;
}else{
sliding=this.alignPlaylists(newDetails,track.details);
}
}
track.details=newDetails;
this.levelLastLoaded=trackId;

// compute start position if we are aligned with the main playlist
if(!this.startFragRequested&&(this.mainDetails||!newDetails.live)){
this.setStartPosition(track.details,sliding);
}
// only switch back to IDLE state if we were waiting for track to start downloading a new fragment
if(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_TRACK&&!this.waitForCdnTuneIn(newDetails)){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}

// trigger handler right now
this.tick();
};
_proto._handleFragmentLoadProgress=function _handleFragmentLoadProgress(data){
var _frag$initSegment;
var frag=data.frag,
part=data.part,
payload=data.payload;
var config=this.config,
trackId=this.trackId,
levels=this.levels;
if(!levels){
this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+frag.sn+" of level "+frag.level+" will not be buffered");
return;
}
var track=levels[trackId];
console.assert(track,'Audio track is defined on fragment load progress');
var details=track.details;
console.assert(details,'Audio track details are defined on fragment load progress');
var audioCodec=config.defaultAudioCodec||track.audioCodec||'mp4a.40.2';
var transmuxer=this.transmuxer;
if(!transmuxer){
transmuxer=this.transmuxer=new _demux_transmuxer_interface__WEBPACK_IMPORTED_MODULE_9__["default"](this.hls,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this));
}

// Check if we have video initPTS
// If not we need to wait for it
var initPTS=this.initPTS[frag.cc];
var initSegmentData=(_frag$initSegment=frag.initSegment)===null||_frag$initSegment===void 0?void 0:_frag$initSegment.data;
if(initPTS!==undefined){
// this.log(`Transmuxing ${sn} of [${details.startSN} ,${details.endSN}],track ${trackId}`);
// time Offset is accurate if level PTS is known, or if playlist is not sliding (not live)
var accurateTimeOffset=false;// details.PTSKnown || !details.live;
var partIndex=part?part.index:-1;
var partial=partIndex!==-1;
var chunkMeta=new _types_transmuxer__WEBPACK_IMPORTED_MODULE_10__.ChunkMetadata(frag.level,frag.sn,frag.stats.chunkCount,payload.byteLength,partIndex,partial);
transmuxer.push(payload,initSegmentData,audioCodec,'',frag,part,details.totalduration,accurateTimeOffset,chunkMeta,initPTS);
}else{
this.log("Unknown video PTS for cc "+frag.cc+", waiting for video PTS before demuxing audio frag "+frag.sn+" of ["+details.startSN+" ,"+details.endSN+"],track "+trackId);
var _this$waitingData=this.waitingData=this.waitingData||{
frag:frag,
part:part,
cache:new _demux_chunk_cache__WEBPACK_IMPORTED_MODULE_8__["default"](),
complete:false},

cache=_this$waitingData.cache;
cache.push(new Uint8Array(payload));
this.waitingVideoCC=this.videoTrackCC;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_INIT_PTS;
}
};
_proto._handleFragmentLoadComplete=function _handleFragmentLoadComplete(fragLoadedData){
if(this.waitingData){
this.waitingData.complete=true;
return;
}
_BaseStreamController.prototype._handleFragmentLoadComplete.call(this,fragLoadedData);
};
_proto.onBufferReset=function onBufferReset()/* event: Events.BUFFER_RESET */
{
// reset reference to sourcebuffers
this.mediaBuffer=this.videoBuffer=null;
this.loadedmetadata=false;
};
_proto.onBufferCreated=function onBufferCreated(event,data){
var audioTrack=data.tracks.audio;
if(audioTrack){
this.mediaBuffer=audioTrack.buffer||null;
}
if(data.tracks.video){
this.videoBuffer=data.tracks.video.buffer||null;
}
};
_proto.onFragBuffered=function onFragBuffered(event,data){
var frag=data.frag,
part=data.part;
if(frag.type!==_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO){
if(!this.loadedmetadata&&frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN){
var _ref3;
if((_ref3=this.videoBuffer||this.media)!==null&&_ref3!==void 0&&_ref3.buffered.length){
this.loadedmetadata=true;
}
}
return;
}
if(this.fragContextChanged(frag)){
// If a level switch was requested while a fragment was buffering, it will emit the FRAG_BUFFERED event upon completion
// Avoid setting state back to IDLE or concluding the audio switch; otherwise, the switched-to track will not buffer
this.warn("Fragment "+frag.sn+(part?' p: '+part.index:'')+" of level "+frag.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch);
return;
}
if(frag.sn!=='initSegment'){
this.fragPrevious=frag;
if(this.audioSwitch){
this.audioSwitch=false;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACK_SWITCHED,{
id:this.trackId});

}
}
this.fragBufferedComplete(frag,part);
};
_proto.onError=function onError(event,data){
if(data.type===_errors__WEBPACK_IMPORTED_MODULE_13__.ErrorTypes.KEY_SYSTEM_ERROR){
this.onFragmentOrKeyLoadError(_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO,data);
return;
}
switch(data.details){
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.FRAG_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.FRAG_LOAD_TIMEOUT:
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.FRAG_PARSING_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.KEY_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.KEY_LOAD_TIMEOUT:
// TODO: Skip fragments that do not belong to this.fragCurrent audio-group id
this.onFragmentOrKeyLoadError(_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO,data);
break;
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:
//  when in ERROR state, don't switch back to IDLE state in case a non-fatal error is received
if(this.state!==_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.ERROR&&this.state!==_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.STOPPED){
// if fatal error, stop processing, otherwise move to IDLE to retry loading
this.state=data.fatal?_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.ERROR:_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
this.warn(data.details+" while loading frag, switching to "+this.state+" state");
}
break;
case _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.BUFFER_FULL_ERROR:
// if in appending state
if(data.parent==='audio'&&(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSING||this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSED)){
var flushBuffer=true;
var bufferedInfo=this.getFwdBufferInfo(this.mediaBuffer,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO);
// 0.5 : tolerance needed as some browsers stalls playback before reaching buffered end
// reduce max buf len if current position is buffered
if(bufferedInfo&&bufferedInfo.len>0.5){
flushBuffer=!this.reduceMaxBufferLength(bufferedInfo.len);
}
if(flushBuffer){
// current position is not buffered, but browser is still complaining about buffer full error
// this happens on IE/Edge, refer to https://github.com/video-dev/hls.js/pull/708
// in that case flush the whole audio buffer to recover
this.warn('Buffer full error also media.currentTime is not buffered, flush audio buffer');
this.fragCurrent=null;
_BaseStreamController.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,'audio');
}
this.resetLoadingState();
}
break;
default:
break;}

};
_proto.onBufferFlushed=function onBufferFlushed(event,_ref4){
var type=_ref4.type;
if(type===_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO){
this.bufferFlushed=true;
if(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.ENDED){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
}
};
_proto._handleTransmuxComplete=function _handleTransmuxComplete(transmuxResult){
var _id3$samples;
var id='audio';
var hls=this.hls;
var remuxResult=transmuxResult.remuxResult,
chunkMeta=transmuxResult.chunkMeta;
var context=this.getCurrentContext(chunkMeta);
if(!context){
this.warn("The loading context changed while buffering fragment "+chunkMeta.sn+" of level "+chunkMeta.level+". This chunk will not be buffered.");
this.resetStartWhenNotLoaded(chunkMeta.level);
return;
}
var frag=context.frag,
part=context.part,
details=context.level.details;
var audio=remuxResult.audio,
text=remuxResult.text,
id3=remuxResult.id3,
initSegment=remuxResult.initSegment;

// Check if the current fragment has been aborted. We check this by first seeing if we're still playing the current level.
// If we are, subsequently check if the currently loading fragment (fragCurrent) has changed.
if(this.fragContextChanged(frag)||!details){
return;
}
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSING;
if(this.audioSwitch&&audio){
this.completeAudioSwitch();
}
if(initSegment!==null&&initSegment!==void 0&&initSegment.tracks){
this._bufferInitSegment(initSegment.tracks,frag,chunkMeta);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_PARSING_INIT_SEGMENT,{
frag:frag,
id:id,
tracks:initSegment.tracks});

// Only flush audio from old audio tracks when PTS is known on new audio track
}

if(audio){
var startPTS=audio.startPTS,
endPTS=audio.endPTS,
startDTS=audio.startDTS,
endDTS=audio.endDTS;
if(part){
part.elementaryStreams[_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO]={
startPTS:startPTS,
endPTS:endPTS,
startDTS:startDTS,
endDTS:endDTS};

}
frag.setElementaryStreamInfo(_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO,startPTS,endPTS,startDTS,endDTS);
this.bufferFragmentData(audio,frag,part,chunkMeta);
}
if(id3!==null&&id3!==void 0&&(_id3$samples=id3.samples)!==null&&_id3$samples!==void 0&&_id3$samples.length){
var emittedID3=_extends({
id:id,
frag:frag,
details:details},
id3);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_PARSING_METADATA,emittedID3);
}
if(text){
var emittedText=_extends({
id:id,
frag:frag,
details:details},
text);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.FRAG_PARSING_USERDATA,emittedText);
}
};
_proto._bufferInitSegment=function _bufferInitSegment(tracks,frag,chunkMeta){
if(this.state!==_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSING){
return;
}
// delete any video track found on audio transmuxer
if(tracks.video){
delete tracks.video;
}

// include levelCodec in audio and video tracks
var track=tracks.audio;
if(!track){
return;
}
track.levelCodec=track.codec;
track.id='audio';
this.log("Init audio buffer, container:"+track.container+", codecs[parsed]=["+track.codec+"]");
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_CODECS,tracks);
var initSegment=track.initSegment;
if(initSegment!==null&&initSegment!==void 0&&initSegment.byteLength){
var segment={
type:'audio',
frag:frag,
part:null,
chunkMeta:chunkMeta,
parent:frag.type,
data:initSegment};

this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.BUFFER_APPENDING,segment);
}
// trigger handler right now
this.tick();
};
_proto.loadFragment=function loadFragment(frag,trackDetails,targetBufferTime){
// only load if fragment is not loaded or if in audio switch
var fragState=this.fragmentTracker.getState(frag);
this.fragCurrent=frag;

// we force a frag loading in audio switch as fragment tracker might not have evicted previous frags in case of quick audio switch
if(this.audioSwitch||fragState===_fragment_tracker__WEBPACK_IMPORTED_MODULE_4__.FragmentState.NOT_LOADED||fragState===_fragment_tracker__WEBPACK_IMPORTED_MODULE_4__.FragmentState.PARTIAL){
if(frag.sn==='initSegment'){
this._loadInitSegment(frag,trackDetails);
}else if(trackDetails.live&&!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(this.initPTS[frag.cc])){
this.log("Waiting for video PTS in continuity counter "+frag.cc+" of live stream before loading audio fragment "+frag.sn+" of level "+this.trackId);
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_INIT_PTS;
}else{
this.startFragRequested=true;
_BaseStreamController.prototype.loadFragment.call(this,frag,trackDetails,targetBufferTime);
}
}
};
_proto.completeAudioSwitch=function completeAudioSwitch(){
var hls=this.hls,
media=this.media,
trackId=this.trackId;
if(media){
this.log('Switching audio track : flushing all audio');
_BaseStreamController.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,'audio');
}
this.audioSwitch=false;
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.AUDIO_TRACK_SWITCHED,{
id:trackId});

};
return AudioStreamController;
}(_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__["default"]);
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=AudioStreamController;

/***/},

/***/"./src/controller/audio-track-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.ts ***!
  \**************************************************/
/***/function srcControllerAudioTrackControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _base_playlist_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}




var AudioTrackController=/*#__PURE__*/function(_BasePlaylistControll){
_inheritsLoose(AudioTrackController,_BasePlaylistControll);
function AudioTrackController(hls){
var _this;
_this=_BasePlaylistControll.call(this,hls,'[audio-track-controller]')||this;
_this.tracks=[];
_this.groupId=null;
_this.tracksInGroup=[];
_this.trackId=-1;
_this.trackName='';
_this.selectDefaultTrack=true;
_this.registerListeners();
return _this;
}
var _proto=AudioTrackController.prototype;
_proto.registerListeners=function registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_LOADING,this.onLevelLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,this.onError,this);
};
_proto.unregisterListeners=function unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_LOADING,this.onLevelLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,this.onError,this);
};
_proto.destroy=function destroy(){
this.unregisterListeners();
this.tracks.length=0;
this.tracksInGroup.length=0;
_BasePlaylistControll.prototype.destroy.call(this);
};
_proto.onManifestLoading=function onManifestLoading(){
this.tracks=[];
this.groupId=null;
this.tracksInGroup=[];
this.trackId=-1;
this.trackName='';
this.selectDefaultTrack=true;
};
_proto.onManifestParsed=function onManifestParsed(event,data){
this.tracks=data.audioTracks||[];
};
_proto.onAudioTrackLoaded=function onAudioTrackLoaded(event,data){
var id=data.id,
details=data.details;
var currentTrack=this.tracksInGroup[id];
if(!currentTrack){
this.warn("Invalid audio track id "+id);
return;
}
var curDetails=currentTrack.details;
currentTrack.details=data.details;
this.log("audioTrack "+id+" loaded ["+details.startSN+"-"+details.endSN+"]");
if(id===this.trackId){
this.retryCount=0;
this.playlistLoaded(id,data,curDetails);
}
};
_proto.onLevelLoading=function onLevelLoading(event,data){
this.switchLevel(data.level);
};
_proto.onLevelSwitching=function onLevelSwitching(event,data){
this.switchLevel(data.level);
};
_proto.switchLevel=function switchLevel(levelIndex){
var levelInfo=this.hls.levels[levelIndex];
if(!(levelInfo!==null&&levelInfo!==void 0&&levelInfo.audioGroupIds)){
return;
}
var audioGroupId=levelInfo.audioGroupIds[levelInfo.urlId];
if(this.groupId!==audioGroupId){
this.groupId=audioGroupId;
var audioTracks=this.tracks.filter(function(track){
return!audioGroupId||track.groupId===audioGroupId;
});

// Disable selectDefaultTrack if there are no default tracks
if(this.selectDefaultTrack&&!audioTracks.some(function(track){
return track.default;
})){
this.selectDefaultTrack=false;
}
this.tracksInGroup=audioTracks;
var audioTracksUpdated={
audioTracks:audioTracks};

this.log("Updating audio tracks, "+audioTracks.length+" track(s) found in \""+audioGroupId+"\" group-id");
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.AUDIO_TRACKS_UPDATED,audioTracksUpdated);
this.selectInitialTrack();
}
};
_proto.onError=function onError(event,data){
_BasePlaylistControll.prototype.onError.call(this,event,data);
if(data.fatal||!data.context){
return;
}
if(data.context.type===_types_loader__WEBPACK_IMPORTED_MODULE_3__.PlaylistContextType.AUDIO_TRACK&&data.context.id===this.trackId&&data.context.groupId===this.groupId){
this.retryLoadingOrFail(data);
}
};
_proto.setAudioTrack=function setAudioTrack(newId){
var tracks=this.tracksInGroup;

// check if level idx is valid
if(newId<0||newId>=tracks.length){
this.warn('Invalid id passed to audio-track controller');
return;
}

// stopping live reloading timer if any
this.clearTimer();
var lastTrack=tracks[this.trackId];
this.log("Now switching to audio-track index "+newId);
var track=tracks[newId];
var id=track.id,
_track$groupId=track.groupId,
groupId=_track$groupId===void 0?'':_track$groupId,
name=track.name,
type=track.type,
url=track.url;
this.trackId=newId;
this.trackName=name;
this.selectDefaultTrack=false;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.AUDIO_TRACK_SWITCHING,{
id:id,
groupId:groupId,
name:name,
type:type,
url:url});

// Do not reload track unless live
if(track.details&&!track.details.live){
return;
}
var hlsUrlParameters=this.switchParams(track.url,lastTrack===null||lastTrack===void 0?void 0:lastTrack.details);
this.loadPlaylist(hlsUrlParameters);
};
_proto.selectInitialTrack=function selectInitialTrack(){
var audioTracks=this.tracksInGroup;
console.assert(audioTracks.length,'Initial audio track should be selected when tracks are known');
var currentAudioTrackName=this.trackName;
var trackId=this.findTrackId(currentAudioTrackName)||this.findTrackId();
if(trackId!==-1){
this.setAudioTrack(trackId);
}else{
this.warn("No track found for running audio group-ID: "+this.groupId);
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,
fatal:true});

}
};
_proto.findTrackId=function findTrackId(name){
var audioTracks=this.tracksInGroup;
for(var i=0;i<audioTracks.length;i++){
var track=audioTracks[i];
if(!this.selectDefaultTrack||track.default){
if(!name||name===track.name){
return track.id;
}
}
}
return-1;
};
_proto.loadPlaylist=function loadPlaylist(hlsUrlParameters){
_BasePlaylistControll.prototype.loadPlaylist.call(this);
var audioTrack=this.tracksInGroup[this.trackId];
if(this.shouldLoadTrack(audioTrack)){
var id=audioTrack.id;
var groupId=audioTrack.groupId;
var url=audioTrack.url;
if(hlsUrlParameters){
try{
url=hlsUrlParameters.addDirectives(url);
}catch(error){
this.warn("Could not construct new URL with HLS Delivery Directives: "+error);
}
}
// track not retrieved yet, or live playlist we need to (re)load it
this.log("loading audio-track playlist for id: "+id);
this.clearTimer();
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.AUDIO_TRACK_LOADING,{
url:url,
id:id,
groupId:groupId,
deliveryDirectives:hlsUrlParameters||null});

}
};
_createClass(AudioTrackController,[{
key:"audioTracks",
get:function get(){
return this.tracksInGroup;
}},
{
key:"audioTrack",
get:function get(){
return this.trackId;
},
set:function set(newId){
// If audio track is selected from API then don't choose from the manifest default track
this.selectDefaultTrack=false;
this.setAudioTrack(newId);
}}]);

return AudioTrackController;
}(_base_playlist_controller__WEBPACK_IMPORTED_MODULE_2__["default"]);
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=AudioTrackController;

/***/},

/***/"./src/controller/base-playlist-controller.ts":
/*!****************************************************!*\
  !*** ./src/controller/base-playlist-controller.ts ***!
  \****************************************************/
/***/function srcControllerBasePlaylistControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */BasePlaylistController);}
/* harmony export */});
/* harmony import */var _types_level__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../types/level */"./src/types/level.ts");
/* harmony import */var _level_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./level-helper */"./src/controller/level-helper.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../errors */"./src/errors.ts");




var BasePlaylistController=/*#__PURE__*/function(){
function BasePlaylistController(hls,logPrefix){
this.hls=void 0;
this.timer=-1;
this.requestScheduled=-1;
this.canLoad=false;
this.retryCount=0;
this.log=void 0;
this.warn=void 0;
this.log=_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger,logPrefix+":");
this.warn=_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger,logPrefix+":");
this.hls=hls;
}
var _proto=BasePlaylistController.prototype;
_proto.destroy=function destroy(){
this.clearTimer();
// @ts-ignore
this.hls=this.log=this.warn=null;
};
_proto.onError=function onError(event,data){
if(data.fatal&&(data.type===_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorTypes.NETWORK_ERROR||data.type===_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorTypes.KEY_SYSTEM_ERROR)){
this.stopLoad();
}
};
_proto.clearTimer=function clearTimer(){
clearTimeout(this.timer);
this.timer=-1;
};
_proto.startLoad=function startLoad(){
this.canLoad=true;
this.retryCount=0;
this.requestScheduled=-1;
this.loadPlaylist();
};
_proto.stopLoad=function stopLoad(){
this.canLoad=false;
this.clearTimer();
};
_proto.switchParams=function switchParams(playlistUri,previous){
var renditionReports=previous===null||previous===void 0?void 0:previous.renditionReports;
if(renditionReports){
for(var i=0;i<renditionReports.length;i++){
var attr=renditionReports[i];
var uri=void 0;
try{
uri=new self.URL(attr.URI,previous.url).href;
}catch(error){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("Could not construct new URL for Rendition Report: "+error);
uri=attr.URI||'';
}
if(uri===playlistUri.slice(-uri.length)){
var msn=parseInt(attr['LAST-MSN'])||(previous===null||previous===void 0?void 0:previous.lastPartSn);
var part=parseInt(attr['LAST-PART'])||(previous===null||previous===void 0?void 0:previous.lastPartIndex);
if(this.hls.config.lowLatencyMode){
var currentGoal=Math.min(previous.age-previous.partTarget,previous.targetduration);
if(part>=0&&currentGoal>previous.partTarget){
part+=1;
}
}
return new _types_level__WEBPACK_IMPORTED_MODULE_0__.HlsUrlParameters(msn,part>=0?part:undefined,_types_level__WEBPACK_IMPORTED_MODULE_0__.HlsSkip.No);
}
}
}
};
_proto.loadPlaylist=function loadPlaylist(hlsUrlParameters){
if(this.requestScheduled===-1){
this.requestScheduled=self.performance.now();
}
};
_proto.shouldLoadTrack=function shouldLoadTrack(track){
return this.canLoad&&track&&!!track.url&&(!track.details||track.details.live);
};
_proto.playlistLoaded=function playlistLoaded(index,data,previousDetails){
var _this=this;
var details=data.details,
stats=data.stats;

// Set last updated date-time
var now=self.performance.now();
var elapsed=stats.loading.first?Math.max(0,now-stats.loading.first):0;
details.advancedDateTime=Date.now()-elapsed;

// if current playlist is a live playlist, arm a timer to reload it
if(details.live||previousDetails!==null&&previousDetails!==void 0&&previousDetails.live){
details.reloaded(previousDetails);
if(previousDetails){
this.log("live playlist "+index+" "+(details.advanced?'REFRESHED '+details.lastPartSn+'-'+details.lastPartIndex:'MISSED'));
}
// Merge live playlists to adjust fragment starts and fill in delta playlist skipped segments
if(previousDetails&&details.fragments.length>0){
(0,_level_helper__WEBPACK_IMPORTED_MODULE_1__.mergeDetails)(previousDetails,details);
}
if(!this.canLoad||!details.live){
return;
}
var deliveryDirectives;
var msn=undefined;
var part=undefined;
if(details.canBlockReload&&details.endSN&&details.advanced){
// Load level with LL-HLS delivery directives
var lowLatencyMode=this.hls.config.lowLatencyMode;
var lastPartSn=details.lastPartSn;
var endSn=details.endSN;
var lastPartIndex=details.lastPartIndex;
var hasParts=lastPartIndex!==-1;
var lastPart=lastPartSn===endSn;
// When low latency mode is disabled, we'll skip part requests once the last part index is found
var nextSnStartIndex=lowLatencyMode?0:lastPartIndex;
if(hasParts){
msn=lastPart?endSn+1:lastPartSn;
part=lastPart?nextSnStartIndex:lastPartIndex+1;
}else{
msn=endSn+1;
}
// Low-Latency CDN Tune-in: "age" header and time since load indicates we're behind by more than one part
// Update directives to obtain the Playlist that has the estimated additional duration of media
var lastAdvanced=details.age;
var cdnAge=lastAdvanced+details.ageHeader;
var currentGoal=Math.min(cdnAge-details.partTarget,details.targetduration*1.5);
if(currentGoal>0){
if(previousDetails&&currentGoal>previousDetails.tuneInGoal){
// If we attempted to get the next or latest playlist update, but currentGoal increased,
// then we either can't catchup, or the "age" header cannot be trusted.
this.warn("CDN Tune-in goal increased from: "+previousDetails.tuneInGoal+" to: "+currentGoal+" with playlist age: "+details.age);
currentGoal=0;
}else{
var segments=Math.floor(currentGoal/details.targetduration);
msn+=segments;
if(part!==undefined){
var parts=Math.round(currentGoal%details.targetduration/details.partTarget);
part+=parts;
}
this.log("CDN Tune-in age: "+details.ageHeader+"s last advanced "+lastAdvanced.toFixed(2)+"s goal: "+currentGoal+" skip sn "+segments+" to part "+part);
}
details.tuneInGoal=currentGoal;
}
deliveryDirectives=this.getDeliveryDirectives(details,data.deliveryDirectives,msn,part);
if(lowLatencyMode||!lastPart){
this.loadPlaylist(deliveryDirectives);
return;
}
}else{
deliveryDirectives=this.getDeliveryDirectives(details,data.deliveryDirectives,msn,part);
}
var bufferInfo=this.hls.mainForwardBufferInfo;
var position=bufferInfo?bufferInfo.end-bufferInfo.len:0;
var distanceToLiveEdgeMs=(details.edge-position)*1000;
var reloadInterval=(0,_level_helper__WEBPACK_IMPORTED_MODULE_1__.computeReloadInterval)(details,distanceToLiveEdgeMs);
if(!details.updated){
this.requestScheduled=-1;
}else if(now>this.requestScheduled+reloadInterval){
this.requestScheduled=stats.loading.start;
}
if(msn!==undefined&&details.canBlockReload){
this.requestScheduled=stats.loading.first+reloadInterval-(details.partTarget*1000||1000);
}else{
this.requestScheduled=(this.requestScheduled===-1?now:this.requestScheduled)+reloadInterval;
}
var estimatedTimeUntilUpdate=this.requestScheduled-now;
estimatedTimeUntilUpdate=Math.max(0,estimatedTimeUntilUpdate);
this.log("reload live playlist "+index+" in "+Math.round(estimatedTimeUntilUpdate)+" ms");
//     this.log(
//       `live reload ${details.updated ? 'REFRESHED' : 'MISSED'}
// reload in ${estimatedTimeUntilUpdate / 1000}
// round trip ${(stats.loading.end - stats.loading.start) / 1000}
// diff ${
//   (reloadInterval -
//     (estimatedTimeUntilUpdate + stats.loading.end - stats.loading.start)) /
//   1000
// }
// reload interval ${reloadInterval / 1000}
// target duration ${details.targetduration}
// distance to edge ${distanceToLiveEdgeMs / 1000}`
//     );

this.timer=self.setTimeout(function(){
return _this.loadPlaylist(deliveryDirectives);
},estimatedTimeUntilUpdate);
}else{
this.clearTimer();
}
};
_proto.getDeliveryDirectives=function getDeliveryDirectives(details,previousDeliveryDirectives,msn,part){
var skip=(0,_types_level__WEBPACK_IMPORTED_MODULE_0__.getSkipValue)(details,msn);
if(previousDeliveryDirectives!==null&&previousDeliveryDirectives!==void 0&&previousDeliveryDirectives.skip&&details.deltaUpdateFailed){
msn=previousDeliveryDirectives.msn;
part=previousDeliveryDirectives.part;
skip=_types_level__WEBPACK_IMPORTED_MODULE_0__.HlsSkip.No;
}
return new _types_level__WEBPACK_IMPORTED_MODULE_0__.HlsUrlParameters(msn,part,skip);
};
_proto.retryLoadingOrFail=function retryLoadingOrFail(errorEvent){
var _this2=this;
var config=this.hls.config;
var retry=this.retryCount<config.levelLoadingMaxRetry;
if(retry){
var _errorEvent$context;
this.requestScheduled=-1;
this.retryCount++;
if(errorEvent.details.indexOf('LoadTimeOut')>-1&&(_errorEvent$context=errorEvent.context)!==null&&_errorEvent$context!==void 0&&_errorEvent$context.deliveryDirectives){
// The LL-HLS request already timed out so retry immediately
this.warn("retry playlist loading #"+this.retryCount+" after \""+errorEvent.details+"\"");
this.loadPlaylist();
}else{
// exponential backoff capped to max retry timeout
var delay=Math.min(Math.pow(2,this.retryCount)*config.levelLoadingRetryDelay,config.levelLoadingMaxRetryTimeout);
// Schedule level/track reload
this.timer=self.setTimeout(function(){
return _this2.loadPlaylist();
},delay);
this.warn("retry playlist loading #"+this.retryCount+" in "+delay+" ms after \""+errorEvent.details+"\"");
}
}else{
this.warn("cannot recover from error \""+errorEvent.details+"\"");
// stopping live reloading timer if any
this.clearTimer();
// switch error to fatal
errorEvent.fatal=true;
}
return retry;
};
return BasePlaylistController;
}();


/***/},

/***/"./src/controller/base-stream-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.ts ***!
  \**************************************************/
/***/function srcControllerBaseStreamControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"State":function State(){return(/* binding */_State);},
/* harmony export */"default":function _default(){return(/* binding */BaseStreamController);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _task_loop__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../task-loop */"./src/task-loop.ts");
/* harmony import */var _fragment_tracker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts");
/* harmony import */var _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _types_transmuxer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../types/transmuxer */"./src/types/transmuxer.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _utils_discontinuities__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts");
/* harmony import */var _fragment_finders__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(/*! ./fragment-finders */"./src/controller/fragment-finders.ts");
/* harmony import */var _level_helper__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(/*! ./level-helper */"./src/controller/level-helper.ts");
/* harmony import */var _loader_fragment_loader__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(/*! ../loader/fragment-loader */"./src/loader/fragment-loader.ts");
/* harmony import */var _crypt_decrypter__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts");
/* harmony import */var _utils_time_ranges__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(/*! ../utils/time-ranges */"./src/utils/time-ranges.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");





function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}















var _State={
STOPPED:'STOPPED',
IDLE:'IDLE',
KEY_LOADING:'KEY_LOADING',
FRAG_LOADING:'FRAG_LOADING',
FRAG_LOADING_WAITING_RETRY:'FRAG_LOADING_WAITING_RETRY',
WAITING_TRACK:'WAITING_TRACK',
PARSING:'PARSING',
PARSED:'PARSED',
ENDED:'ENDED',
ERROR:'ERROR',
WAITING_INIT_PTS:'WAITING_INIT_PTS',
WAITING_LEVEL:'WAITING_LEVEL'};

var BaseStreamController=/*#__PURE__*/function(_TaskLoop){
_inheritsLoose(BaseStreamController,_TaskLoop);
function BaseStreamController(hls,fragmentTracker,keyLoader,logPrefix){
var _this;
_this=_TaskLoop.call(this)||this;
_this.hls=void 0;
_this.fragPrevious=null;
_this.fragCurrent=null;
_this.fragmentTracker=void 0;
_this.transmuxer=null;
_this._state=_State.STOPPED;
_this.media=null;
_this.mediaBuffer=null;
_this.config=void 0;
_this.bitrateTest=false;
_this.lastCurrentTime=0;
_this.nextLoadPosition=0;
_this.startPosition=0;
_this.loadedmetadata=false;
_this.fragLoadError=0;
_this.retryDate=0;
_this.levels=null;
_this.fragmentLoader=void 0;
_this.keyLoader=void 0;
_this.levelLastLoaded=null;
_this.startFragRequested=false;
_this.decrypter=void 0;
_this.initPTS=[];
_this.onvseeking=null;
_this.onvended=null;
_this.logPrefix='';
_this.log=void 0;
_this.warn=void 0;
_this.logPrefix=logPrefix;
_this.log=_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger.log.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger,logPrefix+":");
_this.warn=_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger.warn.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger,logPrefix+":");
_this.hls=hls;
_this.fragmentLoader=new _loader_fragment_loader__WEBPACK_IMPORTED_MODULE_12__["default"](hls.config);
_this.keyLoader=keyLoader;
_this.fragmentTracker=fragmentTracker;
_this.config=hls.config;
_this.decrypter=new _crypt_decrypter__WEBPACK_IMPORTED_MODULE_13__["default"](hls.config);
hls.on(_events__WEBPACK_IMPORTED_MODULE_5__.Events.LEVEL_SWITCHING,_this.onLevelSwitching,_assertThisInitialized(_this));
return _this;
}
var _proto=BaseStreamController.prototype;
_proto.doTick=function doTick(){
this.onTickEnd();
};
_proto.onTickEnd=function onTickEnd(){}

// eslint-disable-next-line @typescript-eslint/no-unused-vars
;
_proto.startLoad=function startLoad(startPosition){};
_proto.stopLoad=function stopLoad(){
this.fragmentLoader.abort();
this.keyLoader.abort();
var frag=this.fragCurrent;
if(frag){
frag.abortRequests();
this.fragmentTracker.removeFragment(frag);
}
this.resetTransmuxer();
this.fragCurrent=null;
this.fragPrevious=null;
this.clearInterval();
this.clearNextTick();
this.state=_State.STOPPED;
};
_proto._streamEnded=function _streamEnded(bufferInfo,levelDetails){
// If playlist is live, there is another buffered range after the current range, nothing buffered, media is detached,
// of nothing loading/loaded return false
if(levelDetails.live||bufferInfo.nextStart||!bufferInfo.end||!this.media){
return false;
}
var partList=levelDetails.partList;
// Since the last part isn't guaranteed to correspond to the last playlist segment for Low-Latency HLS,
// check instead if the last part is buffered.
if(partList!==null&&partList!==void 0&&partList.length){
var lastPart=partList[partList.length-1];

// Checking the midpoint of the part for potential margin of error and related issues.
// NOTE: Technically I believe parts could yield content that is < the computed duration (including potential a duration of 0)
// and still be spec-compliant, so there may still be edge cases here. Likewise, there could be issues in end of stream
// part mismatches for independent audio and video playlists/segments.
var lastPartBuffered=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.isBuffered(this.media,lastPart.start+lastPart.duration/2);
return lastPartBuffered;
}
var playlistType=levelDetails.fragments[levelDetails.fragments.length-1].type;
return this.fragmentTracker.isEndListAppended(playlistType);
};
_proto.getLevelDetails=function getLevelDetails(){
if(this.levels&&this.levelLastLoaded!==null){
var _this$levels$this$lev;
return(_this$levels$this$lev=this.levels[this.levelLastLoaded])===null||_this$levels$this$lev===void 0?void 0:_this$levels$this$lev.details;
}
};
_proto.onMediaAttached=function onMediaAttached(event,data){
var media=this.media=this.mediaBuffer=data.media;
this.onvseeking=this.onMediaSeeking.bind(this);
this.onvended=this.onMediaEnded.bind(this);
media.addEventListener('seeking',this.onvseeking);
media.addEventListener('ended',this.onvended);
var config=this.config;
if(this.levels&&config.autoStartLoad&&this.state===_State.STOPPED){
this.startLoad(config.startPosition);
}
};
_proto.onMediaDetaching=function onMediaDetaching(){
var media=this.media;
if(media!==null&&media!==void 0&&media.ended){
this.log('MSE detaching and video ended, reset startPosition');
this.startPosition=this.lastCurrentTime=0;
}

// remove video listeners
if(media&&this.onvseeking&&this.onvended){
media.removeEventListener('seeking',this.onvseeking);
media.removeEventListener('ended',this.onvended);
this.onvseeking=this.onvended=null;
}
if(this.keyLoader){
this.keyLoader.detach();
}
this.media=this.mediaBuffer=null;
this.loadedmetadata=false;
this.fragmentTracker.removeAllFragments();
this.stopLoad();
};
_proto.onMediaSeeking=function onMediaSeeking(){
var config=this.config,
fragCurrent=this.fragCurrent,
media=this.media,
mediaBuffer=this.mediaBuffer,
state=this.state;
var currentTime=media?media.currentTime:0;
var bufferInfo=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.bufferInfo(mediaBuffer?mediaBuffer:media,currentTime,config.maxBufferHole);
this.log("media seeking to "+((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(currentTime)?currentTime.toFixed(3):currentTime)+", state: "+state);
if(this.state===_State.ENDED){
this.resetLoadingState();
}else if(fragCurrent){
// Seeking while frag load is in progress
var tolerance=config.maxFragLookUpTolerance;
var fragStartOffset=fragCurrent.start-tolerance;
var fragEndOffset=fragCurrent.start+fragCurrent.duration+tolerance;
// if seeking out of buffered range or into new one
if(!bufferInfo.len||fragEndOffset<bufferInfo.start||fragStartOffset>bufferInfo.end){
var pastFragment=currentTime>fragEndOffset;
// if the seek position is outside the current fragment range
if(currentTime<fragStartOffset||pastFragment){
if(pastFragment&&fragCurrent.loader){
this.log('seeking outside of buffer while fragment load in progress, cancel fragment load');
fragCurrent.abortRequests();
}
this.resetLoadingState();
}
}
}
if(media){
this.lastCurrentTime=currentTime;
}

// in case seeking occurs although no media buffered, adjust startPosition and nextLoadPosition to seek target
if(!this.loadedmetadata&&!bufferInfo.len){
this.nextLoadPosition=this.startPosition=currentTime;
}

// Async tick to speed up processing
this.tickImmediate();
};
_proto.onMediaEnded=function onMediaEnded(){
// reset startPosition and lastCurrentTime to restart playback @ stream beginning
this.startPosition=this.lastCurrentTime=0;
};
_proto.onLevelSwitching=function onLevelSwitching(event,data){
this.fragLoadError=0;
};
_proto.onHandlerDestroying=function onHandlerDestroying(){
this.stopLoad();
_TaskLoop.prototype.onHandlerDestroying.call(this);
};
_proto.onHandlerDestroyed=function onHandlerDestroyed(){
this.state=_State.STOPPED;
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_5__.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);
if(this.fragmentLoader){
this.fragmentLoader.destroy();
}
if(this.keyLoader){
this.keyLoader.destroy();
}
if(this.decrypter){
this.decrypter.destroy();
}
this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null;
_TaskLoop.prototype.onHandlerDestroyed.call(this);
};
_proto.loadFragment=function loadFragment(frag,levelDetails,targetBufferTime){
this._loadFragForPlayback(frag,levelDetails,targetBufferTime);
};
_proto._loadFragForPlayback=function _loadFragForPlayback(frag,levelDetails,targetBufferTime){
var _this2=this;
var progressCallback=function progressCallback(data){
if(_this2.fragContextChanged(frag)){
_this2.warn("Fragment "+frag.sn+(data.part?' p: '+data.part.index:'')+" of level "+frag.level+" was dropped during download.");
_this2.fragmentTracker.removeFragment(frag);
return;
}
frag.stats.chunkCount++;
_this2._handleFragmentLoadProgress(data);
};
this._doFragLoad(frag,levelDetails,targetBufferTime,progressCallback).then(function(data){
if(!data){
// if we're here we probably needed to backtrack or are waiting for more parts
return;
}
_this2.fragLoadError=0;
var state=_this2.state;
if(_this2.fragContextChanged(frag)){
if(state===_State.FRAG_LOADING||!_this2.fragCurrent&&state===_State.PARSING){
_this2.fragmentTracker.removeFragment(frag);
_this2.state=_State.IDLE;
}
return;
}
if('payload'in data){
_this2.log("Loaded fragment "+frag.sn+" of level "+frag.level);
_this2.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.FRAG_LOADED,data);
}

// Pass through the whole payload; controllers not implementing progressive loading receive data from this callback
_this2._handleFragmentLoadComplete(data);
}).catch(function(reason){
if(_this2.state===_State.STOPPED||_this2.state===_State.ERROR){
return;
}
_this2.warn(reason);
_this2.resetFragmentLoading(frag);
});
};
_proto.flushMainBuffer=function flushMainBuffer(startOffset,endOffset,type){
if(type===void 0){
type=null;
}
if(!(startOffset-endOffset)){
return;
}
// When alternate audio is playing, the audio-stream-controller is responsible for the audio buffer. Otherwise,
// passing a null type flushes both buffers
var flushScope={
startOffset:startOffset,
endOffset:endOffset,
type:type};

// Reset load errors on flush
this.fragLoadError=0;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.BUFFER_FLUSHING,flushScope);
};
_proto._loadInitSegment=function _loadInitSegment(frag,details){
var _this3=this;
this._doFragLoad(frag,details).then(function(data){
if(!data||_this3.fragContextChanged(frag)||!_this3.levels){
throw new Error('init load aborted');
}
return data;
}).then(function(data){
var hls=_this3.hls;
var payload=data.payload;
var decryptData=frag.decryptdata;

// check to see if the payload needs to be decrypted
if(payload&&payload.byteLength>0&&decryptData&&decryptData.key&&decryptData.iv&&decryptData.method==='AES-128'){
var startTime=self.performance.now();
// decrypt the subtitles
return _this3.decrypter.decrypt(new Uint8Array(payload),decryptData.key.buffer,decryptData.iv.buffer).then(function(decryptedData){
var endTime=self.performance.now();
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.FRAG_DECRYPTED,{
frag:frag,
payload:decryptedData,
stats:{
tstart:startTime,
tdecrypt:endTime}});


data.payload=decryptedData;
return data;
});
}
return data;
}).then(function(data){
var fragCurrent=_this3.fragCurrent,
hls=_this3.hls,
levels=_this3.levels;
if(!levels){
throw new Error('init load aborted, missing levels');
}
var details=levels[frag.level].details;
console.assert(details,'Level details are defined when init segment is loaded');
var stats=frag.stats;
_this3.state=_State.IDLE;
_this3.fragLoadError=0;
frag.data=new Uint8Array(data.payload);
stats.parsing.start=stats.buffering.start=self.performance.now();
stats.parsing.end=stats.buffering.end=self.performance.now();

// Silence FRAG_BUFFERED event if fragCurrent is null
if(data.frag===fragCurrent){
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.FRAG_BUFFERED,{
stats:stats,
frag:fragCurrent,
part:null,
id:frag.type});

}
_this3.tick();
}).catch(function(reason){
if(_this3.state===_State.STOPPED||_this3.state===_State.ERROR){
return;
}
_this3.warn(reason);
_this3.resetFragmentLoading(frag);
});
};
_proto.fragContextChanged=function fragContextChanged(frag){
var fragCurrent=this.fragCurrent;
return!frag||!fragCurrent||frag.level!==fragCurrent.level||frag.sn!==fragCurrent.sn||frag.urlId!==fragCurrent.urlId;
};
_proto.fragBufferedComplete=function fragBufferedComplete(frag,part){
var _this$fragCurrent,_this$fragPrevious;
var media=this.mediaBuffer?this.mediaBuffer:this.media;
this.log("Buffered "+frag.type+" sn: "+frag.sn+(part?' part: '+part.index:'')+" of "+(this.logPrefix==='[stream-controller]'?'level':'track')+" "+frag.level+" (frag:["+(frag.startPTS||NaN).toFixed(3)+"-"+(frag.endPTS||NaN).toFixed(3)+"] > buffer:"+(media?_utils_time_ranges__WEBPACK_IMPORTED_MODULE_14__["default"].toString(_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.getBuffered(media)):'(detached)')+")");
this.state=_State.IDLE;
if(!media){
return;
}
if(!this.loadedmetadata&&frag.type==_types_loader__WEBPACK_IMPORTED_MODULE_15__.PlaylistLevelType.MAIN&&media.buffered.length&&((_this$fragCurrent=this.fragCurrent)===null||_this$fragCurrent===void 0?void 0:_this$fragCurrent.sn)===((_this$fragPrevious=this.fragPrevious)===null||_this$fragPrevious===void 0?void 0:_this$fragPrevious.sn)){
this.loadedmetadata=true;
this.seekToStartPos();
}
this.tick();
};
_proto.seekToStartPos=function seekToStartPos(){};
_proto._handleFragmentLoadComplete=function _handleFragmentLoadComplete(fragLoadedEndData){
var transmuxer=this.transmuxer;
if(!transmuxer){
return;
}
var frag=fragLoadedEndData.frag,
part=fragLoadedEndData.part,
partsLoaded=fragLoadedEndData.partsLoaded;
// If we did not load parts, or loaded all parts, we have complete (not partial) fragment data
var complete=!partsLoaded||partsLoaded.length===0||partsLoaded.some(function(fragLoaded){
return!fragLoaded;
});
var chunkMeta=new _types_transmuxer__WEBPACK_IMPORTED_MODULE_7__.ChunkMetadata(frag.level,frag.sn,frag.stats.chunkCount+1,0,part?part.index:-1,!complete);
transmuxer.flush(chunkMeta);
}

// eslint-disable-next-line @typescript-eslint/no-unused-vars
;
_proto._handleFragmentLoadProgress=function _handleFragmentLoadProgress(frag){};
_proto._doFragLoad=function _doFragLoad(frag,details,targetBufferTime,progressCallback){
var _frag$decryptdata,
_this4=this;
if(targetBufferTime===void 0){
targetBufferTime=null;
}
if(!this.levels){
throw new Error('frag load aborted, missing levels');
}
var keyLoadingPromise=null;
if(frag.encrypted&&!((_frag$decryptdata=frag.decryptdata)!==null&&_frag$decryptdata!==void 0&&_frag$decryptdata.key)){
this.log("Loading key for "+frag.sn+" of ["+details.startSN+"-"+details.endSN+"], "+(this.logPrefix==='[stream-controller]'?'level':'track')+" "+frag.level);
this.state=_State.KEY_LOADING;
this.fragCurrent=frag;
keyLoadingPromise=this.keyLoader.load(frag).then(function(keyLoadedData){
if(!_this4.fragContextChanged(keyLoadedData.frag)){
_this4.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.KEY_LOADED,keyLoadedData);
if(_this4.state===_State.KEY_LOADING){
_this4.state=_State.IDLE;
}
return keyLoadedData;
}
});
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.KEY_LOADING,{
frag:frag});

this.throwIfFragContextChanged('KEY_LOADING');
}else if(!frag.encrypted&&details.encryptedFragments.length){
this.keyLoader.loadClear(frag,details.encryptedFragments);
}
targetBufferTime=Math.max(frag.start,targetBufferTime||0);
if(this.config.lowLatencyMode&&details){
var partList=details.partList;
if(partList&&progressCallback){
if(targetBufferTime>frag.end&&details.fragmentHint){
frag=details.fragmentHint;
}
var partIndex=this.getNextPart(partList,frag,targetBufferTime);
if(partIndex>-1){
var part=partList[partIndex];
this.log("Loading part sn: "+frag.sn+" p: "+part.index+" cc: "+frag.cc+" of playlist ["+details.startSN+"-"+details.endSN+"] parts [0-"+partIndex+"-"+(partList.length-1)+"] "+(this.logPrefix==='[stream-controller]'?'level':'track')+": "+frag.level+", target: "+parseFloat(targetBufferTime.toFixed(3)));
this.nextLoadPosition=part.start+part.duration;
this.state=_State.FRAG_LOADING;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.FRAG_LOADING,{
frag:frag,
part:partList[partIndex],
targetBufferTime:targetBufferTime});

this.throwIfFragContextChanged('FRAG_LOADING parts');
if(keyLoadingPromise){
return keyLoadingPromise.then(function(keyLoadedData){
if(!keyLoadedData||_this4.fragContextChanged(keyLoadedData.frag)){
return null;
}
return _this4.doFragPartsLoad(frag,partList,partIndex,progressCallback);
}).catch(function(error){
return _this4.handleFragLoadError(error);
});
}
return this.doFragPartsLoad(frag,partList,partIndex,progressCallback).catch(function(error){
return _this4.handleFragLoadError(error);
});
}else if(!frag.url||this.loadedEndOfParts(partList,targetBufferTime)){
// Fragment hint has no parts
return Promise.resolve(null);
}
}
}
this.log("Loading fragment "+frag.sn+" cc: "+frag.cc+" "+(details?'of ['+details.startSN+'-'+details.endSN+'] ':'')+(this.logPrefix==='[stream-controller]'?'level':'track')+": "+frag.level+", target: "+parseFloat(targetBufferTime.toFixed(3)));
// Don't update nextLoadPosition for fragments which are not buffered
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(frag.sn)&&!this.bitrateTest){
this.nextLoadPosition=frag.start+frag.duration;
}
this.state=_State.FRAG_LOADING;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.FRAG_LOADING,{
frag:frag,
targetBufferTime:targetBufferTime});

this.throwIfFragContextChanged('FRAG_LOADING');

// Load key before streaming fragment data
var dataOnProgress=this.config.progressive;
if(dataOnProgress&&keyLoadingPromise){
return keyLoadingPromise.then(function(keyLoadedData){
if(!keyLoadedData||_this4.fragContextChanged(keyLoadedData===null||keyLoadedData===void 0?void 0:keyLoadedData.frag)){
return null;
}
return _this4.fragmentLoader.load(frag,progressCallback);
}).catch(function(error){
return _this4.handleFragLoadError(error);
});
}

// load unencrypted fragment data with progress event,
// or handle fragment result after key and fragment are finished loading
return Promise.all([this.fragmentLoader.load(frag,dataOnProgress?progressCallback:undefined),keyLoadingPromise]).then(function(_ref){
var fragLoadedData=_ref[0];
if(!dataOnProgress&&fragLoadedData&&progressCallback){
progressCallback(fragLoadedData);
}
return fragLoadedData;
}).catch(function(error){
return _this4.handleFragLoadError(error);
});
};
_proto.throwIfFragContextChanged=function throwIfFragContextChanged(context){
// exit if context changed during event loop
if(this.fragCurrent===null){
throw new Error("frag load aborted, context changed in "+context);
}
};
_proto.doFragPartsLoad=function doFragPartsLoad(frag,partList,partIndex,progressCallback){
var _this5=this;
return new Promise(function(resolve,reject){
var partsLoaded=[];
var loadPartIndex=function loadPartIndex(index){
var part=partList[index];
_this5.fragmentLoader.loadPart(frag,part,progressCallback).then(function(partLoadedData){
partsLoaded[part.index]=partLoadedData;
var loadedPart=partLoadedData.part;
_this5.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.FRAG_LOADED,partLoadedData);
var nextPart=partList[index+1];
if(nextPart&&nextPart.fragment===frag){
loadPartIndex(index+1);
}else{
return resolve({
frag:frag,
part:loadedPart,
partsLoaded:partsLoaded});

}
}).catch(reject);
};
loadPartIndex(partIndex);
});
};
_proto.handleFragLoadError=function handleFragLoadError(error){
if('data'in error){
var data=error.data;
if(error.data&&data.details===_errors__WEBPACK_IMPORTED_MODULE_6__.ErrorDetails.INTERNAL_ABORTED){
this.handleFragLoadAborted(data.frag,data.part);
}else{
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.ERROR,data);
}
}else{
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_6__.ErrorTypes.OTHER_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_6__.ErrorDetails.INTERNAL_EXCEPTION,
err:error,
fatal:true});

}
return null;
};
_proto._handleTransmuxerFlush=function _handleTransmuxerFlush(chunkMeta){
var context=this.getCurrentContext(chunkMeta);
if(!context||this.state!==_State.PARSING){
if(!this.fragCurrent&&this.state!==_State.STOPPED&&this.state!==_State.ERROR){
this.state=_State.IDLE;
}
return;
}
var frag=context.frag,
part=context.part,
level=context.level;
var now=self.performance.now();
frag.stats.parsing.end=now;
if(part){
part.stats.parsing.end=now;
}
this.updateLevelTiming(frag,part,level,chunkMeta.partial);
};
_proto.getCurrentContext=function getCurrentContext(chunkMeta){
var levels=this.levels;
var levelIndex=chunkMeta.level,
sn=chunkMeta.sn,
partIndex=chunkMeta.part;
if(!levels||!levels[levelIndex]){
this.warn("Levels object was unset while buffering fragment "+sn+" of level "+levelIndex+". The current chunk will not be buffered.");
return null;
}
var level=levels[levelIndex];
var part=partIndex>-1?(0,_level_helper__WEBPACK_IMPORTED_MODULE_11__.getPartWith)(level,sn,partIndex):null;
var frag=part?part.fragment:(0,_level_helper__WEBPACK_IMPORTED_MODULE_11__.getFragmentWithSN)(level,sn,this.fragCurrent);
if(!frag){
return null;
}
return{
frag:frag,
part:part,
level:level};

};
_proto.bufferFragmentData=function bufferFragmentData(data,frag,part,chunkMeta){
if(!data||this.state!==_State.PARSING){
return;
}
var data1=data.data1,
data2=data.data2;
var buffer=data1;
if(data1&&data2){
// Combine the moof + mdat so that we buffer with a single append
buffer=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_8__.appendUint8Array)(data1,data2);
}
if(!buffer||!buffer.length){
return;
}
var segment={
type:data.type,
frag:frag,
part:part,
chunkMeta:chunkMeta,
parent:frag.type,
data:buffer};

this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.BUFFER_APPENDING,segment);
if(data.dropped&&data.independent&&!part){
// Clear buffer so that we reload previous segments sequentially if required
this.flushBufferGap(frag);
}
};
_proto.flushBufferGap=function flushBufferGap(frag){
var media=this.media;
if(!media){
return;
}
// If currentTime is not buffered, clear the back buffer so that we can backtrack as much as needed
if(!_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.isBuffered(media,media.currentTime)){
this.flushMainBuffer(0,frag.start);
return;
}
// Remove back-buffer without interrupting playback to allow back tracking
var currentTime=media.currentTime;
var bufferInfo=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.bufferInfo(media,currentTime,0);
var fragDuration=frag.duration;
var segmentFraction=Math.min(this.config.maxFragLookUpTolerance*2,fragDuration*0.25);
var start=Math.max(Math.min(frag.start-segmentFraction,bufferInfo.end-segmentFraction),currentTime+segmentFraction);
if(frag.start-start>segmentFraction){
this.flushMainBuffer(start,frag.start);
}
};
_proto.getFwdBufferInfo=function getFwdBufferInfo(bufferable,type){
var config=this.config;
var pos=this.getLoadPosition();
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(pos)){
return null;
}
var bufferInfo=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.bufferInfo(bufferable,pos,config.maxBufferHole);
// Workaround flaw in getting forward buffer when maxBufferHole is smaller than gap at current pos
if(bufferInfo.len===0&&bufferInfo.nextStart!==undefined){
var bufferedFragAtPos=this.fragmentTracker.getBufferedFrag(pos,type);
if(bufferedFragAtPos&&bufferInfo.nextStart<bufferedFragAtPos.end){
return _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.bufferInfo(bufferable,pos,Math.max(bufferInfo.nextStart,config.maxBufferHole));
}
}
return bufferInfo;
};
_proto.getMaxBufferLength=function getMaxBufferLength(levelBitrate){
var config=this.config;
var maxBufLen;
if(levelBitrate){
maxBufLen=Math.max(8*config.maxBufferSize/levelBitrate,config.maxBufferLength);
}else{
maxBufLen=config.maxBufferLength;
}
return Math.min(maxBufLen,config.maxMaxBufferLength);
};
_proto.reduceMaxBufferLength=function reduceMaxBufferLength(threshold){
var config=this.config;
var minLength=threshold||config.maxBufferLength;
if(config.maxMaxBufferLength>=minLength){
// reduce max buffer length as it might be too high. we do this to avoid loop flushing ...
config.maxMaxBufferLength/=2;
this.warn("Reduce max buffer length to "+config.maxMaxBufferLength+"s");
return true;
}
return false;
};
_proto.getNextFragment=function getNextFragment(pos,levelDetails){
var fragments=levelDetails.fragments;
var fragLen=fragments.length;
if(!fragLen){
return null;
}

// find fragment index, contiguous with end of buffer position
var config=this.config;
var start=fragments[0].start;
var frag;
if(levelDetails.live){
var initialLiveManifestSize=config.initialLiveManifestSize;
if(fragLen<initialLiveManifestSize){
this.warn("Not enough fragments to start playback (have: "+fragLen+", need: "+initialLiveManifestSize+")");
return null;
}
// The real fragment start times for a live stream are only known after the PTS range for that level is known.
// In order to discover the range, we load the best matching fragment for that level and demux it.
// Do not load using live logic if the starting frag is requested - we want to use getFragmentAtPosition() so that
// we get the fragment matching that start time
if(!levelDetails.PTSKnown&&!this.startFragRequested&&this.startPosition===-1){
frag=this.getInitialLiveFragment(levelDetails,fragments);
this.startPosition=frag?this.hls.liveSyncPosition||frag.start:pos;
}
}else if(pos<=start){
// VoD playlist: if loadPosition before start of playlist, load first fragment
frag=fragments[0];
}

// If we haven't run into any special cases already, just load the fragment most closely matching the requested position
if(!frag){
var end=config.lowLatencyMode?levelDetails.partEnd:levelDetails.fragmentEnd;
frag=this.getFragmentAtPosition(pos,end,levelDetails);
}
return this.mapToInitFragWhenRequired(frag);
};
_proto.mapToInitFragWhenRequired=function mapToInitFragWhenRequired(frag){
// If an initSegment is present, it must be buffered first
if(frag!==null&&frag!==void 0&&frag.initSegment&&!(frag!==null&&frag!==void 0&&frag.initSegment.data)&&!this.bitrateTest){
return frag.initSegment;
}
return frag;
};
_proto.getNextPart=function getNextPart(partList,frag,targetBufferTime){
var nextPart=-1;
var contiguous=false;
var independentAttrOmitted=true;
for(var i=0,len=partList.length;i<len;i++){
var part=partList[i];
independentAttrOmitted=independentAttrOmitted&&!part.independent;
if(nextPart>-1&&targetBufferTime<part.start){
break;
}
var loaded=part.loaded;
if(loaded){
nextPart=-1;
}else if((contiguous||part.independent||independentAttrOmitted)&&part.fragment===frag){
nextPart=i;
}
contiguous=loaded;
}
return nextPart;
};
_proto.loadedEndOfParts=function loadedEndOfParts(partList,targetBufferTime){
var lastPart=partList[partList.length-1];
return lastPart&&targetBufferTime>lastPart.start&&lastPart.loaded;
}

/*
   This method is used find the best matching first fragment for a live playlist. This fragment is used to calculate the
   "sliding" of the playlist, which is its offset from the start of playback. After sliding we can compute the real
   start and end times for each fragment in the playlist (after which this method will not need to be called).
  */;
_proto.getInitialLiveFragment=function getInitialLiveFragment(levelDetails,fragments){
var fragPrevious=this.fragPrevious;
var frag=null;
if(fragPrevious){
if(levelDetails.hasProgramDateTime){
// Prefer using PDT, because it can be accurate enough to choose the correct fragment without knowing the level sliding
this.log("Live playlist, switching playlist, load frag with same PDT: "+fragPrevious.programDateTime);
frag=(0,_fragment_finders__WEBPACK_IMPORTED_MODULE_10__.findFragmentByPDT)(fragments,fragPrevious.endProgramDateTime,this.config.maxFragLookUpTolerance);
}
if(!frag){
// SN does not need to be accurate between renditions, but depending on the packaging it may be so.
var targetSN=fragPrevious.sn+1;
if(targetSN>=levelDetails.startSN&&targetSN<=levelDetails.endSN){
var fragNext=fragments[targetSN-levelDetails.startSN];
// Ensure that we're staying within the continuity range, since PTS resets upon a new range
if(fragPrevious.cc===fragNext.cc){
frag=fragNext;
this.log("Live playlist, switching playlist, load frag with next SN: "+frag.sn);
}
}
// It's important to stay within the continuity range if available; otherwise the fragments in the playlist
// will have the wrong start times
if(!frag){
frag=(0,_fragment_finders__WEBPACK_IMPORTED_MODULE_10__.findFragWithCC)(fragments,fragPrevious.cc);
if(frag){
this.log("Live playlist, switching playlist, load frag with same CC: "+frag.sn);
}
}
}
}else{
// Find a new start fragment when fragPrevious is null
var liveStart=this.hls.liveSyncPosition;
if(liveStart!==null){
frag=this.getFragmentAtPosition(liveStart,this.bitrateTest?levelDetails.fragmentEnd:levelDetails.edge,levelDetails);
}
}
return frag;
}

/*
  This method finds the best matching fragment given the provided position.
   */;
_proto.getFragmentAtPosition=function getFragmentAtPosition(bufferEnd,end,levelDetails){
var config=this.config;
var fragPrevious=this.fragPrevious;
var fragments=levelDetails.fragments,
endSN=levelDetails.endSN;
var fragmentHint=levelDetails.fragmentHint;
var tolerance=config.maxFragLookUpTolerance;
var loadingParts=!!(config.lowLatencyMode&&levelDetails.partList&&fragmentHint);
if(loadingParts&&fragmentHint&&!this.bitrateTest){
// Include incomplete fragment with parts at end
fragments=fragments.concat(fragmentHint);
endSN=fragmentHint.sn;
}
var frag;
if(bufferEnd<end){
var lookupTolerance=bufferEnd>end-tolerance?0:tolerance;
// Remove the tolerance if it would put the bufferEnd past the actual end of stream
// Uses buffer and sequence number to calculate switch segment (required if using EXT-X-DISCONTINUITY-SEQUENCE)
frag=(0,_fragment_finders__WEBPACK_IMPORTED_MODULE_10__.findFragmentByPTS)(fragPrevious,fragments,bufferEnd,lookupTolerance);
}else{
// reach end of playlist
frag=fragments[fragments.length-1];
}
if(frag){
var curSNIdx=frag.sn-levelDetails.startSN;
// Move fragPrevious forward to support forcing the next fragment to load
// when the buffer catches up to a previously buffered range.
if(this.fragmentTracker.getState(frag)===_fragment_tracker__WEBPACK_IMPORTED_MODULE_2__.FragmentState.OK){
fragPrevious=frag;
}
if(fragPrevious&&frag.sn===fragPrevious.sn&&!loadingParts){
// Force the next fragment to load if the previous one was already selected. This can occasionally happen with
// non-uniform fragment durations
var sameLevel=fragPrevious&&frag.level===fragPrevious.level;
if(sameLevel){
var nextFrag=fragments[curSNIdx+1];
if(frag.sn<endSN&&this.fragmentTracker.getState(nextFrag)!==_fragment_tracker__WEBPACK_IMPORTED_MODULE_2__.FragmentState.OK){
this.log("SN "+frag.sn+" just loaded, load next one: "+nextFrag.sn);
frag=nextFrag;
}else{
frag=null;
}
}
}
}
return frag;
};
_proto.synchronizeToLiveEdge=function synchronizeToLiveEdge(levelDetails){
var config=this.config,
media=this.media;
if(!media){
return;
}
var liveSyncPosition=this.hls.liveSyncPosition;
var currentTime=media.currentTime;
var start=levelDetails.fragments[0].start;
var end=levelDetails.edge;
var withinSlidingWindow=currentTime>=start-config.maxFragLookUpTolerance&&currentTime<=end;
// Continue if we can seek forward to sync position or if current time is outside of sliding window
if(liveSyncPosition!==null&&media.duration>liveSyncPosition&&(currentTime<liveSyncPosition||!withinSlidingWindow)){
// Continue if buffer is starving or if current time is behind max latency
var maxLatency=config.liveMaxLatencyDuration!==undefined?config.liveMaxLatencyDuration:config.liveMaxLatencyDurationCount*levelDetails.targetduration;
if(!withinSlidingWindow&&media.readyState<4||currentTime<end-maxLatency){
if(!this.loadedmetadata){
this.nextLoadPosition=liveSyncPosition;
}
// Only seek if ready and there is not a significant forward buffer available for playback
if(media.readyState){
this.warn("Playback: "+currentTime.toFixed(3)+" is located too far from the end of live sliding playlist: "+end+", reset currentTime to : "+liveSyncPosition.toFixed(3));
media.currentTime=liveSyncPosition;
}
}
}
};
_proto.alignPlaylists=function alignPlaylists(details,previousDetails){
var levels=this.levels,
levelLastLoaded=this.levelLastLoaded,
fragPrevious=this.fragPrevious;
var lastLevel=levelLastLoaded!==null?levels[levelLastLoaded]:null;

// FIXME: If not for `shouldAlignOnDiscontinuities` requiring fragPrevious.cc,
//  this could all go in level-helper mergeDetails()
var length=details.fragments.length;
if(!length){
this.warn("No fragments in live playlist");
return 0;
}
var slidingStart=details.fragments[0].start;
var firstLevelLoad=!previousDetails;
var aligned=details.alignedSliding&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(slidingStart);
if(firstLevelLoad||!aligned&&!slidingStart){
(0,_utils_discontinuities__WEBPACK_IMPORTED_MODULE_9__.alignStream)(fragPrevious,lastLevel,details);
var alignedSlidingStart=details.fragments[0].start;
this.log("Live playlist sliding: "+alignedSlidingStart.toFixed(2)+" start-sn: "+(previousDetails?previousDetails.startSN:'na')+"->"+details.startSN+" prev-sn: "+(fragPrevious?fragPrevious.sn:'na')+" fragments: "+length);
return alignedSlidingStart;
}
return slidingStart;
};
_proto.waitForCdnTuneIn=function waitForCdnTuneIn(details){
// Wait for Low-Latency CDN Tune-in to get an updated playlist
var advancePartLimit=3;
return details.live&&details.canBlockReload&&details.partTarget&&details.tuneInGoal>Math.max(details.partHoldBack,details.partTarget*advancePartLimit);
};
_proto.setStartPosition=function setStartPosition(details,sliding){
// compute start position if set to -1. use it straight away if value is defined
var startPosition=this.startPosition;
if(startPosition<sliding){
startPosition=-1;
}
if(startPosition===-1||this.lastCurrentTime===-1){
// first, check if start time offset has been set in playlist, if yes, use this value
var startTimeOffset=details.startTimeOffset;
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(startTimeOffset)){
startPosition=sliding+startTimeOffset;
if(startTimeOffset<0){
startPosition+=details.totalduration;
}
startPosition=Math.min(Math.max(sliding,startPosition),sliding+details.totalduration);
this.log("Start time offset "+startTimeOffset+" found in playlist, adjust startPosition to "+startPosition);
this.startPosition=startPosition;
}else if(details.live){
// Leave this.startPosition at -1, so that we can use `getInitialLiveFragment` logic when startPosition has
// not been specified via the config or an as an argument to startLoad (#3736).
startPosition=this.hls.liveSyncPosition||sliding;
}else{
this.startPosition=startPosition=0;
}
this.lastCurrentTime=startPosition;
}
this.nextLoadPosition=startPosition;
};
_proto.getLoadPosition=function getLoadPosition(){
var media=this.media;
// if we have not yet loaded any fragment, start loading from start position
var pos=0;
if(this.loadedmetadata&&media){
pos=media.currentTime;
}else if(this.nextLoadPosition){
pos=this.nextLoadPosition;
}
return pos;
};
_proto.handleFragLoadAborted=function handleFragLoadAborted(frag,part){
if(this.transmuxer&&frag.sn!=='initSegment'&&frag.stats.aborted){
this.warn("Fragment "+frag.sn+(part?' part'+part.index:'')+" of level "+frag.level+" was aborted");
this.resetFragmentLoading(frag);
}
};
_proto.resetFragmentLoading=function resetFragmentLoading(frag){
if(!this.fragCurrent||!this.fragContextChanged(frag)&&this.state!==_State.FRAG_LOADING_WAITING_RETRY){
this.state=_State.IDLE;
}
};
_proto.onFragmentOrKeyLoadError=function onFragmentOrKeyLoadError(filterType,data){
if(data.fatal){
this.stopLoad();
this.state=_State.ERROR;
return;
}
var config=this.config;
if(data.chunkMeta){
// Parsing Error: no retries
var context=this.getCurrentContext(data.chunkMeta);
if(context){
data.frag=context.frag;
data.levelRetry=true;
this.fragLoadError=config.fragLoadingMaxRetry;
}
}
var frag=data.frag;
// Handle frag error related to caller's filterType
if(!frag||frag.type!==filterType){
return;
}
var fragCurrent=this.fragCurrent;
console.assert(fragCurrent&&frag.sn===fragCurrent.sn&&frag.level===fragCurrent.level&&frag.urlId===fragCurrent.urlId,'Frag load error must match current frag to retry');
// keep retrying until the limit will be reached
if(this.fragLoadError+1<=config.fragLoadingMaxRetry){
if(!this.loadedmetadata){
this.startFragRequested=false;
this.nextLoadPosition=this.startPosition;
}
// exponential backoff capped to config.fragLoadingMaxRetryTimeout
var delay=Math.min(Math.pow(2,this.fragLoadError)*config.fragLoadingRetryDelay,config.fragLoadingMaxRetryTimeout);
this.warn("Fragment "+frag.sn+" of "+filterType+" "+frag.level+" failed to load, retrying in "+delay+"ms");
this.retryDate=self.performance.now()+delay;
this.fragLoadError++;
this.state=_State.FRAG_LOADING_WAITING_RETRY;
}else if(data.levelRetry){
if(filterType===_types_loader__WEBPACK_IMPORTED_MODULE_15__.PlaylistLevelType.AUDIO){
// Reset current fragment since audio track audio is essential and may not have a fail-over track
this.fragCurrent=null;
}
// Fragment errors that result in a level switch or redundant fail-over
// should reset the stream controller state to idle
this.fragLoadError=0;
this.state=_State.IDLE;
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger.error(data.details+" reaches max retry, redispatch as fatal ...");
// switch error to fatal
data.fatal=true;
this.hls.stopLoad();
this.state=_State.ERROR;
}
};
_proto.afterBufferFlushed=function afterBufferFlushed(media,bufferType,playlistType){
if(!media){
return;
}
// After successful buffer flushing, filter flushed fragments from bufferedFrags use mediaBuffered instead of media
// (so that we will check against video.buffered ranges in case of alt audio track)
var bufferedTimeRanges=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_3__.BufferHelper.getBuffered(media);
this.fragmentTracker.detectEvictedFragments(bufferType,bufferedTimeRanges,playlistType);
if(this.state===_State.ENDED){
this.resetLoadingState();
}
};
_proto.resetLoadingState=function resetLoadingState(){
this.log('Reset loading state');
this.fragCurrent=null;
this.fragPrevious=null;
this.state=_State.IDLE;
};
_proto.resetStartWhenNotLoaded=function resetStartWhenNotLoaded(level){
// if loadedmetadata is not set, it means that first frag request failed
// in that case, reset startFragRequested flag
if(!this.loadedmetadata){
this.startFragRequested=false;
var details=this.levels?this.levels[level].details:null;
if(details!==null&&details!==void 0&&details.live){
// Update the start position and return to IDLE to recover live start
this.startPosition=-1;
this.setStartPosition(details,0);
this.resetLoadingState();
}else{
this.nextLoadPosition=this.startPosition;
}
}
};
_proto.updateLevelTiming=function updateLevelTiming(frag,part,level,partial){
var _this6=this;
var details=level.details;
console.assert(!!details,'level.details must be defined');
var parsed=Object.keys(frag.elementaryStreams).reduce(function(result,type){
var info=frag.elementaryStreams[type];
if(info){
var parsedDuration=info.endPTS-info.startPTS;
if(parsedDuration<=0){
// Destroy the transmuxer after it's next time offset failed to advance because duration was <= 0.
// The new transmuxer will be configured with a time offset matching the next fragment start,
// preventing the timeline from shifting.
_this6.warn("Could not parse fragment "+frag.sn+" "+type+" duration reliably ("+parsedDuration+")");
return result||false;
}
var drift=partial?0:(0,_level_helper__WEBPACK_IMPORTED_MODULE_11__.updateFragPTSDTS)(details,frag,info.startPTS,info.endPTS,info.startDTS,info.endDTS);
_this6.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.LEVEL_PTS_UPDATED,{
details:details,
level:level,
drift:drift,
type:type,
frag:frag,
start:info.startPTS,
end:info.endPTS});

return true;
}
return result;
},false);
if(!parsed){
this.warn("Found no media in fragment "+frag.sn+" of level "+level.id+" resetting transmuxer to fallback to playlist timing");
this.resetTransmuxer();
}
this.state=_State.PARSED;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_5__.Events.FRAG_PARSED,{
frag:frag,
part:part});

};
_proto.resetTransmuxer=function resetTransmuxer(){
if(this.transmuxer){
this.transmuxer.destroy();
this.transmuxer=null;
}
};
_createClass(BaseStreamController,[{
key:"state",
get:function get(){
return this._state;
},
set:function set(nextState){
var previousState=this._state;
if(previousState!==nextState){
this._state=nextState;
this.log(previousState+"->"+nextState);
}
}}]);

return BaseStreamController;
}(_task_loop__WEBPACK_IMPORTED_MODULE_1__["default"]);


/***/},

/***/"./src/controller/buffer-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.ts ***!
  \*********************************************/
/***/function srcControllerBufferControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */BufferController);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts");
/* harmony import */var _utils_mediasource_helper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts");
/* harmony import */var _loader_fragment__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../loader/fragment */"./src/loader/fragment.ts");
/* harmony import */var _buffer_operation_queue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ./buffer-operation-queue */"./src/controller/buffer-operation-queue.ts");












var MediaSource=(0,_utils_mediasource_helper__WEBPACK_IMPORTED_MODULE_5__.getMediaSource)();
var VIDEO_CODEC_PROFILE_REPACE=/([ha]vc.)(?:\.[^.,]+)+/;
var BufferController=/*#__PURE__*/function(){
// The level details used to determine duration, target-duration and live

// cache the self generated object url to detect hijack of video tag

// A queue of buffer operations which require the SourceBuffer to not be updating upon execution

// References to event listeners for each SourceBuffer, so that they can be referenced for event removal

// The number of BUFFER_CODEC events received before any sourceBuffers are created

// The total number of BUFFER_CODEC events received

// A reference to the attached media element

// A reference to the active media source

// Last MP3 audio chunk appended

// counters

function BufferController(hls){
var _this=this;
this.details=null;
this._objectUrl=null;
this.operationQueue=void 0;
this.listeners=void 0;
this.hls=void 0;
this.bufferCodecEventsExpected=0;
this._bufferCodecEventsTotal=0;
this.media=null;
this.mediaSource=null;
this.lastMpegAudioChunk=null;
this.appendError=0;
this.tracks={};
this.pendingTracks={};
this.sourceBuffer=void 0;
this._onMediaSourceOpen=function(){
var media=_this.media,
mediaSource=_this.mediaSource;
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('[buffer-controller]: Media source opened');
if(media){
media.removeEventListener('emptied',_this._onMediaEmptied);
_this.updateMediaElementDuration();
_this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHED,{
media:media});

}
if(mediaSource){
// once received, don't listen anymore to sourceopen event
mediaSource.removeEventListener('sourceopen',_this._onMediaSourceOpen);
}
_this.checkPendingTracks();
};
this._onMediaSourceClose=function(){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('[buffer-controller]: Media source closed');
};
this._onMediaSourceEnded=function(){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('[buffer-controller]: Media source ended');
};
this._onMediaEmptied=function(){
var media=_this.media,
_objectUrl=_this._objectUrl;
if(media&&media.src!==_objectUrl){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("Media element src was set while attaching MediaSource ("+_objectUrl+" > "+media.src+")");
}
};
this.hls=hls;
this._initSourceBuffer();
this.registerListeners();
}
var _proto=BufferController.prototype;
_proto.hasSourceTypes=function hasSourceTypes(){
return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0;
};
_proto.destroy=function destroy(){
this.unregisterListeners();
this.details=null;
this.lastMpegAudioChunk=null;
};
_proto.registerListeners=function registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_RESET,this.onBufferReset,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_APPENDING,this.onBufferAppending,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_CODECS,this.onBufferCodecs,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_EOS,this.onBufferEos,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_UPDATED,this.onLevelUpdated,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_PARSED,this.onFragParsed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_CHANGED,this.onFragChanged,this);
};
_proto.unregisterListeners=function unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_RESET,this.onBufferReset,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_APPENDING,this.onBufferAppending,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_CODECS,this.onBufferCodecs,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_EOS,this.onBufferEos,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_UPDATED,this.onLevelUpdated,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_PARSED,this.onFragParsed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_CHANGED,this.onFragChanged,this);
};
_proto._initSourceBuffer=function _initSourceBuffer(){
this.sourceBuffer={};
this.operationQueue=new _buffer_operation_queue__WEBPACK_IMPORTED_MODULE_7__["default"](this.sourceBuffer);
this.listeners={
audio:[],
video:[],
audiovideo:[]};

this.lastMpegAudioChunk=null;
};
_proto.onManifestParsed=function onManifestParsed(event,data){
// in case of alt audio 2 BUFFER_CODECS events will be triggered, one per stream controller
// sourcebuffers will be created all at once when the expected nb of tracks will be reached
// in case alt audio is not used, only one BUFFER_CODEC event will be fired from main stream controller
// it will contain the expected nb of source buffers, no need to compute it
var codecEvents=2;
if(data.audio&&!data.video||!data.altAudio){
codecEvents=1;
}
this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=codecEvents;
this.details=null;
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected");
};
_proto.onMediaAttaching=function onMediaAttaching(event,data){
var media=this.media=data.media;
if(media&&MediaSource){
var ms=this.mediaSource=new MediaSource();
// MediaSource listeners are arrow functions with a lexical scope, and do not need to be bound
ms.addEventListener('sourceopen',this._onMediaSourceOpen);
ms.addEventListener('sourceended',this._onMediaSourceEnded);
ms.addEventListener('sourceclose',this._onMediaSourceClose);
// link video and media Source
media.src=self.URL.createObjectURL(ms);
// cache the locally generated object url
this._objectUrl=media.src;
media.addEventListener('emptied',this._onMediaEmptied);
}
};
_proto.onMediaDetaching=function onMediaDetaching(){
var media=this.media,
mediaSource=this.mediaSource,
_objectUrl=this._objectUrl;
if(mediaSource){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('[buffer-controller]: media source detaching');
if(mediaSource.readyState==='open'){
try{
// endOfStream could trigger exception if any sourcebuffer is in updating state
// we don't really care about checking sourcebuffer state here,
// as we are anyway detaching the MediaSource
// let's just avoid this exception to propagate
mediaSource.endOfStream();
}catch(err){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("[buffer-controller]: onMediaDetaching: "+err.message+" while calling endOfStream");
}
}
// Clean up the SourceBuffers by invoking onBufferReset
this.onBufferReset();
mediaSource.removeEventListener('sourceopen',this._onMediaSourceOpen);
mediaSource.removeEventListener('sourceended',this._onMediaSourceEnded);
mediaSource.removeEventListener('sourceclose',this._onMediaSourceClose);

// Detach properly the MediaSource from the HTMLMediaElement as
// suggested in https://github.com/w3c/media-source/issues/53.
if(media){
media.removeEventListener('emptied',this._onMediaEmptied);
if(_objectUrl){
self.URL.revokeObjectURL(_objectUrl);
}

// clean up video tag src only if it's our own url. some external libraries might
// hijack the video tag and change its 'src' without destroying the Hls instance first
if(media.src===_objectUrl){
media.removeAttribute('src');
media.load();
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn('[buffer-controller]: media.src was changed by a third party - skip cleanup');
}
}
this.mediaSource=null;
this.media=null;
this._objectUrl=null;
this.bufferCodecEventsExpected=this._bufferCodecEventsTotal;
this.pendingTracks={};
this.tracks={};
}
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHED,undefined);
};
_proto.onBufferReset=function onBufferReset(){
var _this2=this;
this.getSourceBufferTypes().forEach(function(type){
var sb=_this2.sourceBuffer[type];
try{
if(sb){
_this2.removeBufferListeners(type);
if(_this2.mediaSource){
_this2.mediaSource.removeSourceBuffer(sb);
}
// Synchronously remove the SB from the map before the next call in order to prevent an async function from
// accessing it
_this2.sourceBuffer[type]=undefined;
}
}catch(err){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("[buffer-controller]: Failed to reset the "+type+" buffer",err);
}
});
this._initSourceBuffer();
};
_proto.onBufferCodecs=function onBufferCodecs(event,data){
var _this3=this;
var sourceBufferCount=this.getSourceBufferTypes().length;
Object.keys(data).forEach(function(trackName){
if(sourceBufferCount){
// check if SourceBuffer codec needs to change
var track=_this3.tracks[trackName];
if(track&&typeof track.buffer.changeType==='function'){
var _data$trackName=data[trackName],
id=_data$trackName.id,
codec=_data$trackName.codec,
levelCodec=_data$trackName.levelCodec,
container=_data$trackName.container,
metadata=_data$trackName.metadata;
var currentCodec=(track.levelCodec||track.codec).replace(VIDEO_CODEC_PROFILE_REPACE,'$1');
var nextCodec=(levelCodec||codec).replace(VIDEO_CODEC_PROFILE_REPACE,'$1');
if(currentCodec!==nextCodec){
var mimeType=container+";codecs="+(levelCodec||codec);
_this3.appendChangeType(trackName,mimeType);
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: switching codec "+currentCodec+" to "+nextCodec);
_this3.tracks[trackName]={
buffer:track.buffer,
codec:codec,
container:container,
levelCodec:levelCodec,
metadata:metadata,
id:id};

}
}
}else{
// if source buffer(s) not created yet, appended buffer tracks in this.pendingTracks
_this3.pendingTracks[trackName]=data[trackName];
}
});

// if sourcebuffers already created, do nothing ...
if(sourceBufferCount){
return;
}
this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0);
if(this.mediaSource&&this.mediaSource.readyState==='open'){
this.checkPendingTracks();
}
};
_proto.appendChangeType=function appendChangeType(type,mimeType){
var _this4=this;
var operationQueue=this.operationQueue;
var operation={
execute:function execute(){
var sb=_this4.sourceBuffer[type];
if(sb){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: changing "+type+" sourceBuffer type to "+mimeType);
sb.changeType(mimeType);
}
operationQueue.shiftAndExecuteNext(type);
},
onStart:function onStart(){},
onComplete:function onComplete(){},
onError:function onError(e){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("[buffer-controller]: Failed to change "+type+" SourceBuffer type",e);
}};

operationQueue.append(operation,type);
};
_proto.onBufferAppending=function onBufferAppending(event,eventData){
var _this5=this;
var hls=this.hls,
operationQueue=this.operationQueue,
tracks=this.tracks;
var data=eventData.data,
type=eventData.type,
frag=eventData.frag,
part=eventData.part,
chunkMeta=eventData.chunkMeta;
var chunkStats=chunkMeta.buffering[type];
var bufferAppendingStart=self.performance.now();
chunkStats.start=bufferAppendingStart;
var fragBuffering=frag.stats.buffering;
var partBuffering=part?part.stats.buffering:null;
if(fragBuffering.start===0){
fragBuffering.start=bufferAppendingStart;
}
if(partBuffering&&partBuffering.start===0){
partBuffering.start=bufferAppendingStart;
}

// TODO: Only update timestampOffset when audio/mpeg fragment or part is not contiguous with previously appended
// Adjusting `SourceBuffer.timestampOffset` (desired point in the timeline where the next frames should be appended)
// in Chrome browser when we detect MPEG audio container and time delta between level PTS and `SourceBuffer.timestampOffset`
// is greater than 100ms (this is enough to handle seek for VOD or level change for LIVE videos).
// More info here: https://github.com/video-dev/hls.js/issues/332#issuecomment-257986486
var audioTrack=tracks.audio;
var checkTimestampOffset=false;
if(type==='audio'&&(audioTrack===null||audioTrack===void 0?void 0:audioTrack.container)==='audio/mpeg'){
checkTimestampOffset=!this.lastMpegAudioChunk||chunkMeta.id===1||this.lastMpegAudioChunk.sn!==chunkMeta.sn;
this.lastMpegAudioChunk=chunkMeta;
}
var fragStart=frag.start;
var operation={
execute:function execute(){
chunkStats.executeStart=self.performance.now();
if(checkTimestampOffset){
var sb=_this5.sourceBuffer[type];
if(sb){
var delta=fragStart-sb.timestampOffset;
if(Math.abs(delta)>=0.1){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+fragStart+" (delta: "+delta+") sn: "+frag.sn+")");
sb.timestampOffset=fragStart;
}
}
}
_this5.appendExecutor(data,type);
},
onStart:function onStart(){
// logger.debug(`[buffer-controller]: ${type} SourceBuffer updatestart`);
},
onComplete:function onComplete(){
// logger.debug(`[buffer-controller]: ${type} SourceBuffer updateend`);
var end=self.performance.now();
chunkStats.executeEnd=chunkStats.end=end;
if(fragBuffering.first===0){
fragBuffering.first=end;
}
if(partBuffering&&partBuffering.first===0){
partBuffering.first=end;
}
var sourceBuffer=_this5.sourceBuffer;
var timeRanges={};
for(var _type in sourceBuffer){
timeRanges[_type]=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__.BufferHelper.getBuffered(sourceBuffer[_type]);
}
_this5.appendError=0;
_this5.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_APPENDED,{
type:type,
frag:frag,
part:part,
chunkMeta:chunkMeta,
parent:frag.type,
timeRanges:timeRanges});

},
onError:function onError(err){
// in case any error occured while appending, put back segment in segments table
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("[buffer-controller]: Error encountered while trying to append to the "+type+" SourceBuffer",err);
var event={
type:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorTypes.MEDIA_ERROR,
parent:frag.type,
details:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.BUFFER_APPEND_ERROR,
err:err,
fatal:false};

if(err.code===DOMException.QUOTA_EXCEEDED_ERR){
// QuotaExceededError: http://www.w3.org/TR/html5/infrastructure.html#quotaexceedederror
// let's stop appending any segments, and report BUFFER_FULL_ERROR error
event.details=_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.BUFFER_FULL_ERROR;
}else{
_this5.appendError++;
event.details=_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.BUFFER_APPEND_ERROR;
/* with UHD content, we could get loop of quota exceeded error until
            browser is able to evict some data from sourcebuffer. Retrying can help recover.
          */
if(_this5.appendError>hls.config.appendErrorMaxRetry){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("[buffer-controller]: Failed "+hls.config.appendErrorMaxRetry+" times to append segment in sourceBuffer");
event.fatal=true;
hls.stopLoad();
}
}
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,event);
}};

operationQueue.append(operation,type);
};
_proto.onBufferFlushing=function onBufferFlushing(event,data){
var _this6=this;
var operationQueue=this.operationQueue;
var flushOperation=function flushOperation(type){
return{
execute:_this6.removeExecutor.bind(_this6,type,data.startOffset,data.endOffset),
onStart:function onStart(){
// logger.debug(`[buffer-controller]: Started flushing ${data.startOffset} -> ${data.endOffset} for ${type} Source Buffer`);
},
onComplete:function onComplete(){
// logger.debug(`[buffer-controller]: Finished flushing ${data.startOffset} -> ${data.endOffset} for ${type} Source Buffer`);
_this6.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHED,{
type:type});

},
onError:function onError(e){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("[buffer-controller]: Failed to remove from "+type+" SourceBuffer",e);
}};

};
if(data.type){
operationQueue.append(flushOperation(data.type),data.type);
}else{
this.getSourceBufferTypes().forEach(function(type){
operationQueue.append(flushOperation(type),type);
});
}
};
_proto.onFragParsed=function onFragParsed(event,data){
var _this7=this;
var frag=data.frag,
part=data.part;
var buffersAppendedTo=[];
var elementaryStreams=part?part.elementaryStreams:frag.elementaryStreams;
if(elementaryStreams[_loader_fragment__WEBPACK_IMPORTED_MODULE_6__.ElementaryStreamTypes.AUDIOVIDEO]){
buffersAppendedTo.push('audiovideo');
}else{
if(elementaryStreams[_loader_fragment__WEBPACK_IMPORTED_MODULE_6__.ElementaryStreamTypes.AUDIO]){
buffersAppendedTo.push('audio');
}
if(elementaryStreams[_loader_fragment__WEBPACK_IMPORTED_MODULE_6__.ElementaryStreamTypes.VIDEO]){
buffersAppendedTo.push('video');
}
}
var onUnblocked=function onUnblocked(){
var now=self.performance.now();
frag.stats.buffering.end=now;
if(part){
part.stats.buffering.end=now;
}
var stats=part?part.stats:frag.stats;
_this7.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_BUFFERED,{
frag:frag,
part:part,
stats:stats,
id:frag.type});

};
if(buffersAppendedTo.length===0){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+frag.type+" level: "+frag.level+" sn: "+frag.sn);
}
this.blockBuffers(onUnblocked,buffersAppendedTo);
};
_proto.onFragChanged=function onFragChanged(event,data){
this.flushBackBuffer();
}

// on BUFFER_EOS mark matching sourcebuffer(s) as ended and trigger checkEos()
// an undefined data.type will mark all buffers as EOS.
;
_proto.onBufferEos=function onBufferEos(event,data){
var _this8=this;
var ended=this.getSourceBufferTypes().reduce(function(acc,type){
var sb=_this8.sourceBuffer[type];
if(sb&&(!data.type||data.type===type)){
sb.ending=true;
if(!sb.ended){
sb.ended=true;
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: "+type+" sourceBuffer now EOS");
}
}
return acc&&!!(!sb||sb.ended);
},true);
if(ended){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()");
this.blockBuffers(function(){
_this8.getSourceBufferTypes().forEach(function(type){
var sb=_this8.sourceBuffer[type];
if(sb){
sb.ending=false;
}
});
var mediaSource=_this8.mediaSource;
if(!mediaSource||mediaSource.readyState!=='open'){
if(mediaSource){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+mediaSource.readyState);
}
return;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()");
// Allow this to throw and be caught by the enqueueing function
mediaSource.endOfStream();
});
}
};
_proto.onLevelUpdated=function onLevelUpdated(event,_ref){
var details=_ref.details;
if(!details.fragments.length){
return;
}
this.details=details;
if(this.getSourceBufferTypes().length){
this.blockBuffers(this.updateMediaElementDuration.bind(this));
}else{
this.updateMediaElementDuration();
}
};
_proto.flushBackBuffer=function flushBackBuffer(){
var hls=this.hls,
details=this.details,
media=this.media,
sourceBuffer=this.sourceBuffer;
if(!media||details===null){
return;
}
var sourceBufferTypes=this.getSourceBufferTypes();
if(!sourceBufferTypes.length){
return;
}

// Support for deprecated liveBackBufferLength
var backBufferLength=details.live&&hls.config.liveBackBufferLength!==null?hls.config.liveBackBufferLength:hls.config.backBufferLength;
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(backBufferLength)||backBufferLength<0){
return;
}
var currentTime=media.currentTime;
var targetDuration=details.levelTargetDuration;
var maxBackBufferLength=Math.max(backBufferLength,targetDuration);
var targetBackBufferPosition=Math.floor(currentTime/targetDuration)*targetDuration-maxBackBufferLength;
sourceBufferTypes.forEach(function(type){
var sb=sourceBuffer[type];
if(sb){
var buffered=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__.BufferHelper.getBuffered(sb);
// when target buffer start exceeds actual buffer start
if(buffered.length>0&&targetBackBufferPosition>buffered.start(0)){
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BACK_BUFFER_REACHED,{
bufferEnd:targetBackBufferPosition});


// Support for deprecated event:
if(details.live){
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LIVE_BACK_BUFFER_REACHED,{
bufferEnd:targetBackBufferPosition});

}else if(sb.ended&&buffered.end(buffered.length-1)-currentTime<targetDuration*2){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.info("[buffer-controller]: Cannot flush "+type+" back buffer while SourceBuffer is in ended state");
return;
}
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHING,{
startOffset:0,
endOffset:targetBackBufferPosition,
type:type});

}
}
});
}

/**
   * Update Media Source duration to current level duration or override to Infinity if configuration parameter
   * 'liveDurationInfinity` is set to `true`
   * More details: https://github.com/video-dev/hls.js/issues/355
   */;
_proto.updateMediaElementDuration=function updateMediaElementDuration(){
if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=='open'){
return;
}
var details=this.details,
hls=this.hls,
media=this.media,
mediaSource=this.mediaSource;
var levelDuration=details.fragments[0].start+details.totalduration;
var mediaDuration=media.duration;
var msDuration=(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(mediaSource.duration)?mediaSource.duration:0;
if(details.live&&hls.config.liveDurationInfinity){
// Override duration to Infinity
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('[buffer-controller]: Media Source duration is set to Infinity');
mediaSource.duration=Infinity;
this.updateSeekableRange(details);
}else if(levelDuration>msDuration&&levelDuration>mediaDuration||!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(mediaDuration)){
// levelDuration was the last value we set.
// not using mediaSource.duration as the browser may tweak this value
// only update Media Source duration if its value increase, this is to avoid
// flushing already buffered portion when switching between quality level
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: Updating Media Source duration to "+levelDuration.toFixed(3));
mediaSource.duration=levelDuration;
}
};
_proto.updateSeekableRange=function updateSeekableRange(levelDetails){
var mediaSource=this.mediaSource;
var fragments=levelDetails.fragments;
var len=fragments.length;
if(len&&levelDetails.live&&mediaSource!==null&&mediaSource!==void 0&&mediaSource.setLiveSeekableRange){
var start=Math.max(0,fragments[0].start);
var end=Math.max(start,start+levelDetails.totalduration);
mediaSource.setLiveSeekableRange(start,end);
}
};
_proto.checkPendingTracks=function checkPendingTracks(){
var bufferCodecEventsExpected=this.bufferCodecEventsExpected,
operationQueue=this.operationQueue,
pendingTracks=this.pendingTracks;

// Check if we've received all of the expected bufferCodec events. When none remain, create all the sourceBuffers at once.
// This is important because the MSE spec allows implementations to throw QuotaExceededErrors if creating new sourceBuffers after
// data has been appended to existing ones.
// 2 tracks is the max (one for audio, one for video). If we've reach this max go ahead and create the buffers.
var pendingTracksCount=Object.keys(pendingTracks).length;
if(pendingTracksCount&&!bufferCodecEventsExpected||pendingTracksCount===2){
// ok, let's create them now !
this.createSourceBuffers(pendingTracks);
this.pendingTracks={};
// append any pending segments now !
var buffers=this.getSourceBufferTypes();
if(buffers.length===0){
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,
fatal:true,
reason:'could not create source buffer for media codec(s)'});

return;
}
buffers.forEach(function(type){
operationQueue.executeNext(type);
});
}
};
_proto.createSourceBuffers=function createSourceBuffers(tracks){
var sourceBuffer=this.sourceBuffer,
mediaSource=this.mediaSource;
if(!mediaSource){
throw Error('createSourceBuffers called when mediaSource was null');
}
var tracksCreated=0;
for(var trackName in tracks){
if(!sourceBuffer[trackName]){
var track=tracks[trackName];
if(!track){
throw Error("source buffer exists for track "+trackName+", however track does not");
}
// use levelCodec as first priority
var codec=track.levelCodec||track.codec;
var mimeType=track.container+";codecs="+codec;
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: creating sourceBuffer("+mimeType+")");
try{
var sb=sourceBuffer[trackName]=mediaSource.addSourceBuffer(mimeType);
var sbName=trackName;
this.addBufferListener(sbName,'updatestart',this._onSBUpdateStart);
this.addBufferListener(sbName,'updateend',this._onSBUpdateEnd);
this.addBufferListener(sbName,'error',this._onSBUpdateError);
this.tracks[trackName]={
buffer:sb,
codec:codec,
container:track.container,
levelCodec:track.levelCodec,
metadata:track.metadata,
id:track.id};

tracksCreated++;
}catch(err){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+err.message);
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.BUFFER_ADD_CODEC_ERROR,
fatal:false,
error:err,
mimeType:mimeType});

}
}
}
if(tracksCreated){
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_CREATED,{
tracks:this.tracks});

}
}

// Keep as arrow functions so that we can directly reference these functions directly as event listeners
;
_proto._onSBUpdateStart=function _onSBUpdateStart(type){
var operationQueue=this.operationQueue;
var operation=operationQueue.current(type);
operation.onStart();
};
_proto._onSBUpdateEnd=function _onSBUpdateEnd(type){
var operationQueue=this.operationQueue;
var operation=operationQueue.current(type);
operation.onComplete();
operationQueue.shiftAndExecuteNext(type);
};
_proto._onSBUpdateError=function _onSBUpdateError(type,event){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error("[buffer-controller]: "+type+" SourceBuffer error",event);
// according to http://www.w3.org/TR/media-source/#sourcebuffer-append-error
// SourceBuffer errors are not necessarily fatal; if so, the HTMLMediaElement will fire an error event
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorDetails.BUFFER_APPENDING_ERROR,
fatal:false});

// updateend is always fired after error, so we'll allow that to shift the current operation off of the queue
var operation=this.operationQueue.current(type);
if(operation){
operation.onError(event);
}
}

// This method must result in an updateend event; if remove is not called, _onSBUpdateEnd must be called manually
;
_proto.removeExecutor=function removeExecutor(type,startOffset,endOffset){
var media=this.media,
mediaSource=this.mediaSource,
operationQueue=this.operationQueue,
sourceBuffer=this.sourceBuffer;
var sb=sourceBuffer[type];
if(!media||!mediaSource||!sb){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("[buffer-controller]: Attempting to remove from the "+type+" SourceBuffer, but it does not exist");
operationQueue.shiftAndExecuteNext(type);
return;
}
var mediaDuration=(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(media.duration)?media.duration:Infinity;
var msDuration=(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(mediaSource.duration)?mediaSource.duration:Infinity;
var removeStart=Math.max(0,startOffset);
var removeEnd=Math.min(endOffset,mediaDuration,msDuration);
if(removeEnd>removeStart&&!sb.ending){
sb.ended=false;
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log("[buffer-controller]: Removing ["+removeStart+","+removeEnd+"] from the "+type+" SourceBuffer");
console.assert(!sb.updating,type+" sourceBuffer must not be updating");
sb.remove(removeStart,removeEnd);
}else{
// Cycle the queue
operationQueue.shiftAndExecuteNext(type);
}
}

// This method must result in an updateend event; if append is not called, _onSBUpdateEnd must be called manually
;
_proto.appendExecutor=function appendExecutor(data,type){
var operationQueue=this.operationQueue,
sourceBuffer=this.sourceBuffer;
var sb=sourceBuffer[type];
if(!sb){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("[buffer-controller]: Attempting to append to the "+type+" SourceBuffer, but it does not exist");
operationQueue.shiftAndExecuteNext(type);
return;
}
sb.ended=false;
console.assert(!sb.updating,type+" sourceBuffer must not be updating");
sb.appendBuffer(data);
}

// Enqueues an operation to each SourceBuffer queue which, upon execution, resolves a promise. When all promises
// resolve, the onUnblocked function is executed. Functions calling this method do not need to unblock the queue
// upon completion, since we already do it here
;
_proto.blockBuffers=function blockBuffers(onUnblocked,buffers){
var _this9=this;
if(buffers===void 0){
buffers=this.getSourceBufferTypes();
}
if(!buffers.length){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('[buffer-controller]: Blocking operation requested, but no SourceBuffers exist');
Promise.resolve().then(onUnblocked);
return;
}
var operationQueue=this.operationQueue;

// logger.debug(`[buffer-controller]: Blocking ${buffers} SourceBuffer`);
var blockingOperations=buffers.map(function(type){
return operationQueue.appendBlocker(type);
});
Promise.all(blockingOperations).then(function(){
// logger.debug(`[buffer-controller]: Blocking operation resolved; unblocking ${buffers} SourceBuffer`);
onUnblocked();
buffers.forEach(function(type){
var sb=_this9.sourceBuffer[type];
// Only cycle the queue if the SB is not updating. There's a bug in Chrome which sets the SB updating flag to
// true when changing the MediaSource duration (https://bugs.chromium.org/p/chromium/issues/detail?id=959359&can=2&q=mediasource%20duration)
// While this is a workaround, it's probably useful to have around
if(!sb||!sb.updating){
operationQueue.shiftAndExecuteNext(type);
}
});
});
};
_proto.getSourceBufferTypes=function getSourceBufferTypes(){
return Object.keys(this.sourceBuffer);
};
_proto.addBufferListener=function addBufferListener(type,event,fn){
var buffer=this.sourceBuffer[type];
if(!buffer){
return;
}
var listener=fn.bind(this,type);
this.listeners[type].push({
event:event,
listener:listener});

buffer.addEventListener(event,listener);
};
_proto.removeBufferListeners=function removeBufferListeners(type){
var buffer=this.sourceBuffer[type];
if(!buffer){
return;
}
this.listeners[type].forEach(function(l){
buffer.removeEventListener(l.event,l.listener);
});
};
return BufferController;
}();


/***/},

/***/"./src/controller/buffer-operation-queue.ts":
/*!**************************************************!*\
  !*** ./src/controller/buffer-operation-queue.ts ***!
  \**************************************************/
/***/function srcControllerBufferOperationQueueTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */BufferOperationQueue);}
/* harmony export */});
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");

var BufferOperationQueue=/*#__PURE__*/function(){
function BufferOperationQueue(sourceBufferReference){
this.buffers=void 0;
this.queues={
video:[],
audio:[],
audiovideo:[]};

this.buffers=sourceBufferReference;
}
var _proto=BufferOperationQueue.prototype;
_proto.append=function append(operation,type){
var queue=this.queues[type];
queue.push(operation);
if(queue.length===1&&this.buffers[type]){
this.executeNext(type);
}
};
_proto.insertAbort=function insertAbort(operation,type){
var queue=this.queues[type];
queue.unshift(operation);
this.executeNext(type);
};
_proto.appendBlocker=function appendBlocker(type){
var execute;
var promise=new Promise(function(resolve){
execute=resolve;
});
var operation={
execute:execute,
onStart:function onStart(){},
onComplete:function onComplete(){},
onError:function onError(){}};

this.append(operation,type);
return promise;
};
_proto.executeNext=function executeNext(type){
var buffers=this.buffers,
queues=this.queues;
var sb=buffers[type];
var queue=queues[type];
if(queue.length){
var operation=queue[0];
try{
// Operations are expected to result in an 'updateend' event being fired. If not, the queue will lock. Operations
// which do not end with this event must call _onSBUpdateEnd manually
operation.execute();
}catch(e){
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn('[buffer-operation-queue]: Unhandled exception executing the current operation');
operation.onError(e);

// Only shift the current operation off, otherwise the updateend handler will do this for us
if(!sb||!sb.updating){
queue.shift();
this.executeNext(type);
}
}
}
};
_proto.shiftAndExecuteNext=function shiftAndExecuteNext(type){
this.queues[type].shift();
this.executeNext(type);
};
_proto.current=function current(type){
return this.queues[type][0];
};
return BufferOperationQueue;
}();


/***/},

/***/"./src/controller/cap-level-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.ts ***!
  \************************************************/
/***/function srcControllerCapLevelControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
/*
 * cap stream level to media size dimension controller
 */


var CapLevelController=/*#__PURE__*/function(){
function CapLevelController(hls){
this.autoLevelCapping=void 0;
this.firstLevel=void 0;
this.media=void 0;
this.restrictedLevels=void 0;
this.timer=void 0;
this.hls=void 0;
this.streamController=void 0;
this.clientRect=void 0;
this.hls=hls;
this.autoLevelCapping=Number.POSITIVE_INFINITY;
this.firstLevel=-1;
this.media=null;
this.restrictedLevels=[];
this.timer=undefined;
this.clientRect=null;
this.registerListeners();
}
var _proto=CapLevelController.prototype;
_proto.setStreamController=function setStreamController(streamController){
this.streamController=streamController;
};
_proto.destroy=function destroy(){
this.unregisterListener();
if(this.hls.config.capLevelToPlayerSize){
this.stopCapping();
}
this.media=null;
this.clientRect=null;
// @ts-ignore
this.hls=this.streamController=null;
};
_proto.registerListeners=function registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_CODECS,this.onBufferCodecs,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
};
_proto.unregisterListener=function unregisterListener(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_CODECS,this.onBufferCodecs,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
};
_proto.onFpsDropLevelCapping=function onFpsDropLevelCapping(event,data){
// Don't add a restricted level more than once
if(CapLevelController.isLevelAllowed(data.droppedLevel,this.restrictedLevels)){
this.restrictedLevels.push(data.droppedLevel);
}
};
_proto.onMediaAttaching=function onMediaAttaching(event,data){
this.media=data.media instanceof HTMLVideoElement?data.media:null;
this.clientRect=null;
};
_proto.onManifestParsed=function onManifestParsed(event,data){
var hls=this.hls;
this.restrictedLevels=[];
this.firstLevel=data.firstLevel;
if(hls.config.capLevelToPlayerSize&&data.video){
// Start capping immediately if the manifest has signaled video codecs
this.startCapping();
}
}

// Only activate capping when playing a video stream; otherwise, multi-bitrate audio-only streams will be restricted
// to the first level
;
_proto.onBufferCodecs=function onBufferCodecs(event,data){
var hls=this.hls;
if(hls.config.capLevelToPlayerSize&&data.video){
// If the manifest did not signal a video codec capping has been deferred until we're certain video is present
this.startCapping();
}
};
_proto.onMediaDetaching=function onMediaDetaching(){
this.stopCapping();
};
_proto.detectPlayerSize=function detectPlayerSize(){
if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){
var levels=this.hls.levels;
if(levels.length){
var hls=this.hls;
hls.autoLevelCapping=this.getMaxLevel(levels.length-1);
if(hls.autoLevelCapping>this.autoLevelCapping&&this.streamController){
// if auto level capping has a higher value for the previous one, flush the buffer using nextLevelSwitch
// usually happen when the user go to the fullscreen mode.
this.streamController.nextLevelSwitch();
}
this.autoLevelCapping=hls.autoLevelCapping;
}
}
}

/*
   * returns level should be the one with the dimensions equal or greater than the media (player) dimensions (so the video will be downscaled)
   */;
_proto.getMaxLevel=function getMaxLevel(capLevelIndex){
var _this=this;
var levels=this.hls.levels;
if(!levels.length){
return-1;
}
var validLevels=levels.filter(function(level,index){
return CapLevelController.isLevelAllowed(index,_this.restrictedLevels)&&index<=capLevelIndex;
});
this.clientRect=null;
return CapLevelController.getMaxLevelByMediaSize(validLevels,this.mediaWidth,this.mediaHeight);
};
_proto.startCapping=function startCapping(){
if(this.timer){
// Don't reset capping if started twice; this can happen if the manifest signals a video codec
return;
}
this.autoLevelCapping=Number.POSITIVE_INFINITY;
this.hls.firstLevel=this.getMaxLevel(this.firstLevel);
self.clearInterval(this.timer);
this.timer=self.setInterval(this.detectPlayerSize.bind(this),1000);
this.detectPlayerSize();
};
_proto.stopCapping=function stopCapping(){
this.restrictedLevels=[];
this.firstLevel=-1;
this.autoLevelCapping=Number.POSITIVE_INFINITY;
if(this.timer){
self.clearInterval(this.timer);
this.timer=undefined;
}
};
_proto.getDimensions=function getDimensions(){
if(this.clientRect){
return this.clientRect;
}
var media=this.media;
var boundsRect={
width:0,
height:0};

if(media){
var clientRect=media.getBoundingClientRect();
boundsRect.width=clientRect.width;
boundsRect.height=clientRect.height;
if(!boundsRect.width&&!boundsRect.height){
// When the media element has no width or height (equivalent to not being in the DOM),
// then use its width and height attributes (media.width, media.height)
boundsRect.width=clientRect.right-clientRect.left||media.width||0;
boundsRect.height=clientRect.bottom-clientRect.top||media.height||0;
}
}
this.clientRect=boundsRect;
return boundsRect;
};
CapLevelController.isLevelAllowed=function isLevelAllowed(level,restrictedLevels){
if(restrictedLevels===void 0){
restrictedLevels=[];
}
return restrictedLevels.indexOf(level)===-1;
};
CapLevelController.getMaxLevelByMediaSize=function getMaxLevelByMediaSize(levels,width,height){
if(!levels||!levels.length){
return-1;
}

// Levels can have the same dimensions but differing bandwidths - since levels are ordered, we can look to the next
// to determine whether we've chosen the greatest bandwidth for the media's dimensions
var atGreatestBandwidth=function atGreatestBandwidth(curLevel,nextLevel){
if(!nextLevel){
return true;
}
return curLevel.width!==nextLevel.width||curLevel.height!==nextLevel.height;
};

// If we run through the loop without breaking, the media's dimensions are greater than every level, so default to
// the max level
var maxLevelIndex=levels.length-1;
for(var i=0;i<levels.length;i+=1){
var level=levels[i];
if((level.width>=width||level.height>=height)&&atGreatestBandwidth(level,levels[i+1])){
maxLevelIndex=i;
break;
}
}
return maxLevelIndex;
};
_createClass(CapLevelController,[{
key:"mediaWidth",
get:function get(){
return this.getDimensions().width*this.contentScaleFactor;
}},
{
key:"mediaHeight",
get:function get(){
return this.getDimensions().height*this.contentScaleFactor;
}},
{
key:"contentScaleFactor",
get:function get(){
var pixelRatio=1;
if(!this.hls.config.ignoreDevicePixelRatio){
try{
pixelRatio=self.devicePixelRatio;
}catch(e){
/* no-op */
}
}
return pixelRatio;
}}]);

return CapLevelController;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=CapLevelController;

/***/},

/***/"./src/controller/cmcd-controller.ts":
/*!*******************************************!*\
  !*** ./src/controller/cmcd-controller.ts ***!
  \*******************************************/
/***/function srcControllerCmcdControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */CMCDController);}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _types_cmcd__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../types/cmcd */"./src/types/cmcd.ts");
/* harmony import */var _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}





/**
 * Controller to deal with Common Media Client Data (CMCD)
 * @see https://cdn.cta.tech/cta/media/media/resources/standards/pdfs/cta-5004-final.pdf
 */
var CMCDController=/*#__PURE__*/function(){
// eslint-disable-line no-restricted-globals
// eslint-disable-line no-restricted-globals

function CMCDController(hls){
var _this=this;
this.hls=void 0;
this.config=void 0;
this.media=void 0;
this.sid=void 0;
this.cid=void 0;
this.useHeaders=false;
this.initialized=false;
this.starved=false;
this.buffering=true;
this.audioBuffer=void 0;
this.videoBuffer=void 0;
this.onWaiting=function(){
if(_this.initialized){
_this.starved=true;
}
_this.buffering=true;
};
this.onPlaying=function(){
if(!_this.initialized){
_this.initialized=true;
}
_this.buffering=false;
};
this.applyPlaylistData=function(context){
try{
_this.apply(context,{
ot:_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.MANIFEST,
su:!_this.initialized});

}catch(error){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn('Could not generate manifest CMCD data.',error);
}
};
this.applyFragmentData=function(context){
try{
var fragment=context.frag;
var level=_this.hls.levels[fragment.level];
var ot=_this.getObjectType(fragment);
var data={
d:fragment.duration*1000,
ot:ot};

if(ot===_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.VIDEO||ot===_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.AUDIO||ot==_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.MUXED){
data.br=level.bitrate/1000;
data.tb=_this.getTopBandwidth(ot)/1000;
data.bl=_this.getBufferLength(ot);
}
_this.apply(context,data);
}catch(error){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn('Could not generate segment CMCD data.',error);
}
};
this.hls=hls;
var config=this.config=hls.config;
var cmcd=config.cmcd;
if(cmcd!=null){
config.pLoader=this.createPlaylistLoader();
config.fLoader=this.createFragmentLoader();
this.sid=cmcd.sessionId||CMCDController.uuid();
this.cid=cmcd.contentId;
this.useHeaders=cmcd.useHeaders===true;
this.registerListeners();
}
}
var _proto=CMCDController.prototype;
_proto.registerListeners=function registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHED,this.onMediaDetached,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_CREATED,this.onBufferCreated,this);
};
_proto.unregisterListeners=function unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHED,this.onMediaDetached,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_CREATED,this.onBufferCreated,this);
this.onMediaDetached();
};
_proto.destroy=function destroy(){
this.unregisterListeners();

// @ts-ignore
this.hls=this.config=this.audioBuffer=this.videoBuffer=null;
};
_proto.onMediaAttached=function onMediaAttached(event,data){
this.media=data.media;
this.media.addEventListener('waiting',this.onWaiting);
this.media.addEventListener('playing',this.onPlaying);
};
_proto.onMediaDetached=function onMediaDetached(){
if(!this.media){
return;
}
this.media.removeEventListener('waiting',this.onWaiting);
this.media.removeEventListener('playing',this.onPlaying);

// @ts-ignore
this.media=null;
};
_proto.onBufferCreated=function onBufferCreated(event,data){
var _data$tracks$audio,_data$tracks$video;
this.audioBuffer=(_data$tracks$audio=data.tracks.audio)===null||_data$tracks$audio===void 0?void 0:_data$tracks$audio.buffer;
this.videoBuffer=(_data$tracks$video=data.tracks.video)===null||_data$tracks$video===void 0?void 0:_data$tracks$video.buffer;
};
/**
   * Create baseline CMCD data
   */
_proto.createData=function createData(){
var _this$media;
return{
v:_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDVersion,
sf:_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDStreamingFormat.HLS,
sid:this.sid,
cid:this.cid,
pr:(_this$media=this.media)===null||_this$media===void 0?void 0:_this$media.playbackRate,
mtp:this.hls.bandwidthEstimate/1000};

}

/**
   * Apply CMCD data to a request.
   */;
_proto.apply=function apply(context,data){
if(data===void 0){
data={};
}
// apply baseline data
_extends(data,this.createData());
var isVideo=data.ot===_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.INIT||data.ot===_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.VIDEO||data.ot===_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.MUXED;
if(this.starved&&isVideo){
data.bs=true;
data.su=true;
this.starved=false;
}
if(data.su==null){
data.su=this.buffering;
}

// TODO: Implement rtp, nrr, nor, dl

if(this.useHeaders){
var headers=CMCDController.toHeaders(data);
if(!Object.keys(headers).length){
return;
}
if(!context.headers){
context.headers={};
}
_extends(context.headers,headers);
}else{
var query=CMCDController.toQuery(data);
if(!query){
return;
}
context.url=CMCDController.appendQueryToUri(context.url,query);
}
}

/**
   * Apply CMCD data to a manifest request.
   */;
/**
   * The CMCD object type.
   */
_proto.getObjectType=function getObjectType(fragment){
var type=fragment.type;
if(type==='subtitle'){
return _types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.TIMED_TEXT;
}
if(fragment.sn==='initSegment'){
return _types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.INIT;
}
if(type==='audio'){
return _types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.AUDIO;
}
if(type==='main'){
if(!this.hls.audioTracks.length){
return _types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.MUXED;
}
return _types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.VIDEO;
}
return undefined;
}

/**
   * Get the highest bitrate.
   */;
_proto.getTopBandwidth=function getTopBandwidth(type){
var bitrate=0;
var levels;
var hls=this.hls;
if(type===_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.AUDIO){
levels=hls.audioTracks;
}else{
var max=hls.maxAutoLevel;
var len=max>-1?max+1:hls.levels.length;
levels=hls.levels.slice(0,len);
}
for(var _iterator=_createForOfIteratorHelperLoose(levels),_step;!(_step=_iterator()).done;){
var level=_step.value;
if(level.bitrate>bitrate){
bitrate=level.bitrate;
}
}
return bitrate>0?bitrate:NaN;
}

/**
   * Get the buffer length for a media type in milliseconds
   */;
_proto.getBufferLength=function getBufferLength(type){
var media=this.hls.media;
var buffer=type===_types_cmcd__WEBPACK_IMPORTED_MODULE_1__.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;
if(!buffer||!media){
return NaN;
}
var info=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_2__.BufferHelper.bufferInfo(buffer,media.currentTime,this.config.maxBufferHole);
return info.len*1000;
}

/**
   * Create a playlist loader
   */;
_proto.createPlaylistLoader=function createPlaylistLoader(){
var pLoader=this.config.pLoader;
var apply=this.applyPlaylistData;
var Ctor=pLoader||this.config.loader;
return/*#__PURE__*/function(){
function CmcdPlaylistLoader(config){
this.loader=void 0;
this.loader=new Ctor(config);
}
var _proto2=CmcdPlaylistLoader.prototype;
_proto2.destroy=function destroy(){
this.loader.destroy();
};
_proto2.abort=function abort(){
this.loader.abort();
};
_proto2.load=function load(context,config,callbacks){
apply(context);
this.loader.load(context,config,callbacks);
};
_createClass(CmcdPlaylistLoader,[{
key:"stats",
get:function get(){
return this.loader.stats;
}},
{
key:"context",
get:function get(){
return this.loader.context;
}}]);

return CmcdPlaylistLoader;
}();
}

/**
   * Create a playlist loader
   */;
_proto.createFragmentLoader=function createFragmentLoader(){
var fLoader=this.config.fLoader;
var apply=this.applyFragmentData;
var Ctor=fLoader||this.config.loader;
return/*#__PURE__*/function(){
function CmcdFragmentLoader(config){
this.loader=void 0;
this.loader=new Ctor(config);
}
var _proto3=CmcdFragmentLoader.prototype;
_proto3.destroy=function destroy(){
this.loader.destroy();
};
_proto3.abort=function abort(){
this.loader.abort();
};
_proto3.load=function load(context,config,callbacks){
apply(context);
this.loader.load(context,config,callbacks);
};
_createClass(CmcdFragmentLoader,[{
key:"stats",
get:function get(){
return this.loader.stats;
}},
{
key:"context",
get:function get(){
return this.loader.context;
}}]);

return CmcdFragmentLoader;
}();
}

/**
   * Generate a random v4 UUI
   *
   * @returns {string}
   */;
CMCDController.uuid=function uuid(){
var url=URL.createObjectURL(new Blob());
var uuid=url.toString();
URL.revokeObjectURL(url);
return uuid.slice(uuid.lastIndexOf('/')+1);
}

/**
   * Serialize a CMCD data object according to the rules defined in the
   * section 3.2 of
   * [CTA-5004](https://cdn.cta.tech/cta/media/media/resources/standards/pdfs/cta-5004-final.pdf).
   */;
CMCDController.serialize=function serialize(data){
var results=[];
var isValid=function isValid(value){
return!Number.isNaN(value)&&value!=null&&value!==''&&value!==false;
};
var toRounded=function toRounded(value){
return Math.round(value);
};
var toHundred=function toHundred(value){
return toRounded(value/100)*100;
};
var toUrlSafe=function toUrlSafe(value){
return encodeURIComponent(value);
};
var formatters={
br:toRounded,
d:toRounded,
bl:toHundred,
dl:toHundred,
mtp:toHundred,
nor:toUrlSafe,
rtp:toHundred,
tb:toRounded};

var keys=Object.keys(data||{}).sort();
for(var _iterator2=_createForOfIteratorHelperLoose(keys),_step2;!(_step2=_iterator2()).done;){
var key=_step2.value;
var value=data[key];

// ignore invalid values
if(!isValid(value)){
continue;
}

// Version should only be reported if not equal to 1.
if(key==='v'&&value===1){
continue;
}

// Playback rate should only be sent if not equal to 1.
if(key=='pr'&&value===1){
continue;
}

// Certain values require special formatting
var formatter=formatters[key];
if(formatter){
value=formatter(value);
}

// Serialize the key/value pair
var type=typeof value;
var result=void 0;
if(key==='ot'||key==='sf'||key==='st'){
result=key+"="+value;
}else if(type==='boolean'){
result=key;
}else if(type==='number'){
result=key+"="+value;
}else{
result=key+"="+JSON.stringify(value);
}
results.push(result);
}
return results.join(',');
}

/**
   * Convert a CMCD data object to request headers according to the rules
   * defined in the section 2.1 and 3.2 of
   * [CTA-5004](https://cdn.cta.tech/cta/media/media/resources/standards/pdfs/cta-5004-final.pdf).
   */;
CMCDController.toHeaders=function toHeaders(data){
var keys=Object.keys(data);
var headers={};
var headerNames=['Object','Request','Session','Status'];
var headerGroups=[{},{},{},{}];
var headerMap={
br:0,
d:0,
ot:0,
tb:0,
bl:1,
dl:1,
mtp:1,
nor:1,
nrr:1,
su:1,
cid:2,
pr:2,
sf:2,
sid:2,
st:2,
v:2,
bs:3,
rtp:3};

for(var _i=0,_keys=keys;_i<_keys.length;_i++){
var key=_keys[_i];
// Unmapped fields are mapped to the Request header
var index=headerMap[key]!=null?headerMap[key]:1;
headerGroups[index][key]=data[key];
}
for(var i=0;i<headerGroups.length;i++){
var value=CMCDController.serialize(headerGroups[i]);
if(value){
headers["CMCD-"+headerNames[i]]=value;
}
}
return headers;
}

/**
   * Convert a CMCD data object to query args according to the rules
   * defined in the section 2.2 and 3.2 of
   * [CTA-5004](https://cdn.cta.tech/cta/media/media/resources/standards/pdfs/cta-5004-final.pdf).
   */;
CMCDController.toQuery=function toQuery(data){
return"CMCD="+encodeURIComponent(CMCDController.serialize(data));
}

/**
   * Append query args to a uri.
   */;
CMCDController.appendQueryToUri=function appendQueryToUri(uri,query){
if(!query){
return uri;
}
var separator=uri.includes('?')?'&':'?';
return""+uri+separator+query;
};
return CMCDController;
}();


/***/},

/***/"./src/controller/eme-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.ts ***!
  \******************************************/
/***/function srcControllerEmeControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts");
/* harmony import */var _utils_keysystem_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/keysystem-util */"./src/utils/keysystem-util.ts");
/* harmony import */var _utils_numeric_encoding_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/numeric-encoding-utils */"./src/utils/numeric-encoding-utils.ts");
/* harmony import */var _loader_level_key__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../loader/level-key */"./src/loader/level-key.ts");
/* harmony import */var _utils_hex__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../utils/hex */"./src/utils/hex.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_9___default=/*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_9__);
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}
function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct.bind();}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
/**
 * @author Stephan Hesse <disparat@gmail.com> | <tchakabam@gmail.com>
 *
 * DRM support for Hls.js
 */











var MAX_LICENSE_REQUEST_FAILURES=3;
var LOGGER_PREFIX='[eme]';
/**
 * Controller to deal with encrypted media extensions (EME)
 * @see https://developer.mozilla.org/en-US/docs/Web/API/Encrypted_Media_Extensions_API
 *
 * @class
 * @constructor
 */
var EMEController=/*#__PURE__*/function(){
function EMEController(hls){
this.hls=void 0;
this.config=void 0;
this.media=null;
this.keyFormatPromise=null;
this.keySystemAccessPromises={};
this._requestLicenseFailureCount=0;
this.mediaKeySessions=[];
this.keyIdToKeySessionPromise={};
this.setMediaKeysQueue=EMEController.CDMCleanupPromise?[EMEController.CDMCleanupPromise]:[];
this.onMediaEncrypted=this._onMediaEncrypted.bind(this);
this.onWaitingForKey=this._onWaitingForKey.bind(this);
this.debug=_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.debug.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger,LOGGER_PREFIX);
this.log=_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger,LOGGER_PREFIX);
this.warn=_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger,LOGGER_PREFIX);
this.error=_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error.bind(_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger,LOGGER_PREFIX);
this.hls=hls;
this.config=hls.config;
this.registerListeners();
}
var _proto=EMEController.prototype;
_proto.destroy=function destroy(){
this.unregisterListeners();
this.onMediaDetached();
// @ts-ignore
this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null;
};
_proto.registerListeners=function registerListeners(){
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHED,this.onMediaDetached,this);
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADED,this.onManifestLoaded,this);
};
_proto.unregisterListeners=function unregisterListeners(){
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHED,this.onMediaDetached,this);
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADED,this.onManifestLoaded,this);
};
_proto.getLicenseServerUrl=function getLicenseServerUrl(keySystem){
var _this$config=this.config,
drmSystems=_this$config.drmSystems,
widevineLicenseUrl=_this$config.widevineLicenseUrl;
var keySystemConfiguration=drmSystems[keySystem];
if(keySystemConfiguration){
return keySystemConfiguration.licenseUrl;
}

// For backward compatibility
if(keySystem===_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.KeySystems.WIDEVINE&&widevineLicenseUrl){
return widevineLicenseUrl;
}
throw new Error("no license server URL configured for key-system \""+keySystem+"\"");
};
_proto.getServerCertificateUrl=function getServerCertificateUrl(keySystem){
var drmSystems=this.config.drmSystems;
var keySystemConfiguration=drmSystems[keySystem];
if(keySystemConfiguration){
return keySystemConfiguration.serverCertificateUrl;
}else{
this.log("No Server Certificate in config.drmSystems[\""+keySystem+"\"]");
}
};
_proto.attemptKeySystemAccess=function attemptKeySystemAccess(keySystemsToAttempt){
var _this=this;
var levels=this.hls.levels;
var uniqueCodec=function uniqueCodec(value,i,a){
return!!value&&a.indexOf(value)===i;
};
var audioCodecs=levels.map(function(level){
return level.audioCodec;
}).filter(uniqueCodec);
var videoCodecs=levels.map(function(level){
return level.videoCodec;
}).filter(uniqueCodec);
if(audioCodecs.length+videoCodecs.length===0){
videoCodecs.push('avc1.42e01e');
}
return new Promise(function(resolve,reject){
var attempt=function attempt(keySystems){
var keySystem=keySystems.shift();
_this.getMediaKeysPromise(keySystem,audioCodecs,videoCodecs).then(function(mediaKeys){
return resolve({
keySystem:keySystem,
mediaKeys:mediaKeys});

}).catch(function(error){
if(keySystems.length){
attempt(keySystems);
}else if(error instanceof EMEKeyError){
reject(error);
}else{
reject(new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_NO_ACCESS,
error:error,
fatal:true},
error.message));
}
});
};
attempt(keySystemsToAttempt);
});
};
_proto.requestMediaKeySystemAccess=function requestMediaKeySystemAccess(keySystem,supportedConfigurations){
var requestMediaKeySystemAccessFunc=this.config.requestMediaKeySystemAccessFunc;
if(!(typeof requestMediaKeySystemAccessFunc==='function')){
var errMessage="Configured requestMediaKeySystemAccess is not a function "+requestMediaKeySystemAccessFunc;
if(_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.requestMediaKeySystemAccess===null&&self.location.protocol==='http:'){
errMessage="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol;
}
return Promise.reject(new Error(errMessage));
}
return requestMediaKeySystemAccessFunc(keySystem,supportedConfigurations);
};
_proto.getMediaKeysPromise=function getMediaKeysPromise(keySystem,audioCodecs,videoCodecs){
var _this2=this;
// This can throw, but is caught in event handler callpath
var mediaKeySystemConfigs=(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.getSupportedMediaKeySystemConfigurations)(keySystem,audioCodecs,videoCodecs,this.config.drmSystemOptions);
var keySystemAccessPromises=this.keySystemAccessPromises[keySystem];
var keySystemAccess=keySystemAccessPromises===null||keySystemAccessPromises===void 0?void 0:keySystemAccessPromises.keySystemAccess;
if(!keySystemAccess){
this.log("Requesting encrypted media \""+keySystem+"\" key-system access with config: "+JSON.stringify(mediaKeySystemConfigs));
keySystemAccess=this.requestMediaKeySystemAccess(keySystem,mediaKeySystemConfigs);
var _keySystemAccessPromises=this.keySystemAccessPromises[keySystem]={
keySystemAccess:keySystemAccess};

keySystemAccess.catch(function(error){
_this2.log("Failed to obtain access to key-system \""+keySystem+"\": "+error);
});
return keySystemAccess.then(function(mediaKeySystemAccess){
_this2.log("Access for key-system \""+mediaKeySystemAccess.keySystem+"\" obtained");
var certificateRequest=_this2.fetchServerCertificate(keySystem);
_this2.log("Create media-keys for \""+keySystem+"\"");
_keySystemAccessPromises.mediaKeys=mediaKeySystemAccess.createMediaKeys().then(function(mediaKeys){
_this2.log("Media-keys created for \""+keySystem+"\"");
return certificateRequest.then(function(certificate){
if(certificate){
return _this2.setMediaKeysServerCertificate(mediaKeys,keySystem,certificate);
}
return mediaKeys;
});
});
_keySystemAccessPromises.mediaKeys.catch(function(error){
_this2.error("Failed to create media-keys for \""+keySystem+"\"}: "+error);
});
return _keySystemAccessPromises.mediaKeys;
});
}
return keySystemAccess.then(function(){
return keySystemAccessPromises.mediaKeys;
});
};
_proto.createMediaKeySessionContext=function createMediaKeySessionContext(_ref){
var decryptdata=_ref.decryptdata,
keySystem=_ref.keySystem,
mediaKeys=_ref.mediaKeys;
console.assert(!!mediaKeys,'mediaKeys is defined');
this.log("Creating key-system session \""+keySystem+"\" keyId: "+_utils_hex__WEBPACK_IMPORTED_MODULE_7__["default"].hexDump(decryptdata.keyId||[]));
var mediaKeysSession=mediaKeys.createSession();
var mediaKeySessionContext={
decryptdata:decryptdata,
keySystem:keySystem,
mediaKeys:mediaKeys,
mediaKeysSession:mediaKeysSession,
keyStatus:'status-pending'};

this.mediaKeySessions.push(mediaKeySessionContext);
return mediaKeySessionContext;
};
_proto.renewKeySession=function renewKeySession(mediaKeySessionContext){
var decryptdata=mediaKeySessionContext.decryptdata;
if(decryptdata.pssh){
var keySessionContext=this.createMediaKeySessionContext(mediaKeySessionContext);
var _keyId=this.getKeyIdString(decryptdata);
var scheme='cenc';
this.keyIdToKeySessionPromise[_keyId]=this.generateRequestWithPreferredKeySession(keySessionContext,scheme,decryptdata.pssh,'expired');
}else{
this.warn("Could not renew expired session. Missing pssh initData.");
}
this.removeSession(mediaKeySessionContext);
};
_proto.getKeyIdString=function getKeyIdString(decryptdata){
if(!decryptdata){
throw new Error('Could not read keyId of undefined decryptdata');
}
if(decryptdata.keyId===null){
throw new Error('keyId is null');
}
return _utils_hex__WEBPACK_IMPORTED_MODULE_7__["default"].hexDump(decryptdata.keyId);
};
_proto.updateKeySession=function updateKeySession(mediaKeySessionContext,data){
var _mediaKeySessionConte;
var keySession=mediaKeySessionContext.mediaKeysSession;
this.log("Updating key-session \""+keySession.sessionId+"\" for keyID "+_utils_hex__WEBPACK_IMPORTED_MODULE_7__["default"].hexDump(((_mediaKeySessionConte=mediaKeySessionContext.decryptdata)===null||_mediaKeySessionConte===void 0?void 0:_mediaKeySessionConte.keyId)||[])+"\n      } (data length: "+(data?data.byteLength:data)+")");
return keySession.update(data);
};
_proto.selectKeySystemFormat=function selectKeySystemFormat(frag){
var keyFormats=Object.keys(frag.levelkeys||{});
if(!this.keyFormatPromise){
this.log("Selecting key-system from fragment (sn: "+frag.sn+" "+frag.type+": "+frag.level+") key formats "+keyFormats.join(', '));
this.keyFormatPromise=this.getKeyFormatPromise(keyFormats);
}
return this.keyFormatPromise;
};
_proto.getKeyFormatPromise=function getKeyFormatPromise(keyFormats){
var _this3=this;
return new Promise(function(resolve,reject){
var keySystemsInConfig=(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.getKeySystemsForConfig)(_this3.config);
var keySystemsToAttempt=keyFormats.map(_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.keySystemFormatToKeySystemDomain).filter(function(value){
return!!value&&keySystemsInConfig.indexOf(value)!==-1;
});
return _this3.getKeySystemSelectionPromise(keySystemsToAttempt).then(function(_ref2){
var keySystem=_ref2.keySystem;
var keySystemFormat=(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.keySystemDomainToKeySystemFormat)(keySystem);
if(keySystemFormat){
resolve(keySystemFormat);
}else{
reject(new Error("Unable to find format for key-system \""+keySystem+"\""));
}
}).catch(reject);
});
};
_proto.loadKey=function loadKey(data){
var _this4=this;
var decryptdata=data.keyInfo.decryptdata;
var keyId=this.getKeyIdString(decryptdata);
var keyDetails="(keyId: "+keyId+" format: \""+decryptdata.keyFormat+"\" method: "+decryptdata.method+" uri: "+decryptdata.uri+")";
this.log("Starting session for key "+keyDetails);
var keySessionContextPromise=this.keyIdToKeySessionPromise[keyId];
if(!keySessionContextPromise){
keySessionContextPromise=this.keyIdToKeySessionPromise[keyId]=this.getKeySystemForKeyPromise(decryptdata).then(function(_ref3){
var keySystem=_ref3.keySystem,
mediaKeys=_ref3.mediaKeys;
_this4.throwIfDestroyed();
_this4.log("Handle encrypted media sn: "+data.frag.sn+" "+data.frag.type+": "+data.frag.level+" using key "+keyDetails);
return _this4.attemptSetMediaKeys(keySystem,mediaKeys).then(function(){
_this4.throwIfDestroyed();
var keySessionContext=_this4.createMediaKeySessionContext({
keySystem:keySystem,
mediaKeys:mediaKeys,
decryptdata:decryptdata});

var scheme='cenc';
return _this4.generateRequestWithPreferredKeySession(keySessionContext,scheme,decryptdata.pssh,'playlist-key');
});
});
keySessionContextPromise.catch(function(error){
return _this4.handleError(error);
});
}
return keySessionContextPromise;
};
_proto.throwIfDestroyed=function throwIfDestroyed(message){
if(message===void 0){
message='Invalid state';
}
if(!this.hls){
throw new Error('invalid state');
}
};
_proto.handleError=function handleError(error){
if(!this.hls){
return;
}
this.error(error.message);
if(error instanceof EMEKeyError){
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,error.data);
}else{
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_NO_KEYS,
error:error,
fatal:true});

}
};
_proto.getKeySystemForKeyPromise=function getKeySystemForKeyPromise(decryptdata){
var keyId=this.getKeyIdString(decryptdata);
var mediaKeySessionContext=this.keyIdToKeySessionPromise[keyId];
if(!mediaKeySessionContext){
var keySystem=(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.keySystemFormatToKeySystemDomain)(decryptdata.keyFormat);
var keySystemsToAttempt=keySystem?[keySystem]:(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.getKeySystemsForConfig)(this.config);
return this.attemptKeySystemAccess(keySystemsToAttempt);
}
return mediaKeySessionContext;
};
_proto.getKeySystemSelectionPromise=function getKeySystemSelectionPromise(keySystemsToAttempt){
if(!keySystemsToAttempt.length){
keySystemsToAttempt=(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.getKeySystemsForConfig)(this.config);
}
if(keySystemsToAttempt.length===0){
throw new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,
fatal:true},
"Missing key-system license configuration options "+JSON.stringify({
drmSystems:this.config.drmSystems}));

}
return this.attemptKeySystemAccess(keySystemsToAttempt);
};
_proto._onMediaEncrypted=function _onMediaEncrypted(event){
var _this5=this;
var initDataType=event.initDataType,
initData=event.initData;
this.debug("\""+event.type+"\" event: init data type: \""+initDataType+"\"");

// Ignore event when initData is null
if(initData===null){
return;
}
var keyId;
var keySystemDomain;
if(initDataType==='sinf'&&this.config.drmSystems[_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.KeySystems.FAIRPLAY]){
// Match sinf keyId to playlist skd://keyId=
var json=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_8__.bin2str)(new Uint8Array(initData));
try{
var sinf=(0,_utils_numeric_encoding_utils__WEBPACK_IMPORTED_MODULE_5__.base64Decode)(JSON.parse(json).sinf);
var tenc=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_8__.parseSinf)(new Uint8Array(sinf));
if(!tenc){
return;
}
keyId=tenc.subarray(8,24);
keySystemDomain=_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.KeySystems.FAIRPLAY;
}catch(error){
this.warn('Failed to parse sinf "encrypted" event message initData');
return;
}
}else{
// Support clear-lead key-session creation (otherwise depend on playlist keys)
var psshInfo=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_8__.parsePssh)(initData);
if(psshInfo===null){
return;
}
if(psshInfo.version===0&&psshInfo.systemId===_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.KeySystemIds.WIDEVINE&&psshInfo.data){
keyId=psshInfo.data.subarray(8,24);
}
keySystemDomain=(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.keySystemIdToKeySystemDomain)(psshInfo.systemId);
}
if(!keySystemDomain||!keyId){
return;
}
var keyIdHex=_utils_hex__WEBPACK_IMPORTED_MODULE_7__["default"].hexDump(keyId);
var keyIdToKeySessionPromise=this.keyIdToKeySessionPromise,
mediaKeySessions=this.mediaKeySessions;
var keySessionContextPromise=keyIdToKeySessionPromise[keyIdHex];
var _loop=function _loop(i){
// Match playlist key
var keyContext=mediaKeySessions[i];
var decryptdata=keyContext.decryptdata;
if(decryptdata.pssh||!decryptdata.keyId){
return"continue";
}
var oldKeyIdHex=_utils_hex__WEBPACK_IMPORTED_MODULE_7__["default"].hexDump(decryptdata.keyId);
if(keyIdHex===oldKeyIdHex||decryptdata.uri.replace(/-/g,'').indexOf(keyIdHex)!==-1){
keySessionContextPromise=keyIdToKeySessionPromise[oldKeyIdHex];
delete keyIdToKeySessionPromise[oldKeyIdHex];
decryptdata.pssh=new Uint8Array(initData);
decryptdata.keyId=keyId;
keySessionContextPromise=keyIdToKeySessionPromise[keyIdHex]=keySessionContextPromise.then(function(){
return _this5.generateRequestWithPreferredKeySession(keyContext,initDataType,initData,'encrypted-event-key-match');
});
return"break";
}
};
for(var i=0;i<mediaKeySessions.length;i++){
var _ret=_loop(i);
if(_ret==="continue")continue;
if(_ret==="break")break;
}
if(!keySessionContextPromise){
// Clear-lead key (not encountered in playlist)
keySessionContextPromise=keyIdToKeySessionPromise[keyIdHex]=this.getKeySystemSelectionPromise([keySystemDomain]).then(function(_ref4){
var _keySystemToKeySystem;
var keySystem=_ref4.keySystem,
mediaKeys=_ref4.mediaKeys;
_this5.throwIfDestroyed();
var decryptdata=new _loader_level_key__WEBPACK_IMPORTED_MODULE_6__.LevelKey('ISO-23001-7',keyIdHex,(_keySystemToKeySystem=(0,_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.keySystemDomainToKeySystemFormat)(keySystem))!=null?_keySystemToKeySystem:'');
decryptdata.pssh=new Uint8Array(initData);
decryptdata.keyId=keyId;
return _this5.attemptSetMediaKeys(keySystem,mediaKeys).then(function(){
_this5.throwIfDestroyed();
var keySessionContext=_this5.createMediaKeySessionContext({
decryptdata:decryptdata,
keySystem:keySystem,
mediaKeys:mediaKeys});

return _this5.generateRequestWithPreferredKeySession(keySessionContext,initDataType,initData,'encrypted-event-no-match');
});
});
}
keySessionContextPromise.catch(function(error){
return _this5.handleError(error);
});
};
_proto._onWaitingForKey=function _onWaitingForKey(event){
this.log("\""+event.type+"\" event");
};
_proto.attemptSetMediaKeys=function attemptSetMediaKeys(keySystem,mediaKeys){
var _this6=this;
var queue=this.setMediaKeysQueue.slice();
this.log("Setting media-keys for \""+keySystem+"\"");
// Only one setMediaKeys() can run at one time, and multiple setMediaKeys() operations
// can be queued for execution for multiple key sessions.
var setMediaKeysPromise=Promise.all(queue).then(function(){
if(!_this6.media){
throw new Error('Attempted to set mediaKeys without media element attached');
}
return _this6.media.setMediaKeys(mediaKeys);
});
this.setMediaKeysQueue.push(setMediaKeysPromise);
return setMediaKeysPromise.then(function(){
_this6.log("Media-keys set for \""+keySystem+"\"");
queue.push(setMediaKeysPromise);
_this6.setMediaKeysQueue=_this6.setMediaKeysQueue.filter(function(p){
return queue.indexOf(p)===-1;
});
});
};
_proto.generateRequestWithPreferredKeySession=function generateRequestWithPreferredKeySession(context,initDataType,initData,reason){
var _this$config$drmSyste,
_this$config$drmSyste2,
_this7=this;
var generateRequestFilter=(_this$config$drmSyste=this.config.drmSystems)===null||_this$config$drmSyste===void 0?void 0:(_this$config$drmSyste2=_this$config$drmSyste[context.keySystem])===null||_this$config$drmSyste2===void 0?void 0:_this$config$drmSyste2.generateRequest;
if(generateRequestFilter){
try{
var mappedInitData=generateRequestFilter.call(this.hls,initDataType,initData,context);
if(!mappedInitData){
throw new Error('Invalid response from configured generateRequest filter');
}
initDataType=mappedInitData.initDataType;
initData=context.decryptdata.pssh=mappedInitData.initData?new Uint8Array(mappedInitData.initData):null;
}catch(error){
var _this$hls;
this.warn(error.message);
if((_this$hls=this.hls)!==null&&_this$hls!==void 0&&_this$hls.config.debug){
throw error;
}
}
}
if(initData===null){
this.log("Skipping key-session request for \""+reason+"\" (no initData)");
return Promise.resolve(context);
}
var keyId=this.getKeyIdString(context.decryptdata);
this.log("Generating key-session request for \""+reason+"\": "+keyId+" (init data type: "+initDataType+" length: "+(initData?initData.byteLength:null)+")");
var licenseStatus=new(eventemitter3__WEBPACK_IMPORTED_MODULE_9___default())();
context.mediaKeysSession.onmessage=function(event){
var keySession=context.mediaKeysSession;
if(!keySession){
licenseStatus.emit('error',new Error('invalid state'));
return;
}
var messageType=event.messageType,
message=event.message;
_this7.log("\""+messageType+"\" message event for session \""+keySession.sessionId+"\" message size: "+message.byteLength);
if(messageType==='license-request'||messageType==='license-renewal'){
_this7.renewLicense(context,message).catch(function(error){
_this7.handleError(error);
licenseStatus.emit('error',error);
});
}else if(messageType==='license-release'){
if(context.keySystem===_utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_3__.KeySystems.FAIRPLAY){
_this7.updateKeySession(context,(0,_utils_keysystem_util__WEBPACK_IMPORTED_MODULE_4__.strToUtf8array)('acknowledged'));
_this7.removeSession(context);
}
}else{
_this7.warn("unhandled media key message type \""+messageType+"\"");
}
};
context.mediaKeysSession.onkeystatuseschange=function(event){
var keySession=context.mediaKeysSession;
if(!keySession){
licenseStatus.emit('error',new Error('invalid state'));
return;
}
_this7.onKeyStatusChange(context);
var keyStatus=context.keyStatus;
licenseStatus.emit('keyStatus',keyStatus);
if(keyStatus==='expired'){
_this7.warn(context.keySystem+" expired for key "+keyId);
_this7.renewKeySession(context);
}
};
var keyUsablePromise=new Promise(function(resolve,reject){
licenseStatus.on('error',reject);
licenseStatus.on('keyStatus',function(keyStatus){
if(keyStatus.startsWith('usable')){
resolve();
}else if(keyStatus==='output-restricted'){
reject(new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,
fatal:false},
'HDCP level output restricted'));
}else if(keyStatus==='internal-error'){
reject(new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,
fatal:true},
"key status changed to \""+keyStatus+"\""));
}else if(keyStatus==='expired'){
reject(new Error('key expired while generating request'));
}else{
_this7.warn("unhandled key status change \""+keyStatus+"\"");
}
});
});
return context.mediaKeysSession.generateRequest(initDataType,initData).then(function(){
var _context$mediaKeysSes;
_this7.log("Request generated for key-session \""+((_context$mediaKeysSes=context.mediaKeysSession)===null||_context$mediaKeysSes===void 0?void 0:_context$mediaKeysSes.sessionId)+"\" keyId: "+keyId);
}).catch(function(error){
throw new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_NO_SESSION,
error:error,
fatal:false},
"Error generating key-session request: "+error);
}).then(function(){
return keyUsablePromise;
}).catch(function(error){
licenseStatus.removeAllListeners();
_this7.removeSession(context);
throw error;
}).then(function(){
licenseStatus.removeAllListeners();
return context;
});
};
_proto.onKeyStatusChange=function onKeyStatusChange(mediaKeySessionContext){
var _this8=this;
mediaKeySessionContext.mediaKeysSession.keyStatuses.forEach(function(status,keyId){
_this8.log("key status change \""+status+"\" for keyStatuses keyId: "+_utils_hex__WEBPACK_IMPORTED_MODULE_7__["default"].hexDump('buffer'in keyId?new Uint8Array(keyId.buffer,keyId.byteOffset,keyId.byteLength):new Uint8Array(keyId))+" session keyId: "+_utils_hex__WEBPACK_IMPORTED_MODULE_7__["default"].hexDump(new Uint8Array(mediaKeySessionContext.decryptdata.keyId||[]))+" uri: "+mediaKeySessionContext.decryptdata.uri);
mediaKeySessionContext.keyStatus=status;
});
};
_proto.fetchServerCertificate=function fetchServerCertificate(keySystem){
var _this9=this;
return new Promise(function(resolve,reject){
var url=_this9.getServerCertificateUrl(keySystem);
if(!url){
return resolve();
}
_this9.log("Fetching serverCertificate for \""+keySystem+"\"");
var xhr=new XMLHttpRequest();
xhr.open('GET',url,true);
xhr.responseType='arraybuffer';
xhr.onreadystatechange=function(){
if(xhr.readyState===XMLHttpRequest.DONE){
if(xhr.status===200){
resolve(xhr.response);
}else{
reject(new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,
fatal:true,
networkDetails:xhr},
"\""+keySystem+"\" certificate request XHR failed ("+url+"). Status: "+xhr.status+" ("+xhr.statusText+")"));
}
}
};
xhr.send();
});
};
_proto.setMediaKeysServerCertificate=function setMediaKeysServerCertificate(mediaKeys,keySystem,cert){
var _this10=this;
return new Promise(function(resolve,reject){
mediaKeys.setServerCertificate(cert).then(function(success){
_this10.log("setServerCertificate "+(success?'success':'not supported by CDM')+" ("+(cert===null||cert===void 0?void 0:cert.byteLength)+") on \""+keySystem+"\"");
resolve(mediaKeys);
}).catch(function(error){
reject(new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,
error:error,
fatal:true},
error.message));
});
});
};
_proto.renewLicense=function renewLicense(context,keyMessage){
var _this11=this;
return this.requestLicense(context,new Uint8Array(keyMessage)).then(function(data){
return _this11.updateKeySession(context,new Uint8Array(data)).catch(function(error){
throw new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,
error:error,
fatal:true},
error.message);
});
});
};
_proto.setupLicenseXHR=function setupLicenseXHR(xhr,url,keysListItem,licenseChallenge){
var _this12=this;
var licenseXhrSetup=this.config.licenseXhrSetup;
if(!licenseXhrSetup){
xhr.open('POST',url,true);
return Promise.resolve({
xhr:xhr,
licenseChallenge:licenseChallenge});

}
return Promise.resolve().then(function(){
if(!keysListItem.decryptdata){
throw new Error('Key removed');
}
return licenseXhrSetup.call(_this12.hls,xhr,url,keysListItem,licenseChallenge);
}).catch(function(error){
if(!keysListItem.decryptdata){
// Key session removed. Cancel license request.
throw error;
}
// let's try to open before running setup
xhr.open('POST',url,true);
return licenseXhrSetup.call(_this12.hls,xhr,url,keysListItem,licenseChallenge);
}).then(function(licenseXhrSetupResult){
// if licenseXhrSetup did not yet call open, let's do it now
if(!xhr.readyState){
xhr.open('POST',url,true);
}
var finalLicenseChallenge=licenseXhrSetupResult?licenseXhrSetupResult:licenseChallenge;
return{
xhr:xhr,
licenseChallenge:finalLicenseChallenge};

});
};
_proto.requestLicense=function requestLicense(keySessionContext,licenseChallenge){
var _this13=this;
return new Promise(function(resolve,reject){
var url=_this13.getLicenseServerUrl(keySessionContext.keySystem);
_this13.log("Sending license request to URL: "+url);
var xhr=new XMLHttpRequest();
xhr.responseType='arraybuffer';
xhr.onreadystatechange=function(){
if(!_this13.hls||!keySessionContext.mediaKeysSession){
return reject(new Error('invalid state'));
}
if(xhr.readyState===4){
if(xhr.status===200){
_this13._requestLicenseFailureCount=0;
var data=xhr.response;
_this13.log("License received "+(data instanceof ArrayBuffer?data.byteLength:data));
var licenseResponseCallback=_this13.config.licenseResponseCallback;
if(licenseResponseCallback){
try{
data=licenseResponseCallback.call(_this13.hls,xhr,url,keySessionContext);
}catch(error){
_this13.error(error);
}
}
resolve(data);
}else{
_this13._requestLicenseFailureCount++;
if(_this13._requestLicenseFailureCount>MAX_LICENSE_REQUEST_FAILURES||xhr.status>=400&&xhr.status<500){
reject(new EMEKeyError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.KEY_SYSTEM_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
fatal:true,
networkDetails:xhr},
"License Request XHR failed ("+url+"). Status: "+xhr.status+" ("+xhr.statusText+")"));
}else{
var attemptsLeft=MAX_LICENSE_REQUEST_FAILURES-_this13._requestLicenseFailureCount+1;
_this13.warn("Retrying license request, "+attemptsLeft+" attempts left");
_this13.requestLicense(keySessionContext,licenseChallenge).then(resolve,reject);
}
}
}
};
if(keySessionContext.licenseXhr&&keySessionContext.licenseXhr.readyState!==XMLHttpRequest.DONE){
keySessionContext.licenseXhr.abort();
}
keySessionContext.licenseXhr=xhr;
_this13.setupLicenseXHR(xhr,url,keySessionContext,licenseChallenge).then(function(_ref5){
var xhr=_ref5.xhr,
licenseChallenge=_ref5.licenseChallenge;
xhr.send(licenseChallenge);
});
});
};
_proto.onMediaAttached=function onMediaAttached(event,data){
if(!this.config.emeEnabled){
return;
}
var media=data.media;

// keep reference of media
this.media=media;
media.addEventListener('encrypted',this.onMediaEncrypted);
media.addEventListener('waitingforkey',this.onWaitingForKey);
};
_proto.onMediaDetached=function onMediaDetached(){
var _this14=this;
var media=this.media;
var mediaKeysList=this.mediaKeySessions;
if(media){
media.removeEventListener('encrypted',this.onMediaEncrypted);
media.removeEventListener('waitingforkey',this.onWaitingForKey);
this.media=null;
}
this._requestLicenseFailureCount=0;
this.setMediaKeysQueue=[];
this.mediaKeySessions=[];
this.keyIdToKeySessionPromise={};
_loader_level_key__WEBPACK_IMPORTED_MODULE_6__.LevelKey.clearKeyUriToKeyIdMap();

// Close all sessions and remove media keys from the video element.
var keySessionCount=mediaKeysList.length;
EMEController.CDMCleanupPromise=Promise.all(mediaKeysList.map(function(mediaKeySessionContext){
return _this14.removeSession(mediaKeySessionContext);
}).concat(media===null||media===void 0?void 0:media.setMediaKeys(null).catch(function(error){
_this14.log("Could not clear media keys: "+error+". media.src: "+(media===null||media===void 0?void 0:media.src));
}))).then(function(){
if(keySessionCount){
_this14.log('finished closing key sessions and clearing media keys');
mediaKeysList.length=0;
}
}).catch(function(error){
_this14.log("Could not close sessions and clear media keys: "+error+". media.src: "+(media===null||media===void 0?void 0:media.src));
});
};
_proto.onManifestLoaded=function onManifestLoaded(event,_ref6){
var sessionKeys=_ref6.sessionKeys;
if(!sessionKeys||!this.config.emeEnabled){
return;
}
if(!this.keyFormatPromise){
var keyFormats=sessionKeys.reduce(function(formats,sessionKey){
if(formats.indexOf(sessionKey.keyFormat)===-1){
formats.push(sessionKey.keyFormat);
}
return formats;
},[]);
this.log("Selecting key-system from session-keys "+keyFormats.join(', '));
this.keyFormatPromise=this.getKeyFormatPromise(keyFormats);
}
};
_proto.removeSession=function removeSession(mediaKeySessionContext){
var _this15=this;
var mediaKeysSession=mediaKeySessionContext.mediaKeysSession,
licenseXhr=mediaKeySessionContext.licenseXhr;
if(mediaKeysSession){
this.log("Remove licenses and keys and close session "+mediaKeysSession.sessionId);
mediaKeysSession.onmessage=null;
mediaKeysSession.onkeystatuseschange=null;
if(licenseXhr&&licenseXhr.readyState!==XMLHttpRequest.DONE){
licenseXhr.abort();
}
mediaKeySessionContext.mediaKeysSession=mediaKeySessionContext.decryptdata=mediaKeySessionContext.licenseXhr=undefined;
var index=this.mediaKeySessions.indexOf(mediaKeySessionContext);
if(index>-1){
this.mediaKeySessions.splice(index,1);
}
return mediaKeysSession.remove().catch(function(error){
_this15.log("Could not remove session: "+error);
}).then(function(){
return mediaKeysSession.close();
}).catch(function(error){
_this15.log("Could not close session: "+error);
});
}
};
return EMEController;
}();
EMEController.CDMCleanupPromise=void 0;
var EMEKeyError=/*#__PURE__*/function(_Error){
_inheritsLoose(EMEKeyError,_Error);
function EMEKeyError(data,message){
var _this16;
_this16=_Error.call(this,message)||this;
_this16.data=void 0;
_this16.data=data;
data.err=data.error;
return _this16;
}
return EMEKeyError;
}(/*#__PURE__*/_wrapNativeSuper(Error));
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=EMEController;

/***/},

/***/"./src/controller/fps-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.ts ***!
  \******************************************/
/***/function srcControllerFpsControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");


var FPSController=/*#__PURE__*/function(){
// stream controller must be provided as a dependency!

function FPSController(hls){
this.hls=void 0;
this.isVideoPlaybackQualityAvailable=false;
this.timer=void 0;
this.media=null;
this.lastTime=void 0;
this.lastDroppedFrames=0;
this.lastDecodedFrames=0;
this.streamController=void 0;
this.hls=hls;
this.registerListeners();
}
var _proto=FPSController.prototype;
_proto.setStreamController=function setStreamController(streamController){
this.streamController=streamController;
};
_proto.registerListeners=function registerListeners(){
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);
};
_proto.unregisterListeners=function unregisterListeners(){
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHING,this.onMediaAttaching);
};
_proto.destroy=function destroy(){
if(this.timer){
clearInterval(this.timer);
}
this.unregisterListeners();
this.isVideoPlaybackQualityAvailable=false;
this.media=null;
};
_proto.onMediaAttaching=function onMediaAttaching(event,data){
var config=this.hls.config;
if(config.capLevelOnFPSDrop){
var media=data.media instanceof self.HTMLVideoElement?data.media:null;
this.media=media;
if(media&&typeof media.getVideoPlaybackQuality==='function'){
this.isVideoPlaybackQualityAvailable=true;
}
self.clearInterval(this.timer);
this.timer=self.setInterval(this.checkFPSInterval.bind(this),config.fpsDroppedMonitoringPeriod);
}
};
_proto.checkFPS=function checkFPS(video,decodedFrames,droppedFrames){
var currentTime=performance.now();
if(decodedFrames){
if(this.lastTime){
var currentPeriod=currentTime-this.lastTime;
var currentDropped=droppedFrames-this.lastDroppedFrames;
var currentDecoded=decodedFrames-this.lastDecodedFrames;
var droppedFPS=1000*currentDropped/currentPeriod;
var hls=this.hls;
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FPS_DROP,{
currentDropped:currentDropped,
currentDecoded:currentDecoded,
totalDroppedFrames:droppedFrames});

if(droppedFPS>0){
// logger.log('checkFPS : droppedFPS/decodedFPS:' + droppedFPS/(1000 * currentDecoded / currentPeriod));
if(currentDropped>hls.config.fpsDroppedMonitoringThreshold*currentDecoded){
var currentLevel=hls.currentLevel;
_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn('drop FPS ratio greater than max allowed value for currentLevel: '+currentLevel);
if(currentLevel>0&&(hls.autoLevelCapping===-1||hls.autoLevelCapping>=currentLevel)){
currentLevel=currentLevel-1;
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FPS_DROP_LEVEL_CAPPING,{
level:currentLevel,
droppedLevel:hls.currentLevel});

hls.autoLevelCapping=currentLevel;
this.streamController.nextLevelSwitch();
}
}
}
}
this.lastTime=currentTime;
this.lastDroppedFrames=droppedFrames;
this.lastDecodedFrames=decodedFrames;
}
};
_proto.checkFPSInterval=function checkFPSInterval(){
var video=this.media;
if(video){
if(this.isVideoPlaybackQualityAvailable){
var videoPlaybackQuality=video.getVideoPlaybackQuality();
this.checkFPS(video,videoPlaybackQuality.totalVideoFrames,videoPlaybackQuality.droppedVideoFrames);
}else{
// HTMLVideoElement doesn't include the webkit types
this.checkFPS(video,video.webkitDecodedFrameCount,video.webkitDroppedFrameCount);
}
}
};
return FPSController;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=FPSController;

/***/},

/***/"./src/controller/fragment-finders.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.ts ***!
  \********************************************/
/***/function srcControllerFragmentFindersTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"findFragWithCC":function findFragWithCC(){return(/* binding */_findFragWithCC);},
/* harmony export */"findFragmentByPDT":function findFragmentByPDT(){return(/* binding */_findFragmentByPDT);},
/* harmony export */"findFragmentByPTS":function findFragmentByPTS(){return(/* binding */_findFragmentByPTS);},
/* harmony export */"fragmentWithinToleranceTest":function fragmentWithinToleranceTest(){return(/* binding */_fragmentWithinToleranceTest);},
/* harmony export */"pdtWithinToleranceTest":function pdtWithinToleranceTest(){return(/* binding */_pdtWithinToleranceTest);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _utils_binary_search__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/binary-search */"./src/utils/binary-search.ts");


/**
 * Returns first fragment whose endPdt value exceeds the given PDT.
 * @param {Array<Fragment>} fragments - The array of candidate fragments
 * @param {number|null} [PDTValue = null] - The PDT value which must be exceeded
 * @param {number} [maxFragLookUpTolerance = 0] - The amount of time that a fragment's start/end can be within in order to be considered contiguous
 * @returns {*|null} fragment - The best matching fragment
 */
function _findFragmentByPDT(fragments,PDTValue,maxFragLookUpTolerance){
if(PDTValue===null||!Array.isArray(fragments)||!fragments.length||!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(PDTValue)){
return null;
}

// if less than start
var startPDT=fragments[0].programDateTime;
if(PDTValue<(startPDT||0)){
return null;
}
var endPDT=fragments[fragments.length-1].endProgramDateTime;
if(PDTValue>=(endPDT||0)){
return null;
}
maxFragLookUpTolerance=maxFragLookUpTolerance||0;
for(var seg=0;seg<fragments.length;++seg){
var frag=fragments[seg];
if(_pdtWithinToleranceTest(PDTValue,maxFragLookUpTolerance,frag)){
return frag;
}
}
return null;
}

/**
 * Finds a fragment based on the SN of the previous fragment; or based on the needs of the current buffer.
 * This method compensates for small buffer gaps by applying a tolerance to the start of any candidate fragment, thus
 * breaking any traps which would cause the same fragment to be continuously selected within a small range.
 * @param {*} fragPrevious - The last frag successfully appended
 * @param {Array} fragments - The array of candidate fragments
 * @param {number} [bufferEnd = 0] - The end of the contiguous buffered range the playhead is currently within
 * @param {number} maxFragLookUpTolerance - The amount of time that a fragment's start/end can be within in order to be considered contiguous
 * @returns {*} foundFrag - The best matching fragment
 */
function _findFragmentByPTS(fragPrevious,fragments,bufferEnd,maxFragLookUpTolerance){
if(bufferEnd===void 0){
bufferEnd=0;
}
if(maxFragLookUpTolerance===void 0){
maxFragLookUpTolerance=0;
}
var fragNext=null;
if(fragPrevious){
fragNext=fragments[fragPrevious.sn-fragments[0].sn+1]||null;
}else if(bufferEnd===0&&fragments[0].start===0){
fragNext=fragments[0];
}
// Prefer the next fragment if it's within tolerance
if(fragNext&&_fragmentWithinToleranceTest(bufferEnd,maxFragLookUpTolerance,fragNext)===0){
return fragNext;
}
// We might be seeking past the tolerance so find the best match
var foundFragment=_utils_binary_search__WEBPACK_IMPORTED_MODULE_1__["default"].search(fragments,_fragmentWithinToleranceTest.bind(null,bufferEnd,maxFragLookUpTolerance));
if(foundFragment&&(foundFragment!==fragPrevious||!fragNext)){
return foundFragment;
}
// If no match was found return the next fragment after fragPrevious, or null
return fragNext;
}

/**
 * The test function used by the findFragmentBySn's BinarySearch to look for the best match to the current buffer conditions.
 * @param {*} candidate - The fragment to test
 * @param {number} [bufferEnd = 0] - The end of the current buffered range the playhead is currently within
 * @param {number} [maxFragLookUpTolerance = 0] - The amount of time that a fragment's start can be within in order to be considered contiguous
 * @returns {number} - 0 if it matches, 1 if too low, -1 if too high
 */
function _fragmentWithinToleranceTest(bufferEnd,maxFragLookUpTolerance,candidate){
if(bufferEnd===void 0){
bufferEnd=0;
}
if(maxFragLookUpTolerance===void 0){
maxFragLookUpTolerance=0;
}
// eagerly accept an accurate match (no tolerance)
if(candidate.start<=bufferEnd&&candidate.start+candidate.duration>bufferEnd){
return 0;
}
// offset should be within fragment boundary - config.maxFragLookUpTolerance
// this is to cope with situations like
// bufferEnd = 9.991
// frag[Ø] : [0,10]
// frag[1] : [10,20]
// bufferEnd is within frag[0] range ... although what we are expecting is to return frag[1] here
//              frag start               frag start+duration
//                  |-----------------------------|
//              <--->                         <--->
//  ...--------><-----------------------------><---------....
// previous frag         matching fragment         next frag
//  return -1             return 0                 return 1
// logger.log(`level/sn/start/end/bufEnd:${level}/${candidate.sn}/${candidate.start}/${(candidate.start+candidate.duration)}/${bufferEnd}`);
// Set the lookup tolerance to be small enough to detect the current segment - ensures we don't skip over very small segments
var candidateLookupTolerance=Math.min(maxFragLookUpTolerance,candidate.duration+(candidate.deltaPTS?candidate.deltaPTS:0));
if(candidate.start+candidate.duration-candidateLookupTolerance<=bufferEnd){
return 1;
}else if(candidate.start-candidateLookupTolerance>bufferEnd&&candidate.start){
// if maxFragLookUpTolerance will have negative value then don't return -1 for first element
return-1;
}
return 0;
}

/**
 * The test function used by the findFragmentByPdt's BinarySearch to look for the best match to the current buffer conditions.
 * This function tests the candidate's program date time values, as represented in Unix time
 * @param {*} candidate - The fragment to test
 * @param {number} [pdtBufferEnd = 0] - The Unix time representing the end of the current buffered range
 * @param {number} [maxFragLookUpTolerance = 0] - The amount of time that a fragment's start can be within in order to be considered contiguous
 * @returns {boolean} True if contiguous, false otherwise
 */
function _pdtWithinToleranceTest(pdtBufferEnd,maxFragLookUpTolerance,candidate){
var candidateLookupTolerance=Math.min(maxFragLookUpTolerance,candidate.duration+(candidate.deltaPTS?candidate.deltaPTS:0))*1000;

// endProgramDateTime can be null, default to zero
var endProgramDateTime=candidate.endProgramDateTime||0;
return endProgramDateTime-candidateLookupTolerance>pdtBufferEnd;
}
function _findFragWithCC(fragments,cc){
return _utils_binary_search__WEBPACK_IMPORTED_MODULE_1__["default"].search(fragments,function(candidate){
if(candidate.cc<cc){
return 1;
}else if(candidate.cc>cc){
return-1;
}else{
return 0;
}
});
}

/***/},

/***/"./src/controller/fragment-tracker.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.ts ***!
  \********************************************/
/***/function srcControllerFragmentTrackerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"FragmentState":function FragmentState(){return(/* binding */_FragmentState);},
/* harmony export */"FragmentTracker":function FragmentTracker(){return(/* binding */_FragmentTracker);}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");


var _FragmentState;
(function(FragmentState){
FragmentState["NOT_LOADED"]="NOT_LOADED";
FragmentState["APPENDING"]="APPENDING";
FragmentState["PARTIAL"]="PARTIAL";
FragmentState["OK"]="OK";
})(_FragmentState||(_FragmentState={}));
var _FragmentTracker=/*#__PURE__*/function(){
function FragmentTracker(hls){
this.activeFragment=null;
this.activeParts=null;
this.endListFragments=Object.create(null);
this.fragments=Object.create(null);
this.timeRanges=Object.create(null);
this.bufferPadding=0.2;
this.hls=void 0;
this.hls=hls;
this._registerListeners();
}
var _proto=FragmentTracker.prototype;
_proto._registerListeners=function _registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_APPENDED,this.onBufferAppended,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FRAG_LOADED,this.onFragLoaded,this);
};
_proto._unregisterListeners=function _unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_APPENDED,this.onBufferAppended,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FRAG_LOADED,this.onFragLoaded,this);
};
_proto.destroy=function destroy(){
this._unregisterListeners();
// @ts-ignore
this.fragments=
// @ts-ignore
this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null;
}

/**
   * Return a Fragment with an appended range that matches the position and levelType.
   * If not found any Fragment, return null
   */;
_proto.getAppendedFrag=function getAppendedFrag(position,levelType){
if(levelType===_types_loader__WEBPACK_IMPORTED_MODULE_1__.PlaylistLevelType.MAIN){
var activeFragment=this.activeFragment,
activeParts=this.activeParts;
if(!activeFragment){
return null;
}
if(activeParts){
for(var i=activeParts.length;i--;){
var activePart=activeParts[i];
var appendedPTS=activePart?activePart.end:activeFragment.appendedPTS;
if(activePart.start<=position&&appendedPTS!==undefined&&position<=appendedPTS){
// 9 is a magic number. remove parts from lookup after a match but keep some short seeks back.
if(i>9){
this.activeParts=activeParts.slice(i-9);
}
return activePart;
}
}
}else if(activeFragment.start<=position&&activeFragment.appendedPTS!==undefined&&position<=activeFragment.appendedPTS){
return activeFragment;
}
}
return this.getBufferedFrag(position,levelType);
}

/**
   * Return a buffered Fragment that matches the position and levelType.
   * A buffered Fragment is one whose loading, parsing and appending is done (completed or "partial" meaning aborted).
   * If not found any Fragment, return null
   */;
_proto.getBufferedFrag=function getBufferedFrag(position,levelType){
var fragments=this.fragments;
var keys=Object.keys(fragments);
for(var i=keys.length;i--;){
var fragmentEntity=fragments[keys[i]];
if((fragmentEntity===null||fragmentEntity===void 0?void 0:fragmentEntity.body.type)===levelType&&fragmentEntity.buffered){
var frag=fragmentEntity.body;
if(frag.start<=position&&position<=frag.end){
return frag;
}
}
}
return null;
}

/**
   * Partial fragments effected by coded frame eviction will be removed
   * The browser will unload parts of the buffer to free up memory for new buffer data
   * Fragments will need to be reloaded when the buffer is freed up, removing partial fragments will allow them to reload(since there might be parts that are still playable)
   */;
_proto.detectEvictedFragments=function detectEvictedFragments(elementaryStream,timeRange,playlistType){
var _this=this;
if(this.timeRanges){
this.timeRanges[elementaryStream]=timeRange;
}
// Check if any flagged fragments have been unloaded
Object.keys(this.fragments).forEach(function(key){
var fragmentEntity=_this.fragments[key];
if(!fragmentEntity){
return;
}
if(!fragmentEntity.buffered&&!fragmentEntity.loaded){
if(fragmentEntity.body.type===playlistType){
_this.removeFragment(fragmentEntity.body);
}
return;
}
var esData=fragmentEntity.range[elementaryStream];
if(!esData){
return;
}
esData.time.some(function(time){
var isNotBuffered=!_this.isTimeBuffered(time.startPTS,time.endPTS,timeRange);
if(isNotBuffered){
// Unregister partial fragment as it needs to load again to be reused
_this.removeFragment(fragmentEntity.body);
}
return isNotBuffered;
});
});
}

/**
   * Checks if the fragment passed in is loaded in the buffer properly
   * Partially loaded fragments will be registered as a partial fragment
   */;
_proto.detectPartialFragments=function detectPartialFragments(data){
var _this2=this;
var timeRanges=this.timeRanges;
var frag=data.frag,
part=data.part;
if(!timeRanges||frag.sn==='initSegment'){
return;
}
var fragKey=getFragmentKey(frag);
var fragmentEntity=this.fragments[fragKey];
if(!fragmentEntity){
return;
}
Object.keys(timeRanges).forEach(function(elementaryStream){
var streamInfo=frag.elementaryStreams[elementaryStream];
if(!streamInfo){
return;
}
var timeRange=timeRanges[elementaryStream];
var partial=part!==null||streamInfo.partial===true;
fragmentEntity.range[elementaryStream]=_this2.getBufferedTimes(frag,part,partial,timeRange);
});
fragmentEntity.loaded=null;
if(Object.keys(fragmentEntity.range).length){
fragmentEntity.buffered=true;
if(fragmentEntity.body.endList){
this.endListFragments[fragmentEntity.body.type]=fragmentEntity;
}
}else{
// remove fragment if nothing was appended
this.removeFragment(fragmentEntity.body);
}
};
_proto.fragBuffered=function fragBuffered(frag){
var fragKey=getFragmentKey(frag);
var fragmentEntity=this.fragments[fragKey];
if(fragmentEntity){
fragmentEntity.loaded=null;
fragmentEntity.buffered=true;
}
};
_proto.getBufferedTimes=function getBufferedTimes(fragment,part,partial,timeRange){
var buffered={
time:[],
partial:partial};

var startPTS=part?part.start:fragment.start;
var endPTS=part?part.end:fragment.end;
var minEndPTS=fragment.minEndPTS||endPTS;
var maxStartPTS=fragment.maxStartPTS||startPTS;
for(var i=0;i<timeRange.length;i++){
var startTime=timeRange.start(i)-this.bufferPadding;
var endTime=timeRange.end(i)+this.bufferPadding;
if(maxStartPTS>=startTime&&minEndPTS<=endTime){
// Fragment is entirely contained in buffer
// No need to check the other timeRange times since it's completely playable
buffered.time.push({
startPTS:Math.max(startPTS,timeRange.start(i)),
endPTS:Math.min(endPTS,timeRange.end(i))});

break;
}else if(startPTS<endTime&&endPTS>startTime){
buffered.partial=true;
// Check for intersection with buffer
// Get playable sections of the fragment
buffered.time.push({
startPTS:Math.max(startPTS,timeRange.start(i)),
endPTS:Math.min(endPTS,timeRange.end(i))});

}else if(endPTS<=startTime){
// No need to check the rest of the timeRange as it is in order
break;
}
}
return buffered;
}

/**
   * Gets the partial fragment for a certain time
   */;
_proto.getPartialFragment=function getPartialFragment(time){
var bestFragment=null;
var timePadding;
var startTime;
var endTime;
var bestOverlap=0;
var bufferPadding=this.bufferPadding,
fragments=this.fragments;
Object.keys(fragments).forEach(function(key){
var fragmentEntity=fragments[key];
if(!fragmentEntity){
return;
}
if(isPartial(fragmentEntity)){
startTime=fragmentEntity.body.start-bufferPadding;
endTime=fragmentEntity.body.end+bufferPadding;
if(time>=startTime&&time<=endTime){
// Use the fragment that has the most padding from start and end time
timePadding=Math.min(time-startTime,endTime-time);
if(bestOverlap<=timePadding){
bestFragment=fragmentEntity.body;
bestOverlap=timePadding;
}
}
}
});
return bestFragment;
};
_proto.isEndListAppended=function isEndListAppended(type){
var lastFragmentEntity=this.endListFragments[type];
return lastFragmentEntity!==undefined&&(lastFragmentEntity.buffered||isPartial(lastFragmentEntity));
};
_proto.getState=function getState(fragment){
var fragKey=getFragmentKey(fragment);
var fragmentEntity=this.fragments[fragKey];
if(fragmentEntity){
if(!fragmentEntity.buffered){
return _FragmentState.APPENDING;
}else if(isPartial(fragmentEntity)){
return _FragmentState.PARTIAL;
}else{
return _FragmentState.OK;
}
}
return _FragmentState.NOT_LOADED;
};
_proto.isTimeBuffered=function isTimeBuffered(startPTS,endPTS,timeRange){
var startTime;
var endTime;
for(var i=0;i<timeRange.length;i++){
startTime=timeRange.start(i)-this.bufferPadding;
endTime=timeRange.end(i)+this.bufferPadding;
if(startPTS>=startTime&&endPTS<=endTime){
return true;
}
if(endPTS<=startTime){
// No need to check the rest of the timeRange as it is in order
return false;
}
}
return false;
};
_proto.onFragLoaded=function onFragLoaded(event,data){
var frag=data.frag,
part=data.part;
// don't track initsegment (for which sn is not a number)
// don't track frags used for bitrateTest, they're irrelevant.
// don't track parts for memory efficiency
if(frag.sn==='initSegment'||frag.bitrateTest||part){
return;
}
var fragKey=getFragmentKey(frag);
this.fragments[fragKey]={
body:frag,
loaded:data,
buffered:false,
range:Object.create(null)};

};
_proto.onBufferAppended=function onBufferAppended(event,data){
var _this3=this;
var frag=data.frag,
part=data.part,
timeRanges=data.timeRanges;
if(frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_1__.PlaylistLevelType.MAIN){
if(this.activeFragment!==frag){
this.activeFragment=frag;
frag.appendedPTS=undefined;
}
if(part){
var activeParts=this.activeParts;
if(!activeParts){
this.activeParts=activeParts=[];
}
activeParts.push(part);
}else{
this.activeParts=null;
}
}
// Store the latest timeRanges loaded in the buffer
this.timeRanges=timeRanges;
Object.keys(timeRanges).forEach(function(elementaryStream){
var timeRange=timeRanges[elementaryStream];
_this3.detectEvictedFragments(elementaryStream,timeRange);
if(!part&&frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_1__.PlaylistLevelType.MAIN){
var streamInfo=frag.elementaryStreams[elementaryStream];
if(!streamInfo){
return;
}
for(var i=0;i<timeRange.length;i++){
var rangeEnd=timeRange.end(i);
if(rangeEnd<=streamInfo.endPTS&&rangeEnd>streamInfo.startPTS){
frag.appendedPTS=Math.max(rangeEnd,frag.appendedPTS||0);
}else{
frag.appendedPTS=streamInfo.endPTS;
}
}
}
});
};
_proto.onFragBuffered=function onFragBuffered(event,data){
this.detectPartialFragments(data);
};
_proto.hasFragment=function hasFragment(fragment){
var fragKey=getFragmentKey(fragment);
return!!this.fragments[fragKey];
};
_proto.removeFragmentsInRange=function removeFragmentsInRange(start,end,playlistType){
var _this4=this;
Object.keys(this.fragments).forEach(function(key){
var fragmentEntity=_this4.fragments[key];
if(!fragmentEntity){
return;
}
if(fragmentEntity.buffered){
var frag=fragmentEntity.body;
if(frag.type===playlistType&&frag.start<end&&frag.end>start){
_this4.removeFragment(frag);
}
}
});
};
_proto.removeFragment=function removeFragment(fragment){
var fragKey=getFragmentKey(fragment);
fragment.stats.loaded=0;
fragment.clearElementaryStreamInfo();
fragment.appendedPTS=undefined;
delete this.fragments[fragKey];
if(fragment.endList){
delete this.endListFragments[fragment.type];
}
};
_proto.removeAllFragments=function removeAllFragments(){
this.fragments=Object.create(null);
this.endListFragments=Object.create(null);
this.activeFragment=null;
this.activeParts=null;
};
return FragmentTracker;
}();
function isPartial(fragmentEntity){
var _fragmentEntity$range,_fragmentEntity$range2;
return fragmentEntity.buffered&&(((_fragmentEntity$range=fragmentEntity.range.video)===null||_fragmentEntity$range===void 0?void 0:_fragmentEntity$range.partial)||((_fragmentEntity$range2=fragmentEntity.range.audio)===null||_fragmentEntity$range2===void 0?void 0:_fragmentEntity$range2.partial));
}
function getFragmentKey(fragment){
return fragment.type+"_"+fragment.level+"_"+fragment.urlId+"_"+fragment.sn;
}

/***/},

/***/"./src/controller/gap-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.ts ***!
  \******************************************/
/***/function srcControllerGapControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"MAX_START_GAP_JUMP":function MAX_START_GAP_JUMP(){return(/* binding */_MAX_START_GAP_JUMP);},
/* harmony export */"SKIP_BUFFER_HOLE_STEP_SECONDS":function SKIP_BUFFER_HOLE_STEP_SECONDS(){return(/* binding */_SKIP_BUFFER_HOLE_STEP_SECONDS);},
/* harmony export */"SKIP_BUFFER_RANGE_START":function SKIP_BUFFER_RANGE_START(){return(/* binding */_SKIP_BUFFER_RANGE_START);},
/* harmony export */"STALL_MINIMUM_DURATION_MS":function STALL_MINIMUM_DURATION_MS(){return(/* binding */_STALL_MINIMUM_DURATION_MS);},
/* harmony export */"default":function _default(){return(/* binding */GapController);}
/* harmony export */});
/* harmony import */var _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");




var _STALL_MINIMUM_DURATION_MS=250;
var _MAX_START_GAP_JUMP=2.0;
var _SKIP_BUFFER_HOLE_STEP_SECONDS=0.1;
var _SKIP_BUFFER_RANGE_START=0.05;
var GapController=/*#__PURE__*/function(){
function GapController(config,media,fragmentTracker,hls){
this.config=void 0;
this.media=null;
this.fragmentTracker=void 0;
this.hls=void 0;
this.nudgeRetry=0;
this.stallReported=false;
this.stalled=null;
this.moved=false;
this.seeking=false;
this.config=config;
this.media=media;
this.fragmentTracker=fragmentTracker;
this.hls=hls;
}
var _proto=GapController.prototype;
_proto.destroy=function destroy(){
this.media=null;
// @ts-ignore
this.hls=this.fragmentTracker=null;
}

/**
   * Checks if the playhead is stuck within a gap, and if so, attempts to free it.
   * A gap is an unbuffered range between two buffered ranges (or the start and the first buffered range).
   *
   * @param {number} lastCurrentTime Previously read playhead position
   */;
_proto.poll=function poll(lastCurrentTime,activeFrag){
var config=this.config,
media=this.media,
stalled=this.stalled;
if(media===null){
return;
}
var currentTime=media.currentTime,
seeking=media.seeking;
var seeked=this.seeking&&!seeking;
var beginSeek=!this.seeking&&seeking;
this.seeking=seeking;

// The playhead is moving, no-op
if(currentTime!==lastCurrentTime){
this.moved=true;
if(stalled!==null){
// The playhead is now moving, but was previously stalled
if(this.stallReported){
var _stalledDuration=self.performance.now()-stalled;
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("playback not stuck anymore @"+currentTime+", after "+Math.round(_stalledDuration)+"ms");
this.stallReported=false;
}
this.stalled=null;
this.nudgeRetry=0;
}
return;
}

// Clear stalled state when beginning or finishing seeking so that we don't report stalls coming out of a seek
if(beginSeek||seeked){
this.stalled=null;
}

// The playhead should not be moving
if(media.paused&&!seeking||media.ended||media.playbackRate===0||!_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_0__.BufferHelper.getBuffered(media).length){
return;
}
var bufferInfo=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_0__.BufferHelper.bufferInfo(media,currentTime,0);
var isBuffered=bufferInfo.len>0;
var nextStart=bufferInfo.nextStart||0;

// There is no playable buffer (seeked, waiting for buffer)
if(!isBuffered&&!nextStart){
return;
}
if(seeking){
// Waiting for seeking in a buffered range to complete
var hasEnoughBuffer=bufferInfo.len>_MAX_START_GAP_JUMP;
// Next buffered range is too far ahead to jump to while still seeking
var noBufferGap=!nextStart||activeFrag&&activeFrag.start<=currentTime||nextStart-currentTime>_MAX_START_GAP_JUMP&&!this.fragmentTracker.getPartialFragment(currentTime);
if(hasEnoughBuffer||noBufferGap){
return;
}
// Reset moved state when seeking to a point in or before a gap
this.moved=false;
}

// Skip start gaps if we haven't played, but the last poll detected the start of a stall
// The addition poll gives the browser a chance to jump the gap for us
if(!this.moved&&this.stalled!==null){
var _level$details;
// Jump start gaps within jump threshold
var startJump=Math.max(nextStart,bufferInfo.start||0)-currentTime;

// When joining a live stream with audio tracks, account for live playlist window sliding by allowing
// a larger jump over start gaps caused by the audio-stream-controller buffering a start fragment
// that begins over 1 target duration after the video start position.
var level=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null;
var isLive=level===null||level===void 0?void 0:(_level$details=level.details)===null||_level$details===void 0?void 0:_level$details.live;
var maxStartGapJump=isLive?level.details.targetduration*2:_MAX_START_GAP_JUMP;
if(startJump>0&&startJump<=maxStartGapJump){
this._trySkipBufferHole(null);
return;
}
}

// Start tracking stall time
var tnow=self.performance.now();
if(stalled===null){
this.stalled=tnow;
return;
}
var stalledDuration=tnow-stalled;
if(!seeking&&stalledDuration>=_STALL_MINIMUM_DURATION_MS){
// Report stalling after trying to fix
this._reportStall(bufferInfo);
if(!this.media){
return;
}
}
var bufferedWithHoles=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_0__.BufferHelper.bufferInfo(media,currentTime,config.maxBufferHole);
this._tryFixBufferStall(bufferedWithHoles,stalledDuration);
}

/**
   * Detects and attempts to fix known buffer stalling issues.
   * @param bufferInfo - The properties of the current buffer.
   * @param stalledDurationMs - The amount of time Hls.js has been stalling for.
   * @private
   */;
_proto._tryFixBufferStall=function _tryFixBufferStall(bufferInfo,stalledDurationMs){
var config=this.config,
fragmentTracker=this.fragmentTracker,
media=this.media;
if(media===null){
return;
}
var currentTime=media.currentTime;
var partial=fragmentTracker.getPartialFragment(currentTime);
if(partial){
// Try to skip over the buffer hole caused by a partial fragment
// This method isn't limited by the size of the gap between buffered ranges
var targetTime=this._trySkipBufferHole(partial);
// we return here in this case, meaning
// the branch below only executes when we don't handle a partial fragment
if(targetTime||!this.media){
return;
}
}

// if we haven't had to skip over a buffer hole of a partial fragment
// we may just have to "nudge" the playlist as the browser decoding/rendering engine
// needs to cross some sort of threshold covering all source-buffers content
// to start playing properly.
if(bufferInfo.len>config.maxBufferHole&&stalledDurationMs>config.highBufferWatchdogPeriod*1000){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn('Trying to nudge playhead over buffer-hole');
// Try to nudge currentTime over a buffer hole if we've been stalling for the configured amount of seconds
// We only try to jump the hole if it's under the configured size
// Reset stalled so to rearm watchdog timer
this.stalled=null;
this._tryNudgeBuffer();
}
}

/**
   * Triggers a BUFFER_STALLED_ERROR event, but only once per stall period.
   * @param bufferLen - The playhead distance from the end of the current buffer segment.
   * @private
   */;
_proto._reportStall=function _reportStall(bufferInfo){
var hls=this.hls,
media=this.media,
stallReported=this.stallReported;
if(!stallReported&&media){
// Report stalled error once
this.stallReported=true;
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("Playback stalling at @"+media.currentTime+" due to low buffer ("+JSON.stringify(bufferInfo)+")");
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.BUFFER_STALLED_ERROR,
fatal:false,
buffer:bufferInfo.len});

}
}

/**
   * Attempts to fix buffer stalls by jumping over known gaps caused by partial fragments
   * @param partial - The partial fragment found at the current time (where playback is stalling).
   * @private
   */;
_proto._trySkipBufferHole=function _trySkipBufferHole(partial){
var config=this.config,
hls=this.hls,
media=this.media;
if(media===null){
return 0;
}
var currentTime=media.currentTime;
var lastEndTime=0;
// Check if currentTime is between unbuffered regions of partial fragments
var buffered=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_0__.BufferHelper.getBuffered(media);
for(var i=0;i<buffered.length;i++){
var startTime=buffered.start(i);
if(currentTime+config.maxBufferHole>=lastEndTime&&currentTime<startTime){
var targetTime=Math.max(startTime+_SKIP_BUFFER_RANGE_START,media.currentTime+_SKIP_BUFFER_HOLE_STEP_SECONDS);
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("skipping hole, adjusting currentTime from "+currentTime+" to "+targetTime);
this.moved=true;
this.stalled=null;
media.currentTime=targetTime;
if(partial){
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.BUFFER_SEEK_OVER_HOLE,
fatal:false,
reason:"fragment loaded with buffer holes, seeking from "+currentTime+" to "+targetTime,
frag:partial});

}
return targetTime;
}
lastEndTime=buffered.end(i);
}
return 0;
}

/**
   * Attempts to fix buffer stalls by advancing the mediaElement's current time by a small amount.
   * @private
   */;
_proto._tryNudgeBuffer=function _tryNudgeBuffer(){
var config=this.config,
hls=this.hls,
media=this.media,
nudgeRetry=this.nudgeRetry;
if(media===null){
return;
}
var currentTime=media.currentTime;
this.nudgeRetry++;
if(nudgeRetry<config.nudgeMaxRetry){
var targetTime=currentTime+(nudgeRetry+1)*config.nudgeOffset;
// playback stalled in buffered area ... let's nudge currentTime to try to overcome this
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("Nudging 'currentTime' from "+currentTime+" to "+targetTime);
media.currentTime=targetTime;
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.BUFFER_NUDGE_ON_STALL,
fatal:false});

}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.error("Playhead still not moving while enough data buffered @"+currentTime+" after "+config.nudgeMaxRetry+" nudges");
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.BUFFER_STALLED_ERROR,
fatal:true});

}
};
return GapController;
}();


/***/},

/***/"./src/controller/id3-track-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.ts ***!
  \************************************************/
/***/function srcControllerId3TrackControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts");
/* harmony import */var _demux_id3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../demux/id3 */"./src/demux/id3.ts");
/* harmony import */var _loader_date_range__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../loader/date-range */"./src/loader/date-range.ts");
/* harmony import */var _types_demuxer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../types/demuxer */"./src/types/demuxer.ts");






var MIN_CUE_DURATION=0.25;
function getCueClass(){
// Attempt to recreate Safari functionality by creating
// WebKitDataCue objects when available and store the decoded
// ID3 data in the value property of the cue
return self.WebKitDataCue||self.VTTCue||self.TextTrackCue;
}

// VTTCue latest draft allows an infinite duration, fallback
// to MAX_VALUE if necessary
var MAX_CUE_ENDTIME=function(){
var Cue=getCueClass();
try{
new Cue(0,Number.POSITIVE_INFINITY,'');
}catch(e){
return Number.MAX_VALUE;
}
return Number.POSITIVE_INFINITY;
}();
function dateRangeDateToTimelineSeconds(date,offset){
return date.getTime()/1000-offset;
}
function hexToArrayBuffer(str){
return Uint8Array.from(str.replace(/^0x/,'').replace(/([\da-fA-F]{2}) ?/g,'0x$1 ').replace(/ +$/,'').split(' ')).buffer;
}
var ID3TrackController=/*#__PURE__*/function(){
function ID3TrackController(hls){
this.hls=void 0;
this.id3Track=null;
this.media=null;
this.dateRangeCuesAppended={};
this.hls=hls;
this._registerListeners();
}
var _proto=ID3TrackController.prototype;
_proto.destroy=function destroy(){
this._unregisterListeners();
this.id3Track=null;
this.media=null;
this.dateRangeCuesAppended={};
// @ts-ignore
this.hls=null;
};
_proto._registerListeners=function _registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_UPDATED,this.onLevelUpdated,this);
};
_proto._unregisterListeners=function _unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_UPDATED,this.onLevelUpdated,this);
}

// Add ID3 metatadata text track.
;
_proto.onMediaAttached=function onMediaAttached(event,data){
this.media=data.media;
};
_proto.onMediaDetaching=function onMediaDetaching(){
if(!this.id3Track){
return;
}
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_2__.clearCurrentCues)(this.id3Track);
this.id3Track=null;
this.media=null;
this.dateRangeCuesAppended={};
};
_proto.onManifestLoading=function onManifestLoading(){
this.dateRangeCuesAppended={};
};
_proto.createTrack=function createTrack(media){
var track=this.getID3Track(media.textTracks);
track.mode='hidden';
return track;
};
_proto.getID3Track=function getID3Track(textTracks){
if(!this.media){
return;
}
for(var i=0;i<textTracks.length;i++){
var textTrack=textTracks[i];
if(textTrack.kind==='metadata'&&textTrack.label==='id3'){
// send 'addtrack' when reusing the textTrack for metadata,
// same as what we do for captions
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_2__.sendAddTrackEvent)(textTrack,this.media);
return textTrack;
}
}
return this.media.addTextTrack('metadata','id3');
};
_proto.onFragParsingMetadata=function onFragParsingMetadata(event,data){
if(!this.media){
return;
}
var _this$hls$config=this.hls.config,
enableEmsgMetadataCues=_this$hls$config.enableEmsgMetadataCues,
enableID3MetadataCues=_this$hls$config.enableID3MetadataCues;
if(!enableEmsgMetadataCues&&!enableID3MetadataCues){
return;
}
var samples=data.samples;

// create track dynamically
if(!this.id3Track){
this.id3Track=this.createTrack(this.media);
}
var Cue=getCueClass();
for(var i=0;i<samples.length;i++){
var type=samples[i].type;
if(type===_types_demuxer__WEBPACK_IMPORTED_MODULE_5__.MetadataSchema.emsg&&!enableEmsgMetadataCues||!enableID3MetadataCues){
continue;
}
var frames=_demux_id3__WEBPACK_IMPORTED_MODULE_3__.getID3Frames(samples[i].data);
if(frames){
var startTime=samples[i].pts;
var endTime=startTime+samples[i].duration;
if(endTime>MAX_CUE_ENDTIME){
endTime=MAX_CUE_ENDTIME;
}
var timeDiff=endTime-startTime;
if(timeDiff<=0){
endTime=startTime+MIN_CUE_DURATION;
}
for(var j=0;j<frames.length;j++){
var frame=frames[j];
// Safari doesn't put the timestamp frame in the TextTrack
if(!_demux_id3__WEBPACK_IMPORTED_MODULE_3__.isTimeStampFrame(frame)){
// add a bounds to any unbounded cues
this.updateId3CueEnds(startTime);
var cue=new Cue(startTime,endTime,'');
cue.value=frame;
if(type){
cue.type=type;
}
this.id3Track.addCue(cue);
}
}
}
}
};
_proto.updateId3CueEnds=function updateId3CueEnds(startTime){
var _this$id3Track;
var cues=(_this$id3Track=this.id3Track)===null||_this$id3Track===void 0?void 0:_this$id3Track.cues;
if(cues){
for(var i=cues.length;i--;){
var cue=cues[i];
if(cue.startTime<startTime&&cue.endTime===MAX_CUE_ENDTIME){
cue.endTime=startTime;
}
}
}
};
_proto.onBufferFlushing=function onBufferFlushing(event,_ref){
var startOffset=_ref.startOffset,
endOffset=_ref.endOffset,
type=_ref.type;
var id3Track=this.id3Track,
hls=this.hls;
if(!hls){
return;
}
var _hls$config=hls.config,
enableEmsgMetadataCues=_hls$config.enableEmsgMetadataCues,
enableID3MetadataCues=_hls$config.enableID3MetadataCues;
if(id3Track&&(enableEmsgMetadataCues||enableID3MetadataCues)){
var predicate;
if(type==='audio'){
predicate=function predicate(cue){
return cue.type===_types_demuxer__WEBPACK_IMPORTED_MODULE_5__.MetadataSchema.audioId3&&enableID3MetadataCues;
};
}else if(type==='video'){
predicate=function predicate(cue){
return cue.type===_types_demuxer__WEBPACK_IMPORTED_MODULE_5__.MetadataSchema.emsg&&enableEmsgMetadataCues;
};
}else{
predicate=function predicate(cue){
return cue.type===_types_demuxer__WEBPACK_IMPORTED_MODULE_5__.MetadataSchema.audioId3&&enableID3MetadataCues||cue.type===_types_demuxer__WEBPACK_IMPORTED_MODULE_5__.MetadataSchema.emsg&&enableEmsgMetadataCues;
};
}
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_2__.removeCuesInRange)(id3Track,startOffset,endOffset,predicate);
}
};
_proto.onLevelUpdated=function onLevelUpdated(event,_ref2){
var _this=this;
var details=_ref2.details;
if(!this.media||!details.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues){
return;
}
var dateRangeCuesAppended=this.dateRangeCuesAppended,
id3Track=this.id3Track;
var dateRanges=details.dateRanges;
var ids=Object.keys(dateRanges);
// Remove cues from track not found in details.dateRanges
if(id3Track){
var idsToRemove=Object.keys(dateRangeCuesAppended).filter(function(id){
return!ids.includes(id);
});
var _loop=function _loop(i){
var id=idsToRemove[i];
Object.keys(dateRangeCuesAppended[id].cues).forEach(function(key){
id3Track.removeCue(dateRangeCuesAppended[id].cues[key]);
});
delete dateRangeCuesAppended[id];
};
for(var i=idsToRemove.length;i--;){
_loop(i);
}
}
// Exit if the playlist does not have Date Ranges or does not have Program Date Time
var lastFragment=details.fragments[details.fragments.length-1];
if(ids.length===0||!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(lastFragment===null||lastFragment===void 0?void 0:lastFragment.programDateTime)){
return;
}
if(!this.id3Track){
this.id3Track=this.createTrack(this.media);
}
var dateTimeOffset=lastFragment.programDateTime/1000-lastFragment.start;
var Cue=getCueClass();
var _loop2=function _loop2(_i){
var id=ids[_i];
var dateRange=dateRanges[id];
var appendedDateRangeCues=dateRangeCuesAppended[id];
var cues=(appendedDateRangeCues===null||appendedDateRangeCues===void 0?void 0:appendedDateRangeCues.cues)||{};
var durationKnown=(appendedDateRangeCues===null||appendedDateRangeCues===void 0?void 0:appendedDateRangeCues.durationKnown)||false;
var startTime=dateRangeDateToTimelineSeconds(dateRange.startDate,dateTimeOffset);
var endTime=MAX_CUE_ENDTIME;
var endDate=dateRange.endDate;
if(endDate){
endTime=dateRangeDateToTimelineSeconds(endDate,dateTimeOffset);
durationKnown=true;
}else if(dateRange.endOnNext&&!durationKnown){
var nextDateRangeWithSameClass=ids.reduce(function(filterMapArray,id){
var candidate=dateRanges[id];
if(candidate.class===dateRange.class&&candidate.id!==id&&candidate.startDate>dateRange.startDate){
filterMapArray.push(candidate);
}
return filterMapArray;
},[]).sort(function(a,b){
return a.startDate.getTime()-b.startDate.getTime();
})[0];
if(nextDateRangeWithSameClass){
endTime=dateRangeDateToTimelineSeconds(nextDateRangeWithSameClass.startDate,dateTimeOffset);
durationKnown=true;
}
}
var attributes=Object.keys(dateRange.attr);
for(var j=0;j<attributes.length;j++){
var key=attributes[j];
if(key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.ID||key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.CLASS||key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.START_DATE||key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.DURATION||key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.END_DATE||key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.END_ON_NEXT){
continue;
}
var cue=cues[key];
if(cue){
if(durationKnown&&!appendedDateRangeCues.durationKnown){
cue.endTime=endTime;
}
}else{
var data=dateRange.attr[key];
cue=new Cue(startTime,endTime,'');
if(key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.SCTE35_OUT||key===_loader_date_range__WEBPACK_IMPORTED_MODULE_4__.DateRangeAttribute.SCTE35_IN){
data=hexToArrayBuffer(data);
}
cue.value={
key:key,
data:data};

cue.type=_types_demuxer__WEBPACK_IMPORTED_MODULE_5__.MetadataSchema.dateRange;
_this.id3Track.addCue(cue);
cues[key]=cue;
}
}
dateRangeCuesAppended[id]={
cues:cues,
dateRange:dateRange,
durationKnown:durationKnown};

};
for(var _i=0;_i<ids.length;_i++){
_loop2(_i);
}
};
return ID3TrackController;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=ID3TrackController;

/***/},

/***/"./src/controller/latency-controller.ts":
/*!**********************************************!*\
  !*** ./src/controller/latency-controller.ts ***!
  \**********************************************/
/***/function srcControllerLatencyControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */LatencyController);}
/* harmony export */});
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}



var LatencyController=/*#__PURE__*/function(){
function LatencyController(hls){
var _this=this;
this.hls=void 0;
this.config=void 0;
this.media=null;
this.levelDetails=null;
this.currentTime=0;
this.stallCount=0;
this._latency=null;
this.timeupdateHandler=function(){
return _this.timeupdate();
};
this.hls=hls;
this.config=hls.config;
this.registerListeners();
}
var _proto=LatencyController.prototype;
_proto.destroy=function destroy(){
this.unregisterListeners();
this.onMediaDetaching();
this.levelDetails=null;
// @ts-ignore
this.hls=this.timeupdateHandler=null;
};
_proto.registerListeners=function registerListeners(){
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_UPDATED,this.onLevelUpdated,this);
this.hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,this.onError,this);
};
_proto.unregisterListeners=function unregisterListeners(){
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHED,this.onMediaAttached);
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching);
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading);
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_UPDATED,this.onLevelUpdated);
this.hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,this.onError);
};
_proto.onMediaAttached=function onMediaAttached(event,data){
this.media=data.media;
this.media.addEventListener('timeupdate',this.timeupdateHandler);
};
_proto.onMediaDetaching=function onMediaDetaching(){
if(this.media){
this.media.removeEventListener('timeupdate',this.timeupdateHandler);
this.media=null;
}
};
_proto.onManifestLoading=function onManifestLoading(){
this.levelDetails=null;
this._latency=null;
this.stallCount=0;
};
_proto.onLevelUpdated=function onLevelUpdated(event,_ref){
var details=_ref.details;
this.levelDetails=details;
if(details.advanced){
this.timeupdate();
}
if(!details.live&&this.media){
this.media.removeEventListener('timeupdate',this.timeupdateHandler);
}
};
_proto.onError=function onError(event,data){
if(data.details!==_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.BUFFER_STALLED_ERROR){
return;
}
this.stallCount++;
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn('[playback-rate-controller]: Stall detected, adjusting target latency');
};
_proto.timeupdate=function timeupdate(){
var media=this.media,
levelDetails=this.levelDetails;
if(!media||!levelDetails){
return;
}
this.currentTime=media.currentTime;
var latency=this.computeLatency();
if(latency===null){
return;
}
this._latency=latency;

// Adapt playbackRate to meet target latency in low-latency mode
var _this$config=this.config,
lowLatencyMode=_this$config.lowLatencyMode,
maxLiveSyncPlaybackRate=_this$config.maxLiveSyncPlaybackRate;
if(!lowLatencyMode||maxLiveSyncPlaybackRate===1){
return;
}
var targetLatency=this.targetLatency;
if(targetLatency===null){
return;
}
var distanceFromTarget=latency-targetLatency;
// Only adjust playbackRate when within one target duration of targetLatency
// and more than one second from under-buffering.
// Playback further than one target duration from target can be considered DVR playback.
var liveMinLatencyDuration=Math.min(this.maxLatency,targetLatency+levelDetails.targetduration);
var inLiveRange=distanceFromTarget<liveMinLatencyDuration;
if(levelDetails.live&&inLiveRange&&distanceFromTarget>0.05&&this.forwardBufferLength>1){
var max=Math.min(2,Math.max(1.0,maxLiveSyncPlaybackRate));
var rate=Math.round(2/(1+Math.exp(-0.75*distanceFromTarget-this.edgeStalled))*20)/20;
media.playbackRate=Math.min(max,Math.max(1,rate));
}else if(media.playbackRate!==1&&media.playbackRate!==0){
media.playbackRate=1;
}
};
_proto.estimateLiveEdge=function estimateLiveEdge(){
var levelDetails=this.levelDetails;
if(levelDetails===null){
return null;
}
return levelDetails.edge+levelDetails.age;
};
_proto.computeLatency=function computeLatency(){
var liveEdge=this.estimateLiveEdge();
if(liveEdge===null){
return null;
}
return liveEdge-this.currentTime;
};
_createClass(LatencyController,[{
key:"latency",
get:function get(){
return this._latency||0;
}},
{
key:"maxLatency",
get:function get(){
var config=this.config,
levelDetails=this.levelDetails;
if(config.liveMaxLatencyDuration!==undefined){
return config.liveMaxLatencyDuration;
}
return levelDetails?config.liveMaxLatencyDurationCount*levelDetails.targetduration:0;
}},
{
key:"targetLatency",
get:function get(){
var levelDetails=this.levelDetails;
if(levelDetails===null){
return null;
}
var holdBack=levelDetails.holdBack,
partHoldBack=levelDetails.partHoldBack,
targetduration=levelDetails.targetduration;
var _this$config2=this.config,
liveSyncDuration=_this$config2.liveSyncDuration,
liveSyncDurationCount=_this$config2.liveSyncDurationCount,
lowLatencyMode=_this$config2.lowLatencyMode;
var userConfig=this.hls.userConfig;
var targetLatency=lowLatencyMode?partHoldBack||holdBack:holdBack;
if(userConfig.liveSyncDuration||userConfig.liveSyncDurationCount||targetLatency===0){
targetLatency=liveSyncDuration!==undefined?liveSyncDuration:liveSyncDurationCount*targetduration;
}
var maxLiveSyncOnStallIncrease=targetduration;
var liveSyncOnStallIncrease=1.0;
return targetLatency+Math.min(this.stallCount*liveSyncOnStallIncrease,maxLiveSyncOnStallIncrease);
}},
{
key:"liveSyncPosition",
get:function get(){
var liveEdge=this.estimateLiveEdge();
var targetLatency=this.targetLatency;
var levelDetails=this.levelDetails;
if(liveEdge===null||targetLatency===null||levelDetails===null){
return null;
}
var edge=levelDetails.edge;
var syncPosition=liveEdge-targetLatency-this.edgeStalled;
var min=edge-levelDetails.totalduration;
var max=edge-(this.config.lowLatencyMode&&levelDetails.partTarget||levelDetails.targetduration);
return Math.min(Math.max(min,syncPosition),max);
}},
{
key:"drift",
get:function get(){
var levelDetails=this.levelDetails;
if(levelDetails===null){
return 1;
}
return levelDetails.drift;
}},
{
key:"edgeStalled",
get:function get(){
var levelDetails=this.levelDetails;
if(levelDetails===null){
return 0;
}
var maxLevelUpdateAge=(this.config.lowLatencyMode&&levelDetails.partTarget||levelDetails.targetduration)*3;
return Math.max(levelDetails.age-maxLevelUpdateAge,0);
}},
{
key:"forwardBufferLength",
get:function get(){
var media=this.media,
levelDetails=this.levelDetails;
if(!media||!levelDetails){
return 0;
}
var bufferedRanges=media.buffered.length;
return(bufferedRanges?media.buffered.end(bufferedRanges-1):levelDetails.edge)-this.currentTime;
}}]);

return LatencyController;
}();


/***/},

/***/"./src/controller/level-controller.ts":
/*!********************************************!*\
  !*** ./src/controller/level-controller.ts ***!
  \********************************************/
/***/function srcControllerLevelControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */LevelController);}
/* harmony export */});
/* harmony import */var _types_level__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../types/level */"./src/types/level.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _utils_codecs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/codecs */"./src/utils/codecs.ts");
/* harmony import */var _level_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./level-helper */"./src/controller/level-helper.ts");
/* harmony import */var _base_playlist_controller__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
/*
 * Level Controller
 */








var chromeOrFirefox=/chrome|firefox/.test(navigator.userAgent.toLowerCase());
var LevelController=/*#__PURE__*/function(_BasePlaylistControll){
_inheritsLoose(LevelController,_BasePlaylistControll);
function LevelController(hls){
var _this;
_this=_BasePlaylistControll.call(this,hls,'[level-controller]')||this;
_this._levels=[];
_this._firstLevel=-1;
_this._startLevel=void 0;
_this.currentLevelIndex=-1;
_this.manualLevelIndex=-1;
_this.onParsedComplete=void 0;
_this._registerListeners();
return _this;
}
var _proto=LevelController.prototype;
_proto._registerListeners=function _registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADED,this.onManifestLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADED,this.onFragLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,this.onError,this);
};
_proto._unregisterListeners=function _unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADED,this.onManifestLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADED,this.onFragLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,this.onError,this);
};
_proto.destroy=function destroy(){
this._unregisterListeners();
this.manualLevelIndex=-1;
this._levels.length=0;
_BasePlaylistControll.prototype.destroy.call(this);
};
_proto.startLoad=function startLoad(){
var levels=this._levels;

// clean up live level details to force reload them, and reset load errors
levels.forEach(function(level){
level.loadError=0;
});
_BasePlaylistControll.prototype.startLoad.call(this);
};
_proto.onManifestLoaded=function onManifestLoaded(event,data){
var levels=[];
var audioTracks=[];
var subtitleTracks=[];
var bitrateStart;
var levelSet={};
var levelFromSet;
var resolutionFound=false;
var videoCodecFound=false;
var audioCodecFound=false;

// regroup redundant levels together
data.levels.forEach(function(levelParsed){
var attributes=levelParsed.attrs;
resolutionFound=resolutionFound||!!(levelParsed.width&&levelParsed.height);
videoCodecFound=videoCodecFound||!!levelParsed.videoCodec;
audioCodecFound=audioCodecFound||!!levelParsed.audioCodec;

// erase audio codec info if browser does not support mp4a.40.34.
// demuxer will autodetect codec and fallback to mpeg/audio
if(chromeOrFirefox&&levelParsed.audioCodec&&levelParsed.audioCodec.indexOf('mp4a.40.34')!==-1){
levelParsed.audioCodec=undefined;
}
var levelKey=levelParsed.bitrate+"-"+levelParsed.attrs.RESOLUTION+"-"+levelParsed.attrs.CODECS;
levelFromSet=levelSet[levelKey];
if(!levelFromSet){
levelFromSet=new _types_level__WEBPACK_IMPORTED_MODULE_0__.Level(levelParsed);
levelSet[levelKey]=levelFromSet;
levels.push(levelFromSet);
}else{
levelFromSet.url.push(levelParsed.url);
}
if(attributes){
if(attributes.AUDIO){
(0,_level_helper__WEBPACK_IMPORTED_MODULE_4__.addGroupId)(levelFromSet,'audio',attributes.AUDIO);
}
if(attributes.SUBTITLES){
(0,_level_helper__WEBPACK_IMPORTED_MODULE_4__.addGroupId)(levelFromSet,'text',attributes.SUBTITLES);
}
}
});

// remove audio-only level if we also have levels with video codecs or RESOLUTION signalled
if((resolutionFound||videoCodecFound)&&audioCodecFound){
levels=levels.filter(function(_ref){
var videoCodec=_ref.videoCodec,
width=_ref.width,
height=_ref.height;
return!!videoCodec||!!(width&&height);
});
}

// only keep levels with supported audio/video codecs
levels=levels.filter(function(_ref2){
var audioCodec=_ref2.audioCodec,
videoCodec=_ref2.videoCodec;
return(!audioCodec||(0,_utils_codecs__WEBPACK_IMPORTED_MODULE_3__.isCodecSupportedInMp4)(audioCodec,'audio'))&&(!videoCodec||(0,_utils_codecs__WEBPACK_IMPORTED_MODULE_3__.isCodecSupportedInMp4)(videoCodec,'video'));
});
if(data.audioTracks){
audioTracks=data.audioTracks.filter(function(track){
return!track.audioCodec||(0,_utils_codecs__WEBPACK_IMPORTED_MODULE_3__.isCodecSupportedInMp4)(track.audioCodec,'audio');
});
// Assign ids after filtering as array indices by group-id
(0,_level_helper__WEBPACK_IMPORTED_MODULE_4__.assignTrackIdsByGroup)(audioTracks);
}
if(data.subtitles){
subtitleTracks=data.subtitles;
(0,_level_helper__WEBPACK_IMPORTED_MODULE_4__.assignTrackIdsByGroup)(subtitleTracks);
}
if(levels.length>0){
// start bitrate is the first bitrate of the manifest
bitrateStart=levels[0].bitrate;
// sort levels from lowest to highest
levels.sort(function(a,b){
if(a.attrs['HDCP-LEVEL']!==b.attrs['HDCP-LEVEL']){
return(a.attrs['HDCP-LEVEL']||'')>(b.attrs['HDCP-LEVEL']||'')?1:-1;
}
if(a.bitrate!==b.bitrate){
return a.bitrate-b.bitrate;
}
if(a.attrs.SCORE!==b.attrs.SCORE){
return a.attrs.decimalFloatingPoint('SCORE')-b.attrs.decimalFloatingPoint('SCORE');
}
if(resolutionFound&&a.height!==b.height){
return a.height-b.height;
}
return 0;
});
this._levels=levels;
// find index of first level in sorted levels
for(var i=0;i<levels.length;i++){
if(levels[i].bitrate===bitrateStart){
this._firstLevel=i;
this.log("manifest loaded, "+levels.length+" level(s) found, first bitrate: "+bitrateStart);
break;
}
}

// Audio is only alternate if manifest include a URI along with the audio group tag,
// and this is not an audio-only stream where levels contain audio-only
var audioOnly=audioCodecFound&&!videoCodecFound;
var edata={
levels:levels,
audioTracks:audioTracks,
subtitleTracks:subtitleTracks,
sessionData:data.sessionData,
sessionKeys:data.sessionKeys,
firstLevel:this._firstLevel,
stats:data.stats,
audio:audioCodecFound,
video:videoCodecFound,
altAudio:!audioOnly&&audioTracks.some(function(t){
return!!t.url;
})};

this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_PARSED,edata);

// Initiate loading after all controllers have received MANIFEST_PARSED
if(this.hls.config.autoStartLoad||this.hls.forceStartLoad){
this.hls.startLoad(this.hls.config.startPosition);
}
}else{
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,
fatal:true,
url:data.url,
reason:'no level with compatible codecs found in manifest'});

}
};
_proto.onError=function onError(event,data){
var _data$frag,_data$level;
_BasePlaylistControll.prototype.onError.call(this,event,data);
if(data.fatal){
return;
}

// Switch to redundant level when track fails to load
var context=data.context;
var level=this._levels[this.currentLevelIndex];
if(context&&(context.type===_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistContextType.AUDIO_TRACK&&level.audioGroupIds&&context.groupId===level.audioGroupIds[level.urlId]||context.type===_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistContextType.SUBTITLE_TRACK&&level.textGroupIds&&context.groupId===level.textGroupIds[level.urlId])){
this.redundantFailover(this.currentLevelIndex);
return;
}
var levelError=false;
var levelSwitch=true;
var levelIndex;

// try to recover not fatal errors
switch(data.details){
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.FRAG_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.FRAG_LOAD_TIMEOUT:
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.KEY_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.KEY_LOAD_TIMEOUT:
if(data.frag){
// Share fragment error count accross media options (main, audio, subs)
// This allows for level based rendition switching when media option assets fail
var variantLevelIndex=data.frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN?data.frag.level:this.currentLevelIndex;
var _level=this._levels[variantLevelIndex];
// Set levelIndex when we're out of fragment retries
if(_level){
_level.fragmentError++;
if(_level.fragmentError>this.hls.config.fragLoadingMaxRetry){
levelIndex=variantLevelIndex;
}
}else{
levelIndex=variantLevelIndex;
}
}
break;
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:
{
var restrictedHdcpLevel=level.attrs['HDCP-LEVEL'];
if(restrictedHdcpLevel){
this.hls.maxHdcpLevel=_types_level__WEBPACK_IMPORTED_MODULE_0__.HdcpLevels[_types_level__WEBPACK_IMPORTED_MODULE_0__.HdcpLevels.indexOf(restrictedHdcpLevel)-1];
this.warn("Restricting playback to HDCP-LEVEL of \""+this.hls.maxHdcpLevel+"\" or lower");
}
}
// eslint-disable-next-line no-fallthrough
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.FRAG_PARSING_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.KEY_SYSTEM_NO_SESSION:
levelIndex=((_data$frag=data.frag)===null||_data$frag===void 0?void 0:_data$frag.type)===_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN?data.frag.level:this.currentLevelIndex;
// Do not retry level. Escalate to fatal if switching levels fails.
data.levelRetry=false;
break;
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.LEVEL_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.LEVEL_LOAD_TIMEOUT:
// Do not perform level switch if an error occurred using delivery directives
// Attempt to reload level without directives first
if(context){
if(context.deliveryDirectives){
levelSwitch=false;
}
levelIndex=context.level;
}
levelError=true;
break;
case _errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.REMUX_ALLOC_ERROR:
levelIndex=(_data$level=data.level)!=null?_data$level:this.currentLevelIndex;
levelError=true;
break;}

if(levelIndex!==undefined){
this.recoverLevel(data,levelIndex,levelError,levelSwitch);
}
}

/**
   * Switch to a redundant stream if any available.
   * If redundant stream is not available, emergency switch down if ABR mode is enabled.
   */;
_proto.recoverLevel=function recoverLevel(errorEvent,levelIndex,levelError,levelSwitch){
var errorDetails=errorEvent.details;
var level=this._levels[levelIndex];
level.loadError++;
if(levelError){
var retrying=this.retryLoadingOrFail(errorEvent);
if(retrying){
// boolean used to inform stream controller not to switch back to IDLE on non fatal error
errorEvent.levelRetry=true;
}else{
this.currentLevelIndex=-1;
return;
}
}
if(levelSwitch){
var redundantLevels=level.url.length;
// Try redundant fail-over until level.loadError reaches redundantLevels
if(redundantLevels>1&&level.loadError<redundantLevels){
errorEvent.levelRetry=true;
this.redundantFailover(levelIndex);
}else if(this.manualLevelIndex===-1){
// Search for next level to retry
var nextLevel=-1;
var levels=this._levels;
for(var i=levels.length;i--;){
var candidate=(i+this.currentLevelIndex)%levels.length;
if(candidate!==this.currentLevelIndex&&levels[candidate].loadError===0){
nextLevel=candidate;
break;
}
}
if(nextLevel>-1&&this.currentLevelIndex!==nextLevel){
this.warn(errorDetails+": switch to "+nextLevel);
errorEvent.levelRetry=true;
this.hls.nextAutoLevel=nextLevel;
}else if(errorEvent.levelRetry===false){
// No levels to switch to and no more retries
errorEvent.fatal=true;
}
}
}
};
_proto.redundantFailover=function redundantFailover(levelIndex){
var level=this._levels[levelIndex];
var redundantLevels=level.url.length;
if(redundantLevels>1){
// Update the url id of all levels so that we stay on the same set of variants when level switching
var newUrlId=(level.urlId+1)%redundantLevels;
this.warn("Switching to redundant URL-id "+newUrlId);
this._levels.forEach(function(level){
level.urlId=newUrlId;
});
this.level=levelIndex;
}
}

// reset errors on the successful load of a fragment
;
_proto.onFragLoaded=function onFragLoaded(event,_ref3){
var frag=_ref3.frag;
if(frag!==undefined&&frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN){
var level=this._levels[frag.level];
if(level!==undefined){
level.fragmentError=0;
level.loadError=0;
}
}
};
_proto.onLevelLoaded=function onLevelLoaded(event,data){
var _data$deliveryDirecti2;
var level=data.level,
details=data.details;
var curLevel=this._levels[level];
if(!curLevel){
var _data$deliveryDirecti;
this.warn("Invalid level index "+level);
if((_data$deliveryDirecti=data.deliveryDirectives)!==null&&_data$deliveryDirecti!==void 0&&_data$deliveryDirecti.skip){
details.deltaUpdateFailed=true;
}
return;
}

// only process level loaded events matching with expected level
if(level===this.currentLevelIndex){
// reset level load error counter on successful level loaded only if there is no issues with fragments
if(curLevel.fragmentError===0){
curLevel.loadError=0;
this.retryCount=0;
}
this.playlistLoaded(level,data,curLevel.details);
}else if((_data$deliveryDirecti2=data.deliveryDirectives)!==null&&_data$deliveryDirecti2!==void 0&&_data$deliveryDirecti2.skip){
// received a delta playlist update that cannot be merged
details.deltaUpdateFailed=true;
}
};
_proto.onAudioTrackSwitched=function onAudioTrackSwitched(event,data){
var currentLevel=this.hls.levels[this.currentLevelIndex];
if(!currentLevel){
return;
}
if(currentLevel.audioGroupIds){
var urlId=-1;
var audioGroupId=this.hls.audioTracks[data.id].groupId;
for(var i=0;i<currentLevel.audioGroupIds.length;i++){
if(currentLevel.audioGroupIds[i]===audioGroupId){
urlId=i;
break;
}
}
if(urlId!==currentLevel.urlId){
currentLevel.urlId=urlId;
this.startLoad();
}
}
};
_proto.loadPlaylist=function loadPlaylist(hlsUrlParameters){
_BasePlaylistControll.prototype.loadPlaylist.call(this);
var level=this.currentLevelIndex;
var currentLevel=this._levels[level];
if(this.canLoad&&currentLevel&&currentLevel.url.length>0){
var id=currentLevel.urlId;
var url=currentLevel.url[id];
if(hlsUrlParameters){
try{
url=hlsUrlParameters.addDirectives(url);
}catch(error){
this.warn("Could not construct new URL with HLS Delivery Directives: "+error);
}
}
this.log("Attempt loading level index "+level+((hlsUrlParameters===null||hlsUrlParameters===void 0?void 0:hlsUrlParameters.msn)!==undefined?' at sn '+hlsUrlParameters.msn+' part '+hlsUrlParameters.part:'')+" with URL-id "+id+" "+url);

// console.log('Current audio track group ID:', this.hls.audioTracks[this.hls.audioTrack].groupId);
// console.log('New video quality level audio group id:', levelObject.attrs.AUDIO, level);
this.clearTimer();
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_LOADING,{
url:url,
level:level,
id:id,
deliveryDirectives:hlsUrlParameters||null});

}
};
_proto.removeLevel=function removeLevel(levelIndex,urlId){
var filterLevelAndGroupByIdIndex=function filterLevelAndGroupByIdIndex(url,id){
return id!==urlId;
};
var levels=this._levels.filter(function(level,index){
if(index!==levelIndex){
return true;
}
if(level.url.length>1&&urlId!==undefined){
level.url=level.url.filter(filterLevelAndGroupByIdIndex);
if(level.audioGroupIds){
level.audioGroupIds=level.audioGroupIds.filter(filterLevelAndGroupByIdIndex);
}
if(level.textGroupIds){
level.textGroupIds=level.textGroupIds.filter(filterLevelAndGroupByIdIndex);
}
level.urlId=0;
return true;
}
return false;
}).map(function(level,index){
var details=level.details;
if(details!==null&&details!==void 0&&details.fragments){
details.fragments.forEach(function(fragment){
fragment.level=index;
});
}
return level;
});
this._levels=levels;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVELS_UPDATED,{
levels:levels});

};
_createClass(LevelController,[{
key:"levels",
get:function get(){
if(this._levels.length===0){
return null;
}
return this._levels;
}},
{
key:"level",
get:function get(){
return this.currentLevelIndex;
},
set:function set(newLevel){
var _levels$newLevel;
var levels=this._levels;
if(levels.length===0){
return;
}
if(this.currentLevelIndex===newLevel&&(_levels$newLevel=levels[newLevel])!==null&&_levels$newLevel!==void 0&&_levels$newLevel.details){
return;
}
// check if level idx is valid
if(newLevel<0||newLevel>=levels.length){
// invalid level id given, trigger error
var fatal=newLevel<0;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorTypes.OTHER_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.LEVEL_SWITCH_ERROR,
level:newLevel,
fatal:fatal,
reason:'invalid level idx'});

if(fatal){
return;
}
newLevel=Math.min(newLevel,levels.length-1);
}

// stopping live reloading timer if any
this.clearTimer();
var lastLevelIndex=this.currentLevelIndex;
var lastLevel=levels[lastLevelIndex];
var level=levels[newLevel];
this.log("switching to level "+newLevel+" from "+lastLevelIndex);
this.currentLevelIndex=newLevel;
var levelSwitchingData=_extends({},level,{
level:newLevel,
maxBitrate:level.maxBitrate,
uri:level.uri,
urlId:level.urlId});

// @ts-ignore
delete levelSwitchingData._urlId;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_SWITCHING,levelSwitchingData);
// check if we need to load playlist for this level
var levelDetails=level.details;
if(!levelDetails||levelDetails.live){
// level not retrieved yet, or live playlist we need to (re)load it
var hlsUrlParameters=this.switchParams(level.uri,lastLevel===null||lastLevel===void 0?void 0:lastLevel.details);
this.loadPlaylist(hlsUrlParameters);
}
}},
{
key:"manualLevel",
get:function get(){
return this.manualLevelIndex;
},
set:function set(newLevel){
this.manualLevelIndex=newLevel;
if(this._startLevel===undefined){
this._startLevel=newLevel;
}
if(newLevel!==-1){
this.level=newLevel;
}
}},
{
key:"firstLevel",
get:function get(){
return this._firstLevel;
},
set:function set(newLevel){
this._firstLevel=newLevel;
}},
{
key:"startLevel",
get:function get(){
// hls.startLevel takes precedence over config.startLevel
// if none of these values are defined, fallback on this._firstLevel (first quality level appearing in variant manifest)
if(this._startLevel===undefined){
var configStartLevel=this.hls.config.startLevel;
if(configStartLevel!==undefined){
return configStartLevel;
}else{
return this._firstLevel;
}
}else{
return this._startLevel;
}
},
set:function set(newLevel){
this._startLevel=newLevel;
}},
{
key:"nextLoadLevel",
get:function get(){
if(this.manualLevelIndex!==-1){
return this.manualLevelIndex;
}else{
return this.hls.nextAutoLevel;
}
},
set:function set(nextLevel){
this.level=nextLevel;
if(this.manualLevelIndex===-1){
this.hls.nextAutoLevel=nextLevel;
}
}}]);

return LevelController;
}(_base_playlist_controller__WEBPACK_IMPORTED_MODULE_5__["default"]);


/***/},

/***/"./src/controller/level-helper.ts":
/*!****************************************!*\
  !*** ./src/controller/level-helper.ts ***!
  \****************************************/
/***/function srcControllerLevelHelperTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"addGroupId":function addGroupId(){return(/* binding */_addGroupId);},
/* harmony export */"addSliding":function addSliding(){return(/* binding */_addSliding);},
/* harmony export */"adjustSliding":function adjustSliding(){return(/* binding */_adjustSliding);},
/* harmony export */"assignTrackIdsByGroup":function assignTrackIdsByGroup(){return(/* binding */_assignTrackIdsByGroup);},
/* harmony export */"computeReloadInterval":function computeReloadInterval(){return(/* binding */_computeReloadInterval);},
/* harmony export */"getFragmentWithSN":function getFragmentWithSN(){return(/* binding */_getFragmentWithSN);},
/* harmony export */"getPartWith":function getPartWith(){return(/* binding */_getPartWith);},
/* harmony export */"mapFragmentIntersection":function mapFragmentIntersection(){return(/* binding */_mapFragmentIntersection);},
/* harmony export */"mapPartIntersection":function mapPartIntersection(){return(/* binding */_mapPartIntersection);},
/* harmony export */"mergeDetails":function mergeDetails(){return(/* binding */_mergeDetails);},
/* harmony export */"updateFragPTSDTS":function updateFragPTSDTS(){return(/* binding */_updateFragPTSDTS);},
/* harmony export */"updatePTS":function updatePTS(){return(/* binding */_updatePTS);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _loader_date_range__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../loader/date-range */"./src/loader/date-range.ts");





function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
/**
 * @module LevelHelper
 * Providing methods dealing with playlist sliding and drift
 * */



function _addGroupId(level,type,id){
switch(type){
case'audio':
if(!level.audioGroupIds){
level.audioGroupIds=[];
}
level.audioGroupIds.push(id);
break;
case'text':
if(!level.textGroupIds){
level.textGroupIds=[];
}
level.textGroupIds.push(id);
break;}

}
function _assignTrackIdsByGroup(tracks){
var groups={};
tracks.forEach(function(track){
var groupId=track.groupId||'';
track.id=groups[groupId]=groups[groupId]||0;
groups[groupId]++;
});
}
function _updatePTS(fragments,fromIdx,toIdx){
var fragFrom=fragments[fromIdx];
var fragTo=fragments[toIdx];
updateFromToPTS(fragFrom,fragTo);
}
function updateFromToPTS(fragFrom,fragTo){
var fragToPTS=fragTo.startPTS;
// if we know startPTS[toIdx]
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(fragToPTS)){
// update fragment duration.
// it helps to fix drifts between playlist reported duration and fragment real duration
var duration=0;
var frag;
if(fragTo.sn>fragFrom.sn){
duration=fragToPTS-fragFrom.start;
frag=fragFrom;
}else{
duration=fragFrom.start-fragToPTS;
frag=fragTo;
}
// TODO? Drift can go either way, or the playlist could be completely accurate
// console.assert(duration > 0,
//   `duration of ${duration} computed for frag ${frag.sn}, level ${frag.level}, there should be some duration drift between playlist and fragment!`);
if(frag.duration!==duration){
frag.duration=duration;
}
// we dont know startPTS[toIdx]
}else if(fragTo.sn>fragFrom.sn){
var contiguous=fragFrom.cc===fragTo.cc;
// TODO: With part-loading end/durations we need to confirm the whole fragment is loaded before using (or setting) minEndPTS
if(contiguous&&fragFrom.minEndPTS){
fragTo.start=fragFrom.start+(fragFrom.minEndPTS-fragFrom.start);
}else{
fragTo.start=fragFrom.start+fragFrom.duration;
}
}else{
fragTo.start=Math.max(fragFrom.start-fragTo.duration,0);
}
}
function _updateFragPTSDTS(details,frag,startPTS,endPTS,startDTS,endDTS){
var parsedMediaDuration=endPTS-startPTS;
if(parsedMediaDuration<=0){
_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn('Fragment should have a positive duration',frag);
endPTS=startPTS+frag.duration;
endDTS=startDTS+frag.duration;
}
var maxStartPTS=startPTS;
var minEndPTS=endPTS;
var fragStartPts=frag.startPTS;
var fragEndPts=frag.endPTS;
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(fragStartPts)){
// delta PTS between audio and video
var deltaPTS=Math.abs(fragStartPts-startPTS);
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(frag.deltaPTS)){
frag.deltaPTS=deltaPTS;
}else{
frag.deltaPTS=Math.max(deltaPTS,frag.deltaPTS);
}
maxStartPTS=Math.max(startPTS,fragStartPts);
startPTS=Math.min(startPTS,fragStartPts);
startDTS=Math.min(startDTS,frag.startDTS);
minEndPTS=Math.min(endPTS,fragEndPts);
endPTS=Math.max(endPTS,fragEndPts);
endDTS=Math.max(endDTS,frag.endDTS);
}
frag.duration=endPTS-startPTS;
var drift=startPTS-frag.start;
frag.start=frag.startPTS=startPTS;
frag.maxStartPTS=maxStartPTS;
frag.startDTS=startDTS;
frag.endPTS=endPTS;
frag.minEndPTS=minEndPTS;
frag.endDTS=endDTS;
var sn=frag.sn;// 'initSegment'
// exit if sn out of range
if(!details||sn<details.startSN||sn>details.endSN){
return 0;
}
var i;
var fragIdx=sn-details.startSN;
var fragments=details.fragments;
// update frag reference in fragments array
// rationale is that fragments array might not contain this frag object.
// this will happen if playlist has been refreshed between frag loading and call to updateFragPTSDTS()
// if we don't update frag, we won't be able to propagate PTS info on the playlist
// resulting in invalid sliding computation
fragments[fragIdx]=frag;
// adjust fragment PTS/duration from seqnum-1 to frag 0
for(i=fragIdx;i>0;i--){
updateFromToPTS(fragments[i],fragments[i-1]);
}

// adjust fragment PTS/duration from seqnum to last frag
for(i=fragIdx;i<fragments.length-1;i++){
updateFromToPTS(fragments[i],fragments[i+1]);
}
if(details.fragmentHint){
updateFromToPTS(fragments[fragments.length-1],details.fragmentHint);
}
details.PTSKnown=details.alignedSliding=true;
return drift;
}
function _mergeDetails(oldDetails,newDetails){
// Track the last initSegment processed. Initialize it to the last one on the timeline.
var currentInitSegment=null;
var oldFragments=oldDetails.fragments;
for(var i=oldFragments.length-1;i>=0;i--){
var oldInit=oldFragments[i].initSegment;
if(oldInit){
currentInitSegment=oldInit;
break;
}
}
if(oldDetails.fragmentHint){
// prevent PTS and duration from being adjusted on the next hint
delete oldDetails.fragmentHint.endPTS;
}
// check if old/new playlists have fragments in common
// loop through overlapping SN and update startPTS , cc, and duration if any found
var ccOffset=0;
var PTSFrag;
_mapFragmentIntersection(oldDetails,newDetails,function(oldFrag,newFrag){
if(oldFrag.relurl){
// Do not compare CC if the old fragment has no url. This is a level.fragmentHint used by LL-HLS parts.
// It maybe be off by 1 if it was created before any parts or discontinuity tags were appended to the end
// of the playlist.
ccOffset=oldFrag.cc-newFrag.cc;
}
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(oldFrag.startPTS)&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(oldFrag.endPTS)){
newFrag.start=newFrag.startPTS=oldFrag.startPTS;
newFrag.startDTS=oldFrag.startDTS;
newFrag.appendedPTS=oldFrag.appendedPTS;
newFrag.maxStartPTS=oldFrag.maxStartPTS;
newFrag.endPTS=oldFrag.endPTS;
newFrag.endDTS=oldFrag.endDTS;
newFrag.minEndPTS=oldFrag.minEndPTS;
newFrag.duration=oldFrag.endPTS-oldFrag.startPTS;
if(newFrag.duration){
PTSFrag=newFrag;
}

// PTS is known when any segment has startPTS and endPTS
newDetails.PTSKnown=newDetails.alignedSliding=true;
}
newFrag.elementaryStreams=oldFrag.elementaryStreams;
newFrag.loader=oldFrag.loader;
newFrag.stats=oldFrag.stats;
newFrag.urlId=oldFrag.urlId;
if(oldFrag.initSegment){
newFrag.initSegment=oldFrag.initSegment;
currentInitSegment=oldFrag.initSegment;
}
});
if(currentInitSegment){
var fragmentsToCheck=newDetails.fragmentHint?newDetails.fragments.concat(newDetails.fragmentHint):newDetails.fragments;
fragmentsToCheck.forEach(function(frag){
var _currentInitSegment;
if(!frag.initSegment||frag.initSegment.relurl===((_currentInitSegment=currentInitSegment)===null||_currentInitSegment===void 0?void 0:_currentInitSegment.relurl)){
frag.initSegment=currentInitSegment;
}
});
}
if(newDetails.skippedSegments){
newDetails.deltaUpdateFailed=newDetails.fragments.some(function(frag){
return!frag;
});
if(newDetails.deltaUpdateFailed){
_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn('[level-helper] Previous playlist missing segments skipped in delta playlist');
for(var _i=newDetails.skippedSegments;_i--;){
newDetails.fragments.shift();
}
newDetails.startSN=newDetails.fragments[0].sn;
newDetails.startCC=newDetails.fragments[0].cc;
}else if(newDetails.canSkipDateRanges){
newDetails.dateRanges=mergeDateRanges(oldDetails.dateRanges,newDetails.dateRanges,newDetails.recentlyRemovedDateranges);
}
}
var newFragments=newDetails.fragments;
if(ccOffset){
_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn('discontinuity sliding from playlist, take drift into account');
for(var _i2=0;_i2<newFragments.length;_i2++){
newFragments[_i2].cc+=ccOffset;
}
}
if(newDetails.skippedSegments){
newDetails.startCC=newDetails.fragments[0].cc;
}

// Merge parts
_mapPartIntersection(oldDetails.partList,newDetails.partList,function(oldPart,newPart){
newPart.elementaryStreams=oldPart.elementaryStreams;
newPart.stats=oldPart.stats;
});

// if at least one fragment contains PTS info, recompute PTS information for all fragments
if(PTSFrag){
_updateFragPTSDTS(newDetails,PTSFrag,PTSFrag.startPTS,PTSFrag.endPTS,PTSFrag.startDTS,PTSFrag.endDTS);
}else{
// ensure that delta is within oldFragments range
// also adjust sliding in case delta is 0 (we could have old=[50-60] and new=old=[50-61])
// in that case we also need to adjust start offset of all fragments
_adjustSliding(oldDetails,newDetails);
}
if(newFragments.length){
newDetails.totalduration=newDetails.edge-newFragments[0].start;
}
newDetails.driftStartTime=oldDetails.driftStartTime;
newDetails.driftStart=oldDetails.driftStart;
var advancedDateTime=newDetails.advancedDateTime;
if(newDetails.advanced&&advancedDateTime){
var edge=newDetails.edge;
if(!newDetails.driftStart){
newDetails.driftStartTime=advancedDateTime;
newDetails.driftStart=edge;
}
newDetails.driftEndTime=advancedDateTime;
newDetails.driftEnd=edge;
}else{
newDetails.driftEndTime=oldDetails.driftEndTime;
newDetails.driftEnd=oldDetails.driftEnd;
newDetails.advancedDateTime=oldDetails.advancedDateTime;
}
}
function mergeDateRanges(oldDateRanges,deltaDateRanges,recentlyRemovedDateranges){
var dateRanges=_extends({},oldDateRanges);
if(recentlyRemovedDateranges){
recentlyRemovedDateranges.forEach(function(id){
delete dateRanges[id];
});
}
Object.keys(deltaDateRanges).forEach(function(id){
var dateRange=new _loader_date_range__WEBPACK_IMPORTED_MODULE_2__.DateRange(deltaDateRanges[id].attr,dateRanges[id]);
if(dateRange.isValid){
dateRanges[id]=dateRange;
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn("Ignoring invalid Playlist Delta Update DATERANGE tag: \""+JSON.stringify(deltaDateRanges[id].attr)+"\"");
}
});
return dateRanges;
}
function _mapPartIntersection(oldParts,newParts,intersectionFn){
if(oldParts&&newParts){
var delta=0;
for(var i=0,len=oldParts.length;i<=len;i++){
var _oldPart=oldParts[i];
var _newPart=newParts[i+delta];
if(_oldPart&&_newPart&&_oldPart.index===_newPart.index&&_oldPart.fragment.sn===_newPart.fragment.sn){
intersectionFn(_oldPart,_newPart);
}else{
delta--;
}
}
}
}
function _mapFragmentIntersection(oldDetails,newDetails,intersectionFn){
var skippedSegments=newDetails.skippedSegments;
var start=Math.max(oldDetails.startSN,newDetails.startSN)-newDetails.startSN;
var end=(oldDetails.fragmentHint?1:0)+(skippedSegments?newDetails.endSN:Math.min(oldDetails.endSN,newDetails.endSN))-newDetails.startSN;
var delta=newDetails.startSN-oldDetails.startSN;
var newFrags=newDetails.fragmentHint?newDetails.fragments.concat(newDetails.fragmentHint):newDetails.fragments;
var oldFrags=oldDetails.fragmentHint?oldDetails.fragments.concat(oldDetails.fragmentHint):oldDetails.fragments;
for(var i=start;i<=end;i++){
var _oldFrag=oldFrags[delta+i];
var _newFrag=newFrags[i];
if(skippedSegments&&!_newFrag&&i<skippedSegments){
// Fill in skipped segments in delta playlist
_newFrag=newDetails.fragments[i]=_oldFrag;
}
if(_oldFrag&&_newFrag){
intersectionFn(_oldFrag,_newFrag);
}
}
}
function _adjustSliding(oldDetails,newDetails){
var delta=newDetails.startSN+newDetails.skippedSegments-oldDetails.startSN;
var oldFragments=oldDetails.fragments;
if(delta<0||delta>=oldFragments.length){
return;
}
_addSliding(newDetails,oldFragments[delta].start);
}
function _addSliding(details,start){
if(start){
var fragments=details.fragments;
for(var i=details.skippedSegments;i<fragments.length;i++){
fragments[i].start+=start;
}
if(details.fragmentHint){
details.fragmentHint.start+=start;
}
}
}
function _computeReloadInterval(newDetails,distanceToLiveEdgeMs){
if(distanceToLiveEdgeMs===void 0){
distanceToLiveEdgeMs=Infinity;
}
var reloadInterval=1000*newDetails.targetduration;
if(newDetails.updated){
// Use last segment duration when shorter than target duration and near live edge
var fragments=newDetails.fragments;
var liveEdgeMaxTargetDurations=4;
if(fragments.length&&reloadInterval*liveEdgeMaxTargetDurations>distanceToLiveEdgeMs){
var lastSegmentDuration=fragments[fragments.length-1].duration*1000;
if(lastSegmentDuration<reloadInterval){
reloadInterval=lastSegmentDuration;
}
}
}else{
// estimate = 'miss half average';
// follow HLS Spec, If the client reloads a Playlist file and finds that it has not
// changed then it MUST wait for a period of one-half the target
// duration before retrying.
reloadInterval/=2;
}
return Math.round(reloadInterval);
}
function _getFragmentWithSN(level,sn,fragCurrent){
if(!level||!level.details){
return null;
}
var levelDetails=level.details;
var fragment=levelDetails.fragments[sn-levelDetails.startSN];
if(fragment){
return fragment;
}
fragment=levelDetails.fragmentHint;
if(fragment&&fragment.sn===sn){
return fragment;
}
if(sn<levelDetails.startSN&&fragCurrent&&fragCurrent.sn===sn){
return fragCurrent;
}
return null;
}
function _getPartWith(level,sn,partIndex){
if(!level||!level.details){
return null;
}
var partList=level.details.partList;
if(partList){
for(var i=partList.length;i--;){
var part=partList[i];
if(part.index===partIndex&&part.fragment.sn===sn){
return part;
}
}
}
return null;
}

/***/},

/***/"./src/controller/stream-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.ts ***!
  \*********************************************/
/***/function srcControllerStreamControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */StreamController);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts");
/* harmony import */var _is_supported__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../is-supported */"./src/is-supported.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts");
/* harmony import */var _fragment_tracker__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
/* harmony import */var _loader_fragment__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../loader/fragment */"./src/loader/fragment.ts");
/* harmony import */var _demux_transmuxer_interface__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts");
/* harmony import */var _types_transmuxer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! ../types/transmuxer */"./src/types/transmuxer.ts");
/* harmony import */var _gap_controller__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(/*! ./gap-controller */"./src/controller/gap-controller.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(/*! ../errors */"./src/errors.ts");




function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}











var TICK_INTERVAL=100;// how often to tick in ms
var StreamController=/*#__PURE__*/function(_BaseStreamController){
_inheritsLoose(StreamController,_BaseStreamController);
function StreamController(hls,fragmentTracker,keyLoader){
var _this;
_this=_BaseStreamController.call(this,hls,fragmentTracker,keyLoader,'[stream-controller]')||this;
_this.audioCodecSwap=false;
_this.gapController=null;
_this.level=-1;
_this._forceStartLoad=false;
_this.altAudio=false;
_this.audioOnly=false;
_this.fragPlaying=null;
_this.onvplaying=null;
_this.onvseeked=null;
_this.fragLastKbps=0;
_this.couldBacktrack=false;
_this.backtrackFragment=null;
_this.audioCodecSwitch=false;
_this.videoBuffer=null;
_this._registerListeners();
return _this;
}
var _proto=StreamController.prototype;
_proto._registerListeners=function _registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.LEVEL_LOADING,this.onLevelLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.ERROR,this.onError,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_CREATED,this.onBufferCreated,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_FLUSHED,this.onBufferFlushed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.LEVELS_UPDATED,this.onLevelsUpdated,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
};
_proto._unregisterListeners=function _unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.ERROR,this.onError,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_CREATED,this.onBufferCreated,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_FLUSHED,this.onBufferFlushed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.LEVELS_UPDATED,this.onLevelsUpdated,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
};
_proto.onHandlerDestroying=function onHandlerDestroying(){
this._unregisterListeners();
this.onMediaDetaching();
};
_proto.startLoad=function startLoad(startPosition){
if(this.levels){
var lastCurrentTime=this.lastCurrentTime,
hls=this.hls;
this.stopLoad();
this.setInterval(TICK_INTERVAL);
this.level=-1;
this.fragLoadError=0;
if(!this.startFragRequested){
// determine load level
var startLevel=hls.startLevel;
if(startLevel===-1){
if(hls.config.testBandwidth&&this.levels.length>1){
// -1 : guess start Level by doing a bitrate test by loading first fragment of lowest quality level
startLevel=0;
this.bitrateTest=true;
}else{
startLevel=hls.nextAutoLevel;
}
}
// set new level to playlist loader : this will trigger start level load
// hls.nextLoadLevel remains until it is set to a new value or until a new frag is successfully loaded
this.level=hls.nextLoadLevel=startLevel;
this.loadedmetadata=false;
}
// if startPosition undefined but lastCurrentTime set, set startPosition to last currentTime
if(lastCurrentTime>0&&startPosition===-1){
this.log("Override startPosition with lastCurrentTime @"+lastCurrentTime.toFixed(3));
startPosition=lastCurrentTime;
}
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
this.nextLoadPosition=this.startPosition=this.lastCurrentTime=startPosition;
this.tick();
}else{
this._forceStartLoad=true;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.STOPPED;
}
};
_proto.stopLoad=function stopLoad(){
this._forceStartLoad=false;
_BaseStreamController.prototype.stopLoad.call(this);
};
_proto.doTick=function doTick(){
switch(this.state){
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE:
this.doTickIdle();
break;
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_LEVEL:
{
var _levels$level;
var levels=this.levels,
level=this.level;
var details=levels===null||levels===void 0?void 0:(_levels$level=levels[level])===null||_levels$level===void 0?void 0:_levels$level.details;
if(details&&(!details.live||this.levelLastLoaded===this.level)){
if(this.waitForCdnTuneIn(details)){
break;
}
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
break;
}
break;
}
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.FRAG_LOADING_WAITING_RETRY:
{
var _this$media;
var now=self.performance.now();
var retryDate=this.retryDate;
// if current time is gt than retryDate, or if media seeking let's switch to IDLE state to retry loading
if(!retryDate||now>=retryDate||(_this$media=this.media)!==null&&_this$media!==void 0&&_this$media.seeking){
this.log('retryDate reached, switch back to IDLE state');
this.resetStartWhenNotLoaded(this.level);
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
}
break;
default:
break;}

// check buffer
// check/update current fragment
this.onTickEnd();
};
_proto.onTickEnd=function onTickEnd(){
_BaseStreamController.prototype.onTickEnd.call(this);
this.checkBuffer();
this.checkFragmentChanged();
};
_proto.doTickIdle=function doTickIdle(){
var hls=this.hls,
levelLastLoaded=this.levelLastLoaded,
levels=this.levels,
media=this.media;
var config=hls.config,
level=hls.nextLoadLevel;

// if start level not parsed yet OR
// if video not attached AND start fragment already requested OR start frag prefetch not enabled
// exit loop, as we either need more info (level not parsed) or we need media to be attached to load new fragment
if(levelLastLoaded===null||!media&&(this.startFragRequested||!config.startFragPrefetch)){
return;
}

// If the "main" level is audio-only but we are loading an alternate track in the same group, do not load anything
if(this.altAudio&&this.audioOnly){
return;
}
if(!levels||!levels[level]){
return;
}
var levelInfo=levels[level];

// if buffer length is less than maxBufLen try to load a new fragment

var bufferInfo=this.getMainFwdBufferInfo();
if(bufferInfo===null){
return;
}
var lastDetails=this.getLevelDetails();
if(lastDetails&&this._streamEnded(bufferInfo,lastDetails)){
var data={};
if(this.altAudio){
data.type='video';
}
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_EOS,data);
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.ENDED;
return;
}

// set next load level : this will trigger a playlist load if needed
this.level=hls.nextLoadLevel=level;
var levelDetails=levelInfo.details;
// if level info not retrieved yet, switch state and wait for level retrieval
// if live playlist, ensure that new playlist has been refreshed to avoid loading/try to load
// a useless and outdated fragment (that might even introduce load error if it is already out of the live playlist)
if(!levelDetails||this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_LEVEL||levelDetails.live&&this.levelLastLoaded!==level){
this.level=level;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_LEVEL;
return;
}
var bufferLen=bufferInfo.len;

// compute max Buffer Length that we could get from this load level, based on level bitrate. don't buffer more than 60 MB and more than 30s
var maxBufLen=this.getMaxBufferLength(levelInfo.maxBitrate);

// Stay idle if we are still with buffer margins
if(bufferLen>=maxBufLen){
return;
}
if(this.backtrackFragment&&this.backtrackFragment.start>bufferInfo.end){
this.backtrackFragment=null;
}
var targetBufferTime=this.backtrackFragment?this.backtrackFragment.start:bufferInfo.end;
var frag=this.getNextFragment(targetBufferTime,levelDetails);
// Avoid backtracking by loading an earlier segment in streams with segments that do not start with a key frame (flagged by `couldBacktrack`)
if(this.couldBacktrack&&!this.fragPrevious&&frag&&frag.sn!=='initSegment'&&this.fragmentTracker.getState(frag)!==_fragment_tracker__WEBPACK_IMPORTED_MODULE_5__.FragmentState.OK){
var _this$backtrackFragme;
var backtrackSn=((_this$backtrackFragme=this.backtrackFragment)!=null?_this$backtrackFragme:frag).sn;
var fragIdx=backtrackSn-levelDetails.startSN;
var backtrackFrag=levelDetails.fragments[fragIdx-1];
if(backtrackFrag&&frag.cc===backtrackFrag.cc){
frag=backtrackFrag;
this.fragmentTracker.removeFragment(backtrackFrag);
}
}else if(this.backtrackFragment&&bufferInfo.len){
this.backtrackFragment=null;
}
// Avoid loop loading by using nextLoadPosition set for backtracking
if(frag&&this.fragmentTracker.getState(frag)===_fragment_tracker__WEBPACK_IMPORTED_MODULE_5__.FragmentState.OK&&this.nextLoadPosition>targetBufferTime){
// Cleanup the fragment tracker before trying to find the next unbuffered fragment
var type=this.audioOnly&&!this.altAudio?_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO:_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.VIDEO;
var mediaBuffer=(type===_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;
if(mediaBuffer){
this.afterBufferFlushed(mediaBuffer,type,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN);
}
frag=this.getNextFragment(this.nextLoadPosition,levelDetails);
}
if(!frag){
return;
}
if(frag.initSegment&&!frag.initSegment.data&&!this.bitrateTest){
frag=frag.initSegment;
}
this.loadFragment(frag,levelDetails,targetBufferTime);
};
_proto.loadFragment=function loadFragment(frag,levelDetails,targetBufferTime){
var _this$media2;
// Check if fragment is not loaded
var fragState=this.fragmentTracker.getState(frag);
this.fragCurrent=frag;
if(fragState===_fragment_tracker__WEBPACK_IMPORTED_MODULE_5__.FragmentState.NOT_LOADED){
if(frag.sn==='initSegment'){
this._loadInitSegment(frag,levelDetails);
}else if(this.bitrateTest){
this.log("Fragment "+frag.sn+" of level "+frag.level+" is being downloaded to test bitrate and will not be buffered");
this._loadBitrateTestFrag(frag,levelDetails);
}else{
this.startFragRequested=true;
_BaseStreamController.prototype.loadFragment.call(this,frag,levelDetails,targetBufferTime);
}
}else if(fragState===_fragment_tracker__WEBPACK_IMPORTED_MODULE_5__.FragmentState.APPENDING){
// Lower the buffer size and try again
if(this.reduceMaxBufferLength(frag.duration)){
this.fragmentTracker.removeFragment(frag);
}
}else if(((_this$media2=this.media)===null||_this$media2===void 0?void 0:_this$media2.buffered.length)===0){
// Stop gap for bad tracker / buffer flush behavior
this.fragmentTracker.removeAllFragments();
}
};
_proto.getAppendedFrag=function getAppendedFrag(position){
var fragOrPart=this.fragmentTracker.getAppendedFrag(position,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN);
if(fragOrPart&&'fragment'in fragOrPart){
return fragOrPart.fragment;
}
return fragOrPart;
};
_proto.getBufferedFrag=function getBufferedFrag(position){
return this.fragmentTracker.getBufferedFrag(position,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN);
};
_proto.followingBufferedFrag=function followingBufferedFrag(frag){
if(frag){
// try to get range of next fragment (500ms after this range)
return this.getBufferedFrag(frag.end+0.5);
}
return null;
}

/*
    on immediate level switch :
     - pause playback if playing
     - cancel any pending load request
     - and trigger a buffer flush
  */;
_proto.immediateLevelSwitch=function immediateLevelSwitch(){
this.abortCurrentFrag();
this.flushMainBuffer(0,Number.POSITIVE_INFINITY);
}

/**
   * try to switch ASAP without breaking video playback:
   * in order to ensure smooth but quick level switching,
   * we need to find the next flushable buffer range
   * we should take into account new segment fetch time
   */;
_proto.nextLevelSwitch=function nextLevelSwitch(){
var levels=this.levels,
media=this.media;
// ensure that media is defined and that metadata are available (to retrieve currentTime)
if(media!==null&&media!==void 0&&media.readyState){
var fetchdelay;
var fragPlayingCurrent=this.getAppendedFrag(media.currentTime);
if(fragPlayingCurrent&&fragPlayingCurrent.start>1){
// flush buffer preceding current fragment (flush until current fragment start offset)
// minus 1s to avoid video freezing, that could happen if we flush keyframe of current video ...
this.flushMainBuffer(0,fragPlayingCurrent.start-1);
}
if(!media.paused&&levels){
// add a safety delay of 1s
var nextLevelId=this.hls.nextLoadLevel;
var nextLevel=levels[nextLevelId];
var fragLastKbps=this.fragLastKbps;
if(fragLastKbps&&this.fragCurrent){
fetchdelay=this.fragCurrent.duration*nextLevel.maxBitrate/(1000*fragLastKbps)+1;
}else{
fetchdelay=0;
}
}else{
fetchdelay=0;
}
// this.log('fetchdelay:'+fetchdelay);
// find buffer range that will be reached once new fragment will be fetched
var bufferedFrag=this.getBufferedFrag(media.currentTime+fetchdelay);
if(bufferedFrag){
// we can flush buffer range following this one without stalling playback
var nextBufferedFrag=this.followingBufferedFrag(bufferedFrag);
if(nextBufferedFrag){
// if we are here, we can also cancel any loading/demuxing in progress, as they are useless
this.abortCurrentFrag();
// start flush position is in next buffered frag. Leave some padding for non-independent segments and smoother playback.
var maxStart=nextBufferedFrag.maxStartPTS?nextBufferedFrag.maxStartPTS:nextBufferedFrag.start;
var fragDuration=nextBufferedFrag.duration;
var startPts=Math.max(bufferedFrag.end,maxStart+Math.min(Math.max(fragDuration-this.config.maxFragLookUpTolerance,fragDuration*0.5),fragDuration*0.75));
this.flushMainBuffer(startPts,Number.POSITIVE_INFINITY);
}
}
}
};
_proto.abortCurrentFrag=function abortCurrentFrag(){
var fragCurrent=this.fragCurrent;
this.fragCurrent=null;
this.backtrackFragment=null;
if(fragCurrent){
fragCurrent.abortRequests();
}
switch(this.state){
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.KEY_LOADING:
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.FRAG_LOADING:
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.FRAG_LOADING_WAITING_RETRY:
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSING:
case _base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSED:
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
break;}

this.nextLoadPosition=this.getLoadPosition();
};
_proto.flushMainBuffer=function flushMainBuffer(startOffset,endOffset){
_BaseStreamController.prototype.flushMainBuffer.call(this,startOffset,endOffset,this.altAudio?'video':null);
};
_proto.onMediaAttached=function onMediaAttached(event,data){
_BaseStreamController.prototype.onMediaAttached.call(this,event,data);
var media=data.media;
this.onvplaying=this.onMediaPlaying.bind(this);
this.onvseeked=this.onMediaSeeked.bind(this);
media.addEventListener('playing',this.onvplaying);
media.addEventListener('seeked',this.onvseeked);
this.gapController=new _gap_controller__WEBPACK_IMPORTED_MODULE_10__["default"](this.config,media,this.fragmentTracker,this.hls);
};
_proto.onMediaDetaching=function onMediaDetaching(){
var media=this.media;
if(media&&this.onvplaying&&this.onvseeked){
media.removeEventListener('playing',this.onvplaying);
media.removeEventListener('seeked',this.onvseeked);
this.onvplaying=this.onvseeked=null;
this.videoBuffer=null;
}
this.fragPlaying=null;
if(this.gapController){
this.gapController.destroy();
this.gapController=null;
}
_BaseStreamController.prototype.onMediaDetaching.call(this);
};
_proto.onMediaPlaying=function onMediaPlaying(){
// tick to speed up FRAG_CHANGED triggering
this.tick();
};
_proto.onMediaSeeked=function onMediaSeeked(){
var media=this.media;
var currentTime=media?media.currentTime:null;
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(currentTime)){
this.log("Media seeked to "+currentTime.toFixed(3));
}

// tick to speed up FRAG_CHANGED triggering
this.tick();
};
_proto.onManifestLoading=function onManifestLoading(){
// reset buffer on manifest loading
this.log('Trigger BUFFER_RESET');
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_RESET,undefined);
this.fragmentTracker.removeAllFragments();
this.couldBacktrack=false;
this.startPosition=this.lastCurrentTime=0;
this.fragPlaying=null;
this.backtrackFragment=null;
};
_proto.onManifestParsed=function onManifestParsed(event,data){
var aac=false;
var heaac=false;
var codec;
data.levels.forEach(function(level){
// detect if we have different kind of audio codecs used amongst playlists
codec=level.audioCodec;
if(codec){
if(codec.indexOf('mp4a.40.2')!==-1){
aac=true;
}
if(codec.indexOf('mp4a.40.5')!==-1){
heaac=true;
}
}
});
this.audioCodecSwitch=aac&&heaac&&!(0,_is_supported__WEBPACK_IMPORTED_MODULE_2__.changeTypeSupported)();
if(this.audioCodecSwitch){
this.log('Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC');
}
this.levels=data.levels;
this.startFragRequested=false;
};
_proto.onLevelLoading=function onLevelLoading(event,data){
var levels=this.levels;
if(!levels||this.state!==_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE){
return;
}
var level=levels[data.level];
if(!level.details||level.details.live&&this.levelLastLoaded!==data.level||this.waitForCdnTuneIn(level.details)){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_LEVEL;
}
};
_proto.onLevelLoaded=function onLevelLoaded(event,data){
var _curLevel$details;
var levels=this.levels;
var newLevelId=data.level;
var newDetails=data.details;
var duration=newDetails.totalduration;
if(!levels){
this.warn("Levels were reset while loading level "+newLevelId);
return;
}
this.log("Level "+newLevelId+" loaded ["+newDetails.startSN+","+newDetails.endSN+"], cc ["+newDetails.startCC+", "+newDetails.endCC+"] duration:"+duration);
var fragCurrent=this.fragCurrent;
if(fragCurrent&&(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.FRAG_LOADING||this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.FRAG_LOADING_WAITING_RETRY)){
if(fragCurrent.level!==data.level&&fragCurrent.loader){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
this.backtrackFragment=null;
fragCurrent.abortRequests();
}
}
var curLevel=levels[newLevelId];
var sliding=0;
if(newDetails.live||(_curLevel$details=curLevel.details)!==null&&_curLevel$details!==void 0&&_curLevel$details.live){
if(!newDetails.fragments[0]){
newDetails.deltaUpdateFailed=true;
}
if(newDetails.deltaUpdateFailed){
return;
}
sliding=this.alignPlaylists(newDetails,curLevel.details);
}
// override level info
curLevel.details=newDetails;
this.levelLastLoaded=newLevelId;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.LEVEL_UPDATED,{
details:newDetails,
level:newLevelId});


// only switch back to IDLE state if we were waiting for level to start downloading a new fragment
if(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_LEVEL){
if(this.waitForCdnTuneIn(newDetails)){
// Wait for Low-Latency CDN Tune-in
return;
}
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
if(!this.startFragRequested){
this.setStartPosition(newDetails,sliding);
}else if(newDetails.live){
this.synchronizeToLiveEdge(newDetails);
}

// trigger handler right now
this.tick();
};
_proto._handleFragmentLoadProgress=function _handleFragmentLoadProgress(data){
var _frag$initSegment;
var frag=data.frag,
part=data.part,
payload=data.payload;
var levels=this.levels;
if(!levels){
this.warn("Levels were reset while fragment load was in progress. Fragment "+frag.sn+" of level "+frag.level+" will not be buffered");
return;
}
var currentLevel=levels[frag.level];
var details=currentLevel.details;
if(!details){
this.warn("Dropping fragment "+frag.sn+" of level "+frag.level+" after level details were reset");
return;
}
var videoCodec=currentLevel.videoCodec;

// time Offset is accurate if level PTS is known, or if playlist is not sliding (not live)
var accurateTimeOffset=details.PTSKnown||!details.live;
var initSegmentData=(_frag$initSegment=frag.initSegment)===null||_frag$initSegment===void 0?void 0:_frag$initSegment.data;
var audioCodec=this._getAudioCodec(currentLevel);

// transmux the MPEG-TS data to ISO-BMFF segments
// this.log(`Transmuxing ${frag.sn} of [${details.startSN} ,${details.endSN}],level ${frag.level}, cc ${frag.cc}`);
var transmuxer=this.transmuxer=this.transmuxer||new _demux_transmuxer_interface__WEBPACK_IMPORTED_MODULE_8__["default"](this.hls,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this));
var partIndex=part?part.index:-1;
var partial=partIndex!==-1;
var chunkMeta=new _types_transmuxer__WEBPACK_IMPORTED_MODULE_9__.ChunkMetadata(frag.level,frag.sn,frag.stats.chunkCount,payload.byteLength,partIndex,partial);
var initPTS=this.initPTS[frag.cc];
transmuxer.push(payload,initSegmentData,audioCodec,videoCodec,frag,part,details.totalduration,accurateTimeOffset,chunkMeta,initPTS);
};
_proto.onAudioTrackSwitching=function onAudioTrackSwitching(event,data){
// if any URL found on new audio track, it is an alternate audio track
var fromAltAudio=this.altAudio;
var altAudio=!!data.url;
var trackId=data.id;
// if we switch on main audio, ensure that main fragment scheduling is synced with media.buffered
// don't do anything if we switch to alt audio: audio stream controller is handling it.
// we will just have to change buffer scheduling on audioTrackSwitched
if(!altAudio){
if(this.mediaBuffer!==this.media){
this.log('Switching on main audio, use media.buffered to schedule main fragment loading');
this.mediaBuffer=this.media;
var fragCurrent=this.fragCurrent;
// we need to refill audio buffer from main: cancel any frag loading to speed up audio switch
if(fragCurrent){
this.log('Switching to main audio track, cancel main fragment load');
fragCurrent.abortRequests();
}
// destroy transmuxer to force init segment generation (following audio switch)
this.resetTransmuxer();
// switch to IDLE state to load new fragment
this.resetLoadingState();
}else if(this.audioOnly){
// Reset audio transmuxer so when switching back to main audio we're not still appending where we left off
this.resetTransmuxer();
}
var hls=this.hls;
// If switching from alt to main audio, flush all audio and trigger track switched
if(fromAltAudio){
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_FLUSHING,{
startOffset:0,
endOffset:Number.POSITIVE_INFINITY,
type:'audio'});

}
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.AUDIO_TRACK_SWITCHED,{
id:trackId});

}
};
_proto.onAudioTrackSwitched=function onAudioTrackSwitched(event,data){
var trackId=data.id;
var altAudio=!!this.hls.audioTracks[trackId].url;
if(altAudio){
var videoBuffer=this.videoBuffer;
// if we switched on alternate audio, ensure that main fragment scheduling is synced with video sourcebuffer buffered
if(videoBuffer&&this.mediaBuffer!==videoBuffer){
this.log('Switching on alternate audio, use video.buffered to schedule main fragment loading');
this.mediaBuffer=videoBuffer;
}
}
this.altAudio=altAudio;
this.tick();
};
_proto.onBufferCreated=function onBufferCreated(event,data){
var tracks=data.tracks;
var mediaTrack;
var name;
var alternate=false;
for(var type in tracks){
var track=tracks[type];
if(track.id==='main'){
name=type;
mediaTrack=track;
// keep video source buffer reference
if(type==='video'){
var videoTrack=tracks[type];
if(videoTrack){
this.videoBuffer=videoTrack.buffer;
}
}
}else{
alternate=true;
}
}
if(alternate&&mediaTrack){
this.log("Alternate track found, use "+name+".buffered to schedule main fragment loading");
this.mediaBuffer=mediaTrack.buffer;
}else{
this.mediaBuffer=this.media;
}
};
_proto.onFragBuffered=function onFragBuffered(event,data){
var frag=data.frag,
part=data.part;
if(frag&&frag.type!==_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN){
return;
}
if(this.fragContextChanged(frag)){
// If a level switch was requested while a fragment was buffering, it will emit the FRAG_BUFFERED event upon completion
// Avoid setting state back to IDLE, since that will interfere with a level switch
this.warn("Fragment "+frag.sn+(part?' p: '+part.index:'')+" of level "+frag.level+" finished buffering, but was aborted. state: "+this.state);
if(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSED){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
return;
}
var stats=part?part.stats:frag.stats;
this.fragLastKbps=Math.round(8*stats.total/(stats.buffering.end-stats.loading.first));
if(frag.sn!=='initSegment'){
this.fragPrevious=frag;
}
this.fragBufferedComplete(frag,part);
};
_proto.onError=function onError(event,data){
if(data.type===_errors__WEBPACK_IMPORTED_MODULE_11__.ErrorTypes.KEY_SYSTEM_ERROR){
this.onFragmentOrKeyLoadError(_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN,data);
return;
}
switch(data.details){
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.FRAG_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.FRAG_LOAD_TIMEOUT:
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.FRAG_PARSING_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.KEY_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.KEY_LOAD_TIMEOUT:
this.onFragmentOrKeyLoadError(_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN,data);
break;
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.LEVEL_LOAD_ERROR:
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.LEVEL_LOAD_TIMEOUT:
if(this.state!==_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.ERROR){
if(data.fatal){
// if fatal error, stop processing
this.warn(""+data.details);
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.ERROR;
}else{
// in case of non fatal error while loading level, if level controller is not retrying to load level , switch back to IDLE
if(!data.levelRetry&&this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.WAITING_LEVEL){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
}
}
}
break;
case _errors__WEBPACK_IMPORTED_MODULE_11__.ErrorDetails.BUFFER_FULL_ERROR:
// if in appending state
if(data.parent==='main'&&(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSING||this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSED)){
var flushBuffer=true;
var bufferedInfo=this.getFwdBufferInfo(this.media,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN);
// 0.5 : tolerance needed as some browsers stalls playback before reaching buffered end
// reduce max buf len if current position is buffered
if(bufferedInfo&&bufferedInfo.len>0.5){
flushBuffer=!this.reduceMaxBufferLength(bufferedInfo.len);
}
if(flushBuffer){
// current position is not buffered, but browser is still complaining about buffer full error
// this happens on IE/Edge, refer to https://github.com/video-dev/hls.js/pull/708
// in that case flush the whole buffer to recover
this.warn('buffer full error also media.currentTime is not buffered, flush main');
// flush main buffer
this.immediateLevelSwitch();
}
this.resetLoadingState();
}
break;
default:
break;}

}

// Checks the health of the buffer and attempts to resolve playback stalls.
;
_proto.checkBuffer=function checkBuffer(){
var media=this.media,
gapController=this.gapController;
if(!media||!gapController||!media.readyState){
// Exit early if we don't have media or if the media hasn't buffered anything yet (readyState 0)
return;
}
if(this.loadedmetadata||!_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__.BufferHelper.getBuffered(media).length){
// Resolve gaps using the main buffer, whose ranges are the intersections of the A/V sourcebuffers
var activeFrag=this.state!==_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE?this.fragCurrent:null;
gapController.poll(this.lastCurrentTime,activeFrag);
}
this.lastCurrentTime=media.currentTime;
};
_proto.onFragLoadEmergencyAborted=function onFragLoadEmergencyAborted(){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
// if loadedmetadata is not set, it means that we are emergency switch down on first frag
// in that case, reset startFragRequested flag
if(!this.loadedmetadata){
this.startFragRequested=false;
this.nextLoadPosition=this.startPosition;
}
this.tickImmediate();
};
_proto.onBufferFlushed=function onBufferFlushed(event,_ref){
var type=_ref.type;
if(type!==_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){
var mediaBuffer=(type===_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;
this.afterBufferFlushed(mediaBuffer,type,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN);
}
};
_proto.onLevelsUpdated=function onLevelsUpdated(event,data){
this.levels=data.levels;
};
_proto.swapAudioCodec=function swapAudioCodec(){
this.audioCodecSwap=!this.audioCodecSwap;
}

/**
   * Seeks to the set startPosition if not equal to the mediaElement's current time.
   */;
_proto.seekToStartPos=function seekToStartPos(){
var media=this.media;
if(!media){
return;
}
var currentTime=media.currentTime;
var startPosition=this.startPosition;
// only adjust currentTime if different from startPosition or if startPosition not buffered
// at that stage, there should be only one buffered range, as we reach that code after first fragment has been buffered
if(startPosition>=0&&currentTime<startPosition){
if(media.seeking){
this.log("could not seek to "+startPosition+", already seeking at "+currentTime);
return;
}
var buffered=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__.BufferHelper.getBuffered(media);
var bufferStart=buffered.length?buffered.start(0):0;
var delta=bufferStart-startPosition;
if(delta>0&&(delta<this.config.maxBufferHole||delta<this.config.maxFragLookUpTolerance)){
this.log("adjusting start position by "+delta+" to match buffer start");
startPosition+=delta;
this.startPosition=startPosition;
}
this.log("seek to target start position "+startPosition+" from current time "+currentTime);
media.currentTime=startPosition;
}
};
_proto._getAudioCodec=function _getAudioCodec(currentLevel){
var audioCodec=this.config.defaultAudioCodec||currentLevel.audioCodec;
if(this.audioCodecSwap&&audioCodec){
this.log('Swapping audio codec');
if(audioCodec.indexOf('mp4a.40.5')!==-1){
audioCodec='mp4a.40.2';
}else{
audioCodec='mp4a.40.5';
}
}
return audioCodec;
};
_proto._loadBitrateTestFrag=function _loadBitrateTestFrag(frag,levelDetails){
var _this2=this;
frag.bitrateTest=true;
this._doFragLoad(frag,levelDetails).then(function(data){
var hls=_this2.hls;
if(!data||_this2.fragContextChanged(frag)){
return;
}
_this2.fragLoadError=0;
_this2.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
_this2.startFragRequested=false;
_this2.bitrateTest=false;
var stats=frag.stats;
// Bitrate tests fragments are neither parsed nor buffered
stats.parsing.start=stats.parsing.end=stats.buffering.start=stats.buffering.end=self.performance.now();
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_LOADED,data);
frag.bitrateTest=false;
});
};
_proto._handleTransmuxComplete=function _handleTransmuxComplete(transmuxResult){
var _id3$samples;
var id='main';
var hls=this.hls;
var remuxResult=transmuxResult.remuxResult,
chunkMeta=transmuxResult.chunkMeta;
var context=this.getCurrentContext(chunkMeta);
if(!context){
this.warn("The loading context changed while buffering fragment "+chunkMeta.sn+" of level "+chunkMeta.level+". This chunk will not be buffered.");
this.resetStartWhenNotLoaded(chunkMeta.level);
return;
}
var frag=context.frag,
part=context.part,
level=context.level;
var video=remuxResult.video,
text=remuxResult.text,
id3=remuxResult.id3,
initSegment=remuxResult.initSegment;
var details=level.details;
// The audio-stream-controller handles audio buffering if Hls.js is playing an alternate audio track
var audio=this.altAudio?undefined:remuxResult.audio;

// Check if the current fragment has been aborted. We check this by first seeing if we're still playing the current level.
// If we are, subsequently check if the currently loading fragment (fragCurrent) has changed.
if(this.fragContextChanged(frag)){
return;
}
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSING;
if(initSegment){
if(initSegment.tracks){
this._bufferInitSegment(level,initSegment.tracks,frag,chunkMeta);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_PARSING_INIT_SEGMENT,{
frag:frag,
id:id,
tracks:initSegment.tracks});

}

// This would be nice if Number.isFinite acted as a typeguard, but it doesn't. See: https://github.com/Microsoft/TypeScript/issues/10038
var initPTS=initSegment.initPTS;
var timescale=initSegment.timescale;
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(initPTS)){
this.initPTS[frag.cc]=initPTS;
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.INIT_PTS_FOUND,{
frag:frag,
id:id,
initPTS:initPTS,
timescale:timescale});

}
}

// Avoid buffering if backtracking this fragment
if(video&&remuxResult.independent!==false){
if(details){
var startPTS=video.startPTS,
endPTS=video.endPTS,
startDTS=video.startDTS,
endDTS=video.endDTS;
if(part){
part.elementaryStreams[video.type]={
startPTS:startPTS,
endPTS:endPTS,
startDTS:startDTS,
endDTS:endDTS};

}else{
if(video.firstKeyFrame&&video.independent&&chunkMeta.id===1){
this.couldBacktrack=true;
}
if(video.dropped&&video.independent){
// Backtrack if dropped frames create a gap after currentTime

var bufferInfo=this.getMainFwdBufferInfo();
var targetBufferTime=(bufferInfo?bufferInfo.end:this.getLoadPosition())+this.config.maxBufferHole;
var startTime=video.firstKeyFramePTS?video.firstKeyFramePTS:startPTS;
if(targetBufferTime<startTime-this.config.maxBufferHole){
this.backtrack(frag);
return;
}
// Set video stream start to fragment start so that truncated samples do not distort the timeline, and mark it partial
frag.setElementaryStreamInfo(video.type,frag.start,endPTS,frag.start,endDTS,true);
}
}
frag.setElementaryStreamInfo(video.type,startPTS,endPTS,startDTS,endDTS);
if(this.backtrackFragment){
this.backtrackFragment=frag;
}
this.bufferFragmentData(video,frag,part,chunkMeta);
}
}else if(remuxResult.independent===false){
this.backtrack(frag);
return;
}
if(audio){
var _startPTS=audio.startPTS,
_endPTS=audio.endPTS,
_startDTS=audio.startDTS,
_endDTS=audio.endDTS;
if(part){
part.elementaryStreams[_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO]={
startPTS:_startPTS,
endPTS:_endPTS,
startDTS:_startDTS,
endDTS:_endDTS};

}
frag.setElementaryStreamInfo(_loader_fragment__WEBPACK_IMPORTED_MODULE_7__.ElementaryStreamTypes.AUDIO,_startPTS,_endPTS,_startDTS,_endDTS);
this.bufferFragmentData(audio,frag,part,chunkMeta);
}
if(details&&id3!==null&&id3!==void 0&&(_id3$samples=id3.samples)!==null&&_id3$samples!==void 0&&_id3$samples.length){
var emittedID3={
id:id,
frag:frag,
details:details,
samples:id3.samples};

hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_PARSING_METADATA,emittedID3);
}
if(details&&text){
var emittedText={
id:id,
frag:frag,
details:details,
samples:text.samples};

hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_PARSING_USERDATA,emittedText);
}
};
_proto._bufferInitSegment=function _bufferInitSegment(currentLevel,tracks,frag,chunkMeta){
var _this3=this;
if(this.state!==_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.PARSING){
return;
}
this.audioOnly=!!tracks.audio&&!tracks.video;

// if audio track is expected to come from audio stream controller, discard any coming from main
if(this.altAudio&&!this.audioOnly){
delete tracks.audio;
}
// include levelCodec in audio and video tracks
var audio=tracks.audio,
video=tracks.video,
audiovideo=tracks.audiovideo;
if(audio){
var audioCodec=currentLevel.audioCodec;
var ua=navigator.userAgent.toLowerCase();
if(this.audioCodecSwitch){
if(audioCodec){
if(audioCodec.indexOf('mp4a.40.5')!==-1){
audioCodec='mp4a.40.2';
}else{
audioCodec='mp4a.40.5';
}
}
// In the case that AAC and HE-AAC audio codecs are signalled in manifest,
// force HE-AAC, as it seems that most browsers prefers it.
// don't force HE-AAC if mono stream, or in Firefox
if(audio.metadata.channelCount!==1&&ua.indexOf('firefox')===-1){
audioCodec='mp4a.40.5';
}
}
// HE-AAC is broken on Android, always signal audio codec as AAC even if variant manifest states otherwise
if(ua.indexOf('android')!==-1&&audio.container!=='audio/mpeg'){
// Exclude mpeg audio
audioCodec='mp4a.40.2';
this.log("Android: force audio codec to "+audioCodec);
}
if(currentLevel.audioCodec&&currentLevel.audioCodec!==audioCodec){
this.log("Swapping manifest audio codec \""+currentLevel.audioCodec+"\" for \""+audioCodec+"\"");
}
audio.levelCodec=audioCodec;
audio.id='main';
this.log("Init audio buffer, container:"+audio.container+", codecs[selected/level/parsed]=["+(audioCodec||'')+"/"+(currentLevel.audioCodec||'')+"/"+audio.codec+"]");
}
if(video){
video.levelCodec=currentLevel.videoCodec;
video.id='main';
this.log("Init video buffer, container:"+video.container+", codecs[level/parsed]=["+(currentLevel.videoCodec||'')+"/"+video.codec+"]");
}
if(audiovideo){
this.log("Init audiovideo buffer, container:"+audiovideo.container+", codecs[level/parsed]=["+(currentLevel.attrs.CODECS||'')+"/"+audiovideo.codec+"]");
}
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_CODECS,tracks);
// loop through tracks that are going to be provided to bufferController
Object.keys(tracks).forEach(function(trackName){
var track=tracks[trackName];
var initSegment=track.initSegment;
if(initSegment!==null&&initSegment!==void 0&&initSegment.byteLength){
_this3.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.BUFFER_APPENDING,{
type:trackName,
data:initSegment,
frag:frag,
part:null,
chunkMeta:chunkMeta,
parent:frag.type});

}
});
// trigger handler right now
this.tick();
};
_proto.getMainFwdBufferInfo=function getMainFwdBufferInfo(){
return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.MAIN);
};
_proto.backtrack=function backtrack(frag){
this.couldBacktrack=true;
// Causes findFragments to backtrack through fragments to find the keyframe
this.backtrackFragment=frag;
this.resetTransmuxer();
this.flushBufferGap(frag);
this.fragmentTracker.removeFragment(frag);
this.fragPrevious=null;
this.nextLoadPosition=frag.start;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__.State.IDLE;
};
_proto.checkFragmentChanged=function checkFragmentChanged(){
var video=this.media;
var fragPlayingCurrent=null;
if(video&&video.readyState>1&&video.seeking===false){
var currentTime=video.currentTime;
/* if video element is in seeked state, currentTime can only increase.
        (assuming that playback rate is positive ...)
        As sometimes currentTime jumps back to zero after a
        media decode error, check this, to avoid seeking back to
        wrong position after a media decode error
      */

if(_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__.BufferHelper.isBuffered(video,currentTime)){
fragPlayingCurrent=this.getAppendedFrag(currentTime);
}else if(_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_4__.BufferHelper.isBuffered(video,currentTime+0.1)){
/* ensure that FRAG_CHANGED event is triggered at startup,
          when first video frame is displayed and playback is paused.
          add a tolerance of 100ms, in case current position is not buffered,
          check if current pos+100ms is buffered and use that buffer range
          for FRAG_CHANGED event reporting */
fragPlayingCurrent=this.getAppendedFrag(currentTime+0.1);
}
if(fragPlayingCurrent){
this.backtrackFragment=null;
var fragPlaying=this.fragPlaying;
var fragCurrentLevel=fragPlayingCurrent.level;
if(!fragPlaying||fragPlayingCurrent.sn!==fragPlaying.sn||fragPlaying.level!==fragCurrentLevel||fragPlayingCurrent.urlId!==fragPlaying.urlId){
this.fragPlaying=fragPlayingCurrent;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.FRAG_CHANGED,{
frag:fragPlayingCurrent});

if(!fragPlaying||fragPlaying.level!==fragCurrentLevel){
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_3__.Events.LEVEL_SWITCHED,{
level:fragCurrentLevel});

}
}
}
}
};
_createClass(StreamController,[{
key:"nextLevel",
get:function get(){
var frag=this.nextBufferedFrag;
if(frag){
return frag.level;
}
return-1;
}},
{
key:"currentFrag",
get:function get(){
var media=this.media;
if(media){
return this.fragPlaying||this.getAppendedFrag(media.currentTime);
}
return null;
}},
{
key:"currentProgramDateTime",
get:function get(){
var media=this.media;
if(media){
var currentTime=media.currentTime;
var frag=this.currentFrag;
if(frag&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(currentTime)&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(frag.programDateTime)){
var epocMs=frag.programDateTime+(currentTime-frag.start)*1000;
return new Date(epocMs);
}
}
return null;
}},
{
key:"currentLevel",
get:function get(){
var frag=this.currentFrag;
if(frag){
return frag.level;
}
return-1;
}},
{
key:"nextBufferedFrag",
get:function get(){
var frag=this.currentFrag;
if(frag){
return this.followingBufferedFrag(frag);
}
return null;
}},
{
key:"forceStartLoad",
get:function get(){
return this._forceStartLoad;
}}]);

return StreamController;
}(_base_stream_controller__WEBPACK_IMPORTED_MODULE_1__["default"]);


/***/},

/***/"./src/controller/subtitle-stream-controller.ts":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.ts ***!
  \******************************************************/
/***/function srcControllerSubtitleStreamControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"SubtitleStreamController":function SubtitleStreamController(){return(/* binding */_SubtitleStreamController);}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_buffer_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts");
/* harmony import */var _fragment_finders__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./fragment-finders */"./src/controller/fragment-finders.ts");
/* harmony import */var _utils_discontinuities__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts");
/* harmony import */var _level_helper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./level-helper */"./src/controller/level-helper.ts");
/* harmony import */var _fragment_tracker__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts");
/* harmony import */var _base_stream_controller__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
/* harmony import */var _types_level__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../types/level */"./src/types/level.ts");
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}









var TICK_INTERVAL=500;// how often to tick in ms

var _SubtitleStreamController=/*#__PURE__*/function(_BaseStreamController){
_inheritsLoose(SubtitleStreamController,_BaseStreamController);
function SubtitleStreamController(hls,fragmentTracker,keyLoader){
var _this;
_this=_BaseStreamController.call(this,hls,fragmentTracker,keyLoader,'[subtitle-stream-controller]')||this;
_this.levels=[];
_this.currentTrackId=-1;
_this.tracksBuffered=[];
_this.mainDetails=null;
_this._registerListeners();
return _this;
}
var _proto=SubtitleStreamController.prototype;
_proto.onHandlerDestroying=function onHandlerDestroying(){
this._unregisterListeners();
this.mainDetails=null;
};
_proto._registerListeners=function _registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,this.onError,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
};
_proto._unregisterListeners=function _unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_LOADED,this.onLevelLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,this.onError,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FRAG_BUFFERED,this.onFragBuffered,this);
};
_proto.startLoad=function startLoad(startPosition){
this.stopLoad();
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__.State.IDLE;
this.setInterval(TICK_INTERVAL);
this.nextLoadPosition=this.startPosition=this.lastCurrentTime=startPosition;
this.tick();
};
_proto.onManifestLoading=function onManifestLoading(){
this.mainDetails=null;
this.fragmentTracker.removeAllFragments();
};
_proto.onLevelLoaded=function onLevelLoaded(event,data){
this.mainDetails=data.details;
};
_proto.onSubtitleFragProcessed=function onSubtitleFragProcessed(event,data){
var frag=data.frag,
success=data.success;
this.fragPrevious=frag;
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__.State.IDLE;
if(!success){
return;
}
var buffered=this.tracksBuffered[this.currentTrackId];
if(!buffered){
return;
}

// Create/update a buffered array matching the interface used by BufferHelper.bufferedInfo
// so we can re-use the logic used to detect how much has been buffered
var timeRange;
var fragStart=frag.start;
for(var i=0;i<buffered.length;i++){
if(fragStart>=buffered[i].start&&fragStart<=buffered[i].end){
timeRange=buffered[i];
break;
}
}
var fragEnd=frag.start+frag.duration;
if(timeRange){
timeRange.end=fragEnd;
}else{
timeRange={
start:fragStart,
end:fragEnd};

buffered.push(timeRange);
}
this.fragmentTracker.fragBuffered(frag);
};
_proto.onBufferFlushing=function onBufferFlushing(event,data){
var startOffset=data.startOffset,
endOffset=data.endOffset;
if(startOffset===0&&endOffset!==Number.POSITIVE_INFINITY){
var currentTrackId=this.currentTrackId,
levels=this.levels;
if(!levels.length||!levels[currentTrackId]||!levels[currentTrackId].details){
return;
}
var trackDetails=levels[currentTrackId].details;
var targetDuration=trackDetails.targetduration;
var endOffsetSubtitles=endOffset-targetDuration;
if(endOffsetSubtitles<=0){
return;
}
data.endOffsetSubtitles=Math.max(0,endOffsetSubtitles);
this.tracksBuffered.forEach(function(buffered){
for(var i=0;i<buffered.length;){
if(buffered[i].end<=endOffsetSubtitles){
buffered.shift();
continue;
}else if(buffered[i].start<endOffsetSubtitles){
buffered[i].start=endOffsetSubtitles;
}else{
break;
}
i++;
}
});
this.fragmentTracker.removeFragmentsInRange(startOffset,endOffsetSubtitles,_types_loader__WEBPACK_IMPORTED_MODULE_7__.PlaylistLevelType.SUBTITLE);
}
};
_proto.onFragBuffered=function onFragBuffered(event,data){
if(!this.loadedmetadata&&data.frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_7__.PlaylistLevelType.MAIN){
var _this$media;
if((_this$media=this.media)!==null&&_this$media!==void 0&&_this$media.buffered.length){
this.loadedmetadata=true;
}
}
}

// If something goes wrong, proceed to next frag, if we were processing one.
;
_proto.onError=function onError(event,data){
var frag=data.frag;
// don't handle error not related to subtitle fragment
if(!frag||frag.type!==_types_loader__WEBPACK_IMPORTED_MODULE_7__.PlaylistLevelType.SUBTITLE){
return;
}
if(this.fragCurrent){
this.fragCurrent.abortRequests();
}
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__.State.IDLE;
}

// Got all new subtitle levels.
;
_proto.onSubtitleTracksUpdated=function onSubtitleTracksUpdated(event,_ref){
var _this2=this;
var subtitleTracks=_ref.subtitleTracks;
this.tracksBuffered=[];
this.levels=subtitleTracks.map(function(mediaPlaylist){
return new _types_level__WEBPACK_IMPORTED_MODULE_8__.Level(mediaPlaylist);
});
this.fragmentTracker.removeAllFragments();
this.fragPrevious=null;
this.levels.forEach(function(level){
_this2.tracksBuffered[level.id]=[];
});
this.mediaBuffer=null;
};
_proto.onSubtitleTrackSwitch=function onSubtitleTrackSwitch(event,data){
this.currentTrackId=data.id;
if(!this.levels.length||this.currentTrackId===-1){
this.clearInterval();
return;
}

// Check if track has the necessary details to load fragments
var currentTrack=this.levels[this.currentTrackId];
if(currentTrack!==null&&currentTrack!==void 0&&currentTrack.details){
this.mediaBuffer=this.mediaBufferTimeRanges;
}else{
this.mediaBuffer=null;
}
if(currentTrack){
this.setInterval(TICK_INTERVAL);
}
}

// Got a new set of subtitle fragments.
;
_proto.onSubtitleTrackLoaded=function onSubtitleTrackLoaded(event,data){
var _track$details;
var newDetails=data.details,
trackId=data.id;
var currentTrackId=this.currentTrackId,
levels=this.levels;
if(!levels.length){
return;
}
var track=levels[currentTrackId];
if(trackId>=levels.length||trackId!==currentTrackId||!track){
return;
}
this.mediaBuffer=this.mediaBufferTimeRanges;
var sliding=0;
if(newDetails.live||(_track$details=track.details)!==null&&_track$details!==void 0&&_track$details.live){
var mainDetails=this.mainDetails;
if(newDetails.deltaUpdateFailed||!mainDetails){
return;
}
var mainSlidingStartFragment=mainDetails.fragments[0];
if(!track.details){
if(newDetails.hasProgramDateTime&&mainDetails.hasProgramDateTime){
(0,_utils_discontinuities__WEBPACK_IMPORTED_MODULE_3__.alignMediaPlaylistByPDT)(newDetails,mainDetails);
sliding=newDetails.fragments[0].start;
}else if(mainSlidingStartFragment){
// line up live playlist with main so that fragments in range are loaded
sliding=mainSlidingStartFragment.start;
(0,_level_helper__WEBPACK_IMPORTED_MODULE_4__.addSliding)(newDetails,sliding);
}
}else{
sliding=this.alignPlaylists(newDetails,track.details);
if(sliding===0&&mainSlidingStartFragment){
// realign with main when there is no overlap with last refresh
sliding=mainSlidingStartFragment.start;
(0,_level_helper__WEBPACK_IMPORTED_MODULE_4__.addSliding)(newDetails,sliding);
}
}
}
track.details=newDetails;
this.levelLastLoaded=trackId;
if(!this.startFragRequested&&(this.mainDetails||!newDetails.live)){
this.setStartPosition(track.details,sliding);
}

// trigger handler right now
this.tick();

// If playlist is misaligned because of bad PDT or drift, delete details to resync with main on reload
if(newDetails.live&&!this.fragCurrent&&this.media&&this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__.State.IDLE){
var foundFrag=(0,_fragment_finders__WEBPACK_IMPORTED_MODULE_2__.findFragmentByPTS)(null,newDetails.fragments,this.media.currentTime,0);
if(!foundFrag){
this.warn('Subtitle playlist not aligned with playback');
track.details=undefined;
}
}
};
_proto._handleFragmentLoadComplete=function _handleFragmentLoadComplete(fragLoadedData){
var _this3=this;
var frag=fragLoadedData.frag,
payload=fragLoadedData.payload;
var decryptData=frag.decryptdata;
var hls=this.hls;
if(this.fragContextChanged(frag)){
return;
}
// check to see if the payload needs to be decrypted
if(payload&&payload.byteLength>0&&decryptData&&decryptData.key&&decryptData.iv&&decryptData.method==='AES-128'){
var startTime=performance.now();
// decrypt the subtitles
this.decrypter.decrypt(new Uint8Array(payload),decryptData.key.buffer,decryptData.iv.buffer).then(function(decryptedData){
var endTime=performance.now();
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.FRAG_DECRYPTED,{
frag:frag,
payload:decryptedData,
stats:{
tstart:startTime,
tdecrypt:endTime}});


}).catch(function(err){
_this3.warn(err.name+": "+err.message);
_this3.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__.State.IDLE;
});
}
};
_proto.doTick=function doTick(){
if(!this.media){
this.state=_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__.State.IDLE;
return;
}
if(this.state===_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__.State.IDLE){
var currentTrackId=this.currentTrackId,
levels=this.levels;
if(!levels.length||!levels[currentTrackId]||!levels[currentTrackId].details){
return;
}

// Expand range of subs loaded by one target-duration in either direction to make up for misaligned playlists
var trackDetails=levels[currentTrackId].details;
var targetDuration=trackDetails.targetduration;
var config=this.config;
var currentTime=this.getLoadPosition();
var bufferedInfo=_utils_buffer_helper__WEBPACK_IMPORTED_MODULE_1__.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],currentTime-targetDuration,config.maxBufferHole);
var targetBufferTime=bufferedInfo.end,
bufferLen=bufferedInfo.len;
var mainBufferInfo=this.getFwdBufferInfo(this.media,_types_loader__WEBPACK_IMPORTED_MODULE_7__.PlaylistLevelType.MAIN);
var maxBufLen=this.getMaxBufferLength(mainBufferInfo===null||mainBufferInfo===void 0?void 0:mainBufferInfo.len)+targetDuration;
if(bufferLen>maxBufLen){
return;
}
console.assert(trackDetails,'Subtitle track details are defined on idle subtitle stream controller tick');
var fragments=trackDetails.fragments;
var fragLen=fragments.length;
var end=trackDetails.edge;
var foundFrag=null;
var fragPrevious=this.fragPrevious;
if(targetBufferTime<end){
var maxFragLookUpTolerance=config.maxFragLookUpTolerance;
foundFrag=(0,_fragment_finders__WEBPACK_IMPORTED_MODULE_2__.findFragmentByPTS)(fragPrevious,fragments,Math.max(fragments[0].start,targetBufferTime),maxFragLookUpTolerance);
if(!foundFrag&&fragPrevious&&fragPrevious.start<fragments[0].start){
foundFrag=fragments[0];
}
}else{
foundFrag=fragments[fragLen-1];
}
if(!foundFrag){
return;
}
foundFrag=this.mapToInitFragWhenRequired(foundFrag);
if(this.fragmentTracker.getState(foundFrag)===_fragment_tracker__WEBPACK_IMPORTED_MODULE_5__.FragmentState.NOT_LOADED){
// only load if fragment is not loaded
this.loadFragment(foundFrag,trackDetails,targetBufferTime);
}
}
};
_proto.getMaxBufferLength=function getMaxBufferLength(mainBufferLength){
var maxConfigBuffer=_BaseStreamController.prototype.getMaxBufferLength.call(this);
if(!mainBufferLength){
return maxConfigBuffer;
}
return Math.max(maxConfigBuffer,mainBufferLength);
};
_proto.loadFragment=function loadFragment(frag,levelDetails,targetBufferTime){
this.fragCurrent=frag;
if(frag.sn==='initSegment'){
this._loadInitSegment(frag,levelDetails);
}else{
this.startFragRequested=true;
_BaseStreamController.prototype.loadFragment.call(this,frag,levelDetails,targetBufferTime);
}
};
_createClass(SubtitleStreamController,[{
key:"mediaBufferTimeRanges",
get:function get(){
return new BufferableInstance(this.tracksBuffered[this.currentTrackId]||[]);
}}]);

return SubtitleStreamController;
}(_base_stream_controller__WEBPACK_IMPORTED_MODULE_6__["default"]);
var BufferableInstance=function BufferableInstance(timeranges){
this.buffered=void 0;
var getRange=function getRange(name,index,length){
index=index>>>0;
if(index>length-1){
throw new DOMException("Failed to execute '"+name+"' on 'TimeRanges': The index provided ("+index+") is greater than the maximum bound ("+length+")");
}
return timeranges[index][name];
};
this.buffered={
get length(){
return timeranges.length;
},
end:function end(index){
return getRange('end',index,timeranges.length);
},
start:function start(index){
return getRange('start',index,timeranges.length);
}};

};

/***/},

/***/"./src/controller/subtitle-track-controller.ts":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.ts ***!
  \*****************************************************/
/***/function srcControllerSubtitleTrackControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts");
/* harmony import */var _base_playlist_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}




var SubtitleTrackController=/*#__PURE__*/function(_BasePlaylistControll){
_inheritsLoose(SubtitleTrackController,_BasePlaylistControll);
function SubtitleTrackController(hls){
var _this;
_this=_BasePlaylistControll.call(this,hls,'[subtitle-track-controller]')||this;
_this.media=null;
_this.tracks=[];
_this.groupId=null;
_this.tracksInGroup=[];
_this.trackId=-1;
_this.selectDefaultTrack=true;
_this.queuedDefaultTrack=-1;
_this.trackChangeListener=function(){
return _this.onTextTracksChanged();
};
_this.asyncPollTrackChange=function(){
return _this.pollTrackChange(0);
};
_this.useTextTrackPolling=false;
_this.subtitlePollingInterval=-1;
_this._subtitleDisplay=true;
_this.registerListeners();
return _this;
}
var _proto=SubtitleTrackController.prototype;
_proto.destroy=function destroy(){
this.unregisterListeners();
this.tracks.length=0;
this.tracksInGroup.length=0;
this.trackChangeListener=this.asyncPollTrackChange=null;
_BasePlaylistControll.prototype.destroy.call(this);
};
_proto.registerListeners=function registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_LOADING,this.onLevelLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,this.onError,this);
};
_proto.unregisterListeners=function unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_ATTACHED,this.onMediaAttached,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.MANIFEST_PARSED,this.onManifestParsed,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_LOADING,this.onLevelLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.LEVEL_SWITCHING,this.onLevelSwitching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,this.onError,this);
}

// Listen for subtitle track change, then extract the current track ID.
;
_proto.onMediaAttached=function onMediaAttached(event,data){
this.media=data.media;
if(!this.media){
return;
}
if(this.queuedDefaultTrack>-1){
this.subtitleTrack=this.queuedDefaultTrack;
this.queuedDefaultTrack=-1;
}
this.useTextTrackPolling=!(this.media.textTracks&&'onchange'in this.media.textTracks);
if(this.useTextTrackPolling){
this.pollTrackChange(500);
}else{
this.media.textTracks.addEventListener('change',this.asyncPollTrackChange);
}
};
_proto.pollTrackChange=function pollTrackChange(timeout){
self.clearInterval(this.subtitlePollingInterval);
this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,timeout);
};
_proto.onMediaDetaching=function onMediaDetaching(){
if(!this.media){
return;
}
self.clearInterval(this.subtitlePollingInterval);
if(!this.useTextTrackPolling){
this.media.textTracks.removeEventListener('change',this.asyncPollTrackChange);
}
if(this.trackId>-1){
this.queuedDefaultTrack=this.trackId;
}
var textTracks=filterSubtitleTracks(this.media.textTracks);
// Clear loaded cues on media detachment from tracks
textTracks.forEach(function(track){
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_1__.clearCurrentCues)(track);
});
// Disable all subtitle tracks before detachment so when reattached only tracks in that content are enabled.
this.subtitleTrack=-1;
this.media=null;
};
_proto.onManifestLoading=function onManifestLoading(){
this.tracks=[];
this.groupId=null;
this.tracksInGroup=[];
this.trackId=-1;
this.selectDefaultTrack=true;
}

// Fired whenever a new manifest is loaded.
;
_proto.onManifestParsed=function onManifestParsed(event,data){
this.tracks=data.subtitleTracks;
};
_proto.onSubtitleTrackLoaded=function onSubtitleTrackLoaded(event,data){
var id=data.id,
details=data.details;
var trackId=this.trackId;
var currentTrack=this.tracksInGroup[trackId];
if(!currentTrack){
this.warn("Invalid subtitle track id "+id);
return;
}
var curDetails=currentTrack.details;
currentTrack.details=data.details;
this.log("subtitle track "+id+" loaded ["+details.startSN+"-"+details.endSN+"]");
if(id===this.trackId){
this.retryCount=0;
this.playlistLoaded(id,data,curDetails);
}
};
_proto.onLevelLoading=function onLevelLoading(event,data){
this.switchLevel(data.level);
};
_proto.onLevelSwitching=function onLevelSwitching(event,data){
this.switchLevel(data.level);
};
_proto.switchLevel=function switchLevel(levelIndex){
var levelInfo=this.hls.levels[levelIndex];
if(!(levelInfo!==null&&levelInfo!==void 0&&levelInfo.textGroupIds)){
return;
}
var textGroupId=levelInfo.textGroupIds[levelInfo.urlId];
if(this.groupId!==textGroupId){
var lastTrack=this.tracksInGroup?this.tracksInGroup[this.trackId]:undefined;
var subtitleTracks=this.tracks.filter(function(track){
return!textGroupId||track.groupId===textGroupId;
});
this.tracksInGroup=subtitleTracks;
var initialTrackId=this.findTrackId(lastTrack===null||lastTrack===void 0?void 0:lastTrack.name)||this.findTrackId();
this.groupId=textGroupId;
var subtitleTracksUpdated={
subtitleTracks:subtitleTracks};

this.log("Updating subtitle tracks, "+subtitleTracks.length+" track(s) found in \""+textGroupId+"\" group-id");
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACKS_UPDATED,subtitleTracksUpdated);
if(initialTrackId!==-1){
this.setSubtitleTrack(initialTrackId,lastTrack);
}
}
};
_proto.findTrackId=function findTrackId(name){
var textTracks=this.tracksInGroup;
for(var i=0;i<textTracks.length;i++){
var track=textTracks[i];
if(!this.selectDefaultTrack||track.default){
if(!name||name===track.name){
return track.id;
}
}
}
return-1;
};
_proto.onError=function onError(event,data){
_BasePlaylistControll.prototype.onError.call(this,event,data);
if(data.fatal||!data.context){
return;
}
if(data.context.type===_types_loader__WEBPACK_IMPORTED_MODULE_3__.PlaylistContextType.SUBTITLE_TRACK&&data.context.id===this.trackId&&data.context.groupId===this.groupId){
this.retryLoadingOrFail(data);
}
}

/** get alternate subtitle tracks list from playlist **/;
_proto.loadPlaylist=function loadPlaylist(hlsUrlParameters){
_BasePlaylistControll.prototype.loadPlaylist.call(this);
var currentTrack=this.tracksInGroup[this.trackId];
if(this.shouldLoadTrack(currentTrack)){
var id=currentTrack.id;
var groupId=currentTrack.groupId;
var url=currentTrack.url;
if(hlsUrlParameters){
try{
url=hlsUrlParameters.addDirectives(url);
}catch(error){
this.warn("Could not construct new URL with HLS Delivery Directives: "+error);
}
}
this.log("Loading subtitle playlist for id "+id);
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_LOADING,{
url:url,
id:id,
groupId:groupId,
deliveryDirectives:hlsUrlParameters||null});

}
}

/**
   * Disables the old subtitleTrack and sets current mode on the next subtitleTrack.
   * This operates on the DOM textTracks.
   * A value of -1 will disable all subtitle tracks.
   */;
_proto.toggleTrackModes=function toggleTrackModes(newId){
var _this2=this;
var media=this.media,
trackId=this.trackId;
if(!media){
return;
}
var textTracks=filterSubtitleTracks(media.textTracks);
var groupTracks=textTracks.filter(function(track){
return track.groupId===_this2.groupId;
});
if(newId===-1){
[].slice.call(textTracks).forEach(function(track){
track.mode='disabled';
});
}else{
var oldTrack=groupTracks[trackId];
if(oldTrack){
oldTrack.mode='disabled';
}
}
var nextTrack=groupTracks[newId];
if(nextTrack){
nextTrack.mode=this.subtitleDisplay?'showing':'hidden';
}
}

/**
   * This method is responsible for validating the subtitle index and periodically reloading if live.
   * Dispatches the SUBTITLE_TRACK_SWITCH event, which instructs the subtitle-stream-controller to load the selected track.
   */;
_proto.setSubtitleTrack=function setSubtitleTrack(newId,lastTrack){
var _tracks$newId;
var tracks=this.tracksInGroup;

// setting this.subtitleTrack will trigger internal logic
// if media has not been attached yet, it will fail
// we keep a reference to the default track id
// and we'll set subtitleTrack when onMediaAttached is triggered
if(!this.media){
this.queuedDefaultTrack=newId;
return;
}
if(this.trackId!==newId){
this.toggleTrackModes(newId);
}

// exit if track id as already set or invalid
if(this.trackId===newId&&(newId===-1||(_tracks$newId=tracks[newId])!==null&&_tracks$newId!==void 0&&_tracks$newId.details)||newId<-1||newId>=tracks.length){
return;
}

// stopping live reloading timer if any
this.clearTimer();
var track=tracks[newId];
this.log("Switching to subtitle track "+newId);
this.trackId=newId;
if(track){
var id=track.id,
_track$groupId=track.groupId,
groupId=_track$groupId===void 0?'':_track$groupId,
name=track.name,
type=track.type,
url=track.url;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_SWITCH,{
id:id,
groupId:groupId,
name:name,
type:type,
url:url});

var hlsUrlParameters=this.switchParams(track.url,lastTrack===null||lastTrack===void 0?void 0:lastTrack.details);
this.loadPlaylist(hlsUrlParameters);
}else{
// switch to -1
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_0__.Events.SUBTITLE_TRACK_SWITCH,{
id:newId});

}
};
_proto.onTextTracksChanged=function onTextTracksChanged(){
if(!this.useTextTrackPolling){
self.clearInterval(this.subtitlePollingInterval);
}
// Media is undefined when switching streams via loadSource()
if(!this.media||!this.hls.config.renderTextTracksNatively){
return;
}
var trackId=-1;
var tracks=filterSubtitleTracks(this.media.textTracks);
for(var id=0;id<tracks.length;id++){
if(tracks[id].mode==='hidden'){
// Do not break in case there is a following track with showing.
trackId=id;
}else if(tracks[id].mode==='showing'){
trackId=id;
break;
}
}

// Setting current subtitleTrack will invoke code.
if(this.subtitleTrack!==trackId){
this.subtitleTrack=trackId;
}
};
_createClass(SubtitleTrackController,[{
key:"subtitleDisplay",
get:function get(){
return this._subtitleDisplay;
},
set:function set(value){
this._subtitleDisplay=value;
if(this.trackId>-1){
this.toggleTrackModes(this.trackId);
}
}},
{
key:"subtitleTracks",
get:function get(){
return this.tracksInGroup;
}

/** get/set index of the selected subtitle track (based on index in subtitle track lists) **/},
{
key:"subtitleTrack",
get:function get(){
return this.trackId;
},
set:function set(newId){
this.selectDefaultTrack=false;
var lastTrack=this.tracksInGroup?this.tracksInGroup[this.trackId]:undefined;
this.setSubtitleTrack(newId,lastTrack);
}}]);

return SubtitleTrackController;
}(_base_playlist_controller__WEBPACK_IMPORTED_MODULE_2__["default"]);
function filterSubtitleTracks(textTrackList){
var tracks=[];
for(var i=0;i<textTrackList.length;i++){
var track=textTrackList[i];
// Edge adds a track without a label; we don't want to use it
if(track.kind==='subtitles'&&track.label){
tracks.push(textTrackList[i]);
}
}
return tracks;
}
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=SubtitleTrackController;

/***/},

/***/"./src/controller/timeline-controller.ts":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.ts ***!
  \***********************************************/
/***/function srcControllerTimelineControllerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"TimelineController":function TimelineController(){return(/* binding */_TimelineController);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_cea_608_parser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.ts");
/* harmony import */var _utils_output_filter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/output-filter */"./src/utils/output-filter.ts");
/* harmony import */var _utils_webvtt_parser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.ts");
/* harmony import */var _utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts");
/* harmony import */var _utils_imsc1_ttml_parser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../utils/imsc1-ttml-parser */"./src/utils/imsc1-ttml-parser.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");











var _TimelineController=/*#__PURE__*/function(){
function TimelineController(hls){
this.hls=void 0;
this.media=null;
this.config=void 0;
this.enabled=true;
this.Cues=void 0;
this.textTracks=[];
this.tracks=[];
this.initPTS=[];
this.timescale=[];
this.unparsedVttFrags=[];
this.captionsTracks={};
this.nonNativeCaptionsTracks={};
this.cea608Parser1=void 0;
this.cea608Parser2=void 0;
this.lastSn=-1;
this.lastPartIndex=-1;
this.prevCC=-1;
this.vttCCs=newVTTCCs();
this.captionsProperties=void 0;
this.hls=hls;
this.config=hls.config;
this.Cues=hls.config.cueHandler;
this.captionsProperties={
textTrack1:{
label:this.config.captionsTextTrack1Label,
languageCode:this.config.captionsTextTrack1LanguageCode},

textTrack2:{
label:this.config.captionsTextTrack2Label,
languageCode:this.config.captionsTextTrack2LanguageCode},

textTrack3:{
label:this.config.captionsTextTrack3Label,
languageCode:this.config.captionsTextTrack3LanguageCode},

textTrack4:{
label:this.config.captionsTextTrack4Label,
languageCode:this.config.captionsTextTrack4LanguageCode}};


if(this.config.enableCEA708Captions){
var channel1=new _utils_output_filter__WEBPACK_IMPORTED_MODULE_3__["default"](this,'textTrack1');
var channel2=new _utils_output_filter__WEBPACK_IMPORTED_MODULE_3__["default"](this,'textTrack2');
var channel3=new _utils_output_filter__WEBPACK_IMPORTED_MODULE_3__["default"](this,'textTrack3');
var channel4=new _utils_output_filter__WEBPACK_IMPORTED_MODULE_3__["default"](this,'textTrack4');
this.cea608Parser1=new _utils_cea_608_parser__WEBPACK_IMPORTED_MODULE_2__["default"](1,channel1,channel2);
this.cea608Parser2=new _utils_cea_608_parser__WEBPACK_IMPORTED_MODULE_2__["default"](3,channel3,channel4);
}
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADED,this.onManifestLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADING,this.onFragLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADED,this.onFragLoaded,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_DECRYPTED,this.onFragDecrypted,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.INIT_PTS_FOUND,this.onInitPtsFound,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
}
var _proto=TimelineController.prototype;
_proto.destroy=function destroy(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_ATTACHING,this.onMediaAttaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MEDIA_DETACHING,this.onMediaDetaching,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADED,this.onManifestLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADING,this.onFragLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADED,this.onFragLoaded,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_DECRYPTED,this.onFragDecrypted,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.INIT_PTS_FOUND,this.onInitPtsFound,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.BUFFER_FLUSHING,this.onBufferFlushing,this);
// @ts-ignore
this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null;
};
_proto.addCues=function addCues(trackName,startTime,endTime,screen,cueRanges){
// skip cues which overlap more than 50% with previously parsed time ranges
var merged=false;
for(var i=cueRanges.length;i--;){
var cueRange=cueRanges[i];
var overlap=intersection(cueRange[0],cueRange[1],startTime,endTime);
if(overlap>=0){
cueRange[0]=Math.min(cueRange[0],startTime);
cueRange[1]=Math.max(cueRange[1],endTime);
merged=true;
if(overlap/(endTime-startTime)>0.5){
return;
}
}
}
if(!merged){
cueRanges.push([startTime,endTime]);
}
if(this.config.renderTextTracksNatively){
var track=this.captionsTracks[trackName];
this.Cues.newCue(track,startTime,endTime,screen);
}else{
var cues=this.Cues.newCue(null,startTime,endTime,screen);
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.CUES_PARSED,{
type:'captions',
cues:cues,
track:trackName});

}
}

// Triggered when an initial PTS is found; used for synchronisation of WebVTT.
;
_proto.onInitPtsFound=function onInitPtsFound(event,_ref){
var _this=this;
var frag=_ref.frag,
id=_ref.id,
initPTS=_ref.initPTS,
timescale=_ref.timescale;
var unparsedVttFrags=this.unparsedVttFrags;
if(id==='main'){
this.initPTS[frag.cc]=initPTS;
this.timescale[frag.cc]=timescale;
}

// Due to asynchronous processing, initial PTS may arrive later than the first VTT fragments are loaded.
// Parse any unparsed fragments upon receiving the initial PTS.
if(unparsedVttFrags.length){
this.unparsedVttFrags=[];
unparsedVttFrags.forEach(function(frag){
_this.onFragLoaded(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADED,frag);
});
}
};
_proto.getExistingTrack=function getExistingTrack(trackName){
var media=this.media;
if(media){
for(var i=0;i<media.textTracks.length;i++){
var textTrack=media.textTracks[i];
if(textTrack[trackName]){
return textTrack;
}
}
}
return null;
};
_proto.createCaptionsTrack=function createCaptionsTrack(trackName){
if(this.config.renderTextTracksNatively){
this.createNativeTrack(trackName);
}else{
this.createNonNativeTrack(trackName);
}
};
_proto.createNativeTrack=function createNativeTrack(trackName){
if(this.captionsTracks[trackName]){
return;
}
var captionsProperties=this.captionsProperties,
captionsTracks=this.captionsTracks,
media=this.media;
var _captionsProperties$t=captionsProperties[trackName],
label=_captionsProperties$t.label,
languageCode=_captionsProperties$t.languageCode;
// Enable reuse of existing text track.
var existingTrack=this.getExistingTrack(trackName);
if(!existingTrack){
var textTrack=this.createTextTrack('captions',label,languageCode);
if(textTrack){
// Set a special property on the track so we know it's managed by Hls.js
textTrack[trackName]=true;
captionsTracks[trackName]=textTrack;
}
}else{
captionsTracks[trackName]=existingTrack;
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.clearCurrentCues)(captionsTracks[trackName]);
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.sendAddTrackEvent)(captionsTracks[trackName],media);
}
};
_proto.createNonNativeTrack=function createNonNativeTrack(trackName){
if(this.nonNativeCaptionsTracks[trackName]){
return;
}
// Create a list of a single track for the provider to consume
var trackProperties=this.captionsProperties[trackName];
if(!trackProperties){
return;
}
var label=trackProperties.label;
var track={
_id:trackName,
label:label,
kind:'captions',
default:trackProperties.media?!!trackProperties.media.default:false,
closedCaptions:trackProperties.media};

this.nonNativeCaptionsTracks[trackName]=track;
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{
tracks:[track]});

};
_proto.createTextTrack=function createTextTrack(kind,label,lang){
var media=this.media;
if(!media){
return;
}
return media.addTextTrack(kind,label,lang);
};
_proto.onMediaAttaching=function onMediaAttaching(event,data){
this.media=data.media;
this._cleanTracks();
};
_proto.onMediaDetaching=function onMediaDetaching(){
var captionsTracks=this.captionsTracks;
Object.keys(captionsTracks).forEach(function(trackName){
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.clearCurrentCues)(captionsTracks[trackName]);
delete captionsTracks[trackName];
});
this.nonNativeCaptionsTracks={};
};
_proto.onManifestLoading=function onManifestLoading(){
this.lastSn=-1;// Detect discontinuity in fragment parsing
this.lastPartIndex=-1;
this.prevCC=-1;
this.vttCCs=newVTTCCs();// Detect discontinuity in subtitle manifests
this._cleanTracks();
this.tracks=[];
this.captionsTracks={};
this.nonNativeCaptionsTracks={};
this.textTracks=[];
this.unparsedVttFrags=this.unparsedVttFrags||[];
this.initPTS=[];
this.timescale=[];
if(this.cea608Parser1&&this.cea608Parser2){
this.cea608Parser1.reset();
this.cea608Parser2.reset();
}
};
_proto._cleanTracks=function _cleanTracks(){
// clear outdated subtitles
var media=this.media;
if(!media){
return;
}
var textTracks=media.textTracks;
if(textTracks){
for(var i=0;i<textTracks.length;i++){
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.clearCurrentCues)(textTracks[i]);
}
}
};
_proto.onSubtitleTracksUpdated=function onSubtitleTracksUpdated(event,data){
var _this2=this;
this.textTracks=[];
var tracks=data.subtitleTracks||[];
var hasIMSC1=tracks.some(function(track){
return track.textCodec===_utils_imsc1_ttml_parser__WEBPACK_IMPORTED_MODULE_6__.IMSC1_CODEC;
});
if(this.config.enableWebVTT||hasIMSC1&&this.config.enableIMSC1){
var sameTracks=this.tracks&&tracks&&this.tracks.length===tracks.length;
this.tracks=tracks||[];
if(this.config.renderTextTracksNatively){
var inUseTracks=this.media?this.media.textTracks:[];
this.tracks.forEach(function(track,index){
var textTrack;
if(index<inUseTracks.length){
var inUseTrack=null;
for(var i=0;i<inUseTracks.length;i++){
if(canReuseVttTextTrack(inUseTracks[i],track)){
inUseTrack=inUseTracks[i];
break;
}
}

// Reuse tracks with the same label, but do not reuse 608/708 tracks
if(inUseTrack){
textTrack=inUseTrack;
}
}
if(textTrack){
(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.clearCurrentCues)(textTrack);
}else{
var textTrackKind=_this2._captionsOrSubtitlesFromCharacteristics(track);
textTrack=_this2.createTextTrack(textTrackKind,track.name,track.lang);
if(textTrack){
textTrack.mode='disabled';
}
}
if(textTrack){
textTrack.groupId=track.groupId;
_this2.textTracks.push(textTrack);
}
});
}else if(!sameTracks&&this.tracks&&this.tracks.length){
// Create a list of tracks for the provider to consume
var tracksList=this.tracks.map(function(track){
return{
label:track.name,
kind:track.type.toLowerCase(),
default:track.default,
subtitleTrack:track};

});
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{
tracks:tracksList});

}
}
};
_proto._captionsOrSubtitlesFromCharacteristics=function _captionsOrSubtitlesFromCharacteristics(track){
var _track$attrs;
if((_track$attrs=track.attrs)!==null&&_track$attrs!==void 0&&_track$attrs.CHARACTERISTICS){
var transcribesSpokenDialog=/transcribes-spoken-dialog/gi.test(track.attrs.CHARACTERISTICS);
var describesMusicAndSound=/describes-music-and-sound/gi.test(track.attrs.CHARACTERISTICS);
if(transcribesSpokenDialog&&describesMusicAndSound){
return'captions';
}
}
return'subtitles';
};
_proto.onManifestLoaded=function onManifestLoaded(event,data){
var _this3=this;
if(this.config.enableCEA708Captions&&data.captions){
data.captions.forEach(function(captionsTrack){
var instreamIdMatch=/(?:CC|SERVICE)([1-4])/.exec(captionsTrack.instreamId);
if(!instreamIdMatch){
return;
}
var trackName="textTrack"+instreamIdMatch[1];
var trackProperties=_this3.captionsProperties[trackName];
if(!trackProperties){
return;
}
trackProperties.label=captionsTrack.name;
if(captionsTrack.lang){
// optional attribute
trackProperties.languageCode=captionsTrack.lang;
}
trackProperties.media=captionsTrack;
});
}
};
_proto.closedCaptionsForLevel=function closedCaptionsForLevel(frag){
var level=this.hls.levels[frag.level];
return level===null||level===void 0?void 0:level.attrs['CLOSED-CAPTIONS'];
};
_proto.onFragLoading=function onFragLoading(event,data){
var cea608Parser1=this.cea608Parser1,
cea608Parser2=this.cea608Parser2,
lastSn=this.lastSn,
lastPartIndex=this.lastPartIndex;
if(!this.enabled||!(cea608Parser1&&cea608Parser2)){
return;
}
// if this frag isn't contiguous, clear the parser so cues with bad start/end times aren't added to the textTrack
if(data.frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_8__.PlaylistLevelType.MAIN){
var _data$part$index,_data$part;
var sn=data.frag.sn;
var partIndex=(_data$part$index=data===null||data===void 0?void 0:(_data$part=data.part)===null||_data$part===void 0?void 0:_data$part.index)!=null?_data$part$index:-1;
if(!(sn===lastSn+1||sn===lastSn&&partIndex===lastPartIndex+1)){
cea608Parser1.reset();
cea608Parser2.reset();
}
this.lastSn=sn;
this.lastPartIndex=partIndex;
}
};
_proto.onFragLoaded=function onFragLoaded(event,data){
var frag=data.frag,
payload=data.payload;
var initPTS=this.initPTS,
unparsedVttFrags=this.unparsedVttFrags;
if(frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_8__.PlaylistLevelType.SUBTITLE){
// If fragment is subtitle type, parse as WebVTT.
if(payload.byteLength){
// We need an initial synchronisation PTS. Store fragments as long as none has arrived.
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(initPTS[frag.cc])){
unparsedVttFrags.push(data);
if(initPTS.length){
// finish unsuccessfully, otherwise the subtitle-stream-controller could be blocked from loading new frags.
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_FRAG_PROCESSED,{
success:false,
frag:frag,
error:new Error('Missing initial subtitle PTS')});

}
return;
}
var decryptData=frag.decryptdata;
// fragment after decryption has a stats object
var decrypted=('stats'in data);
// If the subtitles are not encrypted, parse VTTs now. Otherwise, we need to wait.
if(decryptData==null||!decryptData.encrypted||decrypted){
var trackPlaylistMedia=this.tracks[frag.level];
var vttCCs=this.vttCCs;
if(!vttCCs[frag.cc]){
vttCCs[frag.cc]={
start:frag.start,
prevCC:this.prevCC,
new:true};

this.prevCC=frag.cc;
}
if(trackPlaylistMedia&&trackPlaylistMedia.textCodec===_utils_imsc1_ttml_parser__WEBPACK_IMPORTED_MODULE_6__.IMSC1_CODEC){
this._parseIMSC1(frag,payload);
}else{
this._parseVTTs(frag,payload,vttCCs);
}
}
}else{
// In case there is no payload, finish unsuccessfully.
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_FRAG_PROCESSED,{
success:false,
frag:frag,
error:new Error('Empty subtitle payload')});

}
}
};
_proto._parseIMSC1=function _parseIMSC1(frag,payload){
var _this4=this;
var hls=this.hls;
(0,_utils_imsc1_ttml_parser__WEBPACK_IMPORTED_MODULE_6__.parseIMSC1)(payload,this.initPTS[frag.cc],this.timescale[frag.cc],function(cues){
_this4._appendCues(cues,frag.level);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_FRAG_PROCESSED,{
success:true,
frag:frag});

},function(error){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("Failed to parse IMSC1: "+error);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_FRAG_PROCESSED,{
success:false,
frag:frag,
error:error});

});
};
_proto._parseVTTs=function _parseVTTs(frag,payload,vttCCs){
var _frag$initSegment,
_this5=this;
var hls=this.hls;
// Parse the WebVTT file contents.
var payloadWebVTT=(_frag$initSegment=frag.initSegment)!==null&&_frag$initSegment!==void 0&&_frag$initSegment.data?(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_7__.appendUint8Array)(frag.initSegment.data,new Uint8Array(payload)):payload;
(0,_utils_webvtt_parser__WEBPACK_IMPORTED_MODULE_4__.parseWebVTT)(payloadWebVTT,this.initPTS[frag.cc],this.timescale[frag.cc],vttCCs,frag.cc,frag.start,function(cues){
_this5._appendCues(cues,frag.level);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_FRAG_PROCESSED,{
success:true,
frag:frag});

},function(error){
_this5._fallbackToIMSC1(frag,payload);
// Something went wrong while parsing. Trigger event with success false.
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("Failed to parse VTT cue: "+error);
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_FRAG_PROCESSED,{
success:false,
frag:frag,
error:error});

});
};
_proto._fallbackToIMSC1=function _fallbackToIMSC1(frag,payload){
var _this6=this;
// If textCodec is unknown, try parsing as IMSC1. Set textCodec based on the result
var trackPlaylistMedia=this.tracks[frag.level];
if(!trackPlaylistMedia.textCodec){
(0,_utils_imsc1_ttml_parser__WEBPACK_IMPORTED_MODULE_6__.parseIMSC1)(payload,this.initPTS[frag.cc],this.timescale[frag.cc],function(){
trackPlaylistMedia.textCodec=_utils_imsc1_ttml_parser__WEBPACK_IMPORTED_MODULE_6__.IMSC1_CODEC;
_this6._parseIMSC1(frag,payload);
},function(){
trackPlaylistMedia.textCodec='wvtt';
});
}
};
_proto._appendCues=function _appendCues(cues,fragLevel){
var hls=this.hls;
if(this.config.renderTextTracksNatively){
var textTrack=this.textTracks[fragLevel];
// WebVTTParser.parse is an async method and if the currently selected text track mode is set to "disabled"
// before parsing is done then don't try to access currentTrack.cues.getCueById as cues will be null
// and trying to access getCueById method of cues will throw an exception
// Because we check if the mode is disabled, we can force check `cues` below. They can't be null.
if(!textTrack||textTrack.mode==='disabled'){
return;
}
cues.forEach(function(cue){
return(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.addCueToTrack)(textTrack,cue);
});
}else{
var currentTrack=this.tracks[fragLevel];
if(!currentTrack){
return;
}
var track=currentTrack.default?'default':'subtitles'+fragLevel;
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.CUES_PARSED,{
type:'subtitles',
cues:cues,
track:track});

}
};
_proto.onFragDecrypted=function onFragDecrypted(event,data){
var frag=data.frag;
if(frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_8__.PlaylistLevelType.SUBTITLE){
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(this.initPTS[frag.cc])){
this.unparsedVttFrags.push(data);
return;
}
this.onFragLoaded(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_LOADED,data);
}
};
_proto.onSubtitleTracksCleared=function onSubtitleTracksCleared(){
this.tracks=[];
this.captionsTracks={};
};
_proto.onFragParsingUserdata=function onFragParsingUserdata(event,data){
var cea608Parser1=this.cea608Parser1,
cea608Parser2=this.cea608Parser2;
if(!this.enabled||!(cea608Parser1&&cea608Parser2)){
return;
}
var frag=data.frag,
samples=data.samples;
if(frag.type===_types_loader__WEBPACK_IMPORTED_MODULE_8__.PlaylistLevelType.MAIN&&this.closedCaptionsForLevel(frag)==='NONE'){
return;
}
// If the event contains captions (found in the bytes property), push all bytes into the parser immediately
// It will create the proper timestamps based on the PTS value
for(var i=0;i<samples.length;i++){
var ccBytes=samples[i].bytes;
if(ccBytes){
var ccdatas=this.extractCea608Data(ccBytes);
cea608Parser1.addData(samples[i].pts,ccdatas[0]);
cea608Parser2.addData(samples[i].pts,ccdatas[1]);
}
}
};
_proto.onBufferFlushing=function onBufferFlushing(event,_ref2){
var startOffset=_ref2.startOffset,
endOffset=_ref2.endOffset,
endOffsetSubtitles=_ref2.endOffsetSubtitles,
type=_ref2.type;
var media=this.media;
if(!media||media.currentTime<endOffset){
return;
}
// Clear 608 caption cues from the captions TextTracks when the video back buffer is flushed
// Forward cues are never removed because we can loose streamed 608 content from recent fragments
if(!type||type==='video'){
var captionsTracks=this.captionsTracks;
Object.keys(captionsTracks).forEach(function(trackName){
return(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.removeCuesInRange)(captionsTracks[trackName],startOffset,endOffset);
});
}
if(this.config.renderTextTracksNatively){
// Clear VTT/IMSC1 subtitle cues from the subtitle TextTracks when the back buffer is flushed
if(startOffset===0&&endOffsetSubtitles!==undefined){
var textTracks=this.textTracks;
Object.keys(textTracks).forEach(function(trackName){
return(0,_utils_texttrack_utils__WEBPACK_IMPORTED_MODULE_5__.removeCuesInRange)(textTracks[trackName],startOffset,endOffsetSubtitles);
});
}
}
};
_proto.extractCea608Data=function extractCea608Data(byteArray){
var actualCCBytes=[[],[]];
var count=byteArray[0]&0x1f;
var position=2;
for(var j=0;j<count;j++){
var tmpByte=byteArray[position++];
var ccbyte1=0x7f&byteArray[position++];
var ccbyte2=0x7f&byteArray[position++];
if(ccbyte1===0&&ccbyte2===0){
continue;
}
var ccValid=(0x04&tmpByte)!==0;// Support all four channels
if(ccValid){
var ccType=0x03&tmpByte;
if(0x00/* CEA608 field1*/===ccType||0x01/* CEA608 field2*/===ccType){
// Exclude CEA708 CC data.
actualCCBytes[ccType].push(ccbyte1);
actualCCBytes[ccType].push(ccbyte2);
}
}
}
return actualCCBytes;
};
return TimelineController;
}();
function canReuseVttTextTrack(inUseTrack,manifestTrack){
return inUseTrack&&inUseTrack.label===manifestTrack.name&&!(inUseTrack.textTrack1||inUseTrack.textTrack2);
}
function intersection(x1,x2,y1,y2){
return Math.min(x2,y2)-Math.max(x1,y1);
}
function newVTTCCs(){
return{
ccOffset:0,
presentationOffset:0,
0:{
start:0,
prevCC:-1,
new:true}};


}

/***/},

/***/"./src/crypt/aes-crypto.ts":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.ts ***!
  \*********************************/
/***/function srcCryptAesCryptoTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */AESCrypto);}
/* harmony export */});
var AESCrypto=/*#__PURE__*/function(){
function AESCrypto(subtle,iv){
this.subtle=void 0;
this.aesIV=void 0;
this.subtle=subtle;
this.aesIV=iv;
}
var _proto=AESCrypto.prototype;
_proto.decrypt=function decrypt(data,key){
return this.subtle.decrypt({
name:'AES-CBC',
iv:this.aesIV},
key,data);
};
return AESCrypto;
}();


/***/},

/***/"./src/crypt/aes-decryptor.ts":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.ts ***!
  \************************************/
/***/function srcCryptAesDecryptorTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */AESDecryptor);},
/* harmony export */"removePadding":function removePadding(){return(/* binding */_removePadding);}
/* harmony export */});
/* harmony import */var _utils_typed_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/typed-array */"./src/utils/typed-array.ts");


// PKCS7
function _removePadding(array){
var outputBytes=array.byteLength;
var paddingBytes=outputBytes&&new DataView(array.buffer).getUint8(outputBytes-1);
if(paddingBytes){
return(0,_utils_typed_array__WEBPACK_IMPORTED_MODULE_0__.sliceUint8)(array,0,outputBytes-paddingBytes);
}
return array;
}
var AESDecryptor=/*#__PURE__*/function(){
function AESDecryptor(){
this.rcon=[0x0,0x1,0x2,0x4,0x8,0x10,0x20,0x40,0x80,0x1b,0x36];
this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];
this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];
this.sBox=new Uint32Array(256);
this.invSBox=new Uint32Array(256);
this.key=new Uint32Array(0);
this.ksRows=0;
this.keySize=0;
this.keySchedule=void 0;
this.invKeySchedule=void 0;
this.initTable();
}

// Using view.getUint32() also swaps the byte order.
var _proto=AESDecryptor.prototype;
_proto.uint8ArrayToUint32Array_=function uint8ArrayToUint32Array_(arrayBuffer){
var view=new DataView(arrayBuffer);
var newArray=new Uint32Array(4);
for(var i=0;i<4;i++){
newArray[i]=view.getUint32(i*4);
}
return newArray;
};
_proto.initTable=function initTable(){
var sBox=this.sBox;
var invSBox=this.invSBox;
var subMix=this.subMix;
var subMix0=subMix[0];
var subMix1=subMix[1];
var subMix2=subMix[2];
var subMix3=subMix[3];
var invSubMix=this.invSubMix;
var invSubMix0=invSubMix[0];
var invSubMix1=invSubMix[1];
var invSubMix2=invSubMix[2];
var invSubMix3=invSubMix[3];
var d=new Uint32Array(256);
var x=0;
var xi=0;
var i=0;
for(i=0;i<256;i++){
if(i<128){
d[i]=i<<1;
}else{
d[i]=i<<1^0x11b;
}
}
for(i=0;i<256;i++){
var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;
sx=sx>>>8^sx&0xff^0x63;
sBox[x]=sx;
invSBox[sx]=x;

// Compute multiplication
var x2=d[x];
var x4=d[x2];
var x8=d[x4];

// Compute sub/invSub bytes, mix columns tables
var t=d[sx]*0x101^sx*0x1010100;
subMix0[x]=t<<24|t>>>8;
subMix1[x]=t<<16|t>>>16;
subMix2[x]=t<<8|t>>>24;
subMix3[x]=t;

// Compute inv sub bytes, inv mix columns tables
t=x8*0x1010101^x4*0x10001^x2*0x101^x*0x1010100;
invSubMix0[sx]=t<<24|t>>>8;
invSubMix1[sx]=t<<16|t>>>16;
invSubMix2[sx]=t<<8|t>>>24;
invSubMix3[sx]=t;

// Compute next counter
if(!x){
x=xi=1;
}else{
x=x2^d[d[d[x8^x2]]];
xi^=d[d[xi]];
}
}
};
_proto.expandKey=function expandKey(keyBuffer){
// convert keyBuffer to Uint32Array
var key=this.uint8ArrayToUint32Array_(keyBuffer);
var sameKey=true;
var offset=0;
while(offset<key.length&&sameKey){
sameKey=key[offset]===this.key[offset];
offset++;
}
if(sameKey){
return;
}
this.key=key;
var keySize=this.keySize=key.length;
if(keySize!==4&&keySize!==6&&keySize!==8){
throw new Error('Invalid aes key size='+keySize);
}
var ksRows=this.ksRows=(keySize+6+1)*4;
var ksRow;
var invKsRow;
var keySchedule=this.keySchedule=new Uint32Array(ksRows);
var invKeySchedule=this.invKeySchedule=new Uint32Array(ksRows);
var sbox=this.sBox;
var rcon=this.rcon;
var invSubMix=this.invSubMix;
var invSubMix0=invSubMix[0];
var invSubMix1=invSubMix[1];
var invSubMix2=invSubMix[2];
var invSubMix3=invSubMix[3];
var prev;
var t;
for(ksRow=0;ksRow<ksRows;ksRow++){
if(ksRow<keySize){
prev=keySchedule[ksRow]=key[ksRow];
continue;
}
t=prev;
if(ksRow%keySize===0){
// Rot word
t=t<<8|t>>>24;

// Sub word
t=sbox[t>>>24]<<24|sbox[t>>>16&0xff]<<16|sbox[t>>>8&0xff]<<8|sbox[t&0xff];

// Mix Rcon
t^=rcon[ksRow/keySize|0]<<24;
}else if(keySize>6&&ksRow%keySize===4){
// Sub word
t=sbox[t>>>24]<<24|sbox[t>>>16&0xff]<<16|sbox[t>>>8&0xff]<<8|sbox[t&0xff];
}
keySchedule[ksRow]=prev=(keySchedule[ksRow-keySize]^t)>>>0;
}
for(invKsRow=0;invKsRow<ksRows;invKsRow++){
ksRow=ksRows-invKsRow;
if(invKsRow&3){
t=keySchedule[ksRow];
}else{
t=keySchedule[ksRow-4];
}
if(invKsRow<4||ksRow<=4){
invKeySchedule[invKsRow]=t;
}else{
invKeySchedule[invKsRow]=invSubMix0[sbox[t>>>24]]^invSubMix1[sbox[t>>>16&0xff]]^invSubMix2[sbox[t>>>8&0xff]]^invSubMix3[sbox[t&0xff]];
}
invKeySchedule[invKsRow]=invKeySchedule[invKsRow]>>>0;
}
}

// Adding this as a method greatly improves performance.
;
_proto.networkToHostOrderSwap=function networkToHostOrderSwap(word){
return word<<24|(word&0xff00)<<8|(word&0xff0000)>>8|word>>>24;
};
_proto.decrypt=function decrypt(inputArrayBuffer,offset,aesIV){
var nRounds=this.keySize+6;
var invKeySchedule=this.invKeySchedule;
var invSBOX=this.invSBox;
var invSubMix=this.invSubMix;
var invSubMix0=invSubMix[0];
var invSubMix1=invSubMix[1];
var invSubMix2=invSubMix[2];
var invSubMix3=invSubMix[3];
var initVector=this.uint8ArrayToUint32Array_(aesIV);
var initVector0=initVector[0];
var initVector1=initVector[1];
var initVector2=initVector[2];
var initVector3=initVector[3];
var inputInt32=new Int32Array(inputArrayBuffer);
var outputInt32=new Int32Array(inputInt32.length);
var t0,t1,t2,t3;
var s0,s1,s2,s3;
var inputWords0,inputWords1,inputWords2,inputWords3;
var ksRow,i;
var swapWord=this.networkToHostOrderSwap;
while(offset<inputInt32.length){
inputWords0=swapWord(inputInt32[offset]);
inputWords1=swapWord(inputInt32[offset+1]);
inputWords2=swapWord(inputInt32[offset+2]);
inputWords3=swapWord(inputInt32[offset+3]);
s0=inputWords0^invKeySchedule[0];
s1=inputWords3^invKeySchedule[1];
s2=inputWords2^invKeySchedule[2];
s3=inputWords1^invKeySchedule[3];
ksRow=4;

// Iterate through the rounds of decryption
for(i=1;i<nRounds;i++){
t0=invSubMix0[s0>>>24]^invSubMix1[s1>>16&0xff]^invSubMix2[s2>>8&0xff]^invSubMix3[s3&0xff]^invKeySchedule[ksRow];
t1=invSubMix0[s1>>>24]^invSubMix1[s2>>16&0xff]^invSubMix2[s3>>8&0xff]^invSubMix3[s0&0xff]^invKeySchedule[ksRow+1];
t2=invSubMix0[s2>>>24]^invSubMix1[s3>>16&0xff]^invSubMix2[s0>>8&0xff]^invSubMix3[s1&0xff]^invKeySchedule[ksRow+2];
t3=invSubMix0[s3>>>24]^invSubMix1[s0>>16&0xff]^invSubMix2[s1>>8&0xff]^invSubMix3[s2&0xff]^invKeySchedule[ksRow+3];
// Update state
s0=t0;
s1=t1;
s2=t2;
s3=t3;
ksRow=ksRow+4;
}

// Shift rows, sub bytes, add round key
t0=invSBOX[s0>>>24]<<24^invSBOX[s1>>16&0xff]<<16^invSBOX[s2>>8&0xff]<<8^invSBOX[s3&0xff]^invKeySchedule[ksRow];
t1=invSBOX[s1>>>24]<<24^invSBOX[s2>>16&0xff]<<16^invSBOX[s3>>8&0xff]<<8^invSBOX[s0&0xff]^invKeySchedule[ksRow+1];
t2=invSBOX[s2>>>24]<<24^invSBOX[s3>>16&0xff]<<16^invSBOX[s0>>8&0xff]<<8^invSBOX[s1&0xff]^invKeySchedule[ksRow+2];
t3=invSBOX[s3>>>24]<<24^invSBOX[s0>>16&0xff]<<16^invSBOX[s1>>8&0xff]<<8^invSBOX[s2&0xff]^invKeySchedule[ksRow+3];

// Write
outputInt32[offset]=swapWord(t0^initVector0);
outputInt32[offset+1]=swapWord(t3^initVector1);
outputInt32[offset+2]=swapWord(t2^initVector2);
outputInt32[offset+3]=swapWord(t1^initVector3);

// reset initVector to last 4 unsigned int
initVector0=inputWords0;
initVector1=inputWords1;
initVector2=inputWords2;
initVector3=inputWords3;
offset=offset+4;
}
return outputInt32.buffer;
};
return AESDecryptor;
}();


/***/},

/***/"./src/crypt/decrypter.ts":
/*!********************************!*\
  !*** ./src/crypt/decrypter.ts ***!
  \********************************/
/***/function srcCryptDecrypterTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */Decrypter);}
/* harmony export */});
/* harmony import */var _aes_crypto__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./aes-crypto */"./src/crypt/aes-crypto.ts");
/* harmony import */var _fast_aes_key__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.ts");
/* harmony import */var _aes_decryptor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _utils_typed_array__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/typed-array */"./src/utils/typed-array.ts");






var CHUNK_SIZE=16;// 16 bytes, 128 bits
var Decrypter=/*#__PURE__*/function(){
function Decrypter(config,_temp){
var _ref=_temp===void 0?{}:_temp,
_ref$removePKCS7Paddi=_ref.removePKCS7Padding,
removePKCS7Padding=_ref$removePKCS7Paddi===void 0?true:_ref$removePKCS7Paddi;
this.logEnabled=true;
this.removePKCS7Padding=void 0;
this.subtle=null;
this.softwareDecrypter=null;
this.key=null;
this.fastAesKey=null;
this.remainderData=null;
this.currentIV=null;
this.currentResult=null;
this.useSoftware=void 0;
this.useSoftware=config.enableSoftwareAES;
this.removePKCS7Padding=removePKCS7Padding;
// built in decryptor expects PKCS7 padding
if(removePKCS7Padding){
try{
var browserCrypto=self.crypto;
if(browserCrypto){
this.subtle=browserCrypto.subtle||browserCrypto.webkitSubtle;
}
}catch(e){
/* no-op */
}
}
if(this.subtle===null){
this.useSoftware=true;
}
}
var _proto=Decrypter.prototype;
_proto.destroy=function destroy(){
this.subtle=null;
this.softwareDecrypter=null;
this.key=null;
this.fastAesKey=null;
this.remainderData=null;
this.currentIV=null;
this.currentResult=null;
};
_proto.isSync=function isSync(){
return this.useSoftware;
};
_proto.flush=function flush(){
var currentResult=this.currentResult,
remainderData=this.remainderData;
if(!currentResult||remainderData){
this.reset();
return null;
}
var data=new Uint8Array(currentResult);
this.reset();
if(this.removePKCS7Padding){
return(0,_aes_decryptor__WEBPACK_IMPORTED_MODULE_2__.removePadding)(data);
}
return data;
};
_proto.reset=function reset(){
this.currentResult=null;
this.currentIV=null;
this.remainderData=null;
if(this.softwareDecrypter){
this.softwareDecrypter=null;
}
};
_proto.decrypt=function decrypt(data,key,iv){
var _this=this;
if(this.useSoftware){
return new Promise(function(resolve,reject){
_this.softwareDecrypt(new Uint8Array(data),key,iv);
var decryptResult=_this.flush();
if(decryptResult){
resolve(decryptResult.buffer);
}else{
reject(new Error('[softwareDecrypt] Failed to decrypt data'));
}
});
}
return this.webCryptoDecrypt(new Uint8Array(data),key,iv);
}

// Software decryption is progressive. Progressive decryption may not return a result on each call. Any cached
// data is handled in the flush() call
;
_proto.softwareDecrypt=function softwareDecrypt(data,key,iv){
var currentIV=this.currentIV,
currentResult=this.currentResult,
remainderData=this.remainderData;
this.logOnce('JS AES decrypt');
// The output is staggered during progressive parsing - the current result is cached, and emitted on the next call
// This is done in order to strip PKCS7 padding, which is found at the end of each segment. We only know we've reached
// the end on flush(), but by that time we have already received all bytes for the segment.
// Progressive decryption does not work with WebCrypto

if(remainderData){
data=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_4__.appendUint8Array)(remainderData,data);
this.remainderData=null;
}

// Byte length must be a multiple of 16 (AES-128 = 128 bit blocks = 16 bytes)
var currentChunk=this.getValidChunk(data);
if(!currentChunk.length){
return null;
}
if(currentIV){
iv=currentIV;
}
var softwareDecrypter=this.softwareDecrypter;
if(!softwareDecrypter){
softwareDecrypter=this.softwareDecrypter=new _aes_decryptor__WEBPACK_IMPORTED_MODULE_2__["default"]();
}
softwareDecrypter.expandKey(key);
var result=currentResult;
this.currentResult=softwareDecrypter.decrypt(currentChunk.buffer,0,iv);
this.currentIV=(0,_utils_typed_array__WEBPACK_IMPORTED_MODULE_5__.sliceUint8)(currentChunk,-16).buffer;
if(!result){
return null;
}
return result;
};
_proto.webCryptoDecrypt=function webCryptoDecrypt(data,key,iv){
var _this2=this;
var subtle=this.subtle;
if(this.key!==key||!this.fastAesKey){
this.key=key;
this.fastAesKey=new _fast_aes_key__WEBPACK_IMPORTED_MODULE_1__["default"](subtle,key);
}
return this.fastAesKey.expandKey().then(function(aesKey){
// decrypt using web crypto
if(!subtle){
return Promise.reject(new Error('web crypto not initialized'));
}
_this2.logOnce('WebCrypto AES decrypt');
var crypto=new _aes_crypto__WEBPACK_IMPORTED_MODULE_0__["default"](subtle,new Uint8Array(iv));
return crypto.decrypt(data.buffer,aesKey);
}).catch(function(err){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+err.name+": "+err.message);
return _this2.onWebCryptoError(data,key,iv);
});
};
_proto.onWebCryptoError=function onWebCryptoError(data,key,iv){
this.useSoftware=true;
this.logEnabled=true;
this.softwareDecrypt(data,key,iv);
var decryptResult=this.flush();
if(decryptResult){
return decryptResult.buffer;
}
throw new Error('WebCrypto and softwareDecrypt: failed to decrypt data');
};
_proto.getValidChunk=function getValidChunk(data){
var currentChunk=data;
var splitPoint=data.length-data.length%CHUNK_SIZE;
if(splitPoint!==data.length){
currentChunk=(0,_utils_typed_array__WEBPACK_IMPORTED_MODULE_5__.sliceUint8)(data,0,splitPoint);
this.remainderData=(0,_utils_typed_array__WEBPACK_IMPORTED_MODULE_5__.sliceUint8)(data,splitPoint);
}
return currentChunk;
};
_proto.logOnce=function logOnce(msg){
if(!this.logEnabled){
return;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.log("[decrypter]: "+msg);
this.logEnabled=false;
};
return Decrypter;
}();


/***/},

/***/"./src/crypt/fast-aes-key.ts":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.ts ***!
  \***********************************/
/***/function srcCryptFastAesKeyTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */FastAESKey);}
/* harmony export */});
var FastAESKey=/*#__PURE__*/function(){
function FastAESKey(subtle,key){
this.subtle=void 0;
this.key=void 0;
this.subtle=subtle;
this.key=key;
}
var _proto=FastAESKey.prototype;
_proto.expandKey=function expandKey(){
return this.subtle.importKey('raw',this.key,{
name:'AES-CBC'},
false,['encrypt','decrypt']);
};
return FastAESKey;
}();


/***/},

/***/"./src/demux/aacdemuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.ts ***!
  \*********************************/
/***/function srcDemuxAacdemuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _base_audio_demuxer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts");
/* harmony import */var _adts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./adts */"./src/demux/adts.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _demux_id3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../demux/id3 */"./src/demux/id3.ts");
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
/**
 * AAC demuxer
 */




var AACDemuxer=/*#__PURE__*/function(_BaseAudioDemuxer){
_inheritsLoose(AACDemuxer,_BaseAudioDemuxer);
function AACDemuxer(observer,config){
var _this;
_this=_BaseAudioDemuxer.call(this)||this;
_this.observer=void 0;
_this.config=void 0;
_this.observer=observer;
_this.config=config;
return _this;
}
var _proto=AACDemuxer.prototype;
_proto.resetInitSegment=function resetInitSegment(initSegment,audioCodec,videoCodec,trackDuration){
_BaseAudioDemuxer.prototype.resetInitSegment.call(this,initSegment,audioCodec,videoCodec,trackDuration);
this._audioTrack={
container:'audio/adts',
type:'audio',
id:2,
pid:-1,
sequenceNumber:0,
segmentCodec:'aac',
samples:[],
manifestCodec:audioCodec,
duration:trackDuration,
inputTimeScale:90000,
dropped:0};

}

// Source for probe info - https://wiki.multimedia.cx/index.php?title=ADTS
;
AACDemuxer.probe=function probe(data){
if(!data){
return false;
}

// Check for the ADTS sync word
// Look for ADTS header | 1111 1111 | 1111 X00X | where X can be either 0 or 1
// Layer bits (position 14 and 15) in header should be always 0 for ADTS
// More info https://wiki.multimedia.cx/index.php?title=ADTS
var id3Data=_demux_id3__WEBPACK_IMPORTED_MODULE_3__.getID3Data(data,0)||[];
var offset=id3Data.length;
for(var length=data.length;offset<length;offset++){
if(_adts__WEBPACK_IMPORTED_MODULE_1__.probe(data,offset)){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('ADTS sync word found !');
return true;
}
}
return false;
};
_proto.canParse=function canParse(data,offset){
return _adts__WEBPACK_IMPORTED_MODULE_1__.canParse(data,offset);
};
_proto.appendFrame=function appendFrame(track,data,offset){
_adts__WEBPACK_IMPORTED_MODULE_1__.initTrackConfig(track,this.observer,data,offset,track.manifestCodec);
var frame=_adts__WEBPACK_IMPORTED_MODULE_1__.appendFrame(track,data,offset,this.basePTS,this.frameIndex);
if(frame&&frame.missing===0){
return frame;
}
};
return AACDemuxer;
}(_base_audio_demuxer__WEBPACK_IMPORTED_MODULE_0__["default"]);
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=AACDemuxer;

/***/},

/***/"./src/demux/adts.ts":
/*!***************************!*\
  !*** ./src/demux/adts.ts ***!
  \***************************/
/***/function srcDemuxAdtsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"appendFrame":function appendFrame(){return(/* binding */_appendFrame);},
/* harmony export */"canGetFrameLength":function canGetFrameLength(){return(/* binding */_canGetFrameLength);},
/* harmony export */"canParse":function canParse(){return(/* binding */_canParse);},
/* harmony export */"getAudioConfig":function getAudioConfig(){return(/* binding */_getAudioConfig);},
/* harmony export */"getFrameDuration":function getFrameDuration(){return(/* binding */_getFrameDuration);},
/* harmony export */"getFullFrameLength":function getFullFrameLength(){return(/* binding */_getFullFrameLength);},
/* harmony export */"getHeaderLength":function getHeaderLength(){return(/* binding */_getHeaderLength);},
/* harmony export */"initTrackConfig":function initTrackConfig(){return(/* binding */_initTrackConfig);},
/* harmony export */"isHeader":function isHeader(){return(/* binding */_isHeader);},
/* harmony export */"isHeaderPattern":function isHeaderPattern(){return(/* binding */_isHeaderPattern);},
/* harmony export */"parseFrameHeader":function parseFrameHeader(){return(/* binding */_parseFrameHeader);},
/* harmony export */"probe":function probe(){return(/* binding */_probe);}
/* harmony export */});
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../events */"./src/events.ts");
/**
 * ADTS parser helper
 * @link https://wiki.multimedia.cx/index.php?title=ADTS
 */



function _getAudioConfig(observer,data,offset,audioCodec){
var adtsObjectType;
var adtsExtensionSamplingIndex;
var adtsChannelConfig;
var config;
var userAgent=navigator.userAgent.toLowerCase();
var manifestCodec=audioCodec;
var adtsSamplingRates=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350];
// byte 2
adtsObjectType=((data[offset+2]&0xc0)>>>6)+1;
var adtsSamplingIndex=(data[offset+2]&0x3c)>>>2;
if(adtsSamplingIndex>adtsSamplingRates.length-1){
observer.trigger(_events__WEBPACK_IMPORTED_MODULE_2__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.FRAG_PARSING_ERROR,
fatal:true,
reason:"invalid ADTS sampling index:"+adtsSamplingIndex});

return;
}
adtsChannelConfig=(data[offset+2]&0x01)<<2;
// byte 3
adtsChannelConfig|=(data[offset+3]&0xc0)>>>6;
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.log("manifest codec:"+audioCodec+", ADTS type:"+adtsObjectType+", samplingIndex:"+adtsSamplingIndex);
// firefox: freq less than 24kHz = AAC SBR (HE-AAC)
if(/firefox/i.test(userAgent)){
if(adtsSamplingIndex>=6){
adtsObjectType=5;
config=new Array(4);
// HE-AAC uses SBR (Spectral Band Replication) , high frequencies are constructed from low frequencies
// there is a factor 2 between frame sample rate and output sample rate
// multiply frequency by 2 (see table below, equivalent to substract 3)
adtsExtensionSamplingIndex=adtsSamplingIndex-3;
}else{
adtsObjectType=2;
config=new Array(2);
adtsExtensionSamplingIndex=adtsSamplingIndex;
}
// Android : always use AAC
}else if(userAgent.indexOf('android')!==-1){
adtsObjectType=2;
config=new Array(2);
adtsExtensionSamplingIndex=adtsSamplingIndex;
}else{
/*  for other browsers (Chrome/Vivaldi/Opera ...)
        always force audio type to be HE-AAC SBR, as some browsers do not support audio codec switch properly (like Chrome ...)
    */
adtsObjectType=5;
config=new Array(4);
// if (manifest codec is HE-AAC or HE-AACv2) OR (manifest codec not specified AND frequency less than 24kHz)
if(audioCodec&&(audioCodec.indexOf('mp4a.40.29')!==-1||audioCodec.indexOf('mp4a.40.5')!==-1)||!audioCodec&&adtsSamplingIndex>=6){
// HE-AAC uses SBR (Spectral Band Replication) , high frequencies are constructed from low frequencies
// there is a factor 2 between frame sample rate and output sample rate
// multiply frequency by 2 (see table below, equivalent to substract 3)
adtsExtensionSamplingIndex=adtsSamplingIndex-3;
}else{
// if (manifest codec is AAC) AND (frequency less than 24kHz AND nb channel is 1) OR (manifest codec not specified and mono audio)
// Chrome fails to play back with low frequency AAC LC mono when initialized with HE-AAC.  This is not a problem with stereo.
if(audioCodec&&audioCodec.indexOf('mp4a.40.2')!==-1&&(adtsSamplingIndex>=6&&adtsChannelConfig===1||/vivaldi/i.test(userAgent))||!audioCodec&&adtsChannelConfig===1){
adtsObjectType=2;
config=new Array(2);
}
adtsExtensionSamplingIndex=adtsSamplingIndex;
}
}
/* refer to http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Audio_Specific_Config
      ISO 14496-3 (AAC).pdf - Table 1.13 — Syntax of AudioSpecificConfig()
    Audio Profile / Audio Object Type
    0: Null
    1: AAC Main
    2: AAC LC (Low Complexity)
    3: AAC SSR (Scalable Sample Rate)
    4: AAC LTP (Long Term Prediction)
    5: SBR (Spectral Band Replication)
    6: AAC Scalable
   sampling freq
    0: 96000 Hz
    1: 88200 Hz
    2: 64000 Hz
    3: 48000 Hz
    4: 44100 Hz
    5: 32000 Hz
    6: 24000 Hz
    7: 22050 Hz
    8: 16000 Hz
    9: 12000 Hz
    10: 11025 Hz
    11: 8000 Hz
    12: 7350 Hz
    13: Reserved
    14: Reserved
    15: frequency is written explictly
    Channel Configurations
    These are the channel configurations:
    0: Defined in AOT Specifc Config
    1: 1 channel: front-center
    2: 2 channels: front-left, front-right
  */
// audioObjectType = profile => profile, the MPEG-4 Audio Object Type minus 1
config[0]=adtsObjectType<<3;
// samplingFrequencyIndex
config[0]|=(adtsSamplingIndex&0x0e)>>1;
config[1]|=(adtsSamplingIndex&0x01)<<7;
// channelConfiguration
config[1]|=adtsChannelConfig<<3;
if(adtsObjectType===5){
// adtsExtensionSamplingIndex
config[1]|=(adtsExtensionSamplingIndex&0x0e)>>1;
config[2]=(adtsExtensionSamplingIndex&0x01)<<7;
// adtsObjectType (force to 2, chrome is checking that object type is less than 5 ???
//    https://chromium.googlesource.com/chromium/src.git/+/master/media/formats/mp4/aac.cc
config[2]|=2<<2;
config[3]=0;
}
return{
config:config,
samplerate:adtsSamplingRates[adtsSamplingIndex],
channelCount:adtsChannelConfig,
codec:'mp4a.40.'+adtsObjectType,
manifestCodec:manifestCodec};

}
function _isHeaderPattern(data,offset){
return data[offset]===0xff&&(data[offset+1]&0xf6)===0xf0;
}
function _getHeaderLength(data,offset){
return data[offset+1]&0x01?7:9;
}
function _getFullFrameLength(data,offset){
return(data[offset+3]&0x03)<<11|data[offset+4]<<3|(data[offset+5]&0xe0)>>>5;
}
function _canGetFrameLength(data,offset){
return offset+5<data.length;
}
function _isHeader(data,offset){
// Look for ADTS header | 1111 1111 | 1111 X00X | where X can be either 0 or 1
// Layer bits (position 14 and 15) in header should be always 0 for ADTS
// More info https://wiki.multimedia.cx/index.php?title=ADTS
return offset+1<data.length&&_isHeaderPattern(data,offset);
}
function _canParse(data,offset){
return _canGetFrameLength(data,offset)&&_isHeaderPattern(data,offset)&&_getFullFrameLength(data,offset)<=data.length-offset;
}
function _probe(data,offset){
// same as isHeader but we also check that ADTS frame follows last ADTS frame
// or end of data is reached
if(_isHeader(data,offset)){
// ADTS header Length
var headerLength=_getHeaderLength(data,offset);
if(offset+headerLength>=data.length){
return false;
}
// ADTS frame Length
var frameLength=_getFullFrameLength(data,offset);
if(frameLength<=headerLength){
return false;
}
var newOffset=offset+frameLength;
return newOffset===data.length||_isHeader(data,newOffset);
}
return false;
}
function _initTrackConfig(track,observer,data,offset,audioCodec){
if(!track.samplerate){
var config=_getAudioConfig(observer,data,offset,audioCodec);
if(!config){
return;
}
track.config=config.config;
track.samplerate=config.samplerate;
track.channelCount=config.channelCount;
track.codec=config.codec;
track.manifestCodec=config.manifestCodec;
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.log("parsed codec:"+track.codec+", rate:"+config.samplerate+", channels:"+config.channelCount);
}
}
function _getFrameDuration(samplerate){
return 1024*90000/samplerate;
}
function _parseFrameHeader(data,offset){
// The protection skip bit tells us if we have 2 bytes of CRC data at the end of the ADTS header
var headerLength=_getHeaderLength(data,offset);
if(offset+headerLength<=data.length){
// retrieve frame size
var frameLength=_getFullFrameLength(data,offset)-headerLength;
if(frameLength>0){
// logger.log(`AAC frame, offset/length/total/pts:${offset+headerLength}/${frameLength}/${data.byteLength}`);
return{
headerLength:headerLength,
frameLength:frameLength};

}
}
}
function _appendFrame(track,data,offset,pts,frameIndex){
var frameDuration=_getFrameDuration(track.samplerate);
var stamp=pts+frameIndex*frameDuration;
var header=_parseFrameHeader(data,offset);
var unit;
if(header){
var frameLength=header.frameLength,
headerLength=header.headerLength;
var _length=headerLength+frameLength;
var missing=Math.max(0,offset+_length-data.length);
// logger.log(`AAC frame ${frameIndex}, pts:${stamp} length@offset/total: ${frameLength}@${offset+headerLength}/${data.byteLength} missing: ${missing}`);
if(missing){
unit=new Uint8Array(_length-headerLength);
unit.set(data.subarray(offset+headerLength,data.length),0);
}else{
unit=data.subarray(offset+headerLength,offset+_length);
}
var _sample={
unit:unit,
pts:stamp};

if(!missing){
track.samples.push(_sample);
}
return{
sample:_sample,
length:_length,
missing:missing};

}
// overflow incomplete header
var length=data.length-offset;
unit=new Uint8Array(length);
unit.set(data.subarray(offset,data.length),0);
var sample={
unit:unit,
pts:stamp};

return{
sample:sample,
length:length,
missing:-1};

}

/***/},

/***/"./src/demux/base-audio-demuxer.ts":
/*!*****************************************!*\
  !*** ./src/demux/base-audio-demuxer.ts ***!
  \*****************************************/
/***/function srcDemuxBaseAudioDemuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;},
/* harmony export */"initPTSFn":function initPTSFn(){return(/* binding */_initPTSFn);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _demux_id3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../demux/id3 */"./src/demux/id3.ts");
/* harmony import */var _types_demuxer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../types/demuxer */"./src/types/demuxer.ts");
/* harmony import */var _dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _utils_typed_array__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/typed-array */"./src/utils/typed-array.ts");







var BaseAudioDemuxer=/*#__PURE__*/function(){
function BaseAudioDemuxer(){
this._audioTrack=void 0;
this._id3Track=void 0;
this.frameIndex=0;
this.cachedData=null;
this.basePTS=null;
this.initPTS=null;
this.lastPTS=null;
}
var _proto=BaseAudioDemuxer.prototype;
_proto.resetInitSegment=function resetInitSegment(initSegment,audioCodec,videoCodec,trackDuration){
this._id3Track={
type:'id3',
id:3,
pid:-1,
inputTimeScale:90000,
sequenceNumber:0,
samples:[],
dropped:0};

};
_proto.resetTimeStamp=function resetTimeStamp(deaultTimestamp){
this.initPTS=deaultTimestamp;
this.resetContiguity();
};
_proto.resetContiguity=function resetContiguity(){
this.basePTS=null;
this.lastPTS=null;
this.frameIndex=0;
};
_proto.canParse=function canParse(data,offset){
return false;
};
_proto.appendFrame=function appendFrame(track,data,offset){}

// feed incoming data to the front of the parsing pipeline
;
_proto.demux=function demux(data,timeOffset){
if(this.cachedData){
data=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_4__.appendUint8Array)(this.cachedData,data);
this.cachedData=null;
}
var id3Data=_demux_id3__WEBPACK_IMPORTED_MODULE_1__.getID3Data(data,0);
var offset=id3Data?id3Data.length:0;
var lastDataIndex;
var track=this._audioTrack;
var id3Track=this._id3Track;
var timestamp=id3Data?_demux_id3__WEBPACK_IMPORTED_MODULE_1__.getTimeStamp(id3Data):undefined;
var length=data.length;
if(this.basePTS===null||this.frameIndex===0&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(timestamp)){
this.basePTS=_initPTSFn(timestamp,timeOffset,this.initPTS);
this.lastPTS=this.basePTS;
}
if(this.lastPTS===null){
this.lastPTS=this.basePTS;
}

// more expressive than alternative: id3Data?.length
if(id3Data&&id3Data.length>0){
id3Track.samples.push({
pts:this.lastPTS,
dts:this.lastPTS,
data:id3Data,
type:_types_demuxer__WEBPACK_IMPORTED_MODULE_2__.MetadataSchema.audioId3,
duration:Number.POSITIVE_INFINITY});

}
while(offset<length){
if(this.canParse(data,offset)){
var frame=this.appendFrame(track,data,offset);
if(frame){
this.frameIndex++;
this.lastPTS=frame.sample.pts;
offset+=frame.length;
lastDataIndex=offset;
}else{
offset=length;
}
}else if(_demux_id3__WEBPACK_IMPORTED_MODULE_1__.canParse(data,offset)){
// after a ID3.canParse, a call to ID3.getID3Data *should* always returns some data
id3Data=_demux_id3__WEBPACK_IMPORTED_MODULE_1__.getID3Data(data,offset);
id3Track.samples.push({
pts:this.lastPTS,
dts:this.lastPTS,
data:id3Data,
type:_types_demuxer__WEBPACK_IMPORTED_MODULE_2__.MetadataSchema.audioId3,
duration:Number.POSITIVE_INFINITY});

offset+=id3Data.length;
lastDataIndex=offset;
}else{
offset++;
}
if(offset===length&&lastDataIndex!==length){
var partialData=(0,_utils_typed_array__WEBPACK_IMPORTED_MODULE_5__.sliceUint8)(data,lastDataIndex);
if(this.cachedData){
this.cachedData=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_4__.appendUint8Array)(this.cachedData,partialData);
}else{
this.cachedData=partialData;
}
}
}
return{
audioTrack:track,
videoTrack:(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)(),
id3Track:id3Track,
textTrack:(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)()};

};
_proto.demuxSampleAes=function demuxSampleAes(data,keyData,timeOffset){
return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"));
};
_proto.flush=function flush(timeOffset){
// Parse cache in case of remaining frames.
var cachedData=this.cachedData;
if(cachedData){
this.cachedData=null;
this.demux(cachedData,0);
}
return{
audioTrack:this._audioTrack,
videoTrack:(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)(),
id3Track:this._id3Track,
textTrack:(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)()};

};
_proto.destroy=function destroy(){};
return BaseAudioDemuxer;
}();
/**
 * Initialize PTS
 * <p>
 *    use timestamp unless it is undefined, NaN or Infinity
 * </p>
 */
var _initPTSFn=function initPTSFn(timestamp,timeOffset,initPTS){
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(timestamp)){
return timestamp*90;
}
return timeOffset*90000+(initPTS||0);
};
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=BaseAudioDemuxer;

/***/},

/***/"./src/demux/chunk-cache.ts":
/*!**********************************!*\
  !*** ./src/demux/chunk-cache.ts ***!
  \**********************************/
/***/function srcDemuxChunkCacheTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */ChunkCache);}
/* harmony export */});
var ChunkCache=/*#__PURE__*/function(){
function ChunkCache(){
this.chunks=[];
this.dataLength=0;
}
var _proto=ChunkCache.prototype;
_proto.push=function push(chunk){
this.chunks.push(chunk);
this.dataLength+=chunk.length;
};
_proto.flush=function flush(){
var chunks=this.chunks,
dataLength=this.dataLength;
var result;
if(!chunks.length){
return new Uint8Array(0);
}else if(chunks.length===1){
result=chunks[0];
}else{
result=concatUint8Arrays(chunks,dataLength);
}
this.reset();
return result;
};
_proto.reset=function reset(){
this.chunks.length=0;
this.dataLength=0;
};
return ChunkCache;
}();

function concatUint8Arrays(chunks,dataLength){
var result=new Uint8Array(dataLength);
var offset=0;
for(var i=0;i<chunks.length;i++){
var chunk=chunks[i];
result.set(chunk,offset);
offset+=chunk.length;
}
return result;
}

/***/},

/***/"./src/demux/dummy-demuxed-track.ts":
/*!******************************************!*\
  !*** ./src/demux/dummy-demuxed-track.ts ***!
  \******************************************/
/***/function srcDemuxDummyDemuxedTrackTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"dummyTrack":function dummyTrack(){return(/* binding */_dummyTrack);}
/* harmony export */});
function _dummyTrack(type,inputTimeScale){
if(type===void 0){
type='';
}
if(inputTimeScale===void 0){
inputTimeScale=90000;
}
return{
type:type,
id:-1,
pid:-1,
inputTimeScale:inputTimeScale,
sequenceNumber:-1,
samples:[],
dropped:0};

}

/***/},

/***/"./src/demux/exp-golomb.ts":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.ts ***!
  \*********************************/
/***/function srcDemuxExpGolombTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/**
 * Parser for exponential Golomb codes, a variable-bitwidth number encoding scheme used by h264.
 */


var ExpGolomb=/*#__PURE__*/function(){
function ExpGolomb(data){
this.data=void 0;
this.bytesAvailable=void 0;
this.word=void 0;
this.bitsAvailable=void 0;
this.data=data;
// the number of bytes left to examine in this.data
this.bytesAvailable=data.byteLength;
// the current word being examined
this.word=0;// :uint
// the number of bits left to examine in the current word
this.bitsAvailable=0;// :uint
}

// ():void
var _proto=ExpGolomb.prototype;
_proto.loadWord=function loadWord(){
var data=this.data;
var bytesAvailable=this.bytesAvailable;
var position=data.byteLength-bytesAvailable;
var workingBytes=new Uint8Array(4);
var availableBytes=Math.min(4,bytesAvailable);
if(availableBytes===0){
throw new Error('no bytes available');
}
workingBytes.set(data.subarray(position,position+availableBytes));
this.word=new DataView(workingBytes.buffer).getUint32(0);
// track the amount of this.data that has been processed
this.bitsAvailable=availableBytes*8;
this.bytesAvailable-=availableBytes;
}

// (count:int):void
;
_proto.skipBits=function skipBits(count){
var skipBytes;// :int
count=Math.min(count,this.bytesAvailable*8+this.bitsAvailable);
if(this.bitsAvailable>count){
this.word<<=count;
this.bitsAvailable-=count;
}else{
count-=this.bitsAvailable;
skipBytes=count>>3;
count-=skipBytes<<3;
this.bytesAvailable-=skipBytes;
this.loadWord();
this.word<<=count;
this.bitsAvailable-=count;
}
}

// (size:int):uint
;
_proto.readBits=function readBits(size){
var bits=Math.min(this.bitsAvailable,size);// :uint
var valu=this.word>>>32-bits;// :uint
if(size>32){
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error('Cannot read more than 32 bits at a time');
}
this.bitsAvailable-=bits;
if(this.bitsAvailable>0){
this.word<<=bits;
}else if(this.bytesAvailable>0){
this.loadWord();
}else{
throw new Error('no bits available');
}
bits=size-bits;
if(bits>0&&this.bitsAvailable){
return valu<<bits|this.readBits(bits);
}else{
return valu;
}
}

// ():uint
;
_proto.skipLZ=function skipLZ(){
var leadingZeroCount;// :uint
for(leadingZeroCount=0;leadingZeroCount<this.bitsAvailable;++leadingZeroCount){
if((this.word&0x80000000>>>leadingZeroCount)!==0){
// the first bit of working word is 1
this.word<<=leadingZeroCount;
this.bitsAvailable-=leadingZeroCount;
return leadingZeroCount;
}
}
// we exhausted word and still have not found a 1
this.loadWord();
return leadingZeroCount+this.skipLZ();
}

// ():void
;
_proto.skipUEG=function skipUEG(){
this.skipBits(1+this.skipLZ());
}

// ():void
;
_proto.skipEG=function skipEG(){
this.skipBits(1+this.skipLZ());
}

// ():uint
;
_proto.readUEG=function readUEG(){
var clz=this.skipLZ();// :uint
return this.readBits(clz+1)-1;
}

// ():int
;
_proto.readEG=function readEG(){
var valu=this.readUEG();// :int
if(0x01&valu){
// the number is odd if the low order bit is set
return 1+valu>>>1;// add 1 to make it even, and divide by 2
}else{
return-1*(valu>>>1);// divide by two then make it negative
}
}

// Some convenience functions
// :Boolean
;
_proto.readBoolean=function readBoolean(){
return this.readBits(1)===1;
}

// ():int
;
_proto.readUByte=function readUByte(){
return this.readBits(8);
}

// ():int
;
_proto.readUShort=function readUShort(){
return this.readBits(16);
}

// ():int
;
_proto.readUInt=function readUInt(){
return this.readBits(32);
}

/**
   * Advance the ExpGolomb decoder past a scaling list. The scaling
   * list is optionally transmitted as part of a sequence parameter
   * set and is not relevant to transmuxing.
   * @param count the number of entries in this scaling list
   * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1
   */;
_proto.skipScalingList=function skipScalingList(count){
var lastScale=8;
var nextScale=8;
var deltaScale;
for(var j=0;j<count;j++){
if(nextScale!==0){
deltaScale=this.readEG();
nextScale=(lastScale+deltaScale+256)%256;
}
lastScale=nextScale===0?lastScale:nextScale;
}
}

/**
   * Read a sequence parameter set and return some interesting video
   * properties. A sequence parameter set is the H264 metadata that
   * describes the properties of upcoming video frames.
   * @param data {Uint8Array} the bytes of a sequence parameter set
   * @return {object} an object with configuration parsed from the
   * sequence parameter set, including the dimensions of the
   * associated video frames.
   */;
_proto.readSPS=function readSPS(){
var frameCropLeftOffset=0;
var frameCropRightOffset=0;
var frameCropTopOffset=0;
var frameCropBottomOffset=0;
var numRefFramesInPicOrderCntCycle;
var scalingListCount;
var i;
var readUByte=this.readUByte.bind(this);
var readBits=this.readBits.bind(this);
var readUEG=this.readUEG.bind(this);
var readBoolean=this.readBoolean.bind(this);
var skipBits=this.skipBits.bind(this);
var skipEG=this.skipEG.bind(this);
var skipUEG=this.skipUEG.bind(this);
var skipScalingList=this.skipScalingList.bind(this);
readUByte();
var profileIdc=readUByte();// profile_idc
readBits(5);// profileCompat constraint_set[0-4]_flag, u(5)
skipBits(3);// reserved_zero_3bits u(3),
readUByte();// level_idc u(8)
skipUEG();// seq_parameter_set_id
// some profiles have more optional data we don't need
if(profileIdc===100||profileIdc===110||profileIdc===122||profileIdc===244||profileIdc===44||profileIdc===83||profileIdc===86||profileIdc===118||profileIdc===128){
var chromaFormatIdc=readUEG();
if(chromaFormatIdc===3){
skipBits(1);
}// separate_colour_plane_flag

skipUEG();// bit_depth_luma_minus8
skipUEG();// bit_depth_chroma_minus8
skipBits(1);// qpprime_y_zero_transform_bypass_flag
if(readBoolean()){
// seq_scaling_matrix_present_flag
scalingListCount=chromaFormatIdc!==3?8:12;
for(i=0;i<scalingListCount;i++){
if(readBoolean()){
// seq_scaling_list_present_flag[ i ]
if(i<6){
skipScalingList(16);
}else{
skipScalingList(64);
}
}
}
}
}
skipUEG();// log2_max_frame_num_minus4
var picOrderCntType=readUEG();
if(picOrderCntType===0){
readUEG();// log2_max_pic_order_cnt_lsb_minus4
}else if(picOrderCntType===1){
skipBits(1);// delta_pic_order_always_zero_flag
skipEG();// offset_for_non_ref_pic
skipEG();// offset_for_top_to_bottom_field
numRefFramesInPicOrderCntCycle=readUEG();
for(i=0;i<numRefFramesInPicOrderCntCycle;i++){
skipEG();
}// offset_for_ref_frame[ i ]
}

skipUEG();// max_num_ref_frames
skipBits(1);// gaps_in_frame_num_value_allowed_flag
var picWidthInMbsMinus1=readUEG();
var picHeightInMapUnitsMinus1=readUEG();
var frameMbsOnlyFlag=readBits(1);
if(frameMbsOnlyFlag===0){
skipBits(1);
}// mb_adaptive_frame_field_flag

skipBits(1);// direct_8x8_inference_flag
if(readBoolean()){
// frame_cropping_flag
frameCropLeftOffset=readUEG();
frameCropRightOffset=readUEG();
frameCropTopOffset=readUEG();
frameCropBottomOffset=readUEG();
}
var pixelRatio=[1,1];
if(readBoolean()){
// vui_parameters_present_flag
if(readBoolean()){
// aspect_ratio_info_present_flag
var aspectRatioIdc=readUByte();
switch(aspectRatioIdc){
case 1:
pixelRatio=[1,1];
break;
case 2:
pixelRatio=[12,11];
break;
case 3:
pixelRatio=[10,11];
break;
case 4:
pixelRatio=[16,11];
break;
case 5:
pixelRatio=[40,33];
break;
case 6:
pixelRatio=[24,11];
break;
case 7:
pixelRatio=[20,11];
break;
case 8:
pixelRatio=[32,11];
break;
case 9:
pixelRatio=[80,33];
break;
case 10:
pixelRatio=[18,11];
break;
case 11:
pixelRatio=[15,11];
break;
case 12:
pixelRatio=[64,33];
break;
case 13:
pixelRatio=[160,99];
break;
case 14:
pixelRatio=[4,3];
break;
case 15:
pixelRatio=[3,2];
break;
case 16:
pixelRatio=[2,1];
break;
case 255:
{
pixelRatio=[readUByte()<<8|readUByte(),readUByte()<<8|readUByte()];
break;
}}

}
}
return{
width:Math.ceil((picWidthInMbsMinus1+1)*16-frameCropLeftOffset*2-frameCropRightOffset*2),
height:(2-frameMbsOnlyFlag)*(picHeightInMapUnitsMinus1+1)*16-(frameMbsOnlyFlag?2:4)*(frameCropTopOffset+frameCropBottomOffset),
pixelRatio:pixelRatio};

};
_proto.readSliceType=function readSliceType(){
// skip NALu type
this.readUByte();
// discard first_mb_in_slice
this.readUEG();
// return slice_type
return this.readUEG();
};
return ExpGolomb;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=ExpGolomb;

/***/},

/***/"./src/demux/id3.ts":
/*!**************************!*\
  !*** ./src/demux/id3.ts ***!
  \**************************/
/***/function srcDemuxId3Ts(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"canParse":function canParse(){return(/* binding */_canParse2);},
/* harmony export */"decodeFrame":function decodeFrame(){return(/* binding */_decodeFrame);},
/* harmony export */"getID3Data":function getID3Data(){return(/* binding */_getID3Data);},
/* harmony export */"getID3Frames":function getID3Frames(){return(/* binding */_getID3Frames);},
/* harmony export */"getTimeStamp":function getTimeStamp(){return(/* binding */_getTimeStamp);},
/* harmony export */"isFooter":function isFooter(){return(/* binding */_isFooter);},
/* harmony export */"isHeader":function isHeader(){return(/* binding */_isHeader2);},
/* harmony export */"isTimeStampFrame":function isTimeStampFrame(){return(/* binding */_isTimeStampFrame);},
/* harmony export */"testables":function testables(){return(/* binding */_testables);},
/* harmony export */"utf8ArrayToStr":function utf8ArrayToStr(){return(/* binding */_utf8ArrayToStr);}
/* harmony export */});
// breaking up those two types in order to clarify what is happening in the decoding path.

/**
 * Returns true if an ID3 header can be found at offset in data
 * @param {Uint8Array} data - The data to search in
 * @param {number} offset - The offset at which to start searching
 * @return {boolean} - True if an ID3 header is found
 */
var _isHeader2=function isHeader(data,offset){
/*
   * http://id3.org/id3v2.3.0
   * [0]     = 'I'
   * [1]     = 'D'
   * [2]     = '3'
   * [3,4]   = {Version}
   * [5]     = {Flags}
   * [6-9]   = {ID3 Size}
   *
   * An ID3v2 tag can be detected with the following pattern:
   *  $49 44 33 yy yy xx zz zz zz zz
   * Where yy is less than $FF, xx is the 'flags' byte and zz is less than $80
   */
if(offset+10<=data.length){
// look for 'ID3' identifier
if(data[offset]===0x49&&data[offset+1]===0x44&&data[offset+2]===0x33){
// check version is within range
if(data[offset+3]<0xff&&data[offset+4]<0xff){
// check size is within range
if(data[offset+6]<0x80&&data[offset+7]<0x80&&data[offset+8]<0x80&&data[offset+9]<0x80){
return true;
}
}
}
}
return false;
};

/**
 * Returns true if an ID3 footer can be found at offset in data
 * @param {Uint8Array} data - The data to search in
 * @param {number} offset - The offset at which to start searching
 * @return {boolean} - True if an ID3 footer is found
 */
var _isFooter=function isFooter(data,offset){
/*
   * The footer is a copy of the header, but with a different identifier
   */
if(offset+10<=data.length){
// look for '3DI' identifier
if(data[offset]===0x33&&data[offset+1]===0x44&&data[offset+2]===0x49){
// check version is within range
if(data[offset+3]<0xff&&data[offset+4]<0xff){
// check size is within range
if(data[offset+6]<0x80&&data[offset+7]<0x80&&data[offset+8]<0x80&&data[offset+9]<0x80){
return true;
}
}
}
}
return false;
};

/**
 * Returns any adjacent ID3 tags found in data starting at offset, as one block of data
 * @param {Uint8Array} data - The data to search in
 * @param {number} offset - The offset at which to start searching
 * @return {Uint8Array | undefined} - The block of data containing any ID3 tags found
 * or *undefined* if no header is found at the starting offset
 */
var _getID3Data=function getID3Data(data,offset){
var front=offset;
var length=0;
while(_isHeader2(data,offset)){
// ID3 header is 10 bytes
length+=10;
var size=readSize(data,offset+6);
length+=size;
if(_isFooter(data,offset+10)){
// ID3 footer is 10 bytes
length+=10;
}
offset+=length;
}
if(length>0){
return data.subarray(front,front+length);
}
return undefined;
};
var readSize=function readSize(data,offset){
var size=0;
size=(data[offset]&0x7f)<<21;
size|=(data[offset+1]&0x7f)<<14;
size|=(data[offset+2]&0x7f)<<7;
size|=data[offset+3]&0x7f;
return size;
};
var _canParse2=function canParse(data,offset){
return _isHeader2(data,offset)&&readSize(data,offset+6)+10<=data.length-offset;
};

/**
 * Searches for the Elementary Stream timestamp found in the ID3 data chunk
 * @param {Uint8Array} data - Block of data containing one or more ID3 tags
 * @return {number | undefined} - The timestamp
 */
var _getTimeStamp=function getTimeStamp(data){
var frames=_getID3Frames(data);
for(var i=0;i<frames.length;i++){
var frame=frames[i];
if(_isTimeStampFrame(frame)){
return readTimeStamp(frame);
}
}
return undefined;
};

/**
 * Returns true if the ID3 frame is an Elementary Stream timestamp frame
 * @param {ID3 frame} frame
 */
var _isTimeStampFrame=function isTimeStampFrame(frame){
return frame&&frame.key==='PRIV'&&frame.info==='com.apple.streaming.transportStreamTimestamp';
};
var getFrameData=function getFrameData(data){
/*
  Frame ID       $xx xx xx xx (four characters)
  Size           $xx xx xx xx
  Flags          $xx xx
  */
var type=String.fromCharCode(data[0],data[1],data[2],data[3]);
var size=readSize(data,4);

// skip frame id, size, and flags
var offset=10;
return{
type:type,
size:size,
data:data.subarray(offset,offset+size)};

};

/**
 * Returns an array of ID3 frames found in all the ID3 tags in the id3Data
 * @param {Uint8Array} id3Data - The ID3 data containing one or more ID3 tags
 * @return {ID3.Frame[]} - Array of ID3 frame objects
 */
var _getID3Frames=function getID3Frames(id3Data){
var offset=0;
var frames=[];
while(_isHeader2(id3Data,offset)){
var size=readSize(id3Data,offset+6);
// skip past ID3 header
offset+=10;
var end=offset+size;
// loop through frames in the ID3 tag
while(offset+8<end){
var frameData=getFrameData(id3Data.subarray(offset));
var frame=_decodeFrame(frameData);
if(frame){
frames.push(frame);
}

// skip frame header and frame data
offset+=frameData.size+10;
}
if(_isFooter(id3Data,offset)){
offset+=10;
}
}
return frames;
};
var _decodeFrame=function decodeFrame(frame){
if(frame.type==='PRIV'){
return decodePrivFrame(frame);
}else if(frame.type[0]==='W'){
return decodeURLFrame(frame);
}
return decodeTextFrame(frame);
};
var decodePrivFrame=function decodePrivFrame(frame){
/*
  Format: <text string>\0<binary data>
  */
if(frame.size<2){
return undefined;
}
var owner=_utf8ArrayToStr(frame.data,true);
var privateData=new Uint8Array(frame.data.subarray(owner.length+1));
return{
key:frame.type,
info:owner,
data:privateData.buffer};

};
var decodeTextFrame=function decodeTextFrame(frame){
if(frame.size<2){
return undefined;
}
if(frame.type==='TXXX'){
/*
    Format:
    [0]   = {Text Encoding}
    [1-?] = {Description}\0{Value}
    */
var index=1;
var description=_utf8ArrayToStr(frame.data.subarray(index),true);
index+=description.length+1;
var value=_utf8ArrayToStr(frame.data.subarray(index));
return{
key:frame.type,
info:description,
data:value};

}
/*
  Format:
  [0]   = {Text Encoding}
  [1-?] = {Value}
  */
var text=_utf8ArrayToStr(frame.data.subarray(1));
return{
key:frame.type,
data:text};

};
var decodeURLFrame=function decodeURLFrame(frame){
if(frame.type==='WXXX'){
/*
    Format:
    [0]   = {Text Encoding}
    [1-?] = {Description}\0{URL}
    */
if(frame.size<2){
return undefined;
}
var index=1;
var description=_utf8ArrayToStr(frame.data.subarray(index),true);
index+=description.length+1;
var value=_utf8ArrayToStr(frame.data.subarray(index));
return{
key:frame.type,
info:description,
data:value};

}
/*
  Format:
  [0-?] = {URL}
  */
var url=_utf8ArrayToStr(frame.data);
return{
key:frame.type,
data:url};

};
var readTimeStamp=function readTimeStamp(timeStampFrame){
if(timeStampFrame.data.byteLength===8){
var data=new Uint8Array(timeStampFrame.data);
// timestamp is 33 bit expressed as a big-endian eight-octet number,
// with the upper 31 bits set to zero.
var pts33Bit=data[3]&0x1;
var timestamp=(data[4]<<23)+(data[5]<<15)+(data[6]<<7)+data[7];
timestamp/=45;
if(pts33Bit){
timestamp+=47721858.84;
}// 2^32 / 90

return Math.round(timestamp);
}
return undefined;
};

// http://stackoverflow.com/questions/8936984/uint8array-to-string-in-javascript/22373197
// http://www.onicos.com/staff/iz/amuse/javascript/expert/utf.txt
/* utf.js - UTF-8 <=> UTF-16 convertion
 *
 * Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>
 * Version: 1.0
 * LastModified: Dec 25 1999
 * This library is free.  You can redistribute it and/or modify it.
 */
var _utf8ArrayToStr=function utf8ArrayToStr(array,exitOnNull){
if(exitOnNull===void 0){
exitOnNull=false;
}
var decoder=getTextDecoder();
if(decoder){
var decoded=decoder.decode(array);
if(exitOnNull){
// grab up to the first null
var idx=decoded.indexOf('\0');
return idx!==-1?decoded.substring(0,idx):decoded;
}

// remove any null characters
return decoded.replace(/\0/g,'');
}
var len=array.length;
var c;
var char2;
var char3;
var out='';
var i=0;
while(i<len){
c=array[i++];
if(c===0x00&&exitOnNull){
return out;
}else if(c===0x00||c===0x03){
// If the character is 3 (END_OF_TEXT) or 0 (NULL) then skip it
continue;
}
switch(c>>4){
case 0:
case 1:
case 2:
case 3:
case 4:
case 5:
case 6:
case 7:
// 0xxxxxxx
out+=String.fromCharCode(c);
break;
case 12:
case 13:
// 110x xxxx   10xx xxxx
char2=array[i++];
out+=String.fromCharCode((c&0x1f)<<6|char2&0x3f);
break;
case 14:
// 1110 xxxx  10xx xxxx  10xx xxxx
char2=array[i++];
char3=array[i++];
out+=String.fromCharCode((c&0x0f)<<12|(char2&0x3f)<<6|(char3&0x3f)<<0);
break;
default:}

}
return out;
};
var _testables={
decodeTextFrame:decodeTextFrame};

var decoder;
function getTextDecoder(){
if(!decoder&&typeof self.TextDecoder!=='undefined'){
decoder=new self.TextDecoder('utf-8');
}
return decoder;
}

/***/},

/***/"./src/demux/mp3demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.ts ***!
  \*********************************/
/***/function srcDemuxMp3demuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _base_audio_demuxer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts");
/* harmony import */var _demux_id3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../demux/id3 */"./src/demux/id3.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _mpegaudio__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./mpegaudio */"./src/demux/mpegaudio.ts");
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
/**
 * MP3 demuxer
 */




var MP3Demuxer=/*#__PURE__*/function(_BaseAudioDemuxer){
_inheritsLoose(MP3Demuxer,_BaseAudioDemuxer);
function MP3Demuxer(){
return _BaseAudioDemuxer.apply(this,arguments)||this;
}
var _proto=MP3Demuxer.prototype;
_proto.resetInitSegment=function resetInitSegment(initSegment,audioCodec,videoCodec,trackDuration){
_BaseAudioDemuxer.prototype.resetInitSegment.call(this,initSegment,audioCodec,videoCodec,trackDuration);
this._audioTrack={
container:'audio/mpeg',
type:'audio',
id:2,
pid:-1,
sequenceNumber:0,
segmentCodec:'mp3',
samples:[],
manifestCodec:audioCodec,
duration:trackDuration,
inputTimeScale:90000,
dropped:0};

};
MP3Demuxer.probe=function probe(data){
if(!data){
return false;
}

// check if data contains ID3 timestamp and MPEG sync word
// Look for MPEG header | 1111 1111 | 111X XYZX | where X can be either 0 or 1 and Y or Z should be 1
// Layer bits (position 14 and 15) in header should be always different from 0 (Layer I or Layer II or Layer III)
// More info http://www.mp3-tech.org/programmer/frame_header.html
var id3Data=_demux_id3__WEBPACK_IMPORTED_MODULE_1__.getID3Data(data,0)||[];
var offset=id3Data.length;
for(var length=data.length;offset<length;offset++){
if(_mpegaudio__WEBPACK_IMPORTED_MODULE_3__.probe(data,offset)){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.log('MPEG Audio sync word found !');
return true;
}
}
return false;
};
_proto.canParse=function canParse(data,offset){
return _mpegaudio__WEBPACK_IMPORTED_MODULE_3__.canParse(data,offset);
};
_proto.appendFrame=function appendFrame(track,data,offset){
if(this.basePTS===null){
return;
}
return _mpegaudio__WEBPACK_IMPORTED_MODULE_3__.appendFrame(track,data,offset,this.basePTS,this.frameIndex);
};
return MP3Demuxer;
}(_base_audio_demuxer__WEBPACK_IMPORTED_MODULE_0__["default"]);
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=MP3Demuxer;

/***/},

/***/"./src/demux/mp4demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.ts ***!
  \*********************************/
/***/function srcDemuxMp4demuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _types_demuxer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../types/demuxer */"./src/types/demuxer.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts");

/**
 * MP4 demuxer
 */



var emsgSchemePattern=/\/emsg[-/]ID3/i;
var MP4Demuxer=/*#__PURE__*/function(){
function MP4Demuxer(observer,config){
this.remainderData=null;
this.timeOffset=0;
this.config=void 0;
this.videoTrack=void 0;
this.audioTrack=void 0;
this.id3Track=void 0;
this.txtTrack=void 0;
this.config=config;
}
var _proto=MP4Demuxer.prototype;
_proto.resetTimeStamp=function resetTimeStamp(){};
_proto.resetInitSegment=function resetInitSegment(initSegment,audioCodec,videoCodec,trackDuration){
var videoTrack=this.videoTrack=(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)('video',1);
var audioTrack=this.audioTrack=(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)('audio',1);
var captionTrack=this.txtTrack=(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)('text',1);
this.id3Track=(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)('id3',1);
this.timeOffset=0;
if(!initSegment||!initSegment.byteLength){
return;
}
var initData=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.parseInitSegment)(initSegment);
if(initData.video){
var _initData$video=initData.video,
id=_initData$video.id,
timescale=_initData$video.timescale,
codec=_initData$video.codec;
videoTrack.id=id;
videoTrack.timescale=captionTrack.timescale=timescale;
videoTrack.codec=codec;
}
if(initData.audio){
var _initData$audio=initData.audio,
_id=_initData$audio.id,
_timescale=_initData$audio.timescale,
_codec=_initData$audio.codec;
audioTrack.id=_id;
audioTrack.timescale=_timescale;
audioTrack.codec=_codec;
}
captionTrack.id=_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.RemuxerTrackIdConfig.text;
videoTrack.sampleDuration=0;
videoTrack.duration=audioTrack.duration=trackDuration;
};
_proto.resetContiguity=function resetContiguity(){};
MP4Demuxer.probe=function probe(data){
// ensure we find a moof box in the first 16 kB
data=data.length>16384?data.subarray(0,16384):data;
return(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.findBox)(data,['moof']).length>0;
};
_proto.demux=function demux(data,timeOffset){
this.timeOffset=timeOffset;
// Load all data into the avc track. The CMAF remuxer will look for the data in the samples object; the rest of the fields do not matter
var videoSamples=data;
var videoTrack=this.videoTrack;
var textTrack=this.txtTrack;
if(this.config.progressive){
// Split the bytestream into two ranges: one encompassing all data up until the start of the last moof, and everything else.
// This is done to guarantee that we're sending valid data to MSE - when demuxing progressively, we have no guarantee
// that the fetch loader gives us flush moof+mdat pairs. If we push jagged data to MSE, it will throw an exception.
if(this.remainderData){
videoSamples=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.appendUint8Array)(this.remainderData,data);
}
var segmentedData=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.segmentValidRange)(videoSamples);
this.remainderData=segmentedData.remainder;
videoTrack.samples=segmentedData.valid||new Uint8Array();
}else{
videoTrack.samples=videoSamples;
}
var id3Track=this.extractID3Track(videoTrack,timeOffset);
textTrack.samples=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.parseSamples)(timeOffset,videoTrack);
return{
videoTrack:videoTrack,
audioTrack:this.audioTrack,
id3Track:id3Track,
textTrack:this.txtTrack};

};
_proto.flush=function flush(){
var timeOffset=this.timeOffset;
var videoTrack=this.videoTrack;
var textTrack=this.txtTrack;
videoTrack.samples=this.remainderData||new Uint8Array();
this.remainderData=null;
var id3Track=this.extractID3Track(videoTrack,this.timeOffset);
textTrack.samples=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.parseSamples)(timeOffset,videoTrack);
return{
videoTrack:videoTrack,
audioTrack:(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)(),
id3Track:id3Track,
textTrack:(0,_dummy_demuxed_track__WEBPACK_IMPORTED_MODULE_3__.dummyTrack)()};

};
_proto.extractID3Track=function extractID3Track(videoTrack,timeOffset){
var id3Track=this.id3Track;
if(videoTrack.samples.length){
var emsgs=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.findBox)(videoTrack.samples,['emsg']);
if(emsgs){
emsgs.forEach(function(data){
var emsgInfo=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.parseEmsg)(data);
if(emsgSchemePattern.test(emsgInfo.schemeIdUri)){
var pts=(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(emsgInfo.presentationTime)?emsgInfo.presentationTime/emsgInfo.timeScale:timeOffset+emsgInfo.presentationTimeDelta/emsgInfo.timeScale;
var duration=emsgInfo.eventDuration===0xffffffff?Number.POSITIVE_INFINITY:emsgInfo.eventDuration/emsgInfo.timeScale;
// Safari takes anything <= 0.001 seconds and maps it to Infinity
if(duration<=0.001){
duration=Number.POSITIVE_INFINITY;
}
var payload=emsgInfo.payload;
id3Track.samples.push({
data:payload,
len:payload.byteLength,
dts:pts,
pts:pts,
type:_types_demuxer__WEBPACK_IMPORTED_MODULE_1__.MetadataSchema.emsg,
duration:duration});

}
});
}
}
return id3Track;
};
_proto.demuxSampleAes=function demuxSampleAes(data,keyData,timeOffset){
return Promise.reject(new Error('The MP4 demuxer does not support SAMPLE-AES decryption'));
};
_proto.destroy=function destroy(){};
return MP4Demuxer;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=MP4Demuxer;

/***/},

/***/"./src/demux/mpegaudio.ts":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.ts ***!
  \********************************/
/***/function srcDemuxMpegaudioTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"appendFrame":function appendFrame(){return(/* binding */_appendFrame2);},
/* harmony export */"canParse":function canParse(){return(/* binding */_canParse3);},
/* harmony export */"isHeader":function isHeader(){return(/* binding */_isHeader3);},
/* harmony export */"isHeaderPattern":function isHeaderPattern(){return(/* binding */_isHeaderPattern2);},
/* harmony export */"parseHeader":function parseHeader(){return(/* binding */_parseHeader);},
/* harmony export */"probe":function probe(){return(/* binding */_probe2);}
/* harmony export */});
/**
 *  MPEG parser helper
 */

var chromeVersion=null;
var BitratesMap=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160];
var SamplingRateMap=[44100,48000,32000,22050,24000,16000,11025,12000,8000];
var SamplesCoefficients=[
// MPEG 2.5
[0,
// Reserved
72,
// Layer3
144,
// Layer2
12// Layer1
],
// Reserved
[0,
// Reserved
0,
// Layer3
0,
// Layer2
0// Layer1
],
// MPEG 2
[0,
// Reserved
72,
// Layer3
144,
// Layer2
12// Layer1
],
// MPEG 1
[0,
// Reserved
144,
// Layer3
144,
// Layer2
12// Layer1
]];

var BytesInSlot=[0,
// Reserved
1,
// Layer3
1,
// Layer2
4// Layer1
];

function _appendFrame2(track,data,offset,pts,frameIndex){
// Using http://www.datavoyage.com/mpgscript/mpeghdr.htm as a reference
if(offset+24>data.length){
return;
}
var header=_parseHeader(data,offset);
if(header&&offset+header.frameLength<=data.length){
var frameDuration=header.samplesPerFrame*90000/header.sampleRate;
var stamp=pts+frameIndex*frameDuration;
var sample={
unit:data.subarray(offset,offset+header.frameLength),
pts:stamp,
dts:stamp};

track.config=[];
track.channelCount=header.channelCount;
track.samplerate=header.sampleRate;
track.samples.push(sample);
return{
sample:sample,
length:header.frameLength,
missing:0};

}
}
function _parseHeader(data,offset){
var mpegVersion=data[offset+1]>>3&3;
var mpegLayer=data[offset+1]>>1&3;
var bitRateIndex=data[offset+2]>>4&15;
var sampleRateIndex=data[offset+2]>>2&3;
if(mpegVersion!==1&&bitRateIndex!==0&&bitRateIndex!==15&&sampleRateIndex!==3){
var paddingBit=data[offset+2]>>1&1;
var channelMode=data[offset+3]>>6;
var columnInBitrates=mpegVersion===3?3-mpegLayer:mpegLayer===3?3:4;
var bitRate=BitratesMap[columnInBitrates*14+bitRateIndex-1]*1000;
var columnInSampleRates=mpegVersion===3?0:mpegVersion===2?1:2;
var sampleRate=SamplingRateMap[columnInSampleRates*3+sampleRateIndex];
var channelCount=channelMode===3?1:2;// If bits of channel mode are `11` then it is a single channel (Mono)
var sampleCoefficient=SamplesCoefficients[mpegVersion][mpegLayer];
var bytesInSlot=BytesInSlot[mpegLayer];
var samplesPerFrame=sampleCoefficient*8*bytesInSlot;
var frameLength=Math.floor(sampleCoefficient*bitRate/sampleRate+paddingBit)*bytesInSlot;
if(chromeVersion===null){
var userAgent=navigator.userAgent||'';
var result=userAgent.match(/Chrome\/(\d+)/i);
chromeVersion=result?parseInt(result[1]):0;
}
var needChromeFix=!!chromeVersion&&chromeVersion<=87;
if(needChromeFix&&mpegLayer===2&&bitRate>=224000&&channelMode===0){
// Work around bug in Chromium by setting channelMode to dual-channel (01) instead of stereo (00)
data[offset+3]=data[offset+3]|0x80;
}
return{
sampleRate:sampleRate,
channelCount:channelCount,
frameLength:frameLength,
samplesPerFrame:samplesPerFrame};

}
}
function _isHeaderPattern2(data,offset){
return data[offset]===0xff&&(data[offset+1]&0xe0)===0xe0&&(data[offset+1]&0x06)!==0x00;
}
function _isHeader3(data,offset){
// Look for MPEG header | 1111 1111 | 111X XYZX | where X can be either 0 or 1 and Y or Z should be 1
// Layer bits (position 14 and 15) in header should be always different from 0 (Layer I or Layer II or Layer III)
// More info http://www.mp3-tech.org/programmer/frame_header.html
return offset+1<data.length&&_isHeaderPattern2(data,offset);
}
function _canParse3(data,offset){
var headerSize=4;
return _isHeaderPattern2(data,offset)&&headerSize<=data.length-offset;
}
function _probe2(data,offset){
// same as isHeader but we also check that MPEG frame follows last MPEG frame
// or end of data is reached
if(offset+1<data.length&&_isHeaderPattern2(data,offset)){
// MPEG header Length
var headerLength=4;
// MPEG frame Length
var header=_parseHeader(data,offset);
var frameLength=headerLength;
if(header!==null&&header!==void 0&&header.frameLength){
frameLength=header.frameLength;
}
var newOffset=offset+frameLength;
return newOffset===data.length||_isHeader3(data,newOffset);
}
return false;
}

/***/},

/***/"./src/demux/sample-aes.ts":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.ts ***!
  \*********************************/
/***/function srcDemuxSampleAesTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _crypt_decrypter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/**
 * SAMPLE-AES decrypter
 */



var SampleAesDecrypter=/*#__PURE__*/function(){
function SampleAesDecrypter(observer,config,keyData){
this.keyData=void 0;
this.decrypter=void 0;
this.keyData=keyData;
this.decrypter=new _crypt_decrypter__WEBPACK_IMPORTED_MODULE_0__["default"](config,{
removePKCS7Padding:false});

}
var _proto=SampleAesDecrypter.prototype;
_proto.decryptBuffer=function decryptBuffer(encryptedData){
return this.decrypter.decrypt(encryptedData,this.keyData.key.buffer,this.keyData.iv.buffer);
}

// AAC - encrypt all full 16 bytes blocks starting from offset 16
;
_proto.decryptAacSample=function decryptAacSample(samples,sampleIndex,callback){
var _this=this;
var curUnit=samples[sampleIndex].unit;
if(curUnit.length<=16){
// No encrypted portion in this sample (first 16 bytes is not
// encrypted, see https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/HLS_Sample_Encryption/Encryption/Encryption.html),
return;
}
var encryptedData=curUnit.subarray(16,curUnit.length-curUnit.length%16);
var encryptedBuffer=encryptedData.buffer.slice(encryptedData.byteOffset,encryptedData.byteOffset+encryptedData.length);
this.decryptBuffer(encryptedBuffer).then(function(decryptedBuffer){
var decryptedData=new Uint8Array(decryptedBuffer);
curUnit.set(decryptedData,16);
if(!_this.decrypter.isSync()){
_this.decryptAacSamples(samples,sampleIndex+1,callback);
}
});
};
_proto.decryptAacSamples=function decryptAacSamples(samples,sampleIndex,callback){
for(;;sampleIndex++){
if(sampleIndex>=samples.length){
callback();
return;
}
if(samples[sampleIndex].unit.length<32){
continue;
}
this.decryptAacSample(samples,sampleIndex,callback);
if(!this.decrypter.isSync()){
return;
}
}
}

// AVC - encrypt one 16 bytes block out of ten, starting from offset 32
;
_proto.getAvcEncryptedData=function getAvcEncryptedData(decodedData){
var encryptedDataLen=Math.floor((decodedData.length-48)/160)*16+16;
var encryptedData=new Int8Array(encryptedDataLen);
var outputPos=0;
for(var inputPos=32;inputPos<decodedData.length-16;inputPos+=160,outputPos+=16){
encryptedData.set(decodedData.subarray(inputPos,inputPos+16),outputPos);
}
return encryptedData;
};
_proto.getAvcDecryptedUnit=function getAvcDecryptedUnit(decodedData,decryptedData){
var uint8DecryptedData=new Uint8Array(decryptedData);
var inputPos=0;
for(var outputPos=32;outputPos<decodedData.length-16;outputPos+=160,inputPos+=16){
decodedData.set(uint8DecryptedData.subarray(inputPos,inputPos+16),outputPos);
}
return decodedData;
};
_proto.decryptAvcSample=function decryptAvcSample(samples,sampleIndex,unitIndex,callback,curUnit){
var _this2=this;
var decodedData=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_1__.discardEPB)(curUnit.data);
var encryptedData=this.getAvcEncryptedData(decodedData);
this.decryptBuffer(encryptedData.buffer).then(function(decryptedBuffer){
curUnit.data=_this2.getAvcDecryptedUnit(decodedData,decryptedBuffer);
if(!_this2.decrypter.isSync()){
_this2.decryptAvcSamples(samples,sampleIndex,unitIndex+1,callback);
}
});
};
_proto.decryptAvcSamples=function decryptAvcSamples(samples,sampleIndex,unitIndex,callback){
if(samples instanceof Uint8Array){
throw new Error('Cannot decrypt samples of type Uint8Array');
}
for(;;sampleIndex++,unitIndex=0){
if(sampleIndex>=samples.length){
callback();
return;
}
var curUnits=samples[sampleIndex].units;
for(;;unitIndex++){
if(unitIndex>=curUnits.length){
break;
}
var curUnit=curUnits[unitIndex];
if(curUnit.data.length<=48||curUnit.type!==1&&curUnit.type!==5){
continue;
}
this.decryptAvcSample(samples,sampleIndex,unitIndex,callback,curUnit);
if(!this.decrypter.isSync()){
return;
}
}
}
};
return SampleAesDecrypter;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=SampleAesDecrypter;

/***/},

/***/"./src/demux/transmuxer-interface.ts":
/*!*******************************************!*\
  !*** ./src/demux/transmuxer-interface.ts ***!
  \*******************************************/
/***/function srcDemuxTransmuxerInterfaceTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */TransmuxerInterface);}
/* harmony export */});
/* harmony import */var _webworkify_webpack__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./webworkify-webpack */"./src/demux/webworkify-webpack.js");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _utils_mediasource_helper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_6___default=/*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_6__);







var MediaSource=(0,_utils_mediasource_helper__WEBPACK_IMPORTED_MODULE_5__.getMediaSource)()||{
isTypeSupported:function isTypeSupported(){
return false;
}};

var TransmuxerInterface=/*#__PURE__*/function(){
function TransmuxerInterface(hls,id,onTransmuxComplete,onFlush){
var _this=this;
this.hls=void 0;
this.id=void 0;
this.observer=void 0;
this.frag=null;
this.part=null;
this.useWorker=void 0;
this.worker=void 0;
this.onwmsg=void 0;
this.transmuxer=null;
this.onTransmuxComplete=void 0;
this.onFlush=void 0;
var config=hls.config;
this.hls=hls;
this.id=id;
this.useWorker=!!config.enableWorker;
this.onTransmuxComplete=onTransmuxComplete;
this.onFlush=onFlush;
var forwardMessage=function forwardMessage(ev,data){
data=data||{};
data.frag=_this.frag;
data.id=_this.id;
_this.hls.trigger(ev,data);
};

// forward events to main thread
this.observer=new eventemitter3__WEBPACK_IMPORTED_MODULE_6__.EventEmitter();
this.observer.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_DECRYPTED,forwardMessage);
this.observer.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,forwardMessage);
var typeSupported={
mp4:MediaSource.isTypeSupported('video/mp4'),
mpeg:MediaSource.isTypeSupported('audio/mpeg'),
mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};

// navigator.vendor is not always available in Web Worker
// refer to https://developer.mozilla.org/en-US/docs/Web/API/WorkerGlobalScope/navigator
var vendor=navigator.vendor;
if(this.useWorker&&typeof Worker!=='undefined'){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.log('demuxing in webworker');
var worker;
try{
worker=this.worker=(0,_webworkify_webpack__WEBPACK_IMPORTED_MODULE_0__["default"])(/*require.resolve*/ /*! ../demux/transmuxer-worker.ts */"./src/demux/transmuxer-worker.ts");
this.onwmsg=this.onWorkerMessage.bind(this);
worker.addEventListener('message',this.onwmsg);
worker.onerror=function(event){
_this.useWorker=false;
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn('Exception in webworker, fallback to inline');
_this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorTypes.OTHER_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorDetails.INTERNAL_EXCEPTION,
fatal:false,
event:'demuxerWorker',
error:new Error(event.message+"  ("+event.filename+":"+event.lineno+")")});

};
worker.postMessage({
cmd:'init',
typeSupported:typeSupported,
vendor:vendor,
id:id,
config:JSON.stringify(config)});

}catch(err){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn('Error in worker:',err);
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.error('Error while initializing DemuxerWorker, fallback to inline');
if(worker){
// revoke the Object URL that was used to create transmuxer worker, so as not to leak it
self.URL.revokeObjectURL(worker.objectURL);
}
this.transmuxer=new _demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__["default"](this.observer,typeSupported,config,vendor,id);
this.worker=null;
}
}else{
this.transmuxer=new _demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__["default"](this.observer,typeSupported,config,vendor,id);
}
}
var _proto=TransmuxerInterface.prototype;
_proto.destroy=function destroy(){
var w=this.worker;
if(w){
w.removeEventListener('message',this.onwmsg);
w.terminate();
this.worker=null;
this.onwmsg=undefined;
}else{
var transmuxer=this.transmuxer;
if(transmuxer){
transmuxer.destroy();
this.transmuxer=null;
}
}
var observer=this.observer;
if(observer){
observer.removeAllListeners();
}
this.frag=null;
// @ts-ignore
this.observer=null;
// @ts-ignore
this.hls=null;
};
_proto.push=function push(data,initSegmentData,audioCodec,videoCodec,frag,part,duration,accurateTimeOffset,chunkMeta,defaultInitPTS){
var _frag$initSegment,
_lastFrag$initSegment,
_this2=this;
chunkMeta.transmuxing.start=self.performance.now();
var transmuxer=this.transmuxer,
worker=this.worker;
var timeOffset=part?part.start:frag.start;
// TODO: push "clear-lead" decrypt data for unencrypted fragments in streams with encrypted ones
var decryptdata=frag.decryptdata;
var lastFrag=this.frag;
var discontinuity=!(lastFrag&&frag.cc===lastFrag.cc);
var trackSwitch=!(lastFrag&&chunkMeta.level===lastFrag.level);
var snDiff=lastFrag?chunkMeta.sn-lastFrag.sn:-1;
var partDiff=this.part?chunkMeta.part-this.part.index:-1;
var progressive=snDiff===0&&chunkMeta.id>1&&chunkMeta.id===(lastFrag===null||lastFrag===void 0?void 0:lastFrag.stats.chunkCount);
var contiguous=!trackSwitch&&(snDiff===1||snDiff===0&&(partDiff===1||progressive&&partDiff<=0));
var now=self.performance.now();
if(trackSwitch||snDiff||frag.stats.parsing.start===0){
frag.stats.parsing.start=now;
}
if(part&&(partDiff||!contiguous)){
part.stats.parsing.start=now;
}
var initSegmentChange=!(lastFrag&&((_frag$initSegment=frag.initSegment)===null||_frag$initSegment===void 0?void 0:_frag$initSegment.url)===((_lastFrag$initSegment=lastFrag.initSegment)===null||_lastFrag$initSegment===void 0?void 0:_lastFrag$initSegment.url));
var state=new _demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__.TransmuxState(discontinuity,contiguous,accurateTimeOffset,trackSwitch,timeOffset,initSegmentChange);
if(!contiguous||discontinuity||initSegmentChange){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.log("[transmuxer-interface, "+frag.type+"]: Starting new transmux session for sn: "+chunkMeta.sn+" p: "+chunkMeta.part+" level: "+chunkMeta.level+" id: "+chunkMeta.id+"\n        discontinuity: "+discontinuity+"\n        trackSwitch: "+trackSwitch+"\n        contiguous: "+contiguous+"\n        accurateTimeOffset: "+accurateTimeOffset+"\n        timeOffset: "+timeOffset+"\n        initSegmentChange: "+initSegmentChange);
var config=new _demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__.TransmuxConfig(audioCodec,videoCodec,initSegmentData,duration,defaultInitPTS);
this.configureTransmuxer(config);
}
this.frag=frag;
this.part=part;

// Frags with sn of 'initSegment' are not transmuxed
if(worker){
// post fragment payload as transferable objects for ArrayBuffer (no copy)
worker.postMessage({
cmd:'demux',
data:data,
decryptdata:decryptdata,
chunkMeta:chunkMeta,
state:state},
data instanceof ArrayBuffer?[data]:[]);
}else if(transmuxer){
var _transmuxResult=transmuxer.push(data,decryptdata,chunkMeta,state);
if((0,_demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__.isPromise)(_transmuxResult)){
transmuxer.async=true;
_transmuxResult.then(function(data){
_this2.handleTransmuxComplete(data);
}).catch(function(error){
_this2.transmuxerError(error,chunkMeta,'transmuxer-interface push error');
});
}else{
transmuxer.async=false;
this.handleTransmuxComplete(_transmuxResult);
}
}
};
_proto.flush=function flush(chunkMeta){
var _this3=this;
chunkMeta.transmuxing.start=self.performance.now();
var transmuxer=this.transmuxer,
worker=this.worker;
if(worker){
1;
worker.postMessage({
cmd:'flush',
chunkMeta:chunkMeta});

}else if(transmuxer){
var _transmuxResult2=transmuxer.flush(chunkMeta);
var asyncFlush=(0,_demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__.isPromise)(_transmuxResult2);
if(asyncFlush||transmuxer.async){
if(!(0,_demux_transmuxer__WEBPACK_IMPORTED_MODULE_2__.isPromise)(_transmuxResult2)){
_transmuxResult2=Promise.resolve(_transmuxResult2);
}
_transmuxResult2.then(function(data){
_this3.handleFlushResult(data,chunkMeta);
}).catch(function(error){
_this3.transmuxerError(error,chunkMeta,'transmuxer-interface flush error');
});
}else{
this.handleFlushResult(_transmuxResult2,chunkMeta);
}
}
};
_proto.transmuxerError=function transmuxerError(error,chunkMeta,reason){
if(!this.hls){
return;
}
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorDetails.FRAG_PARSING_ERROR,
chunkMeta:chunkMeta,
fatal:false,
error:error,
err:error,
reason:reason});

};
_proto.handleFlushResult=function handleFlushResult(results,chunkMeta){
var _this4=this;
results.forEach(function(result){
_this4.handleTransmuxComplete(result);
});
this.onFlush(chunkMeta);
};
_proto.onWorkerMessage=function onWorkerMessage(ev){
var data=ev.data;
var hls=this.hls;
switch(data.event){
case'init':
{
// revoke the Object URL that was used to create transmuxer worker, so as not to leak it
self.URL.revokeObjectURL(this.worker.objectURL);
break;
}
case'transmuxComplete':
{
this.handleTransmuxComplete(data.data);
break;
}
case'flush':
{
this.onFlush(data.data);
break;
}

// pass logs from the worker thread to the main logger
case'workerLog':
if(_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger[data.data.logType]){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger[data.data.logType](data.data.message);
}
break;
default:
{
data.data=data.data||{};
data.data.frag=this.frag;
data.data.id=this.id;
hls.trigger(data.event,data.data);
break;
}}

};
_proto.configureTransmuxer=function configureTransmuxer(config){
var worker=this.worker,
transmuxer=this.transmuxer;
if(worker){
worker.postMessage({
cmd:'configure',
config:config});

}else if(transmuxer){
transmuxer.configure(config);
}
};
_proto.handleTransmuxComplete=function handleTransmuxComplete(result){
result.chunkMeta.transmuxing.end=self.performance.now();
this.onTransmuxComplete(result);
};
return TransmuxerInterface;
}();


/***/},

/***/"./src/demux/transmuxer-worker.ts":
/*!****************************************!*\
  !*** ./src/demux/transmuxer-worker.ts ***!
  \****************************************/
/***/function srcDemuxTransmuxerWorkerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */TransmuxerWorker);}
/* harmony export */});
/* harmony import */var _demux_transmuxer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_3___default=/*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../errors */"./src/errors.ts");





function TransmuxerWorker(self){
var observer=new eventemitter3__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();
var forwardMessage=function forwardMessage(ev,data){
self.postMessage({
event:ev,
data:data});

};

// forward events to main thread
observer.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.FRAG_DECRYPTED,forwardMessage);
observer.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,forwardMessage);

// forward logger events to main thread
var forwardWorkerLogs=function forwardWorkerLogs(){
var _loop=function _loop(logFn){
var func=function func(message){
forwardMessage('workerLog',{
logType:logFn,
message:message});

};
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger[logFn]=func;
};
for(var logFn in _utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger){
_loop(logFn);
}
};
self.addEventListener('message',function(ev){
var data=ev.data;
switch(data.cmd){
case'init':
{
var config=JSON.parse(data.config);
self.transmuxer=new _demux_transmuxer__WEBPACK_IMPORTED_MODULE_0__["default"](observer,data.typeSupported,config,data.vendor,data.id);
(0,_utils_logger__WEBPACK_IMPORTED_MODULE_2__.enableLogs)(config.debug,data.id);
forwardWorkerLogs();
forwardMessage('init',null);
break;
}
case'configure':
{
self.transmuxer.configure(data.config);
break;
}
case'demux':
{
var transmuxResult=self.transmuxer.push(data.data,data.decryptdata,data.chunkMeta,data.state);
if((0,_demux_transmuxer__WEBPACK_IMPORTED_MODULE_0__.isPromise)(transmuxResult)){
self.transmuxer.async=true;
transmuxResult.then(function(data){
emitTransmuxComplete(self,data);
}).catch(function(error){
forwardMessage(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorDetails.FRAG_PARSING_ERROR,
chunkMeta:data.chunkMeta,
fatal:false,
error:error,
err:error,
reason:"transmuxer-worker push error"});

});
}else{
self.transmuxer.async=false;
emitTransmuxComplete(self,transmuxResult);
}
break;
}
case'flush':
{
var id=data.chunkMeta;
var _transmuxResult=self.transmuxer.flush(id);
var asyncFlush=(0,_demux_transmuxer__WEBPACK_IMPORTED_MODULE_0__.isPromise)(_transmuxResult);
if(asyncFlush||self.transmuxer.async){
if(!(0,_demux_transmuxer__WEBPACK_IMPORTED_MODULE_0__.isPromise)(_transmuxResult)){
_transmuxResult=Promise.resolve(_transmuxResult);
}
_transmuxResult.then(function(results){
handleFlushResult(self,results,id);
}).catch(function(error){
forwardMessage(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorDetails.FRAG_PARSING_ERROR,
chunkMeta:data.chunkMeta,
fatal:false,
error:error,
err:error,
reason:"transmuxer-worker flush error"});

});
}else{
handleFlushResult(self,_transmuxResult,id);
}
break;
}
default:
break;}

});
}
function emitTransmuxComplete(self,transmuxResult){
if(isEmptyResult(transmuxResult.remuxResult)){
return false;
}
var transferable=[];
var _transmuxResult$remux=transmuxResult.remuxResult,
audio=_transmuxResult$remux.audio,
video=_transmuxResult$remux.video;
if(audio){
addToTransferable(transferable,audio);
}
if(video){
addToTransferable(transferable,video);
}
self.postMessage({
event:'transmuxComplete',
data:transmuxResult},
transferable);
return true;
}

// Converts data to a transferable object https://developers.google.com/web/updates/2011/12/Transferable-Objects-Lightning-Fast)
// in order to minimize message passing overhead
function addToTransferable(transferable,track){
if(track.data1){
transferable.push(track.data1.buffer);
}
if(track.data2){
transferable.push(track.data2.buffer);
}
}
function handleFlushResult(self,results,chunkMeta){
var parsed=results.reduce(function(parsed,result){
return emitTransmuxComplete(self,result)||parsed;
},false);
if(!parsed){
// Emit at least one "transmuxComplete" message even if media is not found to update stream-controller state to PARSING
self.postMessage({
event:'transmuxComplete',
data:results[0]});

}
self.postMessage({
event:'flush',
data:chunkMeta});

}
function isEmptyResult(remuxResult){
return!remuxResult.audio&&!remuxResult.video&&!remuxResult.text&&!remuxResult.id3&&!remuxResult.initSegment;
}

/***/},

/***/"./src/demux/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/transmuxer.ts ***!
  \*********************************/
/***/function srcDemuxTransmuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"TransmuxConfig":function TransmuxConfig(){return(/* binding */_TransmuxConfig);},
/* harmony export */"TransmuxState":function TransmuxState(){return(/* binding */_TransmuxState);},
/* harmony export */"default":function _default(){return(/* binding */Transmuxer);},
/* harmony export */"isPromise":function isPromise(){return(/* binding */_isPromise);}
/* harmony export */});
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _crypt_decrypter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts");
/* harmony import */var _demux_aacdemuxer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.ts");
/* harmony import */var _demux_mp4demuxer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.ts");
/* harmony import */var _demux_tsdemuxer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.ts");
/* harmony import */var _demux_mp3demuxer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.ts");
/* harmony import */var _remux_mp4_remuxer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts");
/* harmony import */var _remux_passthrough_remuxer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");










var now;
// performance.now() not available on WebWorker, at least on Safari Desktop
try{
now=self.performance.now.bind(self.performance);
}catch(err){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.debug('Unable to use Performance API on this environment');
now=self.Date.now;
}
var muxConfig=[{
demux:_demux_mp4demuxer__WEBPACK_IMPORTED_MODULE_4__["default"],
remux:_remux_passthrough_remuxer__WEBPACK_IMPORTED_MODULE_8__["default"]},
{
demux:_demux_tsdemuxer__WEBPACK_IMPORTED_MODULE_5__["default"],
remux:_remux_mp4_remuxer__WEBPACK_IMPORTED_MODULE_7__["default"]},
{
demux:_demux_aacdemuxer__WEBPACK_IMPORTED_MODULE_3__["default"],
remux:_remux_mp4_remuxer__WEBPACK_IMPORTED_MODULE_7__["default"]},
{
demux:_demux_mp3demuxer__WEBPACK_IMPORTED_MODULE_6__["default"],
remux:_remux_mp4_remuxer__WEBPACK_IMPORTED_MODULE_7__["default"]}];

var Transmuxer=/*#__PURE__*/function(){
function Transmuxer(observer,typeSupported,config,vendor,id){
this.async=false;
this.observer=void 0;
this.typeSupported=void 0;
this.config=void 0;
this.vendor=void 0;
this.id=void 0;
this.demuxer=void 0;
this.remuxer=void 0;
this.decrypter=void 0;
this.probe=void 0;
this.decryptionPromise=null;
this.transmuxConfig=void 0;
this.currentTransmuxState=void 0;
this.observer=observer;
this.typeSupported=typeSupported;
this.config=config;
this.vendor=vendor;
this.id=id;
}
var _proto=Transmuxer.prototype;
_proto.configure=function configure(transmuxConfig){
this.transmuxConfig=transmuxConfig;
if(this.decrypter){
this.decrypter.reset();
}
};
_proto.push=function push(data,decryptdata,chunkMeta,state){
var _this=this;
var stats=chunkMeta.transmuxing;
stats.executeStart=now();
var uintData=new Uint8Array(data);
var currentTransmuxState=this.currentTransmuxState,
transmuxConfig=this.transmuxConfig;
if(state){
this.currentTransmuxState=state;
}
var _ref=state||currentTransmuxState,
contiguous=_ref.contiguous,
discontinuity=_ref.discontinuity,
trackSwitch=_ref.trackSwitch,
accurateTimeOffset=_ref.accurateTimeOffset,
timeOffset=_ref.timeOffset,
initSegmentChange=_ref.initSegmentChange;
var audioCodec=transmuxConfig.audioCodec,
videoCodec=transmuxConfig.videoCodec,
defaultInitPts=transmuxConfig.defaultInitPts,
duration=transmuxConfig.duration,
initSegmentData=transmuxConfig.initSegmentData;
var keyData=getEncryptionType(uintData,decryptdata);
if(keyData&&keyData.method==='AES-128'){
var decrypter=this.getDecrypter();
// Software decryption is synchronous; webCrypto is not
if(decrypter.isSync()){
// Software decryption is progressive. Progressive decryption may not return a result on each call. Any cached
// data is handled in the flush() call
var decryptedData=decrypter.softwareDecrypt(uintData,keyData.key.buffer,keyData.iv.buffer);
// For Low-Latency HLS Parts, decrypt in place, since part parsing is expected on push progress
var loadingParts=chunkMeta.part>-1;
if(loadingParts){
decryptedData=decrypter.flush();
}
if(!decryptedData){
stats.executeEnd=now();
return emptyResult(chunkMeta);
}
uintData=new Uint8Array(decryptedData);
}else{
this.decryptionPromise=decrypter.webCryptoDecrypt(uintData,keyData.key.buffer,keyData.iv.buffer).then(function(decryptedData){
// Calling push here is important; if flush() is called while this is still resolving, this ensures that
// the decrypted data has been transmuxed
var result=_this.push(decryptedData,null,chunkMeta);
_this.decryptionPromise=null;
return result;
});
return this.decryptionPromise;
}
}
var resetMuxers=this.needsProbing(discontinuity,trackSwitch);
if(resetMuxers){
this.configureTransmuxer(uintData);
}
if(discontinuity||trackSwitch||initSegmentChange||resetMuxers){
this.resetInitSegment(initSegmentData,audioCodec,videoCodec,duration,decryptdata);
}
if(discontinuity||initSegmentChange||resetMuxers){
this.resetInitialTimestamp(defaultInitPts);
}
if(!contiguous){
this.resetContiguity();
}
var result=this.transmux(uintData,keyData,timeOffset,accurateTimeOffset,chunkMeta);
var currentState=this.currentTransmuxState;
currentState.contiguous=true;
currentState.discontinuity=false;
currentState.trackSwitch=false;
stats.executeEnd=now();
return result;
}

// Due to data caching, flush calls can produce more than one TransmuxerResult (hence the Array type)
;
_proto.flush=function flush(chunkMeta){
var _this2=this;
var stats=chunkMeta.transmuxing;
stats.executeStart=now();
var decrypter=this.decrypter,
currentTransmuxState=this.currentTransmuxState,
decryptionPromise=this.decryptionPromise;
if(decryptionPromise){
// Upon resolution, the decryption promise calls push() and returns its TransmuxerResult up the stack. Therefore
// only flushing is required for async decryption
return decryptionPromise.then(function(){
return _this2.flush(chunkMeta);
});
}
var transmuxResults=[];
var timeOffset=currentTransmuxState.timeOffset;
if(decrypter){
// The decrypter may have data cached, which needs to be demuxed. In this case we'll have two TransmuxResults
// This happens in the case that we receive only 1 push call for a segment (either for non-progressive downloads,
// or for progressive downloads with small segments)
var decryptedData=decrypter.flush();
if(decryptedData){
// Push always returns a TransmuxerResult if decryptdata is null
transmuxResults.push(this.push(decryptedData,null,chunkMeta));
}
}
var demuxer=this.demuxer,
remuxer=this.remuxer;
if(!demuxer||!remuxer){
// If probing failed, then Hls.js has been given content its not able to handle
this.observer.emit(_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,_events__WEBPACK_IMPORTED_MODULE_0__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.FRAG_PARSING_ERROR,
fatal:true,
reason:'no demux matching with content found'});

stats.executeEnd=now();
return[emptyResult(chunkMeta)];
}
var demuxResultOrPromise=demuxer.flush(timeOffset);
if(_isPromise(demuxResultOrPromise)){
// Decrypt final SAMPLE-AES samples
return demuxResultOrPromise.then(function(demuxResult){
_this2.flushRemux(transmuxResults,demuxResult,chunkMeta);
return transmuxResults;
});
}
this.flushRemux(transmuxResults,demuxResultOrPromise,chunkMeta);
return transmuxResults;
};
_proto.flushRemux=function flushRemux(transmuxResults,demuxResult,chunkMeta){
var audioTrack=demuxResult.audioTrack,
videoTrack=demuxResult.videoTrack,
id3Track=demuxResult.id3Track,
textTrack=demuxResult.textTrack;
var _this$currentTransmux=this.currentTransmuxState,
accurateTimeOffset=_this$currentTransmux.accurateTimeOffset,
timeOffset=_this$currentTransmux.timeOffset;
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("[transmuxer.ts]: Flushed fragment "+chunkMeta.sn+(chunkMeta.part>-1?' p: '+chunkMeta.part:'')+" of level "+chunkMeta.level);
var remuxResult=this.remuxer.remux(audioTrack,videoTrack,id3Track,textTrack,timeOffset,accurateTimeOffset,true,this.id);
transmuxResults.push({
remuxResult:remuxResult,
chunkMeta:chunkMeta});

chunkMeta.transmuxing.executeEnd=now();
};
_proto.resetInitialTimestamp=function resetInitialTimestamp(defaultInitPts){
var demuxer=this.demuxer,
remuxer=this.remuxer;
if(!demuxer||!remuxer){
return;
}
demuxer.resetTimeStamp(defaultInitPts);
remuxer.resetTimeStamp(defaultInitPts);
};
_proto.resetContiguity=function resetContiguity(){
var demuxer=this.demuxer,
remuxer=this.remuxer;
if(!demuxer||!remuxer){
return;
}
demuxer.resetContiguity();
remuxer.resetNextTimestamp();
};
_proto.resetInitSegment=function resetInitSegment(initSegmentData,audioCodec,videoCodec,trackDuration,decryptdata){
var demuxer=this.demuxer,
remuxer=this.remuxer;
if(!demuxer||!remuxer){
return;
}
demuxer.resetInitSegment(initSegmentData,audioCodec,videoCodec,trackDuration);
remuxer.resetInitSegment(initSegmentData,audioCodec,videoCodec,decryptdata);
};
_proto.destroy=function destroy(){
if(this.demuxer){
this.demuxer.destroy();
this.demuxer=undefined;
}
if(this.remuxer){
this.remuxer.destroy();
this.remuxer=undefined;
}
};
_proto.transmux=function transmux(data,keyData,timeOffset,accurateTimeOffset,chunkMeta){
var result;
if(keyData&&keyData.method==='SAMPLE-AES'){
result=this.transmuxSampleAes(data,keyData,timeOffset,accurateTimeOffset,chunkMeta);
}else{
result=this.transmuxUnencrypted(data,timeOffset,accurateTimeOffset,chunkMeta);
}
return result;
};
_proto.transmuxUnencrypted=function transmuxUnencrypted(data,timeOffset,accurateTimeOffset,chunkMeta){
var _demux=this.demuxer.demux(data,timeOffset,false,!this.config.progressive),
audioTrack=_demux.audioTrack,
videoTrack=_demux.videoTrack,
id3Track=_demux.id3Track,
textTrack=_demux.textTrack;
var remuxResult=this.remuxer.remux(audioTrack,videoTrack,id3Track,textTrack,timeOffset,accurateTimeOffset,false,this.id);
return{
remuxResult:remuxResult,
chunkMeta:chunkMeta};

};
_proto.transmuxSampleAes=function transmuxSampleAes(data,decryptData,timeOffset,accurateTimeOffset,chunkMeta){
var _this3=this;
return this.demuxer.demuxSampleAes(data,decryptData,timeOffset).then(function(demuxResult){
var remuxResult=_this3.remuxer.remux(demuxResult.audioTrack,demuxResult.videoTrack,demuxResult.id3Track,demuxResult.textTrack,timeOffset,accurateTimeOffset,false,_this3.id);
return{
remuxResult:remuxResult,
chunkMeta:chunkMeta};

});
};
_proto.configureTransmuxer=function configureTransmuxer(data){
var config=this.config,
observer=this.observer,
typeSupported=this.typeSupported,
vendor=this.vendor;
// probe for content type
var mux;
for(var i=0,len=muxConfig.length;i<len;i++){
if(muxConfig[i].demux.probe(data)){
mux=muxConfig[i];
break;
}
}
if(!mux){
// If probing previous configs fail, use mp4 passthrough
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.warn('Failed to find demuxer by probing frag, treating as mp4 passthrough');
mux={
demux:_demux_mp4demuxer__WEBPACK_IMPORTED_MODULE_4__["default"],
remux:_remux_passthrough_remuxer__WEBPACK_IMPORTED_MODULE_8__["default"]};

}
// so let's check that current remuxer and demuxer are still valid
var demuxer=this.demuxer;
var remuxer=this.remuxer;
var Remuxer=mux.remux;
var Demuxer=mux.demux;
if(!remuxer||!(remuxer instanceof Remuxer)){
this.remuxer=new Remuxer(observer,config,typeSupported,vendor);
}
if(!demuxer||!(demuxer instanceof Demuxer)){
this.demuxer=new Demuxer(observer,config,typeSupported);
this.probe=Demuxer.probe;
}
};
_proto.needsProbing=function needsProbing(discontinuity,trackSwitch){
// in case of continuity change, or track switch
// we might switch from content type (AAC container to TS container, or TS to fmp4 for example)
return!this.demuxer||!this.remuxer||discontinuity||trackSwitch;
};
_proto.getDecrypter=function getDecrypter(){
var decrypter=this.decrypter;
if(!decrypter){
decrypter=this.decrypter=new _crypt_decrypter__WEBPACK_IMPORTED_MODULE_2__["default"](this.config);
}
return decrypter;
};
return Transmuxer;
}();

function getEncryptionType(data,decryptData){
var encryptionType=null;
if(data.byteLength>0&&decryptData!=null&&decryptData.key!=null&&decryptData.iv!==null&&decryptData.method!=null){
encryptionType=decryptData;
}
return encryptionType;
}
var emptyResult=function emptyResult(chunkMeta){
return{
remuxResult:{},
chunkMeta:chunkMeta};

};
function _isPromise(p){
return'then'in p&&p.then instanceof Function;
}
var _TransmuxConfig=function TransmuxConfig(audioCodec,videoCodec,initSegmentData,duration,defaultInitPts){
this.audioCodec=void 0;
this.videoCodec=void 0;
this.initSegmentData=void 0;
this.duration=void 0;
this.defaultInitPts=void 0;
this.audioCodec=audioCodec;
this.videoCodec=videoCodec;
this.initSegmentData=initSegmentData;
this.duration=duration;
this.defaultInitPts=defaultInitPts;
};
var _TransmuxState=function TransmuxState(discontinuity,contiguous,accurateTimeOffset,trackSwitch,timeOffset,initSegmentChange){
this.discontinuity=void 0;
this.contiguous=void 0;
this.accurateTimeOffset=void 0;
this.trackSwitch=void 0;
this.timeOffset=void 0;
this.initSegmentChange=void 0;
this.discontinuity=discontinuity;
this.contiguous=contiguous;
this.accurateTimeOffset=accurateTimeOffset;
this.trackSwitch=trackSwitch;
this.timeOffset=timeOffset;
this.initSegmentChange=initSegmentChange;
};

/***/},

/***/"./src/demux/tsdemuxer.ts":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.ts ***!
  \********************************/
/***/function srcDemuxTsdemuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _adts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./adts */"./src/demux/adts.ts");
/* harmony import */var _mpegaudio__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./mpegaudio */"./src/demux/mpegaudio.ts");
/* harmony import */var _exp_golomb__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./exp-golomb */"./src/demux/exp-golomb.ts");
/* harmony import */var _sample_aes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./sample-aes */"./src/demux/sample-aes.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _types_demuxer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../types/demuxer */"./src/types/demuxer.ts");
function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
/**
 * highly optimized TS demuxer:
 * parse PAT, PMT
 * extract PES packet from audio and video PIDs
 * extract AVC/H264 NAL units and AAC/ADTS samples from PES packet
 * trigger the remuxer upon parsing completion
 * it also tries to workaround as best as it can audio codec switch (HE-AAC to AAC and vice versa), without having to restart the MediaSource.
 * it also controls the remuxing process :
 * upon discontinuity or level switch detection, it will also notifies the remuxer so that it can reset its state.
 */










var PACKET_LENGTH=188;
var TSDemuxer=/*#__PURE__*/function(){
function TSDemuxer(observer,config,typeSupported){
this.observer=void 0;
this.config=void 0;
this.typeSupported=void 0;
this.sampleAes=null;
this.pmtParsed=false;
this.audioCodec=void 0;
this.videoCodec=void 0;
this._duration=0;
this._pmtId=-1;
this._avcTrack=void 0;
this._audioTrack=void 0;
this._id3Track=void 0;
this._txtTrack=void 0;
this.aacOverFlow=null;
this.avcSample=null;
this.remainderData=null;
this.observer=observer;
this.config=config;
this.typeSupported=typeSupported;
}
TSDemuxer.probe=function probe(data){
var syncOffset=TSDemuxer.syncOffset(data);
if(syncOffset>0){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn("MPEG2-TS detected but first sync word found @ offset "+syncOffset);
}
return syncOffset!==-1;
};
TSDemuxer.syncOffset=function syncOffset(data){
var scanwindow=Math.min(PACKET_LENGTH*5,data.length-PACKET_LENGTH)+1;
var i=0;
while(i<scanwindow){
// a TS init segment should contain at least 2 TS packets: PAT and PMT, each starting with 0x47
var foundPat=false;
for(var j=0;j<scanwindow;j+=PACKET_LENGTH){
if(data[j]===0x47){
if(!foundPat&&parsePID(data,j)===0){
foundPat=true;
}
if(foundPat&&j+PACKET_LENGTH>scanwindow){
return i;
}
}else{
break;
}
}
i++;
}
return-1;
}

/**
   * Creates a track model internal to demuxer used to drive remuxing input
   *
   * @param type 'audio' | 'video' | 'id3' | 'text'
   * @param duration
   * @return TSDemuxer's internal track model
   */;
TSDemuxer.createTrack=function createTrack(type,duration){
return{
container:type==='video'||type==='audio'?'video/mp2t':undefined,
type:type,
id:_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_5__.RemuxerTrackIdConfig[type],
pid:-1,
inputTimeScale:90000,
sequenceNumber:0,
samples:[],
dropped:0,
duration:type==='audio'?duration:undefined};

}

/**
   * Initializes a new init segment on the demuxer/remuxer interface. Needed for discontinuities/track-switches (or at stream start)
   * Resets all internal track instances of the demuxer.
   */;
var _proto=TSDemuxer.prototype;
_proto.resetInitSegment=function resetInitSegment(initSegment,audioCodec,videoCodec,trackDuration){
this.pmtParsed=false;
this._pmtId=-1;
this._avcTrack=TSDemuxer.createTrack('video');
this._audioTrack=TSDemuxer.createTrack('audio',trackDuration);
this._id3Track=TSDemuxer.createTrack('id3');
this._txtTrack=TSDemuxer.createTrack('text');
this._audioTrack.segmentCodec='aac';

// flush any partial content
this.aacOverFlow=null;
this.avcSample=null;
this.remainderData=null;
this.audioCodec=audioCodec;
this.videoCodec=videoCodec;
this._duration=trackDuration;
};
_proto.resetTimeStamp=function resetTimeStamp(){};
_proto.resetContiguity=function resetContiguity(){
var _audioTrack=this._audioTrack,
_avcTrack=this._avcTrack,
_id3Track=this._id3Track;
if(_audioTrack){
_audioTrack.pesData=null;
}
if(_avcTrack){
_avcTrack.pesData=null;
}
if(_id3Track){
_id3Track.pesData=null;
}
this.aacOverFlow=null;
this.avcSample=null;
this.remainderData=null;
};
_proto.demux=function demux(data,timeOffset,isSampleAes,flush){
if(isSampleAes===void 0){
isSampleAes=false;
}
if(flush===void 0){
flush=false;
}
if(!isSampleAes){
this.sampleAes=null;
}
var pes;
var videoTrack=this._avcTrack;
var audioTrack=this._audioTrack;
var id3Track=this._id3Track;
var textTrack=this._txtTrack;
var avcId=videoTrack.pid;
var avcData=videoTrack.pesData;
var audioId=audioTrack.pid;
var id3Id=id3Track.pid;
var audioData=audioTrack.pesData;
var id3Data=id3Track.pesData;
var unknownPID=null;
var pmtParsed=this.pmtParsed;
var pmtId=this._pmtId;
var len=data.length;
if(this.remainderData){
data=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_5__.appendUint8Array)(this.remainderData,data);
len=data.length;
this.remainderData=null;
}
if(len<PACKET_LENGTH&&!flush){
this.remainderData=data;
return{
audioTrack:audioTrack,
videoTrack:videoTrack,
id3Track:id3Track,
textTrack:textTrack};

}
var syncOffset=Math.max(0,TSDemuxer.syncOffset(data));
len-=(len-syncOffset)%PACKET_LENGTH;
if(len<data.byteLength&&!flush){
this.remainderData=new Uint8Array(data.buffer,len,data.buffer.byteLength-len);
}

// loop through TS packets
var tsPacketErrors=0;
for(var start=syncOffset;start<len;start+=PACKET_LENGTH){
if(data[start]===0x47){
var stt=!!(data[start+1]&0x40);
var pid=parsePID(data,start);
var atf=(data[start+3]&0x30)>>4;

// if an adaption field is present, its length is specified by the fifth byte of the TS packet header.
var offset=void 0;
if(atf>1){
offset=start+5+data[start+4];
// continue if there is only adaptation field
if(offset===start+PACKET_LENGTH){
continue;
}
}else{
offset=start+4;
}
switch(pid){
case avcId:
if(stt){
if(avcData&&(pes=parsePES(avcData))){
this.parseAVCPES(videoTrack,textTrack,pes,false);
}
avcData={
data:[],
size:0};

}
if(avcData){
avcData.data.push(data.subarray(offset,start+PACKET_LENGTH));
avcData.size+=start+PACKET_LENGTH-offset;
}
break;
case audioId:
if(stt){
if(audioData&&(pes=parsePES(audioData))){
switch(audioTrack.segmentCodec){
case'aac':
this.parseAACPES(audioTrack,pes);
break;
case'mp3':
this.parseMPEGPES(audioTrack,pes);
break;}

}
audioData={
data:[],
size:0};

}
if(audioData){
audioData.data.push(data.subarray(offset,start+PACKET_LENGTH));
audioData.size+=start+PACKET_LENGTH-offset;
}
break;
case id3Id:
if(stt){
if(id3Data&&(pes=parsePES(id3Data))){
this.parseID3PES(id3Track,pes);
}
id3Data={
data:[],
size:0};

}
if(id3Data){
id3Data.data.push(data.subarray(offset,start+PACKET_LENGTH));
id3Data.size+=start+PACKET_LENGTH-offset;
}
break;
case 0:
if(stt){
offset+=data[offset]+1;
}
pmtId=this._pmtId=parsePAT(data,offset);
// logger.log('PMT PID:'  + this._pmtId);
break;
case pmtId:
{
if(stt){
offset+=data[offset]+1;
}
var parsedPIDs=parsePMT(data,offset,this.typeSupported,isSampleAes);

// only update track id if track PID found while parsing PMT
// this is to avoid resetting the PID to -1 in case
// track PID transiently disappears from the stream
// this could happen in case of transient missing audio samples for example
// NOTE this is only the PID of the track as found in TS,
// but we are not using this for MP4 track IDs.
avcId=parsedPIDs.avc;
if(avcId>0){
videoTrack.pid=avcId;
}
audioId=parsedPIDs.audio;
if(audioId>0){
audioTrack.pid=audioId;
audioTrack.segmentCodec=parsedPIDs.segmentCodec;
}
id3Id=parsedPIDs.id3;
if(id3Id>0){
id3Track.pid=id3Id;
}
if(unknownPID!==null&&!pmtParsed){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.log("unknown PID '"+unknownPID+"' in TS found");
unknownPID=null;
// we set it to -188, the += 188 in the for loop will reset start to 0
start=syncOffset-188;
}
pmtParsed=this.pmtParsed=true;
break;
}
case 0x11:
case 0x1fff:
break;
default:
unknownPID=pid;
break;}

}else{
tsPacketErrors++;
}
}
if(tsPacketErrors>0){
this.observer.emit(_events__WEBPACK_IMPORTED_MODULE_4__.Events.ERROR,_events__WEBPACK_IMPORTED_MODULE_4__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_7__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_7__.ErrorDetails.FRAG_PARSING_ERROR,
fatal:false,
reason:"Found "+tsPacketErrors+" TS packet/s that do not start with 0x47"});

}
videoTrack.pesData=avcData;
audioTrack.pesData=audioData;
id3Track.pesData=id3Data;
var demuxResult={
audioTrack:audioTrack,
videoTrack:videoTrack,
id3Track:id3Track,
textTrack:textTrack};

if(flush){
this.extractRemainingSamples(demuxResult);
}
return demuxResult;
};
_proto.flush=function flush(){
var remainderData=this.remainderData;
this.remainderData=null;
var result;
if(remainderData){
result=this.demux(remainderData,-1,false,true);
}else{
result={
videoTrack:this._avcTrack,
audioTrack:this._audioTrack,
id3Track:this._id3Track,
textTrack:this._txtTrack};

}
this.extractRemainingSamples(result);
if(this.sampleAes){
return this.decrypt(result,this.sampleAes);
}
return result;
};
_proto.extractRemainingSamples=function extractRemainingSamples(demuxResult){
var audioTrack=demuxResult.audioTrack,
videoTrack=demuxResult.videoTrack,
id3Track=demuxResult.id3Track,
textTrack=demuxResult.textTrack;
var avcData=videoTrack.pesData;
var audioData=audioTrack.pesData;
var id3Data=id3Track.pesData;
// try to parse last PES packets
var pes;
if(avcData&&(pes=parsePES(avcData))){
this.parseAVCPES(videoTrack,textTrack,pes,true);
videoTrack.pesData=null;
}else{
// either avcData null or PES truncated, keep it for next frag parsing
videoTrack.pesData=avcData;
}
if(audioData&&(pes=parsePES(audioData))){
switch(audioTrack.segmentCodec){
case'aac':
this.parseAACPES(audioTrack,pes);
break;
case'mp3':
this.parseMPEGPES(audioTrack,pes);
break;}

audioTrack.pesData=null;
}else{
if(audioData!==null&&audioData!==void 0&&audioData.size){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.log('last AAC PES packet truncated,might overlap between fragments');
}

// either audioData null or PES truncated, keep it for next frag parsing
audioTrack.pesData=audioData;
}
if(id3Data&&(pes=parsePES(id3Data))){
this.parseID3PES(id3Track,pes);
id3Track.pesData=null;
}else{
// either id3Data null or PES truncated, keep it for next frag parsing
id3Track.pesData=id3Data;
}
};
_proto.demuxSampleAes=function demuxSampleAes(data,keyData,timeOffset){
var demuxResult=this.demux(data,timeOffset,true,!this.config.progressive);
var sampleAes=this.sampleAes=new _sample_aes__WEBPACK_IMPORTED_MODULE_3__["default"](this.observer,this.config,keyData);
return this.decrypt(demuxResult,sampleAes);
};
_proto.decrypt=function decrypt(demuxResult,sampleAes){
return new Promise(function(resolve){
var audioTrack=demuxResult.audioTrack,
videoTrack=demuxResult.videoTrack;
if(audioTrack.samples&&audioTrack.segmentCodec==='aac'){
sampleAes.decryptAacSamples(audioTrack.samples,0,function(){
if(videoTrack.samples){
sampleAes.decryptAvcSamples(videoTrack.samples,0,0,function(){
resolve(demuxResult);
});
}else{
resolve(demuxResult);
}
});
}else if(videoTrack.samples){
sampleAes.decryptAvcSamples(videoTrack.samples,0,0,function(){
resolve(demuxResult);
});
}
});
};
_proto.destroy=function destroy(){
this._duration=0;
};
_proto.parseAVCPES=function parseAVCPES(track,textTrack,pes,last){
var _this=this;
var units=this.parseAVCNALu(track,pes.data);
var debug=false;
var avcSample=this.avcSample;
var push;
var spsfound=false;
// free pes.data to save up some memory
pes.data=null;

// if new NAL units found and last sample still there, let's push ...
// this helps parsing streams with missing AUD (only do this if AUD never found)
if(avcSample&&units.length&&!track.audFound){
pushAccessUnit(avcSample,track);
avcSample=this.avcSample=createAVCSample(false,pes.pts,pes.dts,'');
}
units.forEach(function(unit){
switch(unit.type){
// NDR
case 1:
{
push=true;
if(!avcSample){
avcSample=_this.avcSample=createAVCSample(true,pes.pts,pes.dts,'');
}
if(debug){
avcSample.debug+='NDR ';
}
avcSample.frame=true;
var data=unit.data;
// only check slice type to detect KF in case SPS found in same packet (any keyframe is preceded by SPS ...)
if(spsfound&&data.length>4){
// retrieve slice type by parsing beginning of NAL unit (follow H264 spec, slice_header definition) to detect keyframe embedded in NDR
var sliceType=new _exp_golomb__WEBPACK_IMPORTED_MODULE_2__["default"](data).readSliceType();
// 2 : I slice, 4 : SI slice, 7 : I slice, 9: SI slice
// SI slice : A slice that is coded using intra prediction only and using quantisation of the prediction samples.
// An SI slice can be coded such that its decoded samples can be constructed identically to an SP slice.
// I slice: A slice that is not an SI slice that is decoded using intra prediction only.
// if (sliceType === 2 || sliceType === 7) {
if(sliceType===2||sliceType===4||sliceType===7||sliceType===9){
avcSample.key=true;
}
}
break;
// IDR
}

case 5:
push=true;
// handle PES not starting with AUD
if(!avcSample){
avcSample=_this.avcSample=createAVCSample(true,pes.pts,pes.dts,'');
}
if(debug){
avcSample.debug+='IDR ';
}
avcSample.key=true;
avcSample.frame=true;
break;
// SEI
case 6:
{
push=true;
if(debug&&avcSample){
avcSample.debug+='SEI ';
}
(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_5__.parseSEIMessageFromNALu)(unit.data,1,pes.pts,textTrack.samples);
break;
// SPS
}

case 7:
push=true;
spsfound=true;
if(debug&&avcSample){
avcSample.debug+='SPS ';
}
if(!track.sps){
var expGolombDecoder=new _exp_golomb__WEBPACK_IMPORTED_MODULE_2__["default"](unit.data);
var config=expGolombDecoder.readSPS();
track.width=config.width;
track.height=config.height;
track.pixelRatio=config.pixelRatio;
// TODO: `track.sps` is defined as a `number[]`, but we're setting it to a `Uint8Array[]`.
track.sps=[unit.data];
track.duration=_this._duration;
var codecarray=unit.data.subarray(1,4);
var codecstring='avc1.';
for(var i=0;i<3;i++){
var h=codecarray[i].toString(16);
if(h.length<2){
h='0'+h;
}
codecstring+=h;
}
track.codec=codecstring;
}
break;
// PPS
case 8:
push=true;
if(debug&&avcSample){
avcSample.debug+='PPS ';
}
if(!track.pps){
// TODO: `track.pss` is defined as a `number[]`, but we're setting it to a `Uint8Array[]`.
track.pps=[unit.data];
}
break;
// AUD
case 9:
push=false;
track.audFound=true;
if(avcSample){
pushAccessUnit(avcSample,track);
}
avcSample=_this.avcSample=createAVCSample(false,pes.pts,pes.dts,debug?'AUD ':'');
break;
// Filler Data
case 12:
push=true;
break;
default:
push=false;
if(avcSample){
avcSample.debug+='unknown NAL '+unit.type+' ';
}
break;}

if(avcSample&&push){
var _units=avcSample.units;
_units.push(unit);
}
});
// if last PES packet, push samples
if(last&&avcSample){
pushAccessUnit(avcSample,track);
this.avcSample=null;
}
};
_proto.getLastNalUnit=function getLastNalUnit(samples){
var _avcSample;
var avcSample=this.avcSample;
var lastUnit;
// try to fallback to previous sample if current one is empty
if(!avcSample||avcSample.units.length===0){
avcSample=samples[samples.length-1];
}
if((_avcSample=avcSample)!==null&&_avcSample!==void 0&&_avcSample.units){
var units=avcSample.units;
lastUnit=units[units.length-1];
}
return lastUnit;
};
_proto.parseAVCNALu=function parseAVCNALu(track,array){
var len=array.byteLength;
var state=track.naluState||0;
var lastState=state;
var units=[];
var i=0;
var value;
var overflow;
var unitType;
var lastUnitStart=-1;
var lastUnitType=0;
// logger.log('PES:' + Hex.hexDump(array));

if(state===-1){
// special use case where we found 3 or 4-byte start codes exactly at the end of previous PES packet
lastUnitStart=0;
// NALu type is value read from offset 0
lastUnitType=array[0]&0x1f;
state=0;
i=1;
}
while(i<len){
value=array[i++];
// optimization. state 0 and 1 are the predominant case. let's handle them outside of the switch/case
if(!state){
state=value?0:1;
continue;
}
if(state===1){
state=value?0:2;
continue;
}
// here we have state either equal to 2 or 3
if(!value){
state=3;
}else if(value===1){
if(lastUnitStart>=0){
var unit={
data:array.subarray(lastUnitStart,i-state-1),
type:lastUnitType};

// logger.log('pushing NALU, type/size:' + unit.type + '/' + unit.data.byteLength);
units.push(unit);
}else{
// lastUnitStart is undefined => this is the first start code found in this PES packet
// first check if start code delimiter is overlapping between 2 PES packets,
// ie it started in last packet (lastState not zero)
// and ended at the beginning of this PES packet (i <= 4 - lastState)
var lastUnit=this.getLastNalUnit(track.samples);
if(lastUnit){
if(lastState&&i<=4-lastState){
// start delimiter overlapping between PES packets
// strip start delimiter bytes from the end of last NAL unit
// check if lastUnit had a state different from zero
if(lastUnit.state){
// strip last bytes
lastUnit.data=lastUnit.data.subarray(0,lastUnit.data.byteLength-lastState);
}
}
// If NAL units are not starting right at the beginning of the PES packet, push preceding data into previous NAL unit.
overflow=i-state-1;
if(overflow>0){
// logger.log('first NALU found with overflow:' + overflow);
var tmp=new Uint8Array(lastUnit.data.byteLength+overflow);
tmp.set(lastUnit.data,0);
tmp.set(array.subarray(0,overflow),lastUnit.data.byteLength);
lastUnit.data=tmp;
lastUnit.state=0;
}
}
}
// check if we can read unit type
if(i<len){
unitType=array[i]&0x1f;
// logger.log('find NALU @ offset:' + i + ',type:' + unitType);
lastUnitStart=i;
lastUnitType=unitType;
state=0;
}else{
// not enough byte to read unit type. let's read it on next PES parsing
state=-1;
}
}else{
state=0;
}
}
if(lastUnitStart>=0&&state>=0){
var _unit={
data:array.subarray(lastUnitStart,len),
type:lastUnitType,
state:state};

units.push(_unit);
// logger.log('pushing NALU, type/size/state:' + unit.type + '/' + unit.data.byteLength + '/' + state);
}
// no NALu found
if(units.length===0){
// append pes.data to previous NAL unit
var _lastUnit=this.getLastNalUnit(track.samples);
if(_lastUnit){
var _tmp=new Uint8Array(_lastUnit.data.byteLength+array.byteLength);
_tmp.set(_lastUnit.data,0);
_tmp.set(array,_lastUnit.data.byteLength);
_lastUnit.data=_tmp;
}
}
track.naluState=state;
return units;
};
_proto.parseAACPES=function parseAACPES(track,pes){
var startOffset=0;
var aacOverFlow=this.aacOverFlow;
var data=pes.data;
if(aacOverFlow){
this.aacOverFlow=null;
var frameMissingBytes=aacOverFlow.missing;
var sampleLength=aacOverFlow.sample.unit.byteLength;
// logger.log(`AAC: append overflowing ${sampleLength} bytes to beginning of new PES`);
if(frameMissingBytes===-1){
var tmp=new Uint8Array(sampleLength+data.byteLength);
tmp.set(aacOverFlow.sample.unit,0);
tmp.set(data,sampleLength);
data=tmp;
}else{
var frameOverflowBytes=sampleLength-frameMissingBytes;
aacOverFlow.sample.unit.set(data.subarray(0,frameMissingBytes),frameOverflowBytes);
track.samples.push(aacOverFlow.sample);
startOffset=aacOverFlow.missing;
}
}
// look for ADTS header (0xFFFx)
var offset;
var len;
for(offset=startOffset,len=data.length;offset<len-1;offset++){
if(_adts__WEBPACK_IMPORTED_MODULE_0__.isHeader(data,offset)){
break;
}
}
// if ADTS header does not start straight from the beginning of the PES payload, raise an error
if(offset!==startOffset){
var reason;
var fatal;
if(offset<len-1){
reason="AAC PES did not start with ADTS header,offset:"+offset;
fatal=false;
}else{
reason='no ADTS header found in AAC PES';
fatal=true;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn("parsing error:"+reason);
this.observer.emit(_events__WEBPACK_IMPORTED_MODULE_4__.Events.ERROR,_events__WEBPACK_IMPORTED_MODULE_4__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_7__.ErrorTypes.MEDIA_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_7__.ErrorDetails.FRAG_PARSING_ERROR,
fatal:fatal,
reason:reason});

if(fatal){
return;
}
}
_adts__WEBPACK_IMPORTED_MODULE_0__.initTrackConfig(track,this.observer,data,offset,this.audioCodec);
var pts;
if(pes.pts!==undefined){
pts=pes.pts;
}else if(aacOverFlow){
// if last AAC frame is overflowing, we should ensure timestamps are contiguous:
// first sample PTS should be equal to last sample PTS + frameDuration
var frameDuration=_adts__WEBPACK_IMPORTED_MODULE_0__.getFrameDuration(track.samplerate);
pts=aacOverFlow.sample.pts+frameDuration;
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn('[tsdemuxer]: AAC PES unknown PTS');
return;
}

// scan for aac samples
var frameIndex=0;
var frame;
while(offset<len){
frame=_adts__WEBPACK_IMPORTED_MODULE_0__.appendFrame(track,data,offset,pts,frameIndex);
offset+=frame.length;
if(!frame.missing){
frameIndex++;
for(;offset<len-1;offset++){
if(_adts__WEBPACK_IMPORTED_MODULE_0__.isHeader(data,offset)){
break;
}
}
}else{
this.aacOverFlow=frame;
break;
}
}
};
_proto.parseMPEGPES=function parseMPEGPES(track,pes){
var data=pes.data;
var length=data.length;
var frameIndex=0;
var offset=0;
var pts=pes.pts;
if(pts===undefined){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn('[tsdemuxer]: MPEG PES unknown PTS');
return;
}
while(offset<length){
if(_mpegaudio__WEBPACK_IMPORTED_MODULE_1__.isHeader(data,offset)){
var frame=_mpegaudio__WEBPACK_IMPORTED_MODULE_1__.appendFrame(track,data,offset,pts,frameIndex);
if(frame){
offset+=frame.length;
frameIndex++;
}else{
// logger.log('Unable to parse Mpeg audio frame');
break;
}
}else{
// nothing found, keep looking
offset++;
}
}
};
_proto.parseID3PES=function parseID3PES(id3Track,pes){
if(pes.pts===undefined){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn('[tsdemuxer]: ID3 PES unknown PTS');
return;
}
var id3Sample=_extends({},pes,{
type:this._avcTrack?_types_demuxer__WEBPACK_IMPORTED_MODULE_8__.MetadataSchema.emsg:_types_demuxer__WEBPACK_IMPORTED_MODULE_8__.MetadataSchema.audioId3,
duration:Number.POSITIVE_INFINITY});

id3Track.samples.push(id3Sample);
};
return TSDemuxer;
}();
function createAVCSample(key,pts,dts,debug){
return{
key:key,
frame:false,
pts:pts,
dts:dts,
units:[],
debug:debug,
length:0};

}
function parsePID(data,offset){
// pid is a 13-bit field starting at the last bit of TS[1]
return((data[offset+1]&0x1f)<<8)+data[offset+2];
}
function parsePAT(data,offset){
// skip the PSI header and parse the first PMT entry
return(data[offset+10]&0x1f)<<8|data[offset+11];
}
function parsePMT(data,offset,typeSupported,isSampleAes){
var result={
audio:-1,
avc:-1,
id3:-1,
segmentCodec:'aac'};

var sectionLength=(data[offset+1]&0x0f)<<8|data[offset+2];
var tableEnd=offset+3+sectionLength-4;
// to determine where the table is, we have to figure out how
// long the program info descriptors are
var programInfoLength=(data[offset+10]&0x0f)<<8|data[offset+11];
// advance the offset to the first entry in the mapping table
offset+=12+programInfoLength;
while(offset<tableEnd){
var pid=parsePID(data,offset);
switch(data[offset]){
case 0xcf:
// SAMPLE-AES AAC
if(!isSampleAes){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.log('ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream');
break;
}
/* falls through */
case 0x0f:
// ISO/IEC 13818-7 ADTS AAC (MPEG-2 lower bit-rate audio)
// logger.log('AAC PID:'  + pid);
if(result.audio===-1){
result.audio=pid;
}
break;

// Packetized metadata (ID3)
case 0x15:
// logger.log('ID3 PID:'  + pid);
if(result.id3===-1){
result.id3=pid;
}
break;
case 0xdb:
// SAMPLE-AES AVC
if(!isSampleAes){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.log('H.264 with AES-128-CBC slice encryption found in unencrypted stream');
break;
}
/* falls through */
case 0x1b:
// ITU-T Rec. H.264 and ISO/IEC 14496-10 (lower bit-rate video)
// logger.log('AVC PID:'  + pid);
if(result.avc===-1){
result.avc=pid;
}
break;

// ISO/IEC 11172-3 (MPEG-1 audio)
// or ISO/IEC 13818-3 (MPEG-2 halved sample rate audio)
case 0x03:
case 0x04:
// logger.log('MPEG PID:'  + pid);
if(typeSupported.mpeg!==true&&typeSupported.mp3!==true){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.log('MPEG audio found, not supported in this browser');
}else if(result.audio===-1){
result.audio=pid;
result.segmentCodec='mp3';
}
break;
case 0x24:
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn('Unsupported HEVC stream type found');
break;
default:
// logger.log('unknown stream type:' + data[offset]);
break;}

// move to the next table entry
// skip past the elementary stream descriptors, if present
offset+=((data[offset+3]&0x0f)<<8|data[offset+4])+5;
}
return result;
}
function parsePES(stream){
var i=0;
var frag;
var pesLen;
var pesHdrLen;
var pesPts;
var pesDts;
var data=stream.data;
// safety check
if(!stream||stream.size===0){
return null;
}

// we might need up to 19 bytes to read PES header
// if first chunk of data is less than 19 bytes, let's merge it with following ones until we get 19 bytes
// usually only one merge is needed (and this is rare ...)
while(data[0].length<19&&data.length>1){
var newData=new Uint8Array(data[0].length+data[1].length);
newData.set(data[0]);
newData.set(data[1],data[0].length);
data[0]=newData;
data.splice(1,1);
}
// retrieve PTS/DTS from first fragment
frag=data[0];
var pesPrefix=(frag[0]<<16)+(frag[1]<<8)+frag[2];
if(pesPrefix===1){
pesLen=(frag[4]<<8)+frag[5];
// if PES parsed length is not zero and greater than total received length, stop parsing. PES might be truncated
// minus 6 : PES header size
if(pesLen&&pesLen>stream.size-6){
return null;
}
var pesFlags=frag[7];
if(pesFlags&0xc0){
/* PES header described here : http://dvd.sourceforge.net/dvdinfo/pes-hdr.html
          as PTS / DTS is 33 bit we cannot use bitwise operator in JS,
          as Bitwise operators treat their operands as a sequence of 32 bits */
pesPts=(frag[9]&0x0e)*536870912+
// 1 << 29
(frag[10]&0xff)*4194304+
// 1 << 22
(frag[11]&0xfe)*16384+
// 1 << 14
(frag[12]&0xff)*128+
// 1 << 7
(frag[13]&0xfe)/2;
if(pesFlags&0x40){
pesDts=(frag[14]&0x0e)*536870912+
// 1 << 29
(frag[15]&0xff)*4194304+
// 1 << 22
(frag[16]&0xfe)*16384+
// 1 << 14
(frag[17]&0xff)*128+
// 1 << 7
(frag[18]&0xfe)/2;
if(pesPts-pesDts>60*90000){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn(Math.round((pesPts-pesDts)/90000)+"s delta between PTS and DTS, align them");
pesPts=pesDts;
}
}else{
pesDts=pesPts;
}
}
pesHdrLen=frag[8];
// 9 bytes : 6 bytes for PES header + 3 bytes for PES extension
var payloadStartOffset=pesHdrLen+9;
if(stream.size<=payloadStartOffset){
return null;
}
stream.size-=payloadStartOffset;
// reassemble PES packet
var pesData=new Uint8Array(stream.size);
for(var j=0,dataLen=data.length;j<dataLen;j++){
frag=data[j];
var len=frag.byteLength;
if(payloadStartOffset){
if(payloadStartOffset>len){
// trim full frag if PES header bigger than frag
payloadStartOffset-=len;
continue;
}else{
// trim partial frag if PES header smaller than frag
frag=frag.subarray(payloadStartOffset);
len-=payloadStartOffset;
payloadStartOffset=0;
}
}
pesData.set(frag,i);
i+=len;
}
if(pesLen){
// payload size : remove PES header + PES extension
pesLen-=pesHdrLen+3;
}
return{
data:pesData,
pts:pesPts,
dts:pesDts,
len:pesLen};

}
return null;
}
function pushAccessUnit(avcSample,avcTrack){
if(avcSample.units.length&&avcSample.frame){
// if sample does not have PTS/DTS, patch with last sample PTS/DTS
if(avcSample.pts===undefined){
var samples=avcTrack.samples;
var nbSamples=samples.length;
if(nbSamples){
var lastSample=samples[nbSamples-1];
avcSample.pts=lastSample.pts;
avcSample.dts=lastSample.dts;
}else{
// dropping samples, no timestamp found
avcTrack.dropped++;
return;
}
}
avcTrack.samples.push(avcSample);
}
if(avcSample.debug.length){
_utils_logger__WEBPACK_IMPORTED_MODULE_6__.logger.log(avcSample.pts+'/'+avcSample.dts+':'+avcSample.debug);
}
}
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=TSDemuxer;

/***/},

/***/"./src/demux/webworkify-webpack.js":
/*!*****************************************!*\
  !*** ./src/demux/webworkify-webpack.js ***!
  \*****************************************/
/***/function srcDemuxWebworkifyWebpackJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* export default binding */__WEBPACK_DEFAULT_EXPORT__);}
/* harmony export */});
/*
 * Fork of webworkify-webpack with support for Webpack 5
 * https://github.com/wupeng-engineer/webworkify-webpack/blob/db0de7/index.js
*/

var webpackBootstrapFunc=function webpackBootstrapFunc(){
// webpackBootstrap
/******/
var __webpack_modules__=ENTRY_MODULE;
/************************************************************************/
/******/ // The module cache
/******/
var __webpack_module_cache__={};
/******/
/******/ // The require function
/******/
var __nested_webpack_require_497__=function __webpack_require__(moduleId){
/******/ // Check if module is in cache
/******/var cachedModule=__webpack_module_cache__[moduleId];
/******/
if(cachedModule!==undefined){
/******/return cachedModule.exports;
/******/
}
/******/ // Create a new module (and put it into the cache)
/******/
var module=__webpack_module_cache__[moduleId]={
/******/ // no module.id needed
/******/ // no module.loaded needed
/******/exports:{}
/******/};

/******/
/******/ // Execute the module function
/******/
__webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__);
/******/
/******/ // Return the exports of the module
/******/
return module.exports;
/******/
};
/******/
/******/ // expose the modules object (__webpack_modules__)
/******/
__nested_webpack_require_497__.m=__webpack_modules__;
/******/
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/
(function(){
/******/ // getDefaultExport function for compatibility with non-harmony modules
/******/__nested_webpack_require_497__.n=function(module){
/******/var getter=module&&module.__esModule?/******/function(){
return module['default'];
}:/******/function(){
return module;
};
/******/
__nested_webpack_require_497__.d(getter,{
a:getter});

/******/
return getter;
/******/
};
/******/
})();
/******/
/******/ /* webpack/runtime/define property getters */
/******/
(function(){
/******/ // define getter functions for harmony exports
/******/__nested_webpack_require_497__.d=function(exports,definition){
/******/for(var key in definition){
/******/if(__nested_webpack_require_497__.o(definition,key)&&!__nested_webpack_require_497__.o(exports,key)){
/******/Object.defineProperty(exports,key,{
enumerable:true,
get:definition[key]});

/******/
}
/******/
}
/******/
};
/******/
})();
/******/
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/
(function(){
/******/__nested_webpack_require_497__.o=function(obj,prop){
return Object.prototype.hasOwnProperty.call(obj,prop);
};
/******/
})();
/******/
/******/ /* webpack/runtime/make namespace object */
/******/
(function(){
/******/ // define __esModule on exports
/******/__nested_webpack_require_497__.r=function(exports){
/******/if(typeof Symbol!=='undefined'&&Symbol.toStringTag){
/******/Object.defineProperty(exports,Symbol.toStringTag,{
value:'Module'});

/******/
}
/******/
Object.defineProperty(exports,'__esModule',{
value:true});

/******/
};
/******/
})();
/******/
/************************************************************************/
/******/
/******/ // module factories are used so entry inlining is disabled
/******/ // startup
/******/ // Load entry module and return exports
/******/
var result=__nested_webpack_require_497__(ENTRY_MODULE);
/******/
return result.default||result;
};
var webpackBootstrapFuncArr=webpackBootstrapFunc.toString().split('ENTRY_MODULE');
var moduleNameReqExp='[\\.|\\-|\\+|\\w|\/|@]+';
var dependencyRegExp='\\(\\s*(\/\\*.*?\\*\/)?\\s*.*?('+moduleNameReqExp+').*?\\)';
function quoteRegExp(str){
return(str+'').replace(/[.?*+^$[\]\\(){}|-]/g,'\\$&');
}
function isNumeric(n){
return!isNaN(1*n);
}
function getModuleDependencies(sources,module,queueName){
var retval={};
retval[queueName]=[];
var fnString=module.toString().replace(/^"[^"]+"/,'function');
;
var wrapperSignature=fnString.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||fnString.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);
if(!wrapperSignature)return retval;
var webpackRequireName=wrapperSignature[1];
var re=new RegExp('(\\\\n|\\W)'+quoteRegExp(webpackRequireName)+dependencyRegExp,'g');
var match;
while(match=re.exec(fnString)){
if(match[3]==='dll-reference')continue;
retval[queueName].push(match[3]);
}
re=new RegExp('\\('+quoteRegExp(webpackRequireName)+'\\("(dll-reference\\s('+moduleNameReqExp+'))"\\)\\)'+dependencyRegExp,'g');
while(match=re.exec(fnString)){
if(!sources[match[2]]){
retval[queueName].push(match[1]);
sources[match[2]]=__webpack_require__(match[1]).m;
}
retval[match[2]]=retval[match[2]]||[];
retval[match[2]].push(match[4]);
}
var keys=Object.keys(retval);
for(var i=0;i<keys.length;i++){
for(var j=0;j<retval[keys[i]].length;j++){
if(isNumeric(retval[keys[i]][j])){
retval[keys[i]][j]=1*retval[keys[i]][j];
}
}
}
return retval;
}
function hasValuesInQueues(queues){
var keys=Object.keys(queues);
return keys.reduce(function(hasValues,key){
return hasValues||queues[key].length>0;
},false);
}
function getRequiredModules(sources,moduleId){
var modulesQueue={
main:[moduleId]};

var requiredModules={
main:[]};

var seenModules={
main:{}};

while(hasValuesInQueues(modulesQueue)){
var queues=Object.keys(modulesQueue);
for(var i=0;i<queues.length;i++){
var queueName=queues[i];
var queue=modulesQueue[queueName];
var moduleToCheck=queue.pop();
seenModules[queueName]=seenModules[queueName]||{};
if(seenModules[queueName][moduleToCheck]||!sources[queueName][moduleToCheck])continue;
seenModules[queueName][moduleToCheck]=true;
requiredModules[queueName]=requiredModules[queueName]||[];
requiredModules[queueName].push(moduleToCheck);
var newModules=getModuleDependencies(sources,sources[queueName][moduleToCheck],queueName);
var newModulesKeys=Object.keys(newModules);
for(var j=0;j<newModulesKeys.length;j++){
modulesQueue[newModulesKeys[j]]=modulesQueue[newModulesKeys[j]]||[];
modulesQueue[newModulesKeys[j]]=modulesQueue[newModulesKeys[j]].concat(newModules[newModulesKeys[j]]);
}
}
}
return requiredModules;
}
function getWebpackString(requiredModules,sources,entryModule,key){
var moduleString=requiredModules[key].map(function(id){
return"\""+id+"\": "+sources[key][id].toString().replace(/^"[^"]+"/,'function');
}).join(",");
return webpackBootstrapFuncArr[0]+"{"+moduleString+"}"+webpackBootstrapFuncArr[1]+"\""+entryModule+"\""+webpackBootstrapFuncArr[2];
}
/* harmony default export */function __WEBPACK_DEFAULT_EXPORT__(moduleId,options){
options=options||{};
var sources={
main:__webpack_require__.m};

var requiredModules=options.all?{
main:Object.keys(sources.main)}:
getRequiredModules(sources,moduleId);
var src='';
Object.keys(requiredModules).filter(function(m){
return m!=='main';
}).forEach(function(module){
var entryModule=0;
while(requiredModules[module][entryModule]){
entryModule++;
}
requiredModules[module].push(entryModule);
sources[module][entryModule]='(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })';
src=src+("var "+module+" = ("+getWebpackString(requiredModules,sources,entryModule,modules)+")();\n");
});
src=src+("new (("+getWebpackString(requiredModules,sources,moduleId,'main')+")())(self);");
var blob=new window.Blob([src],{
type:'text/javascript'});

var URL=window.URL||window.webkitURL||window.mozURL||window.msURL;
var workerUrl=URL.createObjectURL(blob);
var worker=new window.Worker(workerUrl);
worker.objectURL=workerUrl;
return worker;
}

/***/},

/***/"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/***/function srcErrorsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"ErrorDetails":function ErrorDetails(){return(/* binding */_ErrorDetails);},
/* harmony export */"ErrorTypes":function ErrorTypes(){return(/* binding */_ErrorTypes);}
/* harmony export */});
var _ErrorTypes;

/**
 * @enum {ErrorDetails}
 * @typedef {string} ErrorDetail
 */
(function(ErrorTypes){
ErrorTypes["NETWORK_ERROR"]="networkError";
ErrorTypes["MEDIA_ERROR"]="mediaError";
ErrorTypes["KEY_SYSTEM_ERROR"]="keySystemError";
ErrorTypes["MUX_ERROR"]="muxError";
ErrorTypes["OTHER_ERROR"]="otherError";
})(_ErrorTypes||(_ErrorTypes={}));
var _ErrorDetails;
(function(ErrorDetails){
ErrorDetails["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys";
ErrorDetails["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess";
ErrorDetails["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession";
ErrorDetails["KEY_SYSTEM_NO_CONFIGURED_LICENSE"]="keySystemNoConfiguredLicense";
ErrorDetails["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed";
ErrorDetails["KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED"]="keySystemServerCertificateRequestFailed";
ErrorDetails["KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED"]="keySystemServerCertificateUpdateFailed";
ErrorDetails["KEY_SYSTEM_SESSION_UPDATE_FAILED"]="keySystemSessionUpdateFailed";
ErrorDetails["KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED"]="keySystemStatusOutputRestricted";
ErrorDetails["KEY_SYSTEM_STATUS_INTERNAL_ERROR"]="keySystemStatusInternalError";
ErrorDetails["MANIFEST_LOAD_ERROR"]="manifestLoadError";
ErrorDetails["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut";
ErrorDetails["MANIFEST_PARSING_ERROR"]="manifestParsingError";
ErrorDetails["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError";
ErrorDetails["LEVEL_EMPTY_ERROR"]="levelEmptyError";
ErrorDetails["LEVEL_LOAD_ERROR"]="levelLoadError";
ErrorDetails["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut";
ErrorDetails["LEVEL_SWITCH_ERROR"]="levelSwitchError";
ErrorDetails["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError";
ErrorDetails["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut";
ErrorDetails["SUBTITLE_LOAD_ERROR"]="subtitleTrackLoadError";
ErrorDetails["SUBTITLE_TRACK_LOAD_TIMEOUT"]="subtitleTrackLoadTimeOut";
ErrorDetails["FRAG_LOAD_ERROR"]="fragLoadError";
ErrorDetails["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut";
ErrorDetails["FRAG_DECRYPT_ERROR"]="fragDecryptError";
ErrorDetails["FRAG_PARSING_ERROR"]="fragParsingError";
ErrorDetails["REMUX_ALLOC_ERROR"]="remuxAllocError";
ErrorDetails["KEY_LOAD_ERROR"]="keyLoadError";
ErrorDetails["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut";
ErrorDetails["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError";
ErrorDetails["BUFFER_INCOMPATIBLE_CODECS_ERROR"]="bufferIncompatibleCodecsError";
ErrorDetails["BUFFER_APPEND_ERROR"]="bufferAppendError";
ErrorDetails["BUFFER_APPENDING_ERROR"]="bufferAppendingError";
ErrorDetails["BUFFER_STALLED_ERROR"]="bufferStalledError";
ErrorDetails["BUFFER_FULL_ERROR"]="bufferFullError";
ErrorDetails["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole";
ErrorDetails["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall";
ErrorDetails["INTERNAL_EXCEPTION"]="internalException";
ErrorDetails["INTERNAL_ABORTED"]="aborted";
ErrorDetails["UNKNOWN"]="unknown";
})(_ErrorDetails||(_ErrorDetails={}));

/***/},

/***/"./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/
/***/function srcEventsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"Events":function Events(){return(/* binding */_Events);}
/* harmony export */});
/**
 * @readonly
 * @enum {string}
 */
var _Events;
(function(Events){
Events["MEDIA_ATTACHING"]="hlsMediaAttaching";
Events["MEDIA_ATTACHED"]="hlsMediaAttached";
Events["MEDIA_DETACHING"]="hlsMediaDetaching";
Events["MEDIA_DETACHED"]="hlsMediaDetached";
Events["BUFFER_RESET"]="hlsBufferReset";
Events["BUFFER_CODECS"]="hlsBufferCodecs";
Events["BUFFER_CREATED"]="hlsBufferCreated";
Events["BUFFER_APPENDING"]="hlsBufferAppending";
Events["BUFFER_APPENDED"]="hlsBufferAppended";
Events["BUFFER_EOS"]="hlsBufferEos";
Events["BUFFER_FLUSHING"]="hlsBufferFlushing";
Events["BUFFER_FLUSHED"]="hlsBufferFlushed";
Events["MANIFEST_LOADING"]="hlsManifestLoading";
Events["MANIFEST_LOADED"]="hlsManifestLoaded";
Events["MANIFEST_PARSED"]="hlsManifestParsed";
Events["LEVEL_SWITCHING"]="hlsLevelSwitching";
Events["LEVEL_SWITCHED"]="hlsLevelSwitched";
Events["LEVEL_LOADING"]="hlsLevelLoading";
Events["LEVEL_LOADED"]="hlsLevelLoaded";
Events["LEVEL_UPDATED"]="hlsLevelUpdated";
Events["LEVEL_PTS_UPDATED"]="hlsLevelPtsUpdated";
Events["LEVELS_UPDATED"]="hlsLevelsUpdated";
Events["AUDIO_TRACKS_UPDATED"]="hlsAudioTracksUpdated";
Events["AUDIO_TRACK_SWITCHING"]="hlsAudioTrackSwitching";
Events["AUDIO_TRACK_SWITCHED"]="hlsAudioTrackSwitched";
Events["AUDIO_TRACK_LOADING"]="hlsAudioTrackLoading";
Events["AUDIO_TRACK_LOADED"]="hlsAudioTrackLoaded";
Events["SUBTITLE_TRACKS_UPDATED"]="hlsSubtitleTracksUpdated";
Events["SUBTITLE_TRACKS_CLEARED"]="hlsSubtitleTracksCleared";
Events["SUBTITLE_TRACK_SWITCH"]="hlsSubtitleTrackSwitch";
Events["SUBTITLE_TRACK_LOADING"]="hlsSubtitleTrackLoading";
Events["SUBTITLE_TRACK_LOADED"]="hlsSubtitleTrackLoaded";
Events["SUBTITLE_FRAG_PROCESSED"]="hlsSubtitleFragProcessed";
Events["CUES_PARSED"]="hlsCuesParsed";
Events["NON_NATIVE_TEXT_TRACKS_FOUND"]="hlsNonNativeTextTracksFound";
Events["INIT_PTS_FOUND"]="hlsInitPtsFound";
Events["FRAG_LOADING"]="hlsFragLoading";
Events["FRAG_LOAD_EMERGENCY_ABORTED"]="hlsFragLoadEmergencyAborted";
Events["FRAG_LOADED"]="hlsFragLoaded";
Events["FRAG_DECRYPTED"]="hlsFragDecrypted";
Events["FRAG_PARSING_INIT_SEGMENT"]="hlsFragParsingInitSegment";
Events["FRAG_PARSING_USERDATA"]="hlsFragParsingUserdata";
Events["FRAG_PARSING_METADATA"]="hlsFragParsingMetadata";
Events["FRAG_PARSED"]="hlsFragParsed";
Events["FRAG_BUFFERED"]="hlsFragBuffered";
Events["FRAG_CHANGED"]="hlsFragChanged";
Events["FPS_DROP"]="hlsFpsDrop";
Events["FPS_DROP_LEVEL_CAPPING"]="hlsFpsDropLevelCapping";
Events["ERROR"]="hlsError";
Events["DESTROYING"]="hlsDestroying";
Events["KEY_LOADING"]="hlsKeyLoading";
Events["KEY_LOADED"]="hlsKeyLoaded";
Events["LIVE_BACK_BUFFER_REACHED"]="hlsLiveBackBufferReached";
Events["BACK_BUFFER_REACHED"]="hlsBackBufferReached";
})(_Events||(_Events={}));

/***/},

/***/"./src/hls.ts":
/*!********************!*\
  !*** ./src/hls.ts ***!
  \********************/
/***/function srcHlsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */Hls);}
/* harmony export */});
/* harmony import */var url_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js");
/* harmony import */var url_toolkit__WEBPACK_IMPORTED_MODULE_0___default=/*#__PURE__*/__webpack_require__.n(url_toolkit__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */var _loader_playlist_loader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.ts");
/* harmony import */var _controller_id3_track_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.ts");
/* harmony import */var _controller_latency_controller__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./controller/latency-controller */"./src/controller/latency-controller.ts");
/* harmony import */var _controller_level_controller__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./controller/level-controller */"./src/controller/level-controller.ts");
/* harmony import */var _controller_fragment_tracker__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.ts");
/* harmony import */var _loader_key_loader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ./loader/key-loader */"./src/loader/key-loader.ts");
/* harmony import */var _controller_stream_controller__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ./controller/stream-controller */"./src/controller/stream-controller.ts");
/* harmony import */var _is_supported__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ./is-supported */"./src/is-supported.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(/*! ./utils/logger */"./src/utils/logger.ts");
/* harmony import */var _config__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(/*! ./config */"./src/config.ts");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");
/* harmony import */var eventemitter3__WEBPACK_IMPORTED_MODULE_11___default=/*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(/*! ./events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(/*! ./errors */"./src/errors.ts");
/* harmony import */var _types_level__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(/*! ./types/level */"./src/types/level.ts");
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}















/**
 * @module Hls
 * @class
 * @constructor
 */
var Hls=/*#__PURE__*/function(){
Hls.isSupported=function isSupported(){
return(0,_is_supported__WEBPACK_IMPORTED_MODULE_8__.isSupported)();
};
/**
   * Creates an instance of an HLS client that can attach to exactly one `HTMLMediaElement`.
   *
   * @constructs Hls
   * @param {HlsConfig} config
   */
function Hls(userConfig){
if(userConfig===void 0){
userConfig={};
}
this.config=void 0;
this.userConfig=void 0;
this.coreComponents=void 0;
this.networkControllers=void 0;
this._emitter=new eventemitter3__WEBPACK_IMPORTED_MODULE_11__.EventEmitter();
this._autoLevelCapping=void 0;
this._maxHdcpLevel=null;
this.abrController=void 0;
this.bufferController=void 0;
this.capLevelController=void 0;
this.latencyController=void 0;
this.levelController=void 0;
this.streamController=void 0;
this.audioTrackController=void 0;
this.subtitleTrackController=void 0;
this.emeController=void 0;
this.cmcdController=void 0;
this._media=null;
this.url=null;
var config=this.config=(0,_config__WEBPACK_IMPORTED_MODULE_10__.mergeConfig)(Hls.DefaultConfig,userConfig);
this.userConfig=userConfig;
(0,_utils_logger__WEBPACK_IMPORTED_MODULE_9__.enableLogs)(config.debug,'Hls instance');
this._autoLevelCapping=-1;
if(config.progressive){
(0,_config__WEBPACK_IMPORTED_MODULE_10__.enableStreamingMode)(config);
}

// core controllers and network loaders
var ConfigAbrController=config.abrController,
ConfigBufferController=config.bufferController,
ConfigCapLevelController=config.capLevelController,
ConfigFpsController=config.fpsController;
var abrController=this.abrController=new ConfigAbrController(this);
var bufferController=this.bufferController=new ConfigBufferController(this);
var capLevelController=this.capLevelController=new ConfigCapLevelController(this);
var fpsController=new ConfigFpsController(this);
var playListLoader=new _loader_playlist_loader__WEBPACK_IMPORTED_MODULE_1__["default"](this);
var id3TrackController=new _controller_id3_track_controller__WEBPACK_IMPORTED_MODULE_2__["default"](this);

// network controllers
var levelController=this.levelController=new _controller_level_controller__WEBPACK_IMPORTED_MODULE_4__["default"](this);
// FragmentTracker must be defined before StreamController because the order of event handling is important
var fragmentTracker=new _controller_fragment_tracker__WEBPACK_IMPORTED_MODULE_5__.FragmentTracker(this);
var keyLoader=new _loader_key_loader__WEBPACK_IMPORTED_MODULE_6__["default"](this.config);
var streamController=this.streamController=new _controller_stream_controller__WEBPACK_IMPORTED_MODULE_7__["default"](this,fragmentTracker,keyLoader);

// Cap level controller uses streamController to flush the buffer
capLevelController.setStreamController(streamController);
// fpsController uses streamController to switch when frames are being dropped
fpsController.setStreamController(streamController);
var networkControllers=[playListLoader,levelController,streamController];
this.networkControllers=networkControllers;
var coreComponents=[abrController,bufferController,capLevelController,fpsController,id3TrackController,fragmentTracker];
this.audioTrackController=this.createController(config.audioTrackController,networkControllers);
var AudioStreamControllerClass=config.audioStreamController;
if(AudioStreamControllerClass){
networkControllers.push(new AudioStreamControllerClass(this,fragmentTracker,keyLoader));
}
// subtitleTrackController must be defined before subtitleStreamController because the order of event handling is important
this.subtitleTrackController=this.createController(config.subtitleTrackController,networkControllers);
var SubtitleStreamControllerClass=config.subtitleStreamController;
if(SubtitleStreamControllerClass){
networkControllers.push(new SubtitleStreamControllerClass(this,fragmentTracker,keyLoader));
}
this.createController(config.timelineController,coreComponents);
keyLoader.emeController=this.emeController=this.createController(config.emeController,coreComponents);
this.cmcdController=this.createController(config.cmcdController,coreComponents);
this.latencyController=this.createController(_controller_latency_controller__WEBPACK_IMPORTED_MODULE_3__["default"],coreComponents);
this.coreComponents=coreComponents;
}
var _proto=Hls.prototype;
_proto.createController=function createController(ControllerClass,components){
if(ControllerClass){
var controllerInstance=new ControllerClass(this);
if(components){
components.push(controllerInstance);
}
return controllerInstance;
}
return null;
}

// Delegate the EventEmitter through the public API of Hls.js
;
_proto.on=function on(event,listener,context){
if(context===void 0){
context=this;
}
this._emitter.on(event,listener,context);
};
_proto.once=function once(event,listener,context){
if(context===void 0){
context=this;
}
this._emitter.once(event,listener,context);
};
_proto.removeAllListeners=function removeAllListeners(event){
this._emitter.removeAllListeners(event);
};
_proto.off=function off(event,listener,context,once){
if(context===void 0){
context=this;
}
this._emitter.off(event,listener,context,once);
};
_proto.listeners=function listeners(event){
return this._emitter.listeners(event);
};
_proto.emit=function emit(event,name,eventObject){
return this._emitter.emit(event,name,eventObject);
};
_proto.trigger=function trigger(event,eventObject){
if(this.config.debug){
return this.emit(event,event,eventObject);
}else{
try{
return this.emit(event,event,eventObject);
}catch(e){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.error('An internal error happened while handling event '+event+'. Error message: "'+e.message+'". Here is a stacktrace:',e);
this.trigger(_events__WEBPACK_IMPORTED_MODULE_12__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_13__.ErrorTypes.OTHER_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails.INTERNAL_EXCEPTION,
fatal:false,
event:event,
error:e});

}
}
return false;
};
_proto.listenerCount=function listenerCount(event){
return this._emitter.listenerCount(event);
}

/**
   * Dispose of the instance
   */;
_proto.destroy=function destroy(){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log('destroy');
this.trigger(_events__WEBPACK_IMPORTED_MODULE_12__.Events.DESTROYING,undefined);
this.detachMedia();
this.removeAllListeners();
this._autoLevelCapping=-1;
this.url=null;
this.networkControllers.forEach(function(component){
return component.destroy();
});
this.networkControllers.length=0;
this.coreComponents.forEach(function(component){
return component.destroy();
});
this.coreComponents.length=0;
}

/**
   * Attaches Hls.js to a media element
   * @param {HTMLMediaElement} media
   */;
_proto.attachMedia=function attachMedia(media){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log('attachMedia');
this._media=media;
this.trigger(_events__WEBPACK_IMPORTED_MODULE_12__.Events.MEDIA_ATTACHING,{
media:media});

}

/**
   * Detach Hls.js from the media
   */;
_proto.detachMedia=function detachMedia(){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log('detachMedia');
this.trigger(_events__WEBPACK_IMPORTED_MODULE_12__.Events.MEDIA_DETACHING,undefined);
this._media=null;
}

/**
   * Set the source URL. Can be relative or absolute.
   * @param {string} url
   */;
_proto.loadSource=function loadSource(url){
this.stopLoad();
var media=this.media;
var loadedSource=this.url;
var loadingSource=this.url=url_toolkit__WEBPACK_IMPORTED_MODULE_0__.buildAbsoluteURL(self.location.href,url,{
alwaysNormalize:true});

_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("loadSource:"+loadingSource);
if(media&&loadedSource&&loadedSource!==loadingSource&&this.bufferController.hasSourceTypes()){
this.detachMedia();
this.attachMedia(media);
}
// when attaching to a source URL, trigger a playlist load
this.trigger(_events__WEBPACK_IMPORTED_MODULE_12__.Events.MANIFEST_LOADING,{
url:url});

}

/**
   * Start loading data from the stream source.
   * Depending on default config, client starts loading automatically when a source is set.
   *
   * @param {number} startPosition Set the start position to stream from
   * @default -1 None (from earliest point)
   */;
_proto.startLoad=function startLoad(startPosition){
if(startPosition===void 0){
startPosition=-1;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("startLoad("+startPosition+")");
this.networkControllers.forEach(function(controller){
controller.startLoad(startPosition);
});
}

/**
   * Stop loading of any stream data.
   */;
_proto.stopLoad=function stopLoad(){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log('stopLoad');
this.networkControllers.forEach(function(controller){
controller.stopLoad();
});
}

/**
   * Swap through possible audio codecs in the stream (for example to switch from stereo to 5.1)
   */;
_proto.swapAudioCodec=function swapAudioCodec(){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log('swapAudioCodec');
this.streamController.swapAudioCodec();
}

/**
   * When the media-element fails, this allows to detach and then re-attach it
   * as one call (convenience method).
   *
   * Automatic recovery of media-errors by this process is configurable.
   */;
_proto.recoverMediaError=function recoverMediaError(){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log('recoverMediaError');
var media=this._media;
this.detachMedia();
if(media){
this.attachMedia(media);
}
};
_proto.removeLevel=function removeLevel(levelIndex,urlId){
if(urlId===void 0){
urlId=0;
}
this.levelController.removeLevel(levelIndex,urlId);
}

/**
   * @type {Level[]}
   */;
_createClass(Hls,[{
key:"levels",
get:function get(){
var levels=this.levelController.levels;
return levels?levels:[];
}

/**
     * Index of quality level currently played
     * @type {number}
     */},
{
key:"currentLevel",
get:function get(){
return this.streamController.currentLevel;
}

/**
     * Set quality level index immediately .
     * This will flush the current buffer to replace the quality asap.
     * That means playback will interrupt at least shortly to re-buffer and re-sync eventually.
     * @type {number} -1 for automatic level selection
     */,
set:function set(newLevel){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("set currentLevel:"+newLevel);
this.loadLevel=newLevel;
this.abrController.clearTimer();
this.streamController.immediateLevelSwitch();
}

/**
     * Index of next quality level loaded as scheduled by stream controller.
     * @type {number}
     */},
{
key:"nextLevel",
get:function get(){
return this.streamController.nextLevel;
}

/**
     * Set quality level index for next loaded data.
     * This will switch the video quality asap, without interrupting playback.
     * May abort current loading of data, and flush parts of buffer (outside currently played fragment region).
     * @type {number} -1 for automatic level selection
     */,
set:function set(newLevel){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("set nextLevel:"+newLevel);
this.levelController.manualLevel=newLevel;
this.streamController.nextLevelSwitch();
}

/**
     * Return the quality level of the currently or last (of none is loaded currently) segment
     * @type {number}
     */},
{
key:"loadLevel",
get:function get(){
return this.levelController.level;
}

/**
     * Set quality level index for next loaded data in a conservative way.
     * This will switch the quality without flushing, but interrupt current loading.
     * Thus the moment when the quality switch will appear in effect will only be after the already existing buffer.
     * @type {number} newLevel -1 for automatic level selection
     */,
set:function set(newLevel){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("set loadLevel:"+newLevel);
this.levelController.manualLevel=newLevel;
}

/**
     * get next quality level loaded
     * @type {number}
     */},
{
key:"nextLoadLevel",
get:function get(){
return this.levelController.nextLoadLevel;
}

/**
     * Set quality level of next loaded segment in a fully "non-destructive" way.
     * Same as `loadLevel` but will wait for next switch (until current loading is done).
     * @type {number} level
     */,
set:function set(level){
this.levelController.nextLoadLevel=level;
}

/**
     * Return "first level": like a default level, if not set,
     * falls back to index of first level referenced in manifest
     * @type {number}
     */},
{
key:"firstLevel",
get:function get(){
return Math.max(this.levelController.firstLevel,this.minAutoLevel);
}

/**
     * Sets "first-level", see getter.
     * @type {number}
     */,
set:function set(newLevel){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("set firstLevel:"+newLevel);
this.levelController.firstLevel=newLevel;
}

/**
     * Return start level (level of first fragment that will be played back)
     * if not overrided by user, first level appearing in manifest will be used as start level
     * if -1 : automatic start level selection, playback will start from level matching download bandwidth
     * (determined from download of first segment)
     * @type {number}
     */},
{
key:"startLevel",
get:function get(){
return this.levelController.startLevel;
}

/**
     * set  start level (level of first fragment that will be played back)
     * if not overrided by user, first level appearing in manifest will be used as start level
     * if -1 : automatic start level selection, playback will start from level matching download bandwidth
     * (determined from download of first segment)
     * @type {number} newLevel
     */,
set:function set(newLevel){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("set startLevel:"+newLevel);
// if not in automatic start level detection, ensure startLevel is greater than minAutoLevel
if(newLevel!==-1){
newLevel=Math.max(newLevel,this.minAutoLevel);
}
this.levelController.startLevel=newLevel;
}

/**
     * Get the current setting for capLevelToPlayerSize
     *
     * @type {boolean}
     */},
{
key:"capLevelToPlayerSize",
get:function get(){
return this.config.capLevelToPlayerSize;
}

/**
     * set  dynamically set capLevelToPlayerSize against (`CapLevelController`)
     *
     * @type {boolean}
     */,
set:function set(shouldStartCapping){
var newCapLevelToPlayerSize=!!shouldStartCapping;
if(newCapLevelToPlayerSize!==this.config.capLevelToPlayerSize){
if(newCapLevelToPlayerSize){
this.capLevelController.startCapping();// If capping occurs, nextLevelSwitch will happen based on size.
}else{
this.capLevelController.stopCapping();
this.autoLevelCapping=-1;
this.streamController.nextLevelSwitch();// Now we're uncapped, get the next level asap.
}

this.config.capLevelToPlayerSize=newCapLevelToPlayerSize;
}
}

/**
     * Capping/max level value that should be used by automatic level selection algorithm (`ABRController`)
     * @type {number}
     */},
{
key:"autoLevelCapping",
get:function get(){
return this._autoLevelCapping;
}

/**
     * get bandwidth estimate
     * @type {number}
     */,
set:
/**
     * Capping/max level value that should be used by automatic level selection algorithm (`ABRController`)
     * @type {number}
     */
function set(newLevel){
if(this._autoLevelCapping!==newLevel){
_utils_logger__WEBPACK_IMPORTED_MODULE_9__.logger.log("set autoLevelCapping:"+newLevel);
this._autoLevelCapping=newLevel;
}
}},
{
key:"bandwidthEstimate",
get:function get(){
var bwEstimator=this.abrController.bwEstimator;
if(!bwEstimator){
return NaN;
}
return bwEstimator.getEstimate();
}},
{
key:"maxHdcpLevel",
get:function get(){
return this._maxHdcpLevel;
},
set:function set(value){
if(_types_level__WEBPACK_IMPORTED_MODULE_14__.HdcpLevels.indexOf(value)>-1){
this._maxHdcpLevel=value;
}
}

/**
     * True when automatic level selection enabled
     * @type {boolean}
     */},
{
key:"autoLevelEnabled",
get:function get(){
return this.levelController.manualLevel===-1;
}

/**
     * Level set manually (if any)
     * @type {number}
     */},
{
key:"manualLevel",
get:function get(){
return this.levelController.manualLevel;
}

/**
     * min level selectable in auto mode according to config.minAutoBitrate
     * @type {number}
     */},
{
key:"minAutoLevel",
get:function get(){
var levels=this.levels,
minAutoBitrate=this.config.minAutoBitrate;
if(!levels)return 0;
var len=levels.length;
for(var i=0;i<len;i++){
if(levels[i].maxBitrate>=minAutoBitrate){
return i;
}
}
return 0;
}

/**
     * max level selectable in auto mode according to autoLevelCapping
     * @type {number}
     */},
{
key:"maxAutoLevel",
get:function get(){
var levels=this.levels,
autoLevelCapping=this.autoLevelCapping,
maxHdcpLevel=this.maxHdcpLevel;
var maxAutoLevel;
if(autoLevelCapping===-1&&levels&&levels.length){
maxAutoLevel=levels.length-1;
}else{
maxAutoLevel=autoLevelCapping;
}
if(maxHdcpLevel){
for(var i=maxAutoLevel;i--;){
var hdcpLevel=levels[i].attrs['HDCP-LEVEL'];
if(hdcpLevel&&hdcpLevel<=maxHdcpLevel){
return i;
}
}
}
return maxAutoLevel;
}

/**
     * next automatically selected quality level
     * @type {number}
     */},
{
key:"nextAutoLevel",
get:function get(){
// ensure next auto level is between  min and max auto level
return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel);
}

/**
     * this setter is used to force next auto level.
     * this is useful to force a switch down in auto mode:
     * in case of load error on level N, hls.js can set nextAutoLevel to N-1 for example)
     * forced value is valid for one fragment. upon successful frag loading at forced level,
     * this value will be resetted to -1 by ABR controller.
     * @type {number}
     */,
set:function set(nextLevel){
this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,nextLevel);
}

/**
     * get the datetime value relative to media.currentTime for the active level Program Date Time if present
     * @type {Date}
     */},
{
key:"playingDate",
get:function get(){
return this.streamController.currentProgramDateTime;
}},
{
key:"mainForwardBufferInfo",
get:function get(){
return this.streamController.getMainFwdBufferInfo();
}

/**
     * @type {AudioTrack[]}
     */},
{
key:"audioTracks",
get:function get(){
var audioTrackController=this.audioTrackController;
return audioTrackController?audioTrackController.audioTracks:[];
}

/**
     * index of the selected audio track (index in audio track lists)
     * @type {number}
     */},
{
key:"audioTrack",
get:function get(){
var audioTrackController=this.audioTrackController;
return audioTrackController?audioTrackController.audioTrack:-1;
}

/**
     * selects an audio track, based on its index in audio track lists
     * @type {number}
     */,
set:function set(audioTrackId){
var audioTrackController=this.audioTrackController;
if(audioTrackController){
audioTrackController.audioTrack=audioTrackId;
}
}

/**
     * get alternate subtitle tracks list from playlist
     * @type {MediaPlaylist[]}
     */},
{
key:"subtitleTracks",
get:function get(){
var subtitleTrackController=this.subtitleTrackController;
return subtitleTrackController?subtitleTrackController.subtitleTracks:[];
}

/**
     * index of the selected subtitle track (index in subtitle track lists)
     * @type {number}
     */},
{
key:"subtitleTrack",
get:function get(){
var subtitleTrackController=this.subtitleTrackController;
return subtitleTrackController?subtitleTrackController.subtitleTrack:-1;
},
set:
/**
     * select an subtitle track, based on its index in subtitle track lists
     * @type {number}
     */
function set(subtitleTrackId){
var subtitleTrackController=this.subtitleTrackController;
if(subtitleTrackController){
subtitleTrackController.subtitleTrack=subtitleTrackId;
}
}

/**
     * @type {boolean}
     */},
{
key:"media",
get:function get(){
return this._media;
}},
{
key:"subtitleDisplay",
get:function get(){
var subtitleTrackController=this.subtitleTrackController;
return subtitleTrackController?subtitleTrackController.subtitleDisplay:false;
}

/**
     * Enable/disable subtitle display rendering
     * @type {boolean}
     */,
set:function set(value){
var subtitleTrackController=this.subtitleTrackController;
if(subtitleTrackController){
subtitleTrackController.subtitleDisplay=value;
}
}

/**
     * get mode for Low-Latency HLS loading
     * @type {boolean}
     */},
{
key:"lowLatencyMode",
get:function get(){
return this.config.lowLatencyMode;
}

/**
     * Enable/disable Low-Latency HLS part playlist and segment loading, and start live streams at playlist PART-HOLD-BACK rather than HOLD-BACK.
     * @type {boolean}
     */,
set:function set(mode){
this.config.lowLatencyMode=mode;
}

/**
     * position (in seconds) of live sync point (ie edge of live position minus safety delay defined by ```hls.config.liveSyncDuration```)
     * @type {number}
     */},
{
key:"liveSyncPosition",
get:function get(){
return this.latencyController.liveSyncPosition;
}

/**
     * estimated position (in seconds) of live edge (ie edge of live playlist plus time sync playlist advanced)
     * returns 0 before first playlist is loaded
     * @type {number}
     */},
{
key:"latency",
get:function get(){
return this.latencyController.latency;
}

/**
     * maximum distance from the edge before the player seeks forward to ```hls.liveSyncPosition```
     * configured using ```liveMaxLatencyDurationCount``` (multiple of target duration) or ```liveMaxLatencyDuration```
     * returns 0 before first playlist is loaded
     * @type {number}
     */},
{
key:"maxLatency",
get:function get(){
return this.latencyController.maxLatency;
}

/**
     * target distance from the edge as calculated by the latency controller
     * @type {number}
     */},
{
key:"targetLatency",
get:function get(){
return this.latencyController.targetLatency;
}

/**
     * the rate at which the edge of the current live playlist is advancing or 1 if there is none
     * @type {number}
     */},
{
key:"drift",
get:function get(){
return this.latencyController.drift;
}

/**
     * set to true when startLoad is called before MANIFEST_PARSED event
     * @type {boolean}
     */},
{
key:"forceStartLoad",
get:function get(){
return this.streamController.forceStartLoad;
}}],
[{
key:"version",
get:function get(){
return"1.3.3";
}},
{
key:"Events",
get:function get(){
return _events__WEBPACK_IMPORTED_MODULE_12__.Events;
}},
{
key:"ErrorTypes",
get:function get(){
return _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorTypes;
}},
{
key:"ErrorDetails",
get:function get(){
return _errors__WEBPACK_IMPORTED_MODULE_13__.ErrorDetails;
}},
{
key:"DefaultConfig",
get:function get(){
if(!Hls.defaultConfig){
return _config__WEBPACK_IMPORTED_MODULE_10__.hlsDefaultConfig;
}
return Hls.defaultConfig;
}

/**
     * @type {HlsConfig}
     */,
set:function set(defaultConfig){
Hls.defaultConfig=defaultConfig;
}}]);

return Hls;
}();
Hls.defaultConfig=void 0;


/***/},

/***/"./src/is-supported.ts":
/*!*****************************!*\
  !*** ./src/is-supported.ts ***!
  \*****************************/
/***/function srcIsSupportedTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"changeTypeSupported":function changeTypeSupported(){return(/* binding */_changeTypeSupported);},
/* harmony export */"isSupported":function isSupported(){return(/* binding */_isSupported);}
/* harmony export */});
/* harmony import */var _utils_mediasource_helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.ts");

function getSourceBuffer(){
return self.SourceBuffer||self.WebKitSourceBuffer;
}
function _isSupported(){
var mediaSource=(0,_utils_mediasource_helper__WEBPACK_IMPORTED_MODULE_0__.getMediaSource)();
if(!mediaSource){
return false;
}
var sourceBuffer=getSourceBuffer();
var isTypeSupported=mediaSource&&typeof mediaSource.isTypeSupported==='function'&&mediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');

// if SourceBuffer is exposed ensure its API is valid
// safari and old version of Chrome doe not expose SourceBuffer globally so checking SourceBuffer.prototype is impossible
var sourceBufferValidAPI=!sourceBuffer||sourceBuffer.prototype&&typeof sourceBuffer.prototype.appendBuffer==='function'&&typeof sourceBuffer.prototype.remove==='function';
return!!isTypeSupported&&!!sourceBufferValidAPI;
}
function _changeTypeSupported(){
var _sourceBuffer$prototy;
var sourceBuffer=getSourceBuffer();
return typeof(sourceBuffer===null||sourceBuffer===void 0?void 0:(_sourceBuffer$prototy=sourceBuffer.prototype)===null||_sourceBuffer$prototy===void 0?void 0:_sourceBuffer$prototy.changeType)==='function';
}

/***/},

/***/"./src/loader/date-range.ts":
/*!**********************************!*\
  !*** ./src/loader/date-range.ts ***!
  \**********************************/
/***/function srcLoaderDateRangeTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"DateRange":function DateRange(){return(/* binding */_DateRange);},
/* harmony export */"DateRangeAttribute":function DateRangeAttribute(){return(/* binding */_DateRangeAttribute);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _utils_attr_list__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/attr-list */"./src/utils/attr-list.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");



function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}


var _DateRangeAttribute;
(function(DateRangeAttribute){
DateRangeAttribute["ID"]="ID";
DateRangeAttribute["CLASS"]="CLASS";
DateRangeAttribute["START_DATE"]="START-DATE";
DateRangeAttribute["DURATION"]="DURATION";
DateRangeAttribute["END_DATE"]="END-DATE";
DateRangeAttribute["END_ON_NEXT"]="END-ON-NEXT";
DateRangeAttribute["PLANNED_DURATION"]="PLANNED-DURATION";
DateRangeAttribute["SCTE35_OUT"]="SCTE35-OUT";
DateRangeAttribute["SCTE35_IN"]="SCTE35-IN";
})(_DateRangeAttribute||(_DateRangeAttribute={}));
var _DateRange=/*#__PURE__*/function(){
function DateRange(dateRangeAttr,dateRangeWithSameId){
this.attr=void 0;
this._startDate=void 0;
this._endDate=void 0;
this._badValueForSameId=void 0;
if(dateRangeWithSameId){
var previousAttr=dateRangeWithSameId.attr;
for(var key in previousAttr){
if(Object.prototype.hasOwnProperty.call(dateRangeAttr,key)&&dateRangeAttr[key]!==previousAttr[key]){
_utils_logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn("DATERANGE tag attribute: \""+key+"\" does not match for tags with ID: \""+dateRangeAttr.ID+"\"");
this._badValueForSameId=key;
break;
}
}
// Merge DateRange tags with the same ID
dateRangeAttr=_extends(new _utils_attr_list__WEBPACK_IMPORTED_MODULE_1__.AttrList({}),previousAttr,dateRangeAttr);
}
this.attr=dateRangeAttr;
this._startDate=new Date(dateRangeAttr[_DateRangeAttribute.START_DATE]);
if(_DateRangeAttribute.END_DATE in this.attr){
var endDate=new Date(this.attr[_DateRangeAttribute.END_DATE]);
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(endDate.getTime())){
this._endDate=endDate;
}
}
}
_createClass(DateRange,[{
key:"id",
get:function get(){
return this.attr.ID;
}},
{
key:"class",
get:function get(){
return this.attr.CLASS;
}},
{
key:"startDate",
get:function get(){
return this._startDate;
}},
{
key:"endDate",
get:function get(){
if(this._endDate){
return this._endDate;
}
var duration=this.duration;
if(duration!==null){
return new Date(this._startDate.getTime()+duration*1000);
}
return null;
}},
{
key:"duration",
get:function get(){
if(_DateRangeAttribute.DURATION in this.attr){
var duration=this.attr.decimalFloatingPoint(_DateRangeAttribute.DURATION);
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(duration)){
return duration;
}
}else if(this._endDate){
return(this._endDate.getTime()-this._startDate.getTime())/1000;
}
return null;
}},
{
key:"plannedDuration",
get:function get(){
if(_DateRangeAttribute.PLANNED_DURATION in this.attr){
return this.attr.decimalFloatingPoint(_DateRangeAttribute.PLANNED_DURATION);
}
return null;
}},
{
key:"endOnNext",
get:function get(){
return this.attr.bool(_DateRangeAttribute.END_ON_NEXT);
}},
{
key:"isValid",
get:function get(){
return!!this.id&&!this._badValueForSameId&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class);
}}]);

return DateRange;
}();

/***/},

/***/"./src/loader/fragment-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.ts ***!
  \***************************************/
/***/function srcLoaderFragmentLoaderTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"LoadError":function LoadError(){return(/* binding */_LoadError);},
/* harmony export */"default":function _default(){return(/* binding */FragmentLoader);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../errors */"./src/errors.ts");


function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}
function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct.bind();}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}

var MIN_CHUNK_SIZE=Math.pow(2,17);// 128kb
var FragmentLoader=/*#__PURE__*/function(){
function FragmentLoader(config){
this.config=void 0;
this.loader=null;
this.partLoadTimeout=-1;
this.config=config;
}
var _proto=FragmentLoader.prototype;
_proto.destroy=function destroy(){
if(this.loader){
this.loader.destroy();
this.loader=null;
}
};
_proto.abort=function abort(){
if(this.loader){
// Abort the loader for current fragment. Only one may load at any given time
this.loader.abort();
}
};
_proto.load=function load(frag,_onProgress){
var _this=this;
var url=frag.url;
if(!url){
return Promise.reject(new _LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.FRAG_LOAD_ERROR,
fatal:false,
frag:frag,
networkDetails:null},
"Fragment does not have a "+(url?'part list':'url')));
}
this.abort();
var config=this.config;
var FragmentILoader=config.fLoader;
var DefaultILoader=config.loader;
return new Promise(function(resolve,reject){
if(_this.loader){
_this.loader.destroy();
}
var loader=_this.loader=frag.loader=FragmentILoader?new FragmentILoader(config):new DefaultILoader(config);
var loaderContext=createLoaderContext(frag);
var loaderConfig={
timeout:config.fragLoadingTimeOut,
maxRetry:0,
retryDelay:0,
maxRetryDelay:config.fragLoadingMaxRetryTimeout,
highWaterMark:frag.sn==='initSegment'?Infinity:MIN_CHUNK_SIZE};

// Assign frag stats to the loader's stats reference
frag.stats=loader.stats;
loader.load(loaderContext,loaderConfig,{
onSuccess:function onSuccess(response,stats,context,networkDetails){
_this.resetLoader(frag,loader);
var payload=response.data;
if(context.resetIV&&frag.decryptdata){
frag.decryptdata.iv=new Uint8Array(payload.slice(0,16));
payload=payload.slice(16);
}
resolve({
frag:frag,
part:null,
payload:payload,
networkDetails:networkDetails});

},
onError:function onError(response,context,networkDetails){
_this.resetLoader(frag,loader);
reject(new _LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.FRAG_LOAD_ERROR,
fatal:false,
frag:frag,
response:response,
networkDetails:networkDetails}));

},
onAbort:function onAbort(stats,context,networkDetails){
_this.resetLoader(frag,loader);
reject(new _LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.INTERNAL_ABORTED,
fatal:false,
frag:frag,
networkDetails:networkDetails}));

},
onTimeout:function onTimeout(response,context,networkDetails){
_this.resetLoader(frag,loader);
reject(new _LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.FRAG_LOAD_TIMEOUT,
fatal:false,
frag:frag,
networkDetails:networkDetails}));

},
onProgress:function onProgress(stats,context,data,networkDetails){
if(_onProgress){
_onProgress({
frag:frag,
part:null,
payload:data,
networkDetails:networkDetails});

}
}});

});
};
_proto.loadPart=function loadPart(frag,part,onProgress){
var _this2=this;
this.abort();
var config=this.config;
var FragmentILoader=config.fLoader;
var DefaultILoader=config.loader;
return new Promise(function(resolve,reject){
if(_this2.loader){
_this2.loader.destroy();
}
var loader=_this2.loader=frag.loader=FragmentILoader?new FragmentILoader(config):new DefaultILoader(config);
var loaderContext=createLoaderContext(frag,part);
var loaderConfig={
timeout:config.fragLoadingTimeOut,
maxRetry:0,
retryDelay:0,
maxRetryDelay:config.fragLoadingMaxRetryTimeout,
highWaterMark:MIN_CHUNK_SIZE};

// Assign part stats to the loader's stats reference
part.stats=loader.stats;
loader.load(loaderContext,loaderConfig,{
onSuccess:function onSuccess(response,stats,context,networkDetails){
_this2.resetLoader(frag,loader);
_this2.updateStatsFromPart(frag,part);
var partLoadedData={
frag:frag,
part:part,
payload:response.data,
networkDetails:networkDetails};

onProgress(partLoadedData);
resolve(partLoadedData);
},
onError:function onError(response,context,networkDetails){
_this2.resetLoader(frag,loader);
reject(new _LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.FRAG_LOAD_ERROR,
fatal:false,
frag:frag,
part:part,
response:response,
networkDetails:networkDetails}));

},
onAbort:function onAbort(stats,context,networkDetails){
frag.stats.aborted=part.stats.aborted;
_this2.resetLoader(frag,loader);
reject(new _LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.INTERNAL_ABORTED,
fatal:false,
frag:frag,
part:part,
networkDetails:networkDetails}));

},
onTimeout:function onTimeout(response,context,networkDetails){
_this2.resetLoader(frag,loader);
reject(new _LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_1__.ErrorDetails.FRAG_LOAD_TIMEOUT,
fatal:false,
frag:frag,
part:part,
networkDetails:networkDetails}));

}});

});
};
_proto.updateStatsFromPart=function updateStatsFromPart(frag,part){
var fragStats=frag.stats;
var partStats=part.stats;
var partTotal=partStats.total;
fragStats.loaded+=partStats.loaded;
if(partTotal){
var estTotalParts=Math.round(frag.duration/part.duration);
var estLoadedParts=Math.min(Math.round(fragStats.loaded/partTotal),estTotalParts);
var estRemainingParts=estTotalParts-estLoadedParts;
var estRemainingBytes=estRemainingParts*Math.round(fragStats.loaded/estLoadedParts);
fragStats.total=fragStats.loaded+estRemainingBytes;
}else{
fragStats.total=Math.max(fragStats.loaded,fragStats.total);
}
var fragLoading=fragStats.loading;
var partLoading=partStats.loading;
if(fragLoading.start){
// add to fragment loader latency
fragLoading.first+=partLoading.first-partLoading.start;
}else{
fragLoading.start=partLoading.start;
fragLoading.first=partLoading.first;
}
fragLoading.end=partLoading.end;
};
_proto.resetLoader=function resetLoader(frag,loader){
frag.loader=null;
if(this.loader===loader){
self.clearTimeout(this.partLoadTimeout);
this.loader=null;
}
loader.destroy();
};
return FragmentLoader;
}();

function createLoaderContext(frag,part){
if(part===void 0){
part=null;
}
var segment=part||frag;
var loaderContext={
frag:frag,
part:part,
responseType:'arraybuffer',
url:segment.url,
headers:{},
rangeStart:0,
rangeEnd:0};

var start=segment.byteRangeStartOffset;
var end=segment.byteRangeEndOffset;
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(start)&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(end)){
var _frag$decryptdata;
var byteRangeStart=start;
var byteRangeEnd=end;
if(frag.sn==='initSegment'&&((_frag$decryptdata=frag.decryptdata)===null||_frag$decryptdata===void 0?void 0:_frag$decryptdata.method)==='AES-128'){
// MAP segment encrypted with method 'AES-128', when served with HTTP Range,
// has the unencrypted size specified in the range.
// Ref: https://tools.ietf.org/html/draft-pantos-hls-rfc8216bis-08#section-6.3.6
var fragmentLen=end-start;
if(fragmentLen%16){
byteRangeEnd=end+(16-fragmentLen%16);
}
if(start!==0){
loaderContext.resetIV=true;
byteRangeStart=start-16;
}
}
loaderContext.rangeStart=byteRangeStart;
loaderContext.rangeEnd=byteRangeEnd;
}
return loaderContext;
}
var _LoadError=/*#__PURE__*/function(_Error){
_inheritsLoose(LoadError,_Error);
function LoadError(data){
var _this3;
for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){
params[_key-1]=arguments[_key];
}
_this3=_Error.call.apply(_Error,[this].concat(params))||this;
_this3.data=void 0;
_this3.data=data;
return _this3;
}
return LoadError;
}(/*#__PURE__*/_wrapNativeSuper(Error));

/***/},

/***/"./src/loader/fragment.ts":
/*!********************************!*\
  !*** ./src/loader/fragment.ts ***!
  \********************************/
/***/function srcLoaderFragmentTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"BaseSegment":function BaseSegment(){return(/* binding */_BaseSegment3);},
/* harmony export */"ElementaryStreamTypes":function ElementaryStreamTypes(){return(/* binding */_ElementaryStreamTypes);},
/* harmony export */"Fragment":function Fragment(){return(/* binding */_Fragment);},
/* harmony export */"Part":function Part(){return(/* binding */_Part);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var url_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js");
/* harmony import */var url_toolkit__WEBPACK_IMPORTED_MODULE_1___default=/*#__PURE__*/__webpack_require__.n(url_toolkit__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */var _load_stats__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./load-stats */"./src/loader/load-stats.ts");


function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}


var _ElementaryStreamTypes;
(function(ElementaryStreamTypes){
ElementaryStreamTypes["AUDIO"]="audio";
ElementaryStreamTypes["VIDEO"]="video";
ElementaryStreamTypes["AUDIOVIDEO"]="audiovideo";
})(_ElementaryStreamTypes||(_ElementaryStreamTypes={}));
var _BaseSegment3=/*#__PURE__*/function(){
// baseurl is the URL to the playlist

// relurl is the portion of the URL that comes from inside the playlist.

// Holds the types of data this fragment supports

function BaseSegment(baseurl){
var _this$elementaryStrea;
this._byteRange=null;
this._url=null;
this.baseurl=void 0;
this.relurl=void 0;
this.elementaryStreams=(_this$elementaryStrea={},_this$elementaryStrea[_ElementaryStreamTypes.AUDIO]=null,_this$elementaryStrea[_ElementaryStreamTypes.VIDEO]=null,_this$elementaryStrea[_ElementaryStreamTypes.AUDIOVIDEO]=null,_this$elementaryStrea);
this.baseurl=baseurl;
}

// setByteRange converts a EXT-X-BYTERANGE attribute into a two element array
var _proto=BaseSegment.prototype;
_proto.setByteRange=function setByteRange(value,previous){
var params=value.split('@',2);
var byteRange=[];
if(params.length===1){
byteRange[0]=previous?previous.byteRangeEndOffset:0;
}else{
byteRange[0]=parseInt(params[1]);
}
byteRange[1]=parseInt(params[0])+byteRange[0];
this._byteRange=byteRange;
};
_createClass(BaseSegment,[{
key:"byteRange",
get:function get(){
if(!this._byteRange){
return[];
}
return this._byteRange;
}},
{
key:"byteRangeStartOffset",
get:function get(){
return this.byteRange[0];
}},
{
key:"byteRangeEndOffset",
get:function get(){
return this.byteRange[1];
}},
{
key:"url",
get:function get(){
if(!this._url&&this.baseurl&&this.relurl){
this._url=(0,url_toolkit__WEBPACK_IMPORTED_MODULE_1__.buildAbsoluteURL)(this.baseurl,this.relurl,{
alwaysNormalize:true});

}
return this._url||'';
},
set:function set(value){
this._url=value;
}}]);

return BaseSegment;
}();
var _Fragment=/*#__PURE__*/function(_BaseSegment){
_inheritsLoose(Fragment,_BaseSegment);
// EXTINF has to be present for a m3u8 to be considered valid

// sn notates the sequence number for a segment, and if set to a string can be 'initSegment'

// levelkeys are the EXT-X-KEY tags that apply to this segment for decryption
// core difference from the private field _decryptdata is the lack of the initialized IV
// _decryptdata will set the IV for this segment based on the segment number in the fragment

// A string representing the fragment type

// A reference to the loader. Set while the fragment is loading, and removed afterwards. Used to abort fragment loading

// A reference to the key loader. Set while the key is loading, and removed afterwards. Used to abort key loading

// The level/track index to which the fragment belongs

// The continuity counter of the fragment

// The starting Presentation Time Stamp (PTS) of the fragment. Set after transmux complete.

// The ending Presentation Time Stamp (PTS) of the fragment. Set after transmux complete.

// The latest Presentation Time Stamp (PTS) appended to the buffer.

// The starting Decode Time Stamp (DTS) of the fragment. Set after transmux complete.

// The ending Decode Time Stamp (DTS) of the fragment. Set after transmux complete.

// The start time of the fragment, as listed in the manifest. Updated after transmux complete.

// Set by `updateFragPTSDTS` in level-helper

// The maximum starting Presentation Time Stamp (audio/video PTS) of the fragment. Set after transmux complete.

// The minimum ending Presentation Time Stamp (audio/video PTS) of the fragment. Set after transmux complete.

// Load/parse timing information

// A flag indicating whether the segment was downloaded in order to test bitrate, and was not buffered

// #EXTINF  segment title

// The Media Initialization Section for this segment

// Fragment is the last fragment in the media playlist

function Fragment(type,baseurl){
var _this;
_this=_BaseSegment.call(this,baseurl)||this;
_this._decryptdata=null;
_this.rawProgramDateTime=null;
_this.programDateTime=null;
_this.tagList=[];
_this.duration=0;
_this.sn=0;
_this.levelkeys=void 0;
_this.type=void 0;
_this.loader=null;
_this.keyLoader=null;
_this.level=-1;
_this.cc=0;
_this.startPTS=void 0;
_this.endPTS=void 0;
_this.appendedPTS=void 0;
_this.startDTS=void 0;
_this.endDTS=void 0;
_this.start=0;
_this.deltaPTS=void 0;
_this.maxStartPTS=void 0;
_this.minEndPTS=void 0;
_this.stats=new _load_stats__WEBPACK_IMPORTED_MODULE_2__.LoadStats();
_this.urlId=0;
_this.data=void 0;
_this.bitrateTest=false;
_this.title=null;
_this.initSegment=null;
_this.endList=void 0;
_this.type=type;
return _this;
}
var _proto2=Fragment.prototype;
_proto2.setKeyFormat=function setKeyFormat(keyFormat){
if(this.levelkeys){
var _key=this.levelkeys[keyFormat];
if(_key&&!this._decryptdata){
this._decryptdata=_key.getDecryptData(this.sn);
}
}
};
_proto2.abortRequests=function abortRequests(){
var _this$loader,_this$keyLoader;
(_this$loader=this.loader)===null||_this$loader===void 0?void 0:_this$loader.abort();
(_this$keyLoader=this.keyLoader)===null||_this$keyLoader===void 0?void 0:_this$keyLoader.abort();
};
_proto2.setElementaryStreamInfo=function setElementaryStreamInfo(type,startPTS,endPTS,startDTS,endDTS,partial){
if(partial===void 0){
partial=false;
}
var elementaryStreams=this.elementaryStreams;
var info=elementaryStreams[type];
if(!info){
elementaryStreams[type]={
startPTS:startPTS,
endPTS:endPTS,
startDTS:startDTS,
endDTS:endDTS,
partial:partial};

return;
}
info.startPTS=Math.min(info.startPTS,startPTS);
info.endPTS=Math.max(info.endPTS,endPTS);
info.startDTS=Math.min(info.startDTS,startDTS);
info.endDTS=Math.max(info.endDTS,endDTS);
};
_proto2.clearElementaryStreamInfo=function clearElementaryStreamInfo(){
var elementaryStreams=this.elementaryStreams;
elementaryStreams[_ElementaryStreamTypes.AUDIO]=null;
elementaryStreams[_ElementaryStreamTypes.VIDEO]=null;
elementaryStreams[_ElementaryStreamTypes.AUDIOVIDEO]=null;
};
_createClass(Fragment,[{
key:"decryptdata",
get:function get(){
var levelkeys=this.levelkeys;
if(!levelkeys&&!this._decryptdata){
return null;
}
if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){
var _key2=this.levelkeys.identity;
if(_key2){
this._decryptdata=_key2.getDecryptData(this.sn);
}else{
var keyFormats=Object.keys(this.levelkeys);
if(keyFormats.length===1){
return this._decryptdata=this.levelkeys[keyFormats[0]].getDecryptData(this.sn);
}else{
// Multiple keys. key-loader to call Fragment.setKeyFormat based on selected key-system.
}
}
}
return this._decryptdata;
}},
{
key:"end",
get:function get(){
return this.start+this.duration;
}},
{
key:"endProgramDateTime",
get:function get(){
if(this.programDateTime===null){
return null;
}
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(this.programDateTime)){
return null;
}
var duration=!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(this.duration)?0:this.duration;
return this.programDateTime+duration*1000;
}},
{
key:"encrypted",
get:function get(){
var _this$_decryptdata;
// At the m3u8-parser level we need to add support for manifest signalled keyformats
// when we want the fragment to start reporting that it is encrypted.
// Currently, keyFormat will only be set for identity keys
if((_this$_decryptdata=this._decryptdata)!==null&&_this$_decryptdata!==void 0&&_this$_decryptdata.encrypted){
return true;
}else if(this.levelkeys){
var keyFormats=Object.keys(this.levelkeys);
var len=keyFormats.length;
if(len>1||len===1&&this.levelkeys[keyFormats[0]].encrypted){
return true;
}
}
return false;
}}]);

return Fragment;
}(_BaseSegment3);
var _Part=/*#__PURE__*/function(_BaseSegment2){
_inheritsLoose(Part,_BaseSegment2);
function Part(partAttrs,frag,baseurl,index,previous){
var _this2;
_this2=_BaseSegment2.call(this,baseurl)||this;
_this2.fragOffset=0;
_this2.duration=0;
_this2.gap=false;
_this2.independent=false;
_this2.relurl=void 0;
_this2.fragment=void 0;
_this2.index=void 0;
_this2.stats=new _load_stats__WEBPACK_IMPORTED_MODULE_2__.LoadStats();
_this2.duration=partAttrs.decimalFloatingPoint('DURATION');
_this2.gap=partAttrs.bool('GAP');
_this2.independent=partAttrs.bool('INDEPENDENT');
_this2.relurl=partAttrs.enumeratedString('URI');
_this2.fragment=frag;
_this2.index=index;
var byteRange=partAttrs.enumeratedString('BYTERANGE');
if(byteRange){
_this2.setByteRange(byteRange,previous);
}
if(previous){
_this2.fragOffset=previous.fragOffset+previous.duration;
}
return _this2;
}
_createClass(Part,[{
key:"start",
get:function get(){
return this.fragment.start+this.fragOffset;
}},
{
key:"end",
get:function get(){
return this.start+this.duration;
}},
{
key:"loaded",
get:function get(){
var elementaryStreams=this.elementaryStreams;
return!!(elementaryStreams.audio||elementaryStreams.video||elementaryStreams.audiovideo);
}}]);

return Part;
}(_BaseSegment3);

/***/},

/***/"./src/loader/key-loader.ts":
/*!**********************************!*\
  !*** ./src/loader/key-loader.ts ***!
  \**********************************/
/***/function srcLoaderKeyLoaderTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */KeyLoader);}
/* harmony export */});
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _fragment_loader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./fragment-loader */"./src/loader/fragment-loader.ts");


var KeyLoader=/*#__PURE__*/function(){
function KeyLoader(config){
this.config=void 0;
this.keyUriToKeyInfo={};
this.emeController=null;
this.config=config;
}
var _proto=KeyLoader.prototype;
_proto.abort=function abort(){
for(var uri in this.keyUriToKeyInfo){
var loader=this.keyUriToKeyInfo[uri].loader;
if(loader){
loader.abort();
}
}
};
_proto.detach=function detach(){
for(var uri in this.keyUriToKeyInfo){
var keyInfo=this.keyUriToKeyInfo[uri];
// Remove cached EME keys on detach
if(keyInfo.mediaKeySessionContext||keyInfo.decryptdata.isCommonEncryption){
delete this.keyUriToKeyInfo[uri];
}
}
};
_proto.destroy=function destroy(){
this.detach();
for(var uri in this.keyUriToKeyInfo){
var loader=this.keyUriToKeyInfo[uri].loader;
if(loader){
loader.destroy();
}
}
this.keyUriToKeyInfo={};
};
_proto.createKeyLoadError=function createKeyLoadError(frag,details,networkDetails,message){
if(details===void 0){
details=_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.KEY_LOAD_ERROR;
}
return new _fragment_loader__WEBPACK_IMPORTED_MODULE_1__.LoadError({
type:_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorTypes.NETWORK_ERROR,
details:details,
fatal:false,
frag:frag,
networkDetails:networkDetails});

};
_proto.loadClear=function loadClear(loadingFrag,encryptedFragments){
var _this=this;
if(this.emeController&&this.config.emeEnabled){
// access key-system with nearest key on start (loaidng frag is unencrypted)
var sn=loadingFrag.sn,
cc=loadingFrag.cc;
var _loop=function _loop(i){
var frag=encryptedFragments[i];
if(cc<=frag.cc&&(sn==='initSegment'||sn<frag.sn)){
_this.emeController.selectKeySystemFormat(frag).then(function(keySystemFormat){
frag.setKeyFormat(keySystemFormat);
});
return"break";
}
};
for(var i=0;i<encryptedFragments.length;i++){
var _ret=_loop(i);
if(_ret==="break")break;
}
}
};
_proto.load=function load(frag){
var _this2=this;
if(!frag.decryptdata&&frag.encrypted&&this.emeController){
// Multiple keys, but none selected, resolve in eme-controller
return this.emeController.selectKeySystemFormat(frag).then(function(keySystemFormat){
return _this2.loadInternal(frag,keySystemFormat);
});
}
return this.loadInternal(frag);
};
_proto.loadInternal=function loadInternal(frag,keySystemFormat){
var _keyInfo,_keyInfo2;
if(keySystemFormat){
frag.setKeyFormat(keySystemFormat);
}
var decryptdata=frag.decryptdata;
if(!decryptdata){
var errorMessage=keySystemFormat?"Expected frag.decryptdata to be defined after setting format "+keySystemFormat:'Missing decryption data on fragment in onKeyLoading';
return Promise.reject(this.createKeyLoadError(frag,_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.KEY_LOAD_ERROR,null,errorMessage));
}
var uri=decryptdata.uri;
if(!uri){
return Promise.reject(this.createKeyLoadError(frag,_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.KEY_LOAD_ERROR,null,"Invalid key URI: \""+uri+"\""));
}
var keyInfo=this.keyUriToKeyInfo[uri];
if((_keyInfo=keyInfo)!==null&&_keyInfo!==void 0&&_keyInfo.decryptdata.key){
decryptdata.key=keyInfo.decryptdata.key;
return Promise.resolve({
frag:frag,
keyInfo:keyInfo});

}
// Return key load promise as long as it does not have a mediakey session with an unusable key status
if((_keyInfo2=keyInfo)!==null&&_keyInfo2!==void 0&&_keyInfo2.keyLoadPromise){
var _keyInfo$mediaKeySess;
switch((_keyInfo$mediaKeySess=keyInfo.mediaKeySessionContext)===null||_keyInfo$mediaKeySess===void 0?void 0:_keyInfo$mediaKeySess.keyStatus){
case undefined:
case'status-pending':
case'usable':
case'usable-in-future':
return keyInfo.keyLoadPromise;}

// If we have a key session and status and it is not pending or usable, continue
// This will go back to the eme-controller for expired keys to get a new keyLoadPromise
}

// Load the key or return the loading promise
keyInfo=this.keyUriToKeyInfo[uri]={
decryptdata:decryptdata,
keyLoadPromise:null,
loader:null,
mediaKeySessionContext:null};

switch(decryptdata.method){
case'ISO-23001-7':
case'SAMPLE-AES':
case'SAMPLE-AES-CENC':
case'SAMPLE-AES-CTR':
if(decryptdata.keyFormat==='identity'){
// loadKeyHTTP handles http(s) and data URLs
return this.loadKeyHTTP(keyInfo,frag);
}
return this.loadKeyEME(keyInfo,frag);
case'AES-128':
return this.loadKeyHTTP(keyInfo,frag);
default:
return Promise.reject(this.createKeyLoadError(frag,_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.KEY_LOAD_ERROR,null,"Key supplied with unsupported METHOD: \""+decryptdata.method+"\""));}

};
_proto.loadKeyEME=function loadKeyEME(keyInfo,frag){
var keyLoadedData={
frag:frag,
keyInfo:keyInfo};

if(this.emeController&&this.config.emeEnabled){
var keySessionContextPromise=this.emeController.loadKey(keyLoadedData);
if(keySessionContextPromise){
return(keyInfo.keyLoadPromise=keySessionContextPromise.then(function(keySessionContext){
keyInfo.mediaKeySessionContext=keySessionContext;
return keyLoadedData;
})).catch(function(error){
// Remove promise for license renewal or retry
keyInfo.keyLoadPromise=null;
throw error;
});
}
}
return Promise.resolve(keyLoadedData);
};
_proto.loadKeyHTTP=function loadKeyHTTP(keyInfo,frag){
var _this3=this;
var config=this.config;
var Loader=config.loader;
var keyLoader=new Loader(config);
frag.keyLoader=keyInfo.loader=keyLoader;
return keyInfo.keyLoadPromise=new Promise(function(resolve,reject){
var loaderContext={
keyInfo:keyInfo,
frag:frag,
responseType:'arraybuffer',
url:keyInfo.decryptdata.uri};


// maxRetry is 0 so that instead of retrying the same key on the same variant multiple times,
// key-loader will trigger an error and rely on stream-controller to handle retry logic.
// this will also align retry logic with fragment-loader
var loaderConfig={
timeout:config.fragLoadingTimeOut,
maxRetry:0,
retryDelay:config.fragLoadingRetryDelay,
maxRetryDelay:config.fragLoadingMaxRetryTimeout,
highWaterMark:0};

var loaderCallbacks={
onSuccess:function onSuccess(response,stats,context,networkDetails){
var frag=context.frag,
keyInfo=context.keyInfo,
uri=context.url;
if(!frag.decryptdata||keyInfo!==_this3.keyUriToKeyInfo[uri]){
return reject(_this3.createKeyLoadError(frag,_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.KEY_LOAD_ERROR,networkDetails,'after key load, decryptdata unset or changed'));
}
keyInfo.decryptdata.key=frag.decryptdata.key=new Uint8Array(response.data);

// detach fragment key loader on load success
frag.keyLoader=null;
keyInfo.loader=null;
resolve({
frag:frag,
keyInfo:keyInfo});

},
onError:function onError(error,context,networkDetails){
_this3.resetLoader(context);
reject(_this3.createKeyLoadError(frag,_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.KEY_LOAD_ERROR,networkDetails));
},
onTimeout:function onTimeout(stats,context,networkDetails){
_this3.resetLoader(context);
reject(_this3.createKeyLoadError(frag,_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.KEY_LOAD_TIMEOUT,networkDetails));
},
onAbort:function onAbort(stats,context,networkDetails){
_this3.resetLoader(context);
reject(_this3.createKeyLoadError(frag,_errors__WEBPACK_IMPORTED_MODULE_0__.ErrorDetails.INTERNAL_ABORTED,networkDetails));
}};

keyLoader.load(loaderContext,loaderConfig,loaderCallbacks);
});
};
_proto.resetLoader=function resetLoader(context){
var frag=context.frag,
keyInfo=context.keyInfo,
uri=context.url;
var loader=keyInfo.loader;
if(frag.keyLoader===loader){
frag.keyLoader=null;
keyInfo.loader=null;
}
delete this.keyUriToKeyInfo[uri];
if(loader){
loader.destroy();
}
};
return KeyLoader;
}();


/***/},

/***/"./src/loader/level-details.ts":
/*!*************************************!*\
  !*** ./src/loader/level-details.ts ***!
  \*************************************/
/***/function srcLoaderLevelDetailsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"LevelDetails":function LevelDetails(){return(/* binding */_LevelDetails);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");

function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
var DEFAULT_TARGET_DURATION=10;
var _LevelDetails=/*#__PURE__*/function(){
// Manifest reload synchronization

function LevelDetails(baseUrl){
this.PTSKnown=false;
this.alignedSliding=false;
this.averagetargetduration=void 0;
this.endCC=0;
this.endSN=0;
this.fragments=void 0;
this.fragmentHint=void 0;
this.partList=null;
this.dateRanges=void 0;
this.live=true;
this.ageHeader=0;
this.advancedDateTime=void 0;
this.updated=true;
this.advanced=true;
this.availabilityDelay=void 0;
this.misses=0;
this.startCC=0;
this.startSN=0;
this.startTimeOffset=null;
this.targetduration=0;
this.totalduration=0;
this.type=null;
this.url=void 0;
this.m3u8='';
this.version=null;
this.canBlockReload=false;
this.canSkipUntil=0;
this.canSkipDateRanges=false;
this.skippedSegments=0;
this.recentlyRemovedDateranges=void 0;
this.partHoldBack=0;
this.holdBack=0;
this.partTarget=0;
this.preloadHint=void 0;
this.renditionReports=void 0;
this.tuneInGoal=0;
this.deltaUpdateFailed=void 0;
this.driftStartTime=0;
this.driftEndTime=0;
this.driftStart=0;
this.driftEnd=0;
this.encryptedFragments=void 0;
this.fragments=[];
this.encryptedFragments=[];
this.dateRanges={};
this.url=baseUrl;
}
var _proto=LevelDetails.prototype;
_proto.reloaded=function reloaded(previous){
if(!previous){
this.advanced=true;
this.updated=true;
return;
}
var partSnDiff=this.lastPartSn-previous.lastPartSn;
var partIndexDiff=this.lastPartIndex-previous.lastPartIndex;
this.updated=this.endSN!==previous.endSN||!!partIndexDiff||!!partSnDiff;
this.advanced=this.endSN>previous.endSN||partSnDiff>0||partSnDiff===0&&partIndexDiff>0;
if(this.updated||this.advanced){
this.misses=Math.floor(previous.misses*0.6);
}else{
this.misses=previous.misses+1;
}
this.availabilityDelay=previous.availabilityDelay;
};
_createClass(LevelDetails,[{
key:"hasProgramDateTime",
get:function get(){
if(this.fragments.length){
return(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime);
}
return false;
}},
{
key:"levelTargetDuration",
get:function get(){
return this.averagetargetduration||this.targetduration||DEFAULT_TARGET_DURATION;
}},
{
key:"drift",
get:function get(){
var runTime=this.driftEndTime-this.driftStartTime;
if(runTime>0){
var runDuration=this.driftEnd-this.driftStart;
return runDuration*1000/runTime;
}
return 1;
}},
{
key:"edge",
get:function get(){
return this.partEnd||this.fragmentEnd;
}},
{
key:"partEnd",
get:function get(){
var _this$partList;
if((_this$partList=this.partList)!==null&&_this$partList!==void 0&&_this$partList.length){
return this.partList[this.partList.length-1].end;
}
return this.fragmentEnd;
}},
{
key:"fragmentEnd",
get:function get(){
var _this$fragments;
if((_this$fragments=this.fragments)!==null&&_this$fragments!==void 0&&_this$fragments.length){
return this.fragments[this.fragments.length-1].end;
}
return 0;
}},
{
key:"age",
get:function get(){
if(this.advancedDateTime){
return Math.max(Date.now()-this.advancedDateTime,0)/1000;
}
return 0;
}},
{
key:"lastPartIndex",
get:function get(){
var _this$partList2;
if((_this$partList2=this.partList)!==null&&_this$partList2!==void 0&&_this$partList2.length){
return this.partList[this.partList.length-1].index;
}
return-1;
}},
{
key:"lastPartSn",
get:function get(){
var _this$partList3;
if((_this$partList3=this.partList)!==null&&_this$partList3!==void 0&&_this$partList3.length){
return this.partList[this.partList.length-1].fragment.sn;
}
return this.endSN;
}}]);

return LevelDetails;
}();

/***/},

/***/"./src/loader/level-key.ts":
/*!*********************************!*\
  !*** ./src/loader/level-key.ts ***!
  \*********************************/
/***/function srcLoaderLevelKeyTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"LevelKey":function LevelKey(){return(/* binding */_LevelKey);}
/* harmony export */});
/* harmony import */var _utils_keysystem_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/keysystem-util */"./src/utils/keysystem-util.ts");
/* harmony import */var _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _utils_numeric_encoding_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/numeric-encoding-utils */"./src/utils/numeric-encoding-utils.ts");





var keyUriToKeyIdMap={};
var _LevelKey=/*#__PURE__*/function(){
LevelKey.clearKeyUriToKeyIdMap=function clearKeyUriToKeyIdMap(){
keyUriToKeyIdMap={};
};
function LevelKey(method,uri,format,formatversions,iv){
if(formatversions===void 0){
formatversions=[1];
}
if(iv===void 0){
iv=null;
}
this.uri=void 0;
this.method=void 0;
this.keyFormat=void 0;
this.keyFormatVersions=void 0;
this.encrypted=void 0;
this.isCommonEncryption=void 0;
this.iv=null;
this.key=null;
this.keyId=null;
this.pssh=null;
this.method=method;
this.uri=uri;
this.keyFormat=format;
this.keyFormatVersions=formatversions;
this.iv=iv;
this.encrypted=method?method!=='NONE':false;
this.isCommonEncryption=this.encrypted&&method!=='AES-128';
}
var _proto=LevelKey.prototype;
_proto.isSupported=function isSupported(){
// If it's Segment encryption or No encryption, just select that key system
if(this.method){
if(this.method==='AES-128'||this.method==='NONE'){
return true;
}
switch(this.keyFormat){
case'identity':
// Maintain support for clear SAMPLE-AES with MPEG-3 TS
return this.method==='SAMPLE-AES';
case _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_1__.KeySystemFormats.FAIRPLAY:
case _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_1__.KeySystemFormats.WIDEVINE:
case _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_1__.KeySystemFormats.PLAYREADY:
case _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_1__.KeySystemFormats.CLEARKEY:
return['ISO-23001-7','SAMPLE-AES','SAMPLE-AES-CENC','SAMPLE-AES-CTR'].indexOf(this.method)!==-1;}

}
return false;
};
_proto.getDecryptData=function getDecryptData(sn){
if(!this.encrypted||!this.uri){
return null;
}
if(this.method==='AES-128'&&this.uri&&!this.iv){
if(typeof sn!=='number'){
// We are fetching decryption data for a initialization segment
// If the segment was encrypted with AES-128
// It must have an IV defined. We cannot substitute the Segment Number in.
if(this.method==='AES-128'&&!this.iv){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("missing IV for initialization segment with method=\""+this.method+"\" - compliance issue");
}
// Explicitly set sn to resulting value from implicit conversions 'initSegment' values for IV generation.
sn=0;
}
var iv=createInitializationVector(sn);
var decryptdata=new LevelKey(this.method,this.uri,'identity',this.keyFormatVersions,iv);
return decryptdata;
}

// Initialize keyId if possible
var keyBytes=(0,_utils_keysystem_util__WEBPACK_IMPORTED_MODULE_0__.convertDataUriToArrayBytes)(this.uri);
if(keyBytes){
switch(this.keyFormat){
case _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_1__.KeySystemFormats.WIDEVINE:
this.pssh=keyBytes;
// In case of widevine keyID is embedded in PSSH box. Read Key ID.
if(keyBytes.length>=22){
this.keyId=keyBytes.subarray(keyBytes.length-22,keyBytes.length-6);
}
break;
case _utils_mediakeys_helper__WEBPACK_IMPORTED_MODULE_1__.KeySystemFormats.PLAYREADY:
{
var PlayReadyKeySystemUUID=new Uint8Array([0x9a,0x04,0xf0,0x79,0x98,0x40,0x42,0x86,0xab,0x92,0xe6,0x5b,0xe0,0x88,0x5f,0x95]);
this.pssh=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.mp4pssh)(PlayReadyKeySystemUUID,null,keyBytes);
var keyBytesUtf16=new Uint16Array(keyBytes.buffer,keyBytes.byteOffset,keyBytes.byteLength/2);
var keyByteStr=String.fromCharCode.apply(null,Array.from(keyBytesUtf16));

// Parse Playready WRMHeader XML
var xmlKeyBytes=keyByteStr.substring(keyByteStr.indexOf('<'),keyByteStr.length);
var parser=new DOMParser();
var xmlDoc=parser.parseFromString(xmlKeyBytes,'text/xml');
var keyData=xmlDoc.getElementsByTagName('KID')[0];
if(keyData){
var keyId=keyData.childNodes[0]?keyData.childNodes[0].nodeValue:keyData.getAttribute('VALUE');
if(keyId){
var keyIdArray=(0,_utils_numeric_encoding_utils__WEBPACK_IMPORTED_MODULE_4__.base64Decode)(keyId).subarray(0,16);
// KID value in PRO is a base64-encoded little endian GUID interpretation of UUID
// KID value in ‘tenc’ is a big endian UUID GUID interpretation of UUID
(0,_utils_keysystem_util__WEBPACK_IMPORTED_MODULE_0__.changeEndianness)(keyIdArray);
this.keyId=keyIdArray;
}
}
break;
}
default:
{
var keydata=keyBytes.subarray(0,16);
if(keydata.length!==16){
var padded=new Uint8Array(16);
padded.set(keydata,16-keydata.length);
keydata=padded;
}
this.keyId=keydata;
break;
}}

}

// Default behavior: assign a new keyId for each uri
if(!this.keyId||this.keyId.byteLength!==16){
var _keyId=keyUriToKeyIdMap[this.uri];
if(!_keyId){
var val=Object.keys(keyUriToKeyIdMap).length%Number.MAX_SAFE_INTEGER;
_keyId=new Uint8Array(16);
var dv=new DataView(_keyId.buffer,12,4);// Just set the last 4 bytes
dv.setUint32(0,val);
keyUriToKeyIdMap[this.uri]=_keyId;
}
this.keyId=_keyId;
}
return this;
};
return LevelKey;
}();
function createInitializationVector(segmentNumber){
var uint8View=new Uint8Array(16);
for(var i=12;i<16;i++){
uint8View[i]=segmentNumber>>8*(15-i)&0xff;
}
return uint8View;
}

/***/},

/***/"./src/loader/load-stats.ts":
/*!**********************************!*\
  !*** ./src/loader/load-stats.ts ***!
  \**********************************/
/***/function srcLoaderLoadStatsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"LoadStats":function LoadStats(){return(/* binding */_LoadStats);}
/* harmony export */});
var _LoadStats=function LoadStats(){
this.aborted=false;
this.loaded=0;
this.retry=0;
this.total=0;
this.chunkCount=0;
this.bwEstimate=0;
this.loading={
start:0,
first:0,
end:0};

this.parsing={
start:0,
end:0};

this.buffering={
start:0,
first:0,
end:0};

};

/***/},

/***/"./src/loader/m3u8-parser.ts":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.ts ***!
  \***********************************/
/***/function srcLoaderM3u8ParserTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */M3U8Parser);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var url_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js");
/* harmony import */var url_toolkit__WEBPACK_IMPORTED_MODULE_1___default=/*#__PURE__*/__webpack_require__.n(url_toolkit__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */var _date_range__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./date-range */"./src/loader/date-range.ts");
/* harmony import */var _fragment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./fragment */"./src/loader/fragment.ts");
/* harmony import */var _level_details__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./level-details */"./src/loader/level-details.ts");
/* harmony import */var _level_key__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./level-key */"./src/loader/level-key.ts");
/* harmony import */var _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../utils/attr-list */"./src/utils/attr-list.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _utils_codecs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(/*! ../utils/codecs */"./src/utils/codecs.ts");




function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}








// https://regex101.com is your friend
var MASTER_PLAYLIST_REGEX=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g;
var MASTER_PLAYLIST_MEDIA_REGEX=/#EXT-X-MEDIA:(.*)/g;
var LEVEL_PLAYLIST_REGEX_FAST=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,
// duration (#EXTINF:<duration>,<title>), group 1 => duration, group 2 => title
/(?!#) *(\S[\S ]*)/.source,
// segment URI, group 3 => the URI (note newline is not eaten)
/#EXT-X-BYTERANGE:*(.+)/.source,
// next segment's byterange, group 4 => range spec (x@y)
/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,
// next segment's program date/time group 5 => the datetime spec
/#.*/.source// All other non-segment oriented tags will match with all groups empty
].join('|'),'g');
var LEVEL_PLAYLIST_REGEX_SLOW=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join('|'));
var M3U8Parser=/*#__PURE__*/function(){
function M3U8Parser(){}
M3U8Parser.findGroup=function findGroup(groups,mediaGroupId){
for(var i=0;i<groups.length;i++){
var group=groups[i];
if(group.id===mediaGroupId){
return group;
}
}
};
M3U8Parser.convertAVC1ToAVCOTI=function convertAVC1ToAVCOTI(codec){
// Convert avc1 codec string from RFC-4281 to RFC-6381 for MediaSource.isTypeSupported
var avcdata=codec.split('.');
if(avcdata.length>2){
var result=avcdata.shift()+'.';
result+=parseInt(avcdata.shift()).toString(16);
result+=('000'+parseInt(avcdata.shift()).toString(16)).slice(-4);
return result;
}
return codec;
};
M3U8Parser.resolve=function resolve(url,baseUrl){
return(0,url_toolkit__WEBPACK_IMPORTED_MODULE_1__.buildAbsoluteURL)(baseUrl,url,{
alwaysNormalize:true});

};
M3U8Parser.parseMasterPlaylist=function parseMasterPlaylist(string,baseurl){
var levels=[];
var levelsWithKnownCodecs=[];
var sessionData={};
var sessionKeys=[];
var hasSessionData=false;
MASTER_PLAYLIST_REGEX.lastIndex=0;
var result;
while((result=MASTER_PLAYLIST_REGEX.exec(string))!=null){
if(result[1]){
var _level$unknownCodecs;
// '#EXT-X-STREAM-INF' is found, parse level tag  in group 1
var attrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(result[1]);
var level={
attrs:attrs,
bitrate:attrs.decimalInteger('AVERAGE-BANDWIDTH')||attrs.decimalInteger('BANDWIDTH'),
name:attrs.NAME,
url:M3U8Parser.resolve(result[2],baseurl)};

var resolution=attrs.decimalResolution('RESOLUTION');
if(resolution){
level.width=resolution.width;
level.height=resolution.height;
}
setCodecs((attrs.CODECS||'').split(/[ ,]+/).filter(function(c){
return c;
}),level);
if(level.videoCodec&&level.videoCodec.indexOf('avc1')!==-1){
level.videoCodec=M3U8Parser.convertAVC1ToAVCOTI(level.videoCodec);
}
if(!((_level$unknownCodecs=level.unknownCodecs)!==null&&_level$unknownCodecs!==void 0&&_level$unknownCodecs.length)){
levelsWithKnownCodecs.push(level);
}
levels.push(level);
}else if(result[3]){
// '#EXT-X-SESSION-DATA' is found, parse session data in group 3
var sessionAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(result[3]);
if(sessionAttrs['DATA-ID']){
hasSessionData=true;
sessionData[sessionAttrs['DATA-ID']]=sessionAttrs;
}
}else if(result[4]){
// '#EXT-X-SESSION-KEY' is found
var keyTag=result[4];
var sessionKey=parseKey(keyTag,baseurl);
if(sessionKey.encrypted&&sessionKey.isSupported()){
sessionKeys.push(sessionKey);
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn("[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: \""+keyTag+"\"");
}
}
}
// Filter out levels with unknown codecs if it does not remove all levels
var stripUnknownCodecLevels=levelsWithKnownCodecs.length>0&&levelsWithKnownCodecs.length<levels.length;
return{
levels:stripUnknownCodecLevels?levelsWithKnownCodecs:levels,
sessionData:hasSessionData?sessionData:null,
sessionKeys:sessionKeys.length?sessionKeys:null};

};
M3U8Parser.parseMasterPlaylistMedia=function parseMasterPlaylistMedia(string,baseurl,type,groups){
if(groups===void 0){
groups=[];
}
var result;
var medias=[];
var id=0;
MASTER_PLAYLIST_MEDIA_REGEX.lastIndex=0;
while((result=MASTER_PLAYLIST_MEDIA_REGEX.exec(string))!==null){
var attrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(result[1]);
if(attrs.TYPE===type){
var media={
attrs:attrs,
bitrate:0,
id:id++,
groupId:attrs['GROUP-ID'],
instreamId:attrs['INSTREAM-ID'],
name:attrs.NAME||attrs.LANGUAGE||'',
type:type,
default:attrs.bool('DEFAULT'),
autoselect:attrs.bool('AUTOSELECT'),
forced:attrs.bool('FORCED'),
lang:attrs.LANGUAGE,
url:attrs.URI?M3U8Parser.resolve(attrs.URI,baseurl):''};

if(groups.length){
// If there are audio or text groups signalled in the manifest, let's look for a matching codec string for this track
// If we don't find the track signalled, lets use the first audio groups codec we have
// Acting as a best guess
var groupCodec=M3U8Parser.findGroup(groups,media.groupId)||groups[0];
assignCodec(media,groupCodec,'audioCodec');
assignCodec(media,groupCodec,'textCodec');
}
medias.push(media);
}
}
return medias;
};
M3U8Parser.parseLevelPlaylist=function parseLevelPlaylist(string,baseurl,id,type,levelUrlId){
var level=new _level_details__WEBPACK_IMPORTED_MODULE_4__.LevelDetails(baseurl);
var fragments=level.fragments;
// The most recent init segment seen (applies to all subsequent segments)
var currentInitSegment=null;
var currentSN=0;
var currentPart=0;
var totalduration=0;
var discontinuityCounter=0;
var prevFrag=null;
var frag=new _fragment__WEBPACK_IMPORTED_MODULE_3__.Fragment(type,baseurl);
var result;
var i;
var levelkeys;
var firstPdtIndex=-1;
var createNextFrag=false;
LEVEL_PLAYLIST_REGEX_FAST.lastIndex=0;
level.m3u8=string;
while((result=LEVEL_PLAYLIST_REGEX_FAST.exec(string))!==null){
if(createNextFrag){
createNextFrag=false;
frag=new _fragment__WEBPACK_IMPORTED_MODULE_3__.Fragment(type,baseurl);
// setup the next fragment for part loading
frag.start=totalduration;
frag.sn=currentSN;
frag.cc=discontinuityCounter;
frag.level=id;
if(currentInitSegment){
frag.initSegment=currentInitSegment;
frag.rawProgramDateTime=currentInitSegment.rawProgramDateTime;
currentInitSegment.rawProgramDateTime=null;
}
}
var duration=result[1];
if(duration){
// INF
frag.duration=parseFloat(duration);
// avoid sliced strings    https://github.com/video-dev/hls.js/issues/939
var title=(' '+result[2]).slice(1);
frag.title=title||null;
frag.tagList.push(title?['INF',duration,title]:['INF',duration]);
}else if(result[3]){
// url
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(frag.duration)){
frag.start=totalduration;
if(levelkeys){
setFragLevelKeys(frag,levelkeys,level);
}
frag.sn=currentSN;
frag.level=id;
frag.cc=discontinuityCounter;
frag.urlId=levelUrlId;
fragments.push(frag);
// avoid sliced strings    https://github.com/video-dev/hls.js/issues/939
frag.relurl=(' '+result[3]).slice(1);
assignProgramDateTime(frag,prevFrag);
prevFrag=frag;
totalduration+=frag.duration;
currentSN++;
currentPart=0;
createNextFrag=true;
}
}else if(result[4]){
// X-BYTERANGE
var data=(' '+result[4]).slice(1);
if(prevFrag){
frag.setByteRange(data,prevFrag);
}else{
frag.setByteRange(data);
}
}else if(result[5]){
// PROGRAM-DATE-TIME
// avoid sliced strings    https://github.com/video-dev/hls.js/issues/939
frag.rawProgramDateTime=(' '+result[5]).slice(1);
frag.tagList.push(['PROGRAM-DATE-TIME',frag.rawProgramDateTime]);
if(firstPdtIndex===-1){
firstPdtIndex=fragments.length;
}
}else{
result=result[0].match(LEVEL_PLAYLIST_REGEX_SLOW);
if(!result){
_utils_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn('No matches on slow regex match for level playlist!');
continue;
}
for(i=1;i<result.length;i++){
if(typeof result[i]!=='undefined'){
break;
}
}

// avoid sliced strings    https://github.com/video-dev/hls.js/issues/939
var tag=(' '+result[i]).slice(1);
var value1=(' '+result[i+1]).slice(1);
var value2=result[i+2]?(' '+result[i+2]).slice(1):'';
switch(tag){
case'PLAYLIST-TYPE':
level.type=value1.toUpperCase();
break;
case'MEDIA-SEQUENCE':
currentSN=level.startSN=parseInt(value1);
break;
case'SKIP':
{
var skipAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
var skippedSegments=skipAttrs.decimalInteger('SKIPPED-SEGMENTS');
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(skippedSegments)){
level.skippedSegments=skippedSegments;
// This will result in fragments[] containing undefined values, which we will fill in with `mergeDetails`
for(var _i=skippedSegments;_i--;){
fragments.unshift(null);
}
currentSN+=skippedSegments;
}
var recentlyRemovedDateranges=skipAttrs.enumeratedString('RECENTLY-REMOVED-DATERANGES');
if(recentlyRemovedDateranges){
level.recentlyRemovedDateranges=recentlyRemovedDateranges.split('\t');
}
break;
}
case'TARGETDURATION':
level.targetduration=parseFloat(value1);
break;
case'VERSION':
level.version=parseInt(value1);
break;
case'EXTM3U':
break;
case'ENDLIST':
level.live=false;
break;
case'#':
if(value1||value2){
frag.tagList.push(value2?[value1,value2]:[value1]);
}
break;
case'DISCONTINUITY':
discontinuityCounter++;
frag.tagList.push(['DIS']);
break;
case'GAP':
frag.tagList.push([tag]);
break;
case'BITRATE':
frag.tagList.push([tag,value1]);
break;
case'DATERANGE':
{
var dateRangeAttr=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
var dateRange=new _date_range__WEBPACK_IMPORTED_MODULE_2__.DateRange(dateRangeAttr,level.dateRanges[dateRangeAttr.ID]);
if(dateRange.isValid||level.skippedSegments){
level.dateRanges[dateRange.id]=dateRange;
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn("Ignoring invalid DATERANGE tag: \""+value1+"\"");
}
// Add to fragment tag list for backwards compatibility (< v1.2.0)
frag.tagList.push(['EXT-X-DATERANGE',value1]);
break;
}
case'DISCONTINUITY-SEQUENCE':
discontinuityCounter=parseInt(value1);
break;
case'KEY':
{
var levelKey=parseKey(value1,baseurl);
if(levelKey.isSupported()){
if(levelKey.method==='NONE'){
levelkeys=undefined;
break;
}
if(!levelkeys){
levelkeys={};
}
if(levelkeys[levelKey.keyFormat]){
levelkeys=_extends({},levelkeys);
}
levelkeys[levelKey.keyFormat]=levelKey;
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn("[Keys] Ignoring invalid EXT-X-KEY tag: \""+value1+"\"");
}
break;
}
case'START':
{
var startAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
var startTimeOffset=startAttrs.decimalFloatingPoint('TIME-OFFSET');
// TIME-OFFSET can be 0
if((0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(startTimeOffset)){
level.startTimeOffset=startTimeOffset;
}
break;
}
case'MAP':
{
var mapAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
if(frag.duration){
// Initial segment tag is after segment duration tag.
//   #EXTINF: 6.0
//   #EXT-X-MAP:URI="init.mp4
var init=new _fragment__WEBPACK_IMPORTED_MODULE_3__.Fragment(type,baseurl);
setInitSegment(init,mapAttrs,id,levelkeys);
currentInitSegment=init;
frag.initSegment=currentInitSegment;
if(currentInitSegment.rawProgramDateTime&&!frag.rawProgramDateTime){
frag.rawProgramDateTime=currentInitSegment.rawProgramDateTime;
}
}else{
// Initial segment tag is before segment duration tag
setInitSegment(frag,mapAttrs,id,levelkeys);
currentInitSegment=frag;
createNextFrag=true;
}
break;
}
case'SERVER-CONTROL':
{
var serverControlAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
level.canBlockReload=serverControlAttrs.bool('CAN-BLOCK-RELOAD');
level.canSkipUntil=serverControlAttrs.optionalFloat('CAN-SKIP-UNTIL',0);
level.canSkipDateRanges=level.canSkipUntil>0&&serverControlAttrs.bool('CAN-SKIP-DATERANGES');
level.partHoldBack=serverControlAttrs.optionalFloat('PART-HOLD-BACK',0);
level.holdBack=serverControlAttrs.optionalFloat('HOLD-BACK',0);
break;
}
case'PART-INF':
{
var partInfAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
level.partTarget=partInfAttrs.decimalFloatingPoint('PART-TARGET');
break;
}
case'PART':
{
var partList=level.partList;
if(!partList){
partList=level.partList=[];
}
var previousFragmentPart=currentPart>0?partList[partList.length-1]:undefined;
var index=currentPart++;
var part=new _fragment__WEBPACK_IMPORTED_MODULE_3__.Part(new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1),frag,baseurl,index,previousFragmentPart);
partList.push(part);
frag.duration+=part.duration;
break;
}
case'PRELOAD-HINT':
{
var preloadHintAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
level.preloadHint=preloadHintAttrs;
break;
}
case'RENDITION-REPORT':
{
var renditionReportAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(value1);
level.renditionReports=level.renditionReports||[];
level.renditionReports.push(renditionReportAttrs);
break;
}
default:
_utils_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn("line parsed but not handled: "+result);
break;}

}
}
if(prevFrag&&!prevFrag.relurl){
fragments.pop();
totalduration-=prevFrag.duration;
if(level.partList){
level.fragmentHint=prevFrag;
}
}else if(level.partList){
assignProgramDateTime(frag,prevFrag);
frag.cc=discontinuityCounter;
level.fragmentHint=frag;
if(levelkeys){
setFragLevelKeys(frag,levelkeys,level);
}
}
var fragmentLength=fragments.length;
var firstFragment=fragments[0];
var lastFragment=fragments[fragmentLength-1];
totalduration+=level.skippedSegments*level.targetduration;
if(totalduration>0&&fragmentLength&&lastFragment){
level.averagetargetduration=totalduration/fragmentLength;
var lastSn=lastFragment.sn;
level.endSN=lastSn!=='initSegment'?lastSn:0;
if(!level.live){
lastFragment.endList=true;
}
if(firstFragment){
level.startCC=firstFragment.cc;
}
}else{
level.endSN=0;
level.startCC=0;
}
if(level.fragmentHint){
totalduration+=level.fragmentHint.duration;
}
level.totalduration=totalduration;
level.endCC=discontinuityCounter;

/**
     * Backfill any missing PDT values
     * "If the first EXT-X-PROGRAM-DATE-TIME tag in a Playlist appears after
     * one or more Media Segment URIs, the client SHOULD extrapolate
     * backward from that tag (using EXTINF durations and/or media
     * timestamps) to associate dates with those segments."
     * We have already extrapolated forward, but all fragments up to the first instance of PDT do not have their PDTs
     * computed.
     */
if(firstPdtIndex>0){
backfillProgramDateTimes(fragments,firstPdtIndex);
}
return level;
};
return M3U8Parser;
}();

function parseKey(keyTag,baseurl){
var _keyAttrs$enumeratedS,_keyAttrs$enumeratedS2;
// https://tools.ietf.org/html/rfc8216#section-4.3.2.4
var keyAttrs=new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList(keyTag);
var decryptmethod=(_keyAttrs$enumeratedS=keyAttrs.enumeratedString('METHOD'))!=null?_keyAttrs$enumeratedS:'';
var decrypturi=keyAttrs.URI;
var decryptiv=keyAttrs.hexadecimalInteger('IV');
var decryptkeyformatversions=keyAttrs.enumeratedString('KEYFORMATVERSIONS');
// From RFC: This attribute is OPTIONAL; its absence indicates an implicit value of "identity".
var decryptkeyformat=(_keyAttrs$enumeratedS2=keyAttrs.enumeratedString('KEYFORMAT'))!=null?_keyAttrs$enumeratedS2:'identity';
if(decrypturi&&keyAttrs.IV&&!decryptiv){
_utils_logger__WEBPACK_IMPORTED_MODULE_7__.logger.error("Invalid IV: "+keyAttrs.IV);
}
// If decrypturi is a URI with a scheme, then baseurl will be ignored
// No uri is allowed when METHOD is NONE
var resolvedUri=decrypturi?M3U8Parser.resolve(decrypturi,baseurl):'';
var keyFormatVersions=(decryptkeyformatversions?decryptkeyformatversions:'1').split('/').map(Number).filter(Number.isFinite);
return new _level_key__WEBPACK_IMPORTED_MODULE_5__.LevelKey(decryptmethod,resolvedUri,decryptkeyformat,keyFormatVersions,decryptiv);
}
function setCodecs(codecs,level){
['video','audio','text'].forEach(function(type){
var filtered=codecs.filter(function(codec){
return(0,_utils_codecs__WEBPACK_IMPORTED_MODULE_8__.isCodecType)(codec,type);
});
if(filtered.length){
var preferred=filtered.filter(function(codec){
return codec.lastIndexOf('avc1',0)===0||codec.lastIndexOf('mp4a',0)===0;
});
level[type+"Codec"]=preferred.length>0?preferred[0]:filtered[0];

// remove from list
codecs=codecs.filter(function(codec){
return filtered.indexOf(codec)===-1;
});
}
});
level.unknownCodecs=codecs;
}
function assignCodec(media,groupItem,codecProperty){
var codecValue=groupItem[codecProperty];
if(codecValue){
media[codecProperty]=codecValue;
}
}
function backfillProgramDateTimes(fragments,firstPdtIndex){
var fragPrev=fragments[firstPdtIndex];
for(var i=firstPdtIndex;i--;){
var frag=fragments[i];
// Exit on delta-playlist skipped segments
if(!frag){
return;
}
frag.programDateTime=fragPrev.programDateTime-frag.duration*1000;
fragPrev=frag;
}
}
function assignProgramDateTime(frag,prevFrag){
if(frag.rawProgramDateTime){
frag.programDateTime=Date.parse(frag.rawProgramDateTime);
}else if(prevFrag!==null&&prevFrag!==void 0&&prevFrag.programDateTime){
frag.programDateTime=prevFrag.endProgramDateTime;
}
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(frag.programDateTime)){
frag.programDateTime=null;
frag.rawProgramDateTime=null;
}
}
function setInitSegment(frag,mapAttrs,id,levelkeys){
frag.relurl=mapAttrs.URI;
if(mapAttrs.BYTERANGE){
frag.setByteRange(mapAttrs.BYTERANGE);
}
frag.level=id;
frag.sn='initSegment';
if(levelkeys){
frag.levelkeys=levelkeys;
}
frag.initSegment=null;
}
function setFragLevelKeys(frag,levelkeys,level){
frag.levelkeys=levelkeys;
var encryptedFragments=level.encryptedFragments;
if((!encryptedFragments.length||encryptedFragments[encryptedFragments.length-1].levelkeys!==levelkeys)&&Object.keys(levelkeys).some(function(format){
return levelkeys[format].isCommonEncryption;
})){
encryptedFragments.push(frag);
}
}

/***/},

/***/"./src/loader/playlist-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.ts ***!
  \***************************************/
/***/function srcLoaderPlaylistLoaderTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _m3u8_parser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./m3u8-parser */"./src/loader/m3u8-parser.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
/* harmony import */var _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../utils/attr-list */"./src/utils/attr-list.ts");


/**
 * PlaylistLoader - delegate for media manifest/playlist loading tasks. Takes care of parsing media to internal data-models.
 *
 * Once loaded, dispatches events with parsed data-models of manifest/levels/audio/subtitle tracks.
 *
 * Uses loader(s) set in config to do actual internal loading of resource tasks.
 *
 * @module
 *
 */







function mapContextToLevelType(context){
var type=context.type;
switch(type){
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.AUDIO_TRACK:
return _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistLevelType.AUDIO;
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.SUBTITLE_TRACK:
return _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistLevelType.SUBTITLE;
default:
return _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistLevelType.MAIN;}

}
function getResponseUrl(response,context){
var url=response.url;
// responseURL not supported on some browsers (it is used to detect URL redirection)
// data-uri mode also not supported (but no need to detect redirection)
if(url===undefined||url.indexOf('data:')===0){
// fallback to initial URL
url=context.url;
}
return url;
}
var PlaylistLoader=/*#__PURE__*/function(){
function PlaylistLoader(hls){
this.hls=void 0;
this.loaders=Object.create(null);
this.hls=hls;
this.registerListeners();
}
var _proto=PlaylistLoader.prototype;
_proto.startLoad=function startLoad(startPosition){};
_proto.stopLoad=function stopLoad(){
this.destroyInternalLoaders();
};
_proto.registerListeners=function registerListeners(){
var hls=this.hls;
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_LOADING,this.onLevelLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this);
hls.on(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this);
};
_proto.unregisterListeners=function unregisterListeners(){
var hls=this.hls;
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADING,this.onManifestLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_LOADING,this.onLevelLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this);
hls.off(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this);
}

/**
   * Returns defaults or configured loader-type overloads (pLoader and loader config params)
   */;
_proto.createInternalLoader=function createInternalLoader(context){
var config=this.hls.config;
var PLoader=config.pLoader;
var Loader=config.loader;
var InternalLoader=PLoader||Loader;
var loader=new InternalLoader(config);
context.loader=loader;
this.loaders[context.type]=loader;
return loader;
};
_proto.getInternalLoader=function getInternalLoader(context){
return this.loaders[context.type];
};
_proto.resetInternalLoader=function resetInternalLoader(contextType){
if(this.loaders[contextType]){
delete this.loaders[contextType];
}
}

/**
   * Call `destroy` on all internal loader instances mapped (one per context type)
   */;
_proto.destroyInternalLoaders=function destroyInternalLoaders(){
for(var contextType in this.loaders){
var loader=this.loaders[contextType];
if(loader){
loader.destroy();
}
this.resetInternalLoader(contextType);
}
};
_proto.destroy=function destroy(){
this.unregisterListeners();
this.destroyInternalLoaders();
};
_proto.onManifestLoading=function onManifestLoading(event,data){
var url=data.url;
this.load({
id:null,
groupId:null,
level:0,
responseType:'text',
type:_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.MANIFEST,
url:url,
deliveryDirectives:null});

};
_proto.onLevelLoading=function onLevelLoading(event,data){
var id=data.id,
level=data.level,
url=data.url,
deliveryDirectives=data.deliveryDirectives;
this.load({
id:id,
groupId:null,
level:level,
responseType:'text',
type:_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.LEVEL,
url:url,
deliveryDirectives:deliveryDirectives});

};
_proto.onAudioTrackLoading=function onAudioTrackLoading(event,data){
var id=data.id,
groupId=data.groupId,
url=data.url,
deliveryDirectives=data.deliveryDirectives;
this.load({
id:id,
groupId:groupId,
level:null,
responseType:'text',
type:_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.AUDIO_TRACK,
url:url,
deliveryDirectives:deliveryDirectives});

};
_proto.onSubtitleTrackLoading=function onSubtitleTrackLoading(event,data){
var id=data.id,
groupId=data.groupId,
url=data.url,
deliveryDirectives=data.deliveryDirectives;
this.load({
id:id,
groupId:groupId,
level:null,
responseType:'text',
type:_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.SUBTITLE_TRACK,
url:url,
deliveryDirectives:deliveryDirectives});

};
_proto.load=function load(context){
var _context$deliveryDire;
var config=this.hls.config;

// logger.debug(`[playlist-loader]: Loading playlist of type ${context.type}, level: ${context.level}, id: ${context.id}`);

// Check if a loader for this context already exists
var loader=this.getInternalLoader(context);
if(loader){
var loaderContext=loader.context;
if(loaderContext&&loaderContext.url===context.url){
// same URL can't overlap
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.trace('[playlist-loader]: playlist request ongoing');
return;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.log("[playlist-loader]: aborting previous loader for type: "+context.type);
loader.abort();
}
var maxRetry;
var timeout;
var retryDelay;
var maxRetryDelay;

// apply different configs for retries depending on
// context (manifest, level, audio/subs playlist)
switch(context.type){
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.MANIFEST:
maxRetry=config.manifestLoadingMaxRetry;
timeout=config.manifestLoadingTimeOut;
retryDelay=config.manifestLoadingRetryDelay;
maxRetryDelay=config.manifestLoadingMaxRetryTimeout;
break;
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.LEVEL:
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.AUDIO_TRACK:
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.SUBTITLE_TRACK:
// Manage retries in Level/Track Controller
maxRetry=0;
timeout=config.levelLoadingTimeOut;
break;
default:
maxRetry=config.levelLoadingMaxRetry;
timeout=config.levelLoadingTimeOut;
retryDelay=config.levelLoadingRetryDelay;
maxRetryDelay=config.levelLoadingMaxRetryTimeout;
break;}

loader=this.createInternalLoader(context);

// Override level/track timeout for LL-HLS requests
// (the default of 10000ms is counter productive to blocking playlist reload requests)
if((_context$deliveryDire=context.deliveryDirectives)!==null&&_context$deliveryDire!==void 0&&_context$deliveryDire.part){
var levelDetails;
if(context.type===_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.LEVEL&&context.level!==null){
levelDetails=this.hls.levels[context.level].details;
}else if(context.type===_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.AUDIO_TRACK&&context.id!==null){
levelDetails=this.hls.audioTracks[context.id].details;
}else if(context.type===_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.SUBTITLE_TRACK&&context.id!==null){
levelDetails=this.hls.subtitleTracks[context.id].details;
}
if(levelDetails){
var partTarget=levelDetails.partTarget;
var targetDuration=levelDetails.targetduration;
if(partTarget&&targetDuration){
timeout=Math.min(Math.max(partTarget*3,targetDuration*0.8)*1000,timeout);
}
}
}
var loaderConfig={
timeout:timeout,
maxRetry:maxRetry,
retryDelay:retryDelay,
maxRetryDelay:maxRetryDelay,
highWaterMark:0};

var loaderCallbacks={
onSuccess:this.loadsuccess.bind(this),
onError:this.loaderror.bind(this),
onTimeout:this.loadtimeout.bind(this)};


// logger.debug(`[playlist-loader]: Calling internal loader delegate for URL: ${context.url}`);

loader.load(context,loaderConfig,loaderCallbacks);
};
_proto.loadsuccess=function loadsuccess(response,stats,context,networkDetails){
if(networkDetails===void 0){
networkDetails=null;
}
this.resetInternalLoader(context.type);
var string=response.data;

// Validate if it is an M3U8 at all
if(string.indexOf('#EXTM3U')!==0){
this.handleManifestParsingError(response,context,'no EXTM3U delimiter',networkDetails);
return;
}
stats.parsing.start=performance.now();
// Check if chunk-list or master. handle empty chunk list case (first EXTINF not signaled, but TARGETDURATION present)
if(string.indexOf('#EXTINF:')>0||string.indexOf('#EXT-X-TARGETDURATION:')>0){
this.handleTrackOrLevelPlaylist(response,stats,context,networkDetails);
}else{
this.handleMasterPlaylist(response,stats,context,networkDetails);
}
};
_proto.loaderror=function loaderror(response,context,networkDetails){
if(networkDetails===void 0){
networkDetails=null;
}
this.handleNetworkError(context,networkDetails,false,response);
};
_proto.loadtimeout=function loadtimeout(stats,context,networkDetails){
if(networkDetails===void 0){
networkDetails=null;
}
this.handleNetworkError(context,networkDetails,true);
};
_proto.handleMasterPlaylist=function handleMasterPlaylist(response,stats,context,networkDetails){
var hls=this.hls;
var string=response.data;
var url=getResponseUrl(response,context);
var _M3U8Parser$parseMast=_m3u8_parser__WEBPACK_IMPORTED_MODULE_4__["default"].parseMasterPlaylist(string,url),
levels=_M3U8Parser$parseMast.levels,
sessionData=_M3U8Parser$parseMast.sessionData,
sessionKeys=_M3U8Parser$parseMast.sessionKeys;
if(!levels.length){
this.handleManifestParsingError(response,context,'no level found in manifest',networkDetails);
return;
}

// multi level playlist, parse level info
var audioGroups=levels.map(function(level){
return{
id:level.attrs.AUDIO,
audioCodec:level.audioCodec};

});
var subtitleGroups=levels.map(function(level){
return{
id:level.attrs.SUBTITLES,
textCodec:level.textCodec};

});
var audioTracks=_m3u8_parser__WEBPACK_IMPORTED_MODULE_4__["default"].parseMasterPlaylistMedia(string,url,'AUDIO',audioGroups);
var subtitles=_m3u8_parser__WEBPACK_IMPORTED_MODULE_4__["default"].parseMasterPlaylistMedia(string,url,'SUBTITLES',subtitleGroups);
var captions=_m3u8_parser__WEBPACK_IMPORTED_MODULE_4__["default"].parseMasterPlaylistMedia(string,url,'CLOSED-CAPTIONS');
if(audioTracks.length){
// check if we have found an audio track embedded in main playlist (audio track without URI attribute)
var embeddedAudioFound=audioTracks.some(function(audioTrack){
return!audioTrack.url;
});

// if no embedded audio track defined, but audio codec signaled in quality level,
// we need to signal this main audio track this could happen with playlists with
// alt audio rendition in which quality levels (main)
// contains both audio+video. but with mixed audio track not signaled
if(!embeddedAudioFound&&levels[0].audioCodec&&!levels[0].attrs.AUDIO){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.log('[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one');
audioTracks.unshift({
type:'main',
name:'main',
default:false,
autoselect:false,
forced:false,
id:-1,
attrs:new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList({}),
bitrate:0,
url:''});

}
}
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADED,{
levels:levels,
audioTracks:audioTracks,
subtitles:subtitles,
captions:captions,
url:url,
stats:stats,
networkDetails:networkDetails,
sessionData:sessionData,
sessionKeys:sessionKeys});

};
_proto.handleTrackOrLevelPlaylist=function handleTrackOrLevelPlaylist(response,stats,context,networkDetails){
var hls=this.hls;
var id=context.id,
level=context.level,
type=context.type;
var url=getResponseUrl(response,context);
var levelUrlId=(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(id)?id:0;
var levelId=(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(level)?level:levelUrlId;
var levelType=mapContextToLevelType(context);
var levelDetails=_m3u8_parser__WEBPACK_IMPORTED_MODULE_4__["default"].parseLevelPlaylist(response.data,url,levelId,levelType,levelUrlId);
if(!levelDetails.fragments.length){
hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.LEVEL_EMPTY_ERROR,
fatal:false,
url:url,
reason:'no fragments found in level',
level:typeof context.level==='number'?context.level:undefined});

return;
}

// We have done our first request (Manifest-type) and receive
// not a master playlist but a chunk-list (track/level)
// We fire the manifest-loaded event anyway with the parsed level-details
// by creating a single-level structure for it.
if(type===_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.MANIFEST){
var singleLevel={
attrs:new _utils_attr_list__WEBPACK_IMPORTED_MODULE_6__.AttrList({}),
bitrate:0,
details:levelDetails,
name:'',
url:url};

hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.MANIFEST_LOADED,{
levels:[singleLevel],
audioTracks:[],
url:url,
stats:stats,
networkDetails:networkDetails,
sessionData:null,
sessionKeys:null});

}

// save parsing time
stats.parsing.end=performance.now();

// extend the context with the new levelDetails property
context.levelDetails=levelDetails;
this.handlePlaylistLoaded(response,stats,context,networkDetails);
};
_proto.handleManifestParsingError=function handleManifestParsingError(response,context,reason,networkDetails){
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorTypes.NETWORK_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.MANIFEST_PARSING_ERROR,
fatal:context.type===_types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.MANIFEST,
url:response.url,
reason:reason,
response:response,
context:context,
networkDetails:networkDetails});

};
_proto.handleNetworkError=function handleNetworkError(context,networkDetails,timeout,response){
if(timeout===void 0){
timeout=false;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.warn("[playlist-loader]: A network "+(timeout?'timeout':'error')+" occurred while loading "+context.type+" level: "+context.level+" id: "+context.id+" group-id: \""+context.groupId+"\"");
var details=_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.UNKNOWN;
var fatal=false;
var loader=this.getInternalLoader(context);
switch(context.type){
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.MANIFEST:
details=timeout?_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.MANIFEST_LOAD_TIMEOUT:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.MANIFEST_LOAD_ERROR;
fatal=true;
break;
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.LEVEL:
details=timeout?_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.LEVEL_LOAD_TIMEOUT:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.LEVEL_LOAD_ERROR;
fatal=false;
break;
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.AUDIO_TRACK:
details=timeout?_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.AUDIO_TRACK_LOAD_ERROR;
fatal=false;
break;
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.SUBTITLE_TRACK:
details=timeout?_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorDetails.SUBTITLE_LOAD_ERROR;
fatal=false;
break;}

if(loader){
this.resetInternalLoader(context.type);
}
var errorData={
type:_errors__WEBPACK_IMPORTED_MODULE_2__.ErrorTypes.NETWORK_ERROR,
details:details,
fatal:fatal,
url:context.url,
loader:loader,
context:context,
networkDetails:networkDetails};

if(response){
errorData.response=response;
}
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.ERROR,errorData);
};
_proto.handlePlaylistLoaded=function handlePlaylistLoaded(response,stats,context,networkDetails){
var type=context.type,
level=context.level,
id=context.id,
groupId=context.groupId,
loader=context.loader,
levelDetails=context.levelDetails,
deliveryDirectives=context.deliveryDirectives;
if(!(levelDetails!==null&&levelDetails!==void 0&&levelDetails.targetduration)){
this.handleManifestParsingError(response,context,'invalid target duration',networkDetails);
return;
}
if(!loader){
return;
}
if(levelDetails.live){
if(loader.getCacheAge){
levelDetails.ageHeader=loader.getCacheAge()||0;
}
if(!loader.getCacheAge||isNaN(levelDetails.ageHeader)){
levelDetails.ageHeader=0;
}
}
switch(type){
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.MANIFEST:
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.LEVEL:
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.LEVEL_LOADED,{
details:levelDetails,
level:level||0,
id:id||0,
stats:stats,
networkDetails:networkDetails,
deliveryDirectives:deliveryDirectives});

break;
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.AUDIO_TRACK:
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.AUDIO_TRACK_LOADED,{
details:levelDetails,
id:id||0,
groupId:groupId||'',
stats:stats,
networkDetails:networkDetails,
deliveryDirectives:deliveryDirectives});

break;
case _types_loader__WEBPACK_IMPORTED_MODULE_5__.PlaylistContextType.SUBTITLE_TRACK:
this.hls.trigger(_events__WEBPACK_IMPORTED_MODULE_1__.Events.SUBTITLE_TRACK_LOADED,{
details:levelDetails,
id:id||0,
groupId:groupId||'',
stats:stats,
networkDetails:networkDetails,
deliveryDirectives:deliveryDirectives});

break;}

};
return PlaylistLoader;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=PlaylistLoader;

/***/},

/***/"./src/polyfills/number.ts":
/*!*********************************!*\
  !*** ./src/polyfills/number.ts ***!
  \*********************************/
/***/function srcPolyfillsNumberTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"MAX_SAFE_INTEGER":function MAX_SAFE_INTEGER(){return(/* binding */_MAX_SAFE_INTEGER);},
/* harmony export */"isFiniteNumber":function isFiniteNumber(){return(/* binding */_isFiniteNumber);}
/* harmony export */});
var _isFiniteNumber=Number.isFinite||function(value){
return typeof value==='number'&&isFinite(value);
};
var _MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;

/***/},

/***/"./src/remux/aac-helper.ts":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.ts ***!
  \*********************************/
/***/function srcRemuxAacHelperTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/**
 *  AAC helper
 */
var AAC=/*#__PURE__*/function(){
function AAC(){}
AAC.getSilentFrame=function getSilentFrame(codec,channelCount){
switch(codec){
case'mp4a.40.2':
if(channelCount===1){
return new Uint8Array([0x00,0xc8,0x00,0x80,0x23,0x80]);
}else if(channelCount===2){
return new Uint8Array([0x21,0x00,0x49,0x90,0x02,0x19,0x00,0x23,0x80]);
}else if(channelCount===3){
return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x8e]);
}else if(channelCount===4){
return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x80,0x2c,0x80,0x08,0x02,0x38]);
}else if(channelCount===5){
return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x82,0x30,0x04,0x99,0x00,0x21,0x90,0x02,0x38]);
}else if(channelCount===6){
return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x82,0x30,0x04,0x99,0x00,0x21,0x90,0x02,0x00,0xb2,0x00,0x20,0x08,0xe0]);
}
break;
// handle HE-AAC below (mp4a.40.5 / mp4a.40.29)
default:
if(channelCount===1){
// ffmpeg -y -f lavfi -i "aevalsrc=0:d=0.05" -c:a libfdk_aac -profile:a aac_he -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
return new Uint8Array([0x1,0x40,0x22,0x80,0xa3,0x4e,0xe6,0x80,0xba,0x8,0x0,0x0,0x0,0x1c,0x6,0xf1,0xc1,0xa,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5e]);
}else if(channelCount===2){
// ffmpeg -y -f lavfi -i "aevalsrc=0|0:d=0.05" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
return new Uint8Array([0x1,0x40,0x22,0x80,0xa3,0x5e,0xe6,0x80,0xba,0x8,0x0,0x0,0x0,0x0,0x95,0x0,0x6,0xf1,0xa1,0xa,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5e]);
}else if(channelCount===3){
// ffmpeg -y -f lavfi -i "aevalsrc=0|0|0:d=0.05" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
return new Uint8Array([0x1,0x40,0x22,0x80,0xa3,0x5e,0xe6,0x80,0xba,0x8,0x0,0x0,0x0,0x0,0x95,0x0,0x6,0xf1,0xa1,0xa,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5e]);
}
break;}

return undefined;
};
return AAC;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=AAC;

/***/},

/***/"./src/remux/mp4-generator.ts":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.ts ***!
  \************************************/
/***/function srcRemuxMp4GeneratorTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/**
 * Generate MP4 Box
 */

var UINT32_MAX=Math.pow(2,32)-1;
var MP4=/*#__PURE__*/function(){
function MP4(){}
MP4.init=function init(){
MP4.types={
avc1:[],
// codingname
avcC:[],
btrt:[],
dinf:[],
dref:[],
esds:[],
ftyp:[],
hdlr:[],
mdat:[],
mdhd:[],
mdia:[],
mfhd:[],
minf:[],
moof:[],
moov:[],
mp4a:[],
'.mp3':[],
mvex:[],
mvhd:[],
pasp:[],
sdtp:[],
stbl:[],
stco:[],
stsc:[],
stsd:[],
stsz:[],
stts:[],
tfdt:[],
tfhd:[],
traf:[],
trak:[],
trun:[],
trex:[],
tkhd:[],
vmhd:[],
smhd:[]};

var i;
for(i in MP4.types){
if(MP4.types.hasOwnProperty(i)){
MP4.types[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)];
}
}
var videoHdlr=new Uint8Array([0x00,
// version 0
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x00,
// pre_defined
0x76,0x69,0x64,0x65,
// handler_type: 'vide'
0x00,0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,0x00,
// reserved
0x56,0x69,0x64,0x65,0x6f,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00// name: 'VideoHandler'
]);

var audioHdlr=new Uint8Array([0x00,
// version 0
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x00,
// pre_defined
0x73,0x6f,0x75,0x6e,
// handler_type: 'soun'
0x00,0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,0x00,
// reserved
0x53,0x6f,0x75,0x6e,0x64,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00// name: 'SoundHandler'
]);

MP4.HDLR_TYPES={
video:videoHdlr,
audio:audioHdlr};

var dref=new Uint8Array([0x00,
// version 0
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x01,
// entry_count
0x00,0x00,0x00,0x0c,
// entry_size
0x75,0x72,0x6c,0x20,
// 'url' type
0x00,
// version 0
0x00,0x00,0x01// entry_flags
]);

var stco=new Uint8Array([0x00,
// version
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x00// entry_count
]);

MP4.STTS=MP4.STSC=MP4.STCO=stco;
MP4.STSZ=new Uint8Array([0x00,
// version
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x00,
// sample_size
0x00,0x00,0x00,0x00// sample_count
]);

MP4.VMHD=new Uint8Array([0x00,
// version
0x00,0x00,0x01,
// flags
0x00,0x00,
// graphicsmode
0x00,0x00,0x00,0x00,0x00,0x00// opcolor
]);

MP4.SMHD=new Uint8Array([0x00,
// version
0x00,0x00,0x00,
// flags
0x00,0x00,
// balance
0x00,0x00// reserved
]);

MP4.STSD=new Uint8Array([0x00,
// version 0
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x01]);// entry_count

var majorBrand=new Uint8Array([105,115,111,109]);// isom
var avc1Brand=new Uint8Array([97,118,99,49]);// avc1
var minorVersion=new Uint8Array([0,0,0,1]);
MP4.FTYP=MP4.box(MP4.types.ftyp,majorBrand,minorVersion,majorBrand,avc1Brand);
MP4.DINF=MP4.box(MP4.types.dinf,MP4.box(MP4.types.dref,dref));
};
MP4.box=function box(type){
var size=8;
for(var _len=arguments.length,payload=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){
payload[_key-1]=arguments[_key];
}
var i=payload.length;
var len=i;
// calculate the total size we need to allocate
while(i--){
size+=payload[i].byteLength;
}
var result=new Uint8Array(size);
result[0]=size>>24&0xff;
result[1]=size>>16&0xff;
result[2]=size>>8&0xff;
result[3]=size&0xff;
result.set(type,4);
// copy the payload into the result
for(i=0,size=8;i<len;i++){
// copy payload[i] array @ offset size
result.set(payload[i],size);
size+=payload[i].byteLength;
}
return result;
};
MP4.hdlr=function hdlr(type){
return MP4.box(MP4.types.hdlr,MP4.HDLR_TYPES[type]);
};
MP4.mdat=function mdat(data){
return MP4.box(MP4.types.mdat,data);
};
MP4.mdhd=function mdhd(timescale,duration){
duration*=timescale;
var upperWordDuration=Math.floor(duration/(UINT32_MAX+1));
var lowerWordDuration=Math.floor(duration%(UINT32_MAX+1));
return MP4.box(MP4.types.mdhd,new Uint8Array([0x01,
// version 1
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
// creation_time
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,
// modification_time
timescale>>24&0xff,timescale>>16&0xff,timescale>>8&0xff,timescale&0xff,
// timescale
upperWordDuration>>24,upperWordDuration>>16&0xff,upperWordDuration>>8&0xff,upperWordDuration&0xff,lowerWordDuration>>24,lowerWordDuration>>16&0xff,lowerWordDuration>>8&0xff,lowerWordDuration&0xff,0x55,0xc4,
// 'und' language (undetermined)
0x00,0x00]));
};
MP4.mdia=function mdia(track){
return MP4.box(MP4.types.mdia,MP4.mdhd(track.timescale,track.duration),MP4.hdlr(track.type),MP4.minf(track));
};
MP4.mfhd=function mfhd(sequenceNumber){
return MP4.box(MP4.types.mfhd,new Uint8Array([0x00,0x00,0x00,0x00,
// flags
sequenceNumber>>24,sequenceNumber>>16&0xff,sequenceNumber>>8&0xff,sequenceNumber&0xff// sequence_number
]));
};
MP4.minf=function minf(track){
if(track.type==='audio'){
return MP4.box(MP4.types.minf,MP4.box(MP4.types.smhd,MP4.SMHD),MP4.DINF,MP4.stbl(track));
}else{
return MP4.box(MP4.types.minf,MP4.box(MP4.types.vmhd,MP4.VMHD),MP4.DINF,MP4.stbl(track));
}
};
MP4.moof=function moof(sn,baseMediaDecodeTime,track){
return MP4.box(MP4.types.moof,MP4.mfhd(sn),MP4.traf(track,baseMediaDecodeTime));
}

/**
   * @param tracks... (optional) {array} the tracks associated with this movie
   */;
MP4.moov=function moov(tracks){
var i=tracks.length;
var boxes=[];
while(i--){
boxes[i]=MP4.trak(tracks[i]);
}
return MP4.box.apply(null,[MP4.types.moov,MP4.mvhd(tracks[0].timescale,tracks[0].duration)].concat(boxes).concat(MP4.mvex(tracks)));
};
MP4.mvex=function mvex(tracks){
var i=tracks.length;
var boxes=[];
while(i--){
boxes[i]=MP4.trex(tracks[i]);
}
return MP4.box.apply(null,[MP4.types.mvex].concat(boxes));
};
MP4.mvhd=function mvhd(timescale,duration){
duration*=timescale;
var upperWordDuration=Math.floor(duration/(UINT32_MAX+1));
var lowerWordDuration=Math.floor(duration%(UINT32_MAX+1));
var bytes=new Uint8Array([0x01,
// version 1
0x00,0x00,0x00,
// flags
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
// creation_time
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,
// modification_time
timescale>>24&0xff,timescale>>16&0xff,timescale>>8&0xff,timescale&0xff,
// timescale
upperWordDuration>>24,upperWordDuration>>16&0xff,upperWordDuration>>8&0xff,upperWordDuration&0xff,lowerWordDuration>>24,lowerWordDuration>>16&0xff,lowerWordDuration>>8&0xff,lowerWordDuration&0xff,0x00,0x01,0x00,0x00,
// 1.0 rate
0x01,0x00,
// 1.0 volume
0x00,0x00,
// reserved
0x00,0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,0x00,
// reserved
0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,
// transformation: unity matrix
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
// pre_defined
0xff,0xff,0xff,0xff// next_track_ID
]);

return MP4.box(MP4.types.mvhd,bytes);
};
MP4.sdtp=function sdtp(track){
var samples=track.samples||[];
var bytes=new Uint8Array(4+samples.length);
var i;
var flags;
// leave the full box header (4 bytes) all zero
// write the sample table
for(i=0;i<samples.length;i++){
flags=samples[i].flags;
bytes[i+4]=flags.dependsOn<<4|flags.isDependedOn<<2|flags.hasRedundancy;
}
return MP4.box(MP4.types.sdtp,bytes);
};
MP4.stbl=function stbl(track){
return MP4.box(MP4.types.stbl,MP4.stsd(track),MP4.box(MP4.types.stts,MP4.STTS),MP4.box(MP4.types.stsc,MP4.STSC),MP4.box(MP4.types.stsz,MP4.STSZ),MP4.box(MP4.types.stco,MP4.STCO));
};
MP4.avc1=function avc1(track){
var sps=[];
var pps=[];
var i;
var data;
var len;
// assemble the SPSs

for(i=0;i<track.sps.length;i++){
data=track.sps[i];
len=data.byteLength;
sps.push(len>>>8&0xff);
sps.push(len&0xff);

// SPS
sps=sps.concat(Array.prototype.slice.call(data));
}

// assemble the PPSs
for(i=0;i<track.pps.length;i++){
data=track.pps[i];
len=data.byteLength;
pps.push(len>>>8&0xff);
pps.push(len&0xff);
pps=pps.concat(Array.prototype.slice.call(data));
}
var avcc=MP4.box(MP4.types.avcC,new Uint8Array([0x01,
// version
sps[3],
// profile
sps[4],
// profile compat
sps[5],
// level
0xfc|3,
// lengthSizeMinusOne, hard-coded to 4 bytes
0xe0|track.sps.length// 3bit reserved (111) + numOfSequenceParameterSets
].concat(sps).concat([track.pps.length// numOfPictureParameterSets
]).concat(pps)));// "PPS"
var width=track.width;
var height=track.height;
var hSpacing=track.pixelRatio[0];
var vSpacing=track.pixelRatio[1];
return MP4.box(MP4.types.avc1,new Uint8Array([0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,
// reserved
0x00,0x01,
// data_reference_index
0x00,0x00,
// pre_defined
0x00,0x00,
// reserved
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
// pre_defined
width>>8&0xff,width&0xff,
// width
height>>8&0xff,height&0xff,
// height
0x00,0x48,0x00,0x00,
// horizresolution
0x00,0x48,0x00,0x00,
// vertresolution
0x00,0x00,0x00,0x00,
// reserved
0x00,0x01,
// frame_count
0x12,0x64,0x61,0x69,0x6c,
// dailymotion/hls.js
0x79,0x6d,0x6f,0x74,0x69,0x6f,0x6e,0x2f,0x68,0x6c,0x73,0x2e,0x6a,0x73,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
// compressorname
0x00,0x18,
// depth = 24
0x11,0x11]),
// pre_defined = -1
avcc,MP4.box(MP4.types.btrt,new Uint8Array([0x00,0x1c,0x9c,0x80,
// bufferSizeDB
0x00,0x2d,0xc6,0xc0,
// maxBitrate
0x00,0x2d,0xc6,0xc0])),
// avgBitrate
MP4.box(MP4.types.pasp,new Uint8Array([hSpacing>>24,
// hSpacing
hSpacing>>16&0xff,hSpacing>>8&0xff,hSpacing&0xff,vSpacing>>24,
// vSpacing
vSpacing>>16&0xff,vSpacing>>8&0xff,vSpacing&0xff])));
};
MP4.esds=function esds(track){
var configlen=track.config.length;
return new Uint8Array([0x00,
// version 0
0x00,0x00,0x00,
// flags

0x03,
// descriptor_type
0x17+configlen,
// length
0x00,0x01,
// es_id
0x00,
// stream_priority

0x04,
// descriptor_type
0x0f+configlen,
// length
0x40,
// codec : mpeg4_audio
0x15,
// stream_type
0x00,0x00,0x00,
// buffer_size
0x00,0x00,0x00,0x00,
// maxBitrate
0x00,0x00,0x00,0x00,
// avgBitrate

0x05// descriptor_type
].concat([configlen]).concat(track.config).concat([0x06,0x01,0x02]));// GASpecificConfig)); // length + audio config descriptor
};
MP4.mp4a=function mp4a(track){
var samplerate=track.samplerate;
return MP4.box(MP4.types.mp4a,new Uint8Array([0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,
// reserved
0x00,0x01,
// data_reference_index
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
// reserved
0x00,track.channelCount,
// channelcount
0x00,0x10,
// sampleSize:16bits
0x00,0x00,0x00,0x00,
// reserved2
samplerate>>8&0xff,samplerate&0xff,
//
0x00,0x00]),MP4.box(MP4.types.esds,MP4.esds(track)));
};
MP4.mp3=function mp3(track){
var samplerate=track.samplerate;
return MP4.box(MP4.types['.mp3'],new Uint8Array([0x00,0x00,0x00,
// reserved
0x00,0x00,0x00,
// reserved
0x00,0x01,
// data_reference_index
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
// reserved
0x00,track.channelCount,
// channelcount
0x00,0x10,
// sampleSize:16bits
0x00,0x00,0x00,0x00,
// reserved2
samplerate>>8&0xff,samplerate&0xff,
//
0x00,0x00]));
};
MP4.stsd=function stsd(track){
if(track.type==='audio'){
if(track.segmentCodec==='mp3'&&track.codec==='mp3'){
return MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp3(track));
}
return MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp4a(track));
}else{
return MP4.box(MP4.types.stsd,MP4.STSD,MP4.avc1(track));
}
};
MP4.tkhd=function tkhd(track){
var id=track.id;
var duration=track.duration*track.timescale;
var width=track.width;
var height=track.height;
var upperWordDuration=Math.floor(duration/(UINT32_MAX+1));
var lowerWordDuration=Math.floor(duration%(UINT32_MAX+1));
return MP4.box(MP4.types.tkhd,new Uint8Array([0x01,
// version 1
0x00,0x00,0x07,
// flags
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
// creation_time
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,
// modification_time
id>>24&0xff,id>>16&0xff,id>>8&0xff,id&0xff,
// track_ID
0x00,0x00,0x00,0x00,
// reserved
upperWordDuration>>24,upperWordDuration>>16&0xff,upperWordDuration>>8&0xff,upperWordDuration&0xff,lowerWordDuration>>24,lowerWordDuration>>16&0xff,lowerWordDuration>>8&0xff,lowerWordDuration&0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
// reserved
0x00,0x00,
// layer
0x00,0x00,
// alternate_group
0x00,0x00,
// non-audio track volume
0x00,0x00,
// reserved
0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,
// transformation: unity matrix
width>>8&0xff,width&0xff,0x00,0x00,
// width
height>>8&0xff,height&0xff,0x00,0x00// height
]));
};
MP4.traf=function traf(track,baseMediaDecodeTime){
var sampleDependencyTable=MP4.sdtp(track);
var id=track.id;
var upperWordBaseMediaDecodeTime=Math.floor(baseMediaDecodeTime/(UINT32_MAX+1));
var lowerWordBaseMediaDecodeTime=Math.floor(baseMediaDecodeTime%(UINT32_MAX+1));
return MP4.box(MP4.types.traf,MP4.box(MP4.types.tfhd,new Uint8Array([0x00,
// version 0
0x00,0x00,0x00,
// flags
id>>24,id>>16&0xff,id>>8&0xff,id&0xff// track_ID
])),MP4.box(MP4.types.tfdt,new Uint8Array([0x01,
// version 1
0x00,0x00,0x00,
// flags
upperWordBaseMediaDecodeTime>>24,upperWordBaseMediaDecodeTime>>16&0xff,upperWordBaseMediaDecodeTime>>8&0xff,upperWordBaseMediaDecodeTime&0xff,lowerWordBaseMediaDecodeTime>>24,lowerWordBaseMediaDecodeTime>>16&0xff,lowerWordBaseMediaDecodeTime>>8&0xff,lowerWordBaseMediaDecodeTime&0xff])),MP4.trun(track,sampleDependencyTable.length+16+
// tfhd
20+
// tfdt
8+
// traf header
16+
// mfhd
8+
// moof header
8),
// mdat header
sampleDependencyTable);
}

/**
   * Generate a track box.
   * @param track {object} a track definition
   * @return {Uint8Array} the track box
   */;
MP4.trak=function trak(track){
track.duration=track.duration||0xffffffff;
return MP4.box(MP4.types.trak,MP4.tkhd(track),MP4.mdia(track));
};
MP4.trex=function trex(track){
var id=track.id;
return MP4.box(MP4.types.trex,new Uint8Array([0x00,
// version 0
0x00,0x00,0x00,
// flags
id>>24,id>>16&0xff,id>>8&0xff,id&0xff,
// track_ID
0x00,0x00,0x00,0x01,
// default_sample_description_index
0x00,0x00,0x00,0x00,
// default_sample_duration
0x00,0x00,0x00,0x00,
// default_sample_size
0x00,0x01,0x00,0x01// default_sample_flags
]));
};
MP4.trun=function trun(track,offset){
var samples=track.samples||[];
var len=samples.length;
var arraylen=12+16*len;
var array=new Uint8Array(arraylen);
var i;
var sample;
var duration;
var size;
var flags;
var cts;
offset+=8+arraylen;
array.set([track.type==='video'?0x01:0x00,
// version 1 for video with signed-int sample_composition_time_offset
0x00,0x0f,0x01,
// flags
len>>>24&0xff,len>>>16&0xff,len>>>8&0xff,len&0xff,
// sample_count
offset>>>24&0xff,offset>>>16&0xff,offset>>>8&0xff,offset&0xff// data_offset
],0);
for(i=0;i<len;i++){
sample=samples[i];
duration=sample.duration;
size=sample.size;
flags=sample.flags;
cts=sample.cts;
array.set([duration>>>24&0xff,duration>>>16&0xff,duration>>>8&0xff,duration&0xff,
// sample_duration
size>>>24&0xff,size>>>16&0xff,size>>>8&0xff,size&0xff,
// sample_size
flags.isLeading<<2|flags.dependsOn,flags.isDependedOn<<6|flags.hasRedundancy<<4|flags.paddingValue<<1|flags.isNonSync,flags.degradPrio&0xf0<<8,flags.degradPrio&0x0f,
// sample_flags
cts>>>24&0xff,cts>>>16&0xff,cts>>>8&0xff,cts&0xff// sample_composition_time_offset
],12+16*i);
}
return MP4.box(MP4.types.trun,array);
};
MP4.initSegment=function initSegment(tracks){
if(!MP4.types){
MP4.init();
}
var movie=MP4.moov(tracks);
var result=new Uint8Array(MP4.FTYP.byteLength+movie.byteLength);
result.set(MP4.FTYP);
result.set(movie,MP4.FTYP.byteLength);
return result;
};
return MP4;
}();
MP4.types=void 0;
MP4.HDLR_TYPES=void 0;
MP4.STTS=void 0;
MP4.STSC=void 0;
MP4.STCO=void 0;
MP4.STSZ=void 0;
MP4.VMHD=void 0;
MP4.SMHD=void 0;
MP4.STSD=void 0;
MP4.FTYP=void 0;
MP4.DINF=void 0;
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=MP4;

/***/},

/***/"./src/remux/mp4-remuxer.ts":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.ts ***!
  \**********************************/
/***/function srcRemuxMp4RemuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */MP4Remuxer);},
/* harmony export */"flushTextTrackMetadataCueSamples":function flushTextTrackMetadataCueSamples(){return(/* binding */_flushTextTrackMetadataCueSamples);},
/* harmony export */"flushTextTrackUserdataCueSamples":function flushTextTrackUserdataCueSamples(){return(/* binding */_flushTextTrackUserdataCueSamples);},
/* harmony export */"normalizePts":function normalizePts(){return(/* binding */_normalizePts);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _aac_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./aac-helper */"./src/remux/aac-helper.ts");
/* harmony import */var _mp4_generator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./mp4-generator */"./src/remux/mp4-generator.ts");
/* harmony import */var _events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../events */"./src/events.ts");
/* harmony import */var _errors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../errors */"./src/errors.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _types_loader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ../types/loader */"./src/types/loader.ts");
/* harmony import */var _utils_timescale_conversion__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(/*! ../utils/timescale-conversion */"./src/utils/timescale-conversion.ts");

function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}







var MAX_SILENT_FRAME_DURATION=10*1000;// 10 seconds
var AAC_SAMPLES_PER_FRAME=1024;
var MPEG_AUDIO_SAMPLE_PER_FRAME=1152;
var chromeVersion=null;
var safariWebkitVersion=null;
var MP4Remuxer=/*#__PURE__*/function(){
function MP4Remuxer(observer,config,typeSupported,vendor){
if(vendor===void 0){
vendor='';
}
this.observer=void 0;
this.config=void 0;
this.typeSupported=void 0;
this.ISGenerated=false;
this._initPTS=void 0;
this._initDTS=void 0;
this.nextAvcDts=null;
this.nextAudioPts=null;
this.videoSampleDuration=null;
this.isAudioContiguous=false;
this.isVideoContiguous=false;
this.observer=observer;
this.config=config;
this.typeSupported=typeSupported;
this.ISGenerated=false;
if(chromeVersion===null){
var userAgent=navigator.userAgent||'';
var result=userAgent.match(/Chrome\/(\d+)/i);
chromeVersion=result?parseInt(result[1]):0;
}
if(safariWebkitVersion===null){
var _result=navigator.userAgent.match(/Safari\/(\d+)/i);
safariWebkitVersion=_result?parseInt(_result[1]):0;
}
}
var _proto=MP4Remuxer.prototype;
_proto.destroy=function destroy(){};
_proto.resetTimeStamp=function resetTimeStamp(defaultTimeStamp){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.log('[mp4-remuxer]: initPTS & initDTS reset');
this._initPTS=this._initDTS=defaultTimeStamp;
};
_proto.resetNextTimestamp=function resetNextTimestamp(){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.log('[mp4-remuxer]: reset next timestamp');
this.isVideoContiguous=false;
this.isAudioContiguous=false;
};
_proto.resetInitSegment=function resetInitSegment(){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.log('[mp4-remuxer]: ISGenerated flag reset');
this.ISGenerated=false;
};
_proto.getVideoStartPts=function getVideoStartPts(videoSamples){
var rolloverDetected=false;
var startPTS=videoSamples.reduce(function(minPTS,sample){
var delta=sample.pts-minPTS;
if(delta<-4294967296){
// 2^32, see PTSNormalize for reasoning, but we're hitting a rollover here, and we don't want that to impact the timeOffset calculation
rolloverDetected=true;
return _normalizePts(minPTS,sample.pts);
}else if(delta>0){
return minPTS;
}else{
return sample.pts;
}
},videoSamples[0].pts);
if(rolloverDetected){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.debug('PTS rollover detected');
}
return startPTS;
};
_proto.remux=function remux(audioTrack,videoTrack,id3Track,textTrack,timeOffset,accurateTimeOffset,flush,playlistType){
var video;
var audio;
var initSegment;
var text;
var id3;
var independent;
var audioTimeOffset=timeOffset;
var videoTimeOffset=timeOffset;

// If we're remuxing audio and video progressively, wait until we've received enough samples for each track before proceeding.
// This is done to synchronize the audio and video streams. We know if the current segment will have samples if the "pid"
// parameter is greater than -1. The pid is set when the PMT is parsed, which contains the tracks list.
// However, if the initSegment has already been generated, or we've reached the end of a segment (flush),
// then we can remux one track without waiting for the other.
var hasAudio=audioTrack.pid>-1;
var hasVideo=videoTrack.pid>-1;
var length=videoTrack.samples.length;
var enoughAudioSamples=audioTrack.samples.length>0;
var enoughVideoSamples=flush&&length>0||length>1;
var canRemuxAvc=(!hasAudio||enoughAudioSamples)&&(!hasVideo||enoughVideoSamples)||this.ISGenerated||flush;
if(canRemuxAvc){
if(!this.ISGenerated){
initSegment=this.generateIS(audioTrack,videoTrack,timeOffset);
}
var isVideoContiguous=this.isVideoContiguous;
var firstKeyFrameIndex=-1;
var firstKeyFramePTS;
if(enoughVideoSamples){
firstKeyFrameIndex=findKeyframeIndex(videoTrack.samples);
if(!isVideoContiguous&&this.config.forceKeyFrameOnDiscontinuity){
independent=true;
if(firstKeyFrameIndex>0){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("[mp4-remuxer]: Dropped "+firstKeyFrameIndex+" out of "+length+" video samples due to a missing keyframe");
var startPTS=this.getVideoStartPts(videoTrack.samples);
videoTrack.samples=videoTrack.samples.slice(firstKeyFrameIndex);
videoTrack.dropped+=firstKeyFrameIndex;
videoTimeOffset+=(videoTrack.samples[0].pts-startPTS)/videoTrack.inputTimeScale;
firstKeyFramePTS=videoTimeOffset;
}else if(firstKeyFrameIndex===-1){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("[mp4-remuxer]: No keyframe found out of "+length+" video samples");
independent=false;
}
}
}
if(this.ISGenerated){
if(enoughAudioSamples&&enoughVideoSamples){
// timeOffset is expected to be the offset of the first timestamp of this fragment (first DTS)
// if first audio DTS is not aligned with first video DTS then we need to take that into account
// when providing timeOffset to remuxAudio / remuxVideo. if we don't do that, there might be a permanent / small
// drift between audio and video streams
var _startPTS=this.getVideoStartPts(videoTrack.samples);
var tsDelta=_normalizePts(audioTrack.samples[0].pts,_startPTS)-_startPTS;
var audiovideoTimestampDelta=tsDelta/videoTrack.inputTimeScale;
audioTimeOffset+=Math.max(0,audiovideoTimestampDelta);
videoTimeOffset+=Math.max(0,-audiovideoTimestampDelta);
}

// Purposefully remuxing audio before video, so that remuxVideo can use nextAudioPts, which is calculated in remuxAudio.
if(enoughAudioSamples){
// if initSegment was generated without audio samples, regenerate it again
if(!audioTrack.samplerate){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn('[mp4-remuxer]: regenerate InitSegment as audio detected');
initSegment=this.generateIS(audioTrack,videoTrack,timeOffset);
}
audio=this.remuxAudio(audioTrack,audioTimeOffset,this.isAudioContiguous,accurateTimeOffset,hasVideo||enoughVideoSamples||playlistType===_types_loader__WEBPACK_IMPORTED_MODULE_6__.PlaylistLevelType.AUDIO?videoTimeOffset:undefined);
if(enoughVideoSamples){
var audioTrackLength=audio?audio.endPTS-audio.startPTS:0;
// if initSegment was generated without video samples, regenerate it again
if(!videoTrack.inputTimeScale){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn('[mp4-remuxer]: regenerate InitSegment as video detected');
initSegment=this.generateIS(audioTrack,videoTrack,timeOffset);
}
video=this.remuxVideo(videoTrack,videoTimeOffset,isVideoContiguous,audioTrackLength);
}
}else if(enoughVideoSamples){
video=this.remuxVideo(videoTrack,videoTimeOffset,isVideoContiguous,0);
}
if(video){
video.firstKeyFrame=firstKeyFrameIndex;
video.independent=firstKeyFrameIndex!==-1;
video.firstKeyFramePTS=firstKeyFramePTS;
}
}
}

// Allow ID3 and text to remux, even if more audio/video samples are required
if(this.ISGenerated){
if(id3Track.samples.length){
id3=_flushTextTrackMetadataCueSamples(id3Track,timeOffset,this._initPTS,this._initDTS);
}
if(textTrack.samples.length){
text=_flushTextTrackUserdataCueSamples(textTrack,timeOffset,this._initPTS);
}
}
return{
audio:audio,
video:video,
initSegment:initSegment,
independent:independent,
text:text,
id3:id3};

};
_proto.generateIS=function generateIS(audioTrack,videoTrack,timeOffset){
var audioSamples=audioTrack.samples;
var videoSamples=videoTrack.samples;
var typeSupported=this.typeSupported;
var tracks={};
var computePTSDTS=!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(this._initPTS);
var container='audio/mp4';
var initPTS;
var initDTS;
var timescale;
if(computePTSDTS){
initPTS=initDTS=Infinity;
}
if(audioTrack.config&&audioSamples.length){
// let's use audio sampling rate as MP4 time scale.
// rationale is that there is a integer nb of audio frames per audio sample (1024 for AAC)
// using audio sampling rate here helps having an integer MP4 frame duration
// this avoids potential rounding issue and AV sync issue
audioTrack.timescale=audioTrack.samplerate;
switch(audioTrack.segmentCodec){
case'mp3':
if(typeSupported.mpeg){
// Chrome and Safari
container='audio/mpeg';
audioTrack.codec='';
}else if(typeSupported.mp3){
// Firefox
audioTrack.codec='mp3';
}
break;}

tracks.audio={
id:'audio',
container:container,
codec:audioTrack.codec,
initSegment:audioTrack.segmentCodec==='mp3'&&typeSupported.mpeg?new Uint8Array(0):_mp4_generator__WEBPACK_IMPORTED_MODULE_2__["default"].initSegment([audioTrack]),
metadata:{
channelCount:audioTrack.channelCount}};


if(computePTSDTS){
timescale=audioTrack.inputTimeScale;
// remember first PTS of this demuxing context. for audio, PTS = DTS
initPTS=initDTS=audioSamples[0].pts-Math.round(timescale*timeOffset);
}
}
if(videoTrack.sps&&videoTrack.pps&&videoSamples.length){
// let's use input time scale as MP4 video timescale
// we use input time scale straight away to avoid rounding issues on frame duration / cts computation
videoTrack.timescale=videoTrack.inputTimeScale;
tracks.video={
id:'main',
container:'video/mp4',
codec:videoTrack.codec,
initSegment:_mp4_generator__WEBPACK_IMPORTED_MODULE_2__["default"].initSegment([videoTrack]),
metadata:{
width:videoTrack.width,
height:videoTrack.height}};


if(computePTSDTS){
timescale=videoTrack.inputTimeScale;
var startPTS=this.getVideoStartPts(videoSamples);
var startOffset=Math.round(timescale*timeOffset);
initDTS=Math.min(initDTS,_normalizePts(videoSamples[0].dts,startPTS)-startOffset);
initPTS=Math.min(initPTS,startPTS-startOffset);
}
}
if(Object.keys(tracks).length){
this.ISGenerated=true;
if(computePTSDTS){
this._initPTS=initPTS;
this._initDTS=initDTS;
}
return{
tracks:tracks,
initPTS:initPTS,
timescale:timescale};

}
};
_proto.remuxVideo=function remuxVideo(track,timeOffset,contiguous,audioTrackLength){
var timeScale=track.inputTimeScale;
var inputSamples=track.samples;
var outputSamples=[];
var nbSamples=inputSamples.length;
var initPTS=this._initPTS;
var nextAvcDts=this.nextAvcDts;
var offset=8;
var mp4SampleDuration=this.videoSampleDuration;
var firstDTS;
var lastDTS;
var minPTS=Number.POSITIVE_INFINITY;
var maxPTS=Number.NEGATIVE_INFINITY;
var sortSamples=false;

// if parsed fragment is contiguous with last one, let's use last DTS value as reference
if(!contiguous||nextAvcDts===null){
var pts=timeOffset*timeScale;
var cts=inputSamples[0].pts-_normalizePts(inputSamples[0].dts,inputSamples[0].pts);
// if not contiguous, let's use target timeOffset
nextAvcDts=pts-cts;
}

// PTS is coded on 33bits, and can loop from -2^32 to 2^32
// PTSNormalize will make PTS/DTS value monotonic, we use last known DTS value as reference value
for(var i=0;i<nbSamples;i++){
var sample=inputSamples[i];
sample.pts=_normalizePts(sample.pts-initPTS,nextAvcDts);
sample.dts=_normalizePts(sample.dts-initPTS,nextAvcDts);
if(sample.dts<inputSamples[i>0?i-1:i].dts){
sortSamples=true;
}
}

// sort video samples by DTS then PTS then demux id order
if(sortSamples){
inputSamples.sort(function(a,b){
var deltadts=a.dts-b.dts;
var deltapts=a.pts-b.pts;
return deltadts||deltapts;
});
}

// Get first/last DTS
firstDTS=inputSamples[0].dts;
lastDTS=inputSamples[inputSamples.length-1].dts;

// Sample duration (as expected by trun MP4 boxes), should be the delta between sample DTS
// set this constant duration as being the avg delta between consecutive DTS.
var inputDuration=lastDTS-firstDTS;
var averageSampleDuration=inputDuration?Math.round(inputDuration/(nbSamples-1)):mp4SampleDuration||track.inputTimeScale/30;

// if fragment are contiguous, detect hole/overlapping between fragments
if(contiguous){
// check timestamp continuity across consecutive fragments (this is to remove inter-fragment gap/hole)
var delta=firstDTS-nextAvcDts;
var foundHole=delta>averageSampleDuration;
var foundOverlap=delta<-1;
if(foundHole||foundOverlap){
if(foundHole){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("AVC: "+(0,_utils_timescale_conversion__WEBPACK_IMPORTED_MODULE_7__.toMsFromMpegTsClock)(delta,true)+" ms ("+delta+"dts) hole between fragments detected, filling it");
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("AVC: "+(0,_utils_timescale_conversion__WEBPACK_IMPORTED_MODULE_7__.toMsFromMpegTsClock)(-delta,true)+" ms ("+delta+"dts) overlapping between fragments detected");
}
if(!foundOverlap||nextAvcDts>inputSamples[0].pts){
firstDTS=nextAvcDts;
var firstPTS=inputSamples[0].pts-delta;
inputSamples[0].dts=firstDTS;
inputSamples[0].pts=firstPTS;
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.log("Video: First PTS/DTS adjusted: "+(0,_utils_timescale_conversion__WEBPACK_IMPORTED_MODULE_7__.toMsFromMpegTsClock)(firstPTS,true)+"/"+(0,_utils_timescale_conversion__WEBPACK_IMPORTED_MODULE_7__.toMsFromMpegTsClock)(firstDTS,true)+", delta: "+(0,_utils_timescale_conversion__WEBPACK_IMPORTED_MODULE_7__.toMsFromMpegTsClock)(delta,true)+" ms");
}
}
}
firstDTS=Math.max(0,firstDTS);
var nbNalu=0;
var naluLen=0;
for(var _i=0;_i<nbSamples;_i++){
// compute total/avc sample length and nb of NAL units
var _sample=inputSamples[_i];
var units=_sample.units;
var nbUnits=units.length;
var sampleLen=0;
for(var j=0;j<nbUnits;j++){
sampleLen+=units[j].data.length;
}
naluLen+=sampleLen;
nbNalu+=nbUnits;
_sample.length=sampleLen;

// ensure sample monotonic DTS
_sample.dts=Math.max(_sample.dts,firstDTS);
minPTS=Math.min(_sample.pts,minPTS);
maxPTS=Math.max(_sample.pts,maxPTS);
}
lastDTS=inputSamples[nbSamples-1].dts;

/* concatenate the video data and construct the mdat in place
      (need 8 more bytes to fill length and mpdat type) */
var mdatSize=naluLen+4*nbNalu+8;
var mdat;
try{
mdat=new Uint8Array(mdatSize);
}catch(err){
this.observer.emit(_events__WEBPACK_IMPORTED_MODULE_3__.Events.ERROR,_events__WEBPACK_IMPORTED_MODULE_3__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorTypes.MUX_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorDetails.REMUX_ALLOC_ERROR,
fatal:false,
bytes:mdatSize,
reason:"fail allocating video mdat "+mdatSize});

return;
}
var view=new DataView(mdat.buffer);
view.setUint32(0,mdatSize);
mdat.set(_mp4_generator__WEBPACK_IMPORTED_MODULE_2__["default"].types.mdat,4);
var stretchedLastFrame=false;
var minDtsDelta=Number.POSITIVE_INFINITY;
var minPtsDelta=Number.POSITIVE_INFINITY;
var maxDtsDelta=Number.NEGATIVE_INFINITY;
var maxPtsDelta=Number.NEGATIVE_INFINITY;
for(var _i2=0;_i2<nbSamples;_i2++){
var avcSample=inputSamples[_i2];
var avcSampleUnits=avcSample.units;
var mp4SampleLength=0;
// convert NALU bitstream to MP4 format (prepend NALU with size field)
for(var _j=0,_nbUnits=avcSampleUnits.length;_j<_nbUnits;_j++){
var unit=avcSampleUnits[_j];
var unitData=unit.data;
var unitDataLen=unit.data.byteLength;
view.setUint32(offset,unitDataLen);
offset+=4;
mdat.set(unitData,offset);
offset+=unitDataLen;
mp4SampleLength+=4+unitDataLen;
}

// expected sample duration is the Decoding Timestamp diff of consecutive samples
var ptsDelta=void 0;
if(_i2<nbSamples-1){
mp4SampleDuration=inputSamples[_i2+1].dts-avcSample.dts;
ptsDelta=inputSamples[_i2+1].pts-avcSample.pts;
}else{
var config=this.config;
var lastFrameDuration=_i2>0?avcSample.dts-inputSamples[_i2-1].dts:averageSampleDuration;
ptsDelta=_i2>0?avcSample.pts-inputSamples[_i2-1].pts:averageSampleDuration;
if(config.stretchShortVideoTrack&&this.nextAudioPts!==null){
// In some cases, a segment's audio track duration may exceed the video track duration.
// Since we've already remuxed audio, and we know how long the audio track is, we look to
// see if the delta to the next segment is longer than maxBufferHole.
// If so, playback would potentially get stuck, so we artificially inflate
// the duration of the last frame to minimize any potential gap between segments.
var gapTolerance=Math.floor(config.maxBufferHole*timeScale);
var deltaToFrameEnd=(audioTrackLength?minPTS+audioTrackLength*timeScale:this.nextAudioPts)-avcSample.pts;
if(deltaToFrameEnd>gapTolerance){
// We subtract lastFrameDuration from deltaToFrameEnd to try to prevent any video
// frame overlap. maxBufferHole should be >> lastFrameDuration anyway.
mp4SampleDuration=deltaToFrameEnd-lastFrameDuration;
if(mp4SampleDuration<0){
mp4SampleDuration=lastFrameDuration;
}else{
stretchedLastFrame=true;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.log("[mp4-remuxer]: It is approximately "+deltaToFrameEnd/90+" ms to the next segment; using duration "+mp4SampleDuration/90+" ms for the last video frame.");
}else{
mp4SampleDuration=lastFrameDuration;
}
}else{
mp4SampleDuration=lastFrameDuration;
}
}
var compositionTimeOffset=Math.round(avcSample.pts-avcSample.dts);
minDtsDelta=Math.min(minDtsDelta,mp4SampleDuration);
maxDtsDelta=Math.max(maxDtsDelta,mp4SampleDuration);
minPtsDelta=Math.min(minPtsDelta,ptsDelta);
maxPtsDelta=Math.max(maxPtsDelta,ptsDelta);
outputSamples.push(new Mp4Sample(avcSample.key,mp4SampleDuration,mp4SampleLength,compositionTimeOffset));
}
if(outputSamples.length){
if(chromeVersion){
if(chromeVersion<70){
// Chrome workaround, mark first sample as being a Random Access Point (keyframe) to avoid sourcebuffer append issue
// https://code.google.com/p/chromium/issues/detail?id=229412
var flags=outputSamples[0].flags;
flags.dependsOn=2;
flags.isNonSync=0;
}
}else if(safariWebkitVersion){
// Fix for "CNN special report, with CC" in test-streams (Safari browser only)
// Ignore DTS when frame durations are irregular. Safari MSE does not handle this leading to gaps.
if(maxPtsDelta-minPtsDelta<maxDtsDelta-minDtsDelta&&averageSampleDuration/maxDtsDelta<0.025&&outputSamples[0].cts===0){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn('Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.');
var dts=firstDTS;
for(var _i3=0,len=outputSamples.length;_i3<len;_i3++){
var nextDts=dts+outputSamples[_i3].duration;
var _pts=dts+outputSamples[_i3].cts;
if(_i3<len-1){
var nextPts=nextDts+outputSamples[_i3+1].cts;
outputSamples[_i3].duration=nextPts-_pts;
}else{
outputSamples[_i3].duration=_i3?outputSamples[_i3-1].duration:averageSampleDuration;
}
outputSamples[_i3].cts=0;
dts=nextDts;
}
}
}
}
console.assert(mp4SampleDuration!==null,'mp4SampleDuration must be computed');
// next AVC sample DTS should be equal to last sample DTS + last sample duration (in PES timescale)
mp4SampleDuration=stretchedLastFrame||!mp4SampleDuration?averageSampleDuration:mp4SampleDuration;
this.nextAvcDts=nextAvcDts=lastDTS+mp4SampleDuration;
this.videoSampleDuration=mp4SampleDuration;
this.isVideoContiguous=true;
var moof=_mp4_generator__WEBPACK_IMPORTED_MODULE_2__["default"].moof(track.sequenceNumber++,firstDTS,_extends({},track,{
samples:outputSamples}));

var type='video';
var data={
data1:moof,
data2:mdat,
startPTS:minPTS/timeScale,
endPTS:(maxPTS+mp4SampleDuration)/timeScale,
startDTS:firstDTS/timeScale,
endDTS:nextAvcDts/timeScale,
type:type,
hasAudio:false,
hasVideo:true,
nb:outputSamples.length,
dropped:track.dropped};

track.samples=[];
track.dropped=0;
console.assert(mdat.length,'MDAT length must not be zero');
return data;
};
_proto.remuxAudio=function remuxAudio(track,timeOffset,contiguous,accurateTimeOffset,videoTimeOffset){
var inputTimeScale=track.inputTimeScale;
var mp4timeScale=track.samplerate?track.samplerate:inputTimeScale;
var scaleFactor=inputTimeScale/mp4timeScale;
var mp4SampleDuration=track.segmentCodec==='aac'?AAC_SAMPLES_PER_FRAME:MPEG_AUDIO_SAMPLE_PER_FRAME;
var inputSampleDuration=mp4SampleDuration*scaleFactor;
var initPTS=this._initPTS;
var rawMPEG=track.segmentCodec==='mp3'&&this.typeSupported.mpeg;
var outputSamples=[];
var alignedWithVideo=videoTimeOffset!==undefined;
var inputSamples=track.samples;
var offset=rawMPEG?0:8;
var nextAudioPts=this.nextAudioPts||-1;

// window.audioSamples ? window.audioSamples.push(inputSamples.map(s => s.pts)) : (window.audioSamples = [inputSamples.map(s => s.pts)]);

// for audio samples, also consider consecutive fragments as being contiguous (even if a level switch occurs),
// for sake of clarity:
// consecutive fragments are frags with
//  - less than 100ms gaps between new time offset (if accurate) and next expected PTS OR
//  - less than 20 audio frames distance
// contiguous fragments are consecutive fragments from same quality level (same level, new SN = old SN + 1)
// this helps ensuring audio continuity
// and this also avoids audio glitches/cut when switching quality, or reporting wrong duration on first audio frame
var timeOffsetMpegTS=timeOffset*inputTimeScale;
this.isAudioContiguous=contiguous=contiguous||inputSamples.length&&nextAudioPts>0&&(accurateTimeOffset&&Math.abs(timeOffsetMpegTS-nextAudioPts)<9000||Math.abs(_normalizePts(inputSamples[0].pts-initPTS,timeOffsetMpegTS)-nextAudioPts)<20*inputSampleDuration);

// compute normalized PTS
inputSamples.forEach(function(sample){
sample.pts=_normalizePts(sample.pts-initPTS,timeOffsetMpegTS);
});
if(!contiguous||nextAudioPts<0){
// filter out sample with negative PTS that are not playable anyway
// if we don't remove these negative samples, they will shift all audio samples forward.
// leading to audio overlap between current / next fragment
inputSamples=inputSamples.filter(function(sample){
return sample.pts>=0;
});

// in case all samples have negative PTS, and have been filtered out, return now
if(!inputSamples.length){
return;
}
if(videoTimeOffset===0){
// Set the start to 0 to match video so that start gaps larger than inputSampleDuration are filled with silence
nextAudioPts=0;
}else if(accurateTimeOffset&&!alignedWithVideo){
// When not seeking, not live, and LevelDetails.PTSKnown, use fragment start as predicted next audio PTS
nextAudioPts=Math.max(0,timeOffsetMpegTS);
}else{
// if frags are not contiguous and if we cant trust time offset, let's use first sample PTS as next audio PTS
nextAudioPts=inputSamples[0].pts;
}
}

// If the audio track is missing samples, the frames seem to get "left-shifted" within the
// resulting mp4 segment, causing sync issues and leaving gaps at the end of the audio segment.
// In an effort to prevent this from happening, we inject frames here where there are gaps.
// When possible, we inject a silent frame; when that's not possible, we duplicate the last
// frame.

if(track.segmentCodec==='aac'){
var maxAudioFramesDrift=this.config.maxAudioFramesDrift;
for(var i=0,nextPts=nextAudioPts;i<inputSamples.length;i++){
// First, let's see how far off this frame is from where we expect it to be
var sample=inputSamples[i];
var pts=sample.pts;
var delta=pts-nextPts;
var duration=Math.abs(1000*delta/inputTimeScale);

// When remuxing with video, if we're overlapping by more than a duration, drop this sample to stay in sync
if(delta<=-maxAudioFramesDrift*inputSampleDuration&&alignedWithVideo){
if(i===0){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("Audio frame @ "+(pts/inputTimeScale).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1000*delta/inputTimeScale)+" ms.");
this.nextAudioPts=nextAudioPts=nextPts=pts;
}
}// eslint-disable-line brace-style

// Insert missing frames if:
// 1: We're more than maxAudioFramesDrift frame away
// 2: Not more than MAX_SILENT_FRAME_DURATION away
// 3: currentTime (aka nextPtsNorm) is not 0
// 4: remuxing with video (videoTimeOffset !== undefined)
else if(delta>=maxAudioFramesDrift*inputSampleDuration&&duration<MAX_SILENT_FRAME_DURATION&&alignedWithVideo){
var missing=Math.round(delta/inputSampleDuration);
// Adjust nextPts so that silent samples are aligned with media pts. This will prevent media samples from
// later being shifted if nextPts is based on timeOffset and delta is not a multiple of inputSampleDuration.
nextPts=pts-missing*inputSampleDuration;
if(nextPts<0){
missing--;
nextPts+=inputSampleDuration;
}
if(i===0){
this.nextAudioPts=nextAudioPts=nextPts;
}
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn("[mp4-remuxer]: Injecting "+missing+" audio frame @ "+(nextPts/inputTimeScale).toFixed(3)+"s due to "+Math.round(1000*delta/inputTimeScale)+" ms gap.");
for(var j=0;j<missing;j++){
var newStamp=Math.max(nextPts,0);
var fillFrame=_aac_helper__WEBPACK_IMPORTED_MODULE_1__["default"].getSilentFrame(track.manifestCodec||track.codec,track.channelCount);
if(!fillFrame){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.log('[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead.');
fillFrame=sample.unit.subarray();
}
inputSamples.splice(i,0,{
unit:fillFrame,
pts:newStamp});

nextPts+=inputSampleDuration;
i++;
}
}
sample.pts=nextPts;
nextPts+=inputSampleDuration;
}
}
var firstPTS=null;
var lastPTS=null;
var mdat;
var mdatSize=0;
var sampleLength=inputSamples.length;
while(sampleLength--){
mdatSize+=inputSamples[sampleLength].unit.byteLength;
}
for(var _j2=0,_nbSamples=inputSamples.length;_j2<_nbSamples;_j2++){
var audioSample=inputSamples[_j2];
var unit=audioSample.unit;
var _pts2=audioSample.pts;
if(lastPTS!==null){
// If we have more than one sample, set the duration of the sample to the "real" duration; the PTS diff with
// the previous sample
var prevSample=outputSamples[_j2-1];
prevSample.duration=Math.round((_pts2-lastPTS)/scaleFactor);
}else{
if(contiguous&&track.segmentCodec==='aac'){
// set PTS/DTS to expected PTS/DTS
_pts2=nextAudioPts;
}
// remember first PTS of our audioSamples
firstPTS=_pts2;
if(mdatSize>0){
/* concatenate the audio data and construct the mdat in place
            (need 8 more bytes to fill length and mdat type) */
mdatSize+=offset;
try{
mdat=new Uint8Array(mdatSize);
}catch(err){
this.observer.emit(_events__WEBPACK_IMPORTED_MODULE_3__.Events.ERROR,_events__WEBPACK_IMPORTED_MODULE_3__.Events.ERROR,{
type:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorTypes.MUX_ERROR,
details:_errors__WEBPACK_IMPORTED_MODULE_4__.ErrorDetails.REMUX_ALLOC_ERROR,
fatal:false,
bytes:mdatSize,
reason:"fail allocating audio mdat "+mdatSize});

return;
}
if(!rawMPEG){
var view=new DataView(mdat.buffer);
view.setUint32(0,mdatSize);
mdat.set(_mp4_generator__WEBPACK_IMPORTED_MODULE_2__["default"].types.mdat,4);
}
}else{
// no audio samples
return;
}
}
mdat.set(unit,offset);
var unitLen=unit.byteLength;
offset+=unitLen;
// Default the sample's duration to the computed mp4SampleDuration, which will either be 1024 for AAC or 1152 for MPEG
// In the case that we have 1 sample, this will be the duration. If we have more than one sample, the duration
// becomes the PTS diff with the previous sample
outputSamples.push(new Mp4Sample(true,mp4SampleDuration,unitLen,0));
lastPTS=_pts2;
}

// We could end up with no audio samples if all input samples were overlapping with the previously remuxed ones
var nbSamples=outputSamples.length;
if(!nbSamples){
return;
}

// The next audio sample PTS should be equal to last sample PTS + duration
var lastSample=outputSamples[outputSamples.length-1];
this.nextAudioPts=nextAudioPts=lastPTS+scaleFactor*lastSample.duration;

// Set the track samples from inputSamples to outputSamples before remuxing
var moof=rawMPEG?new Uint8Array(0):_mp4_generator__WEBPACK_IMPORTED_MODULE_2__["default"].moof(track.sequenceNumber++,firstPTS/scaleFactor,_extends({},track,{
samples:outputSamples}));


// Clear the track samples. This also clears the samples array in the demuxer, since the reference is shared
track.samples=[];
var start=firstPTS/inputTimeScale;
var end=nextAudioPts/inputTimeScale;
var type='audio';
var audioData={
data1:moof,
data2:mdat,
startPTS:start,
endPTS:end,
startDTS:start,
endDTS:end,
type:type,
hasAudio:true,
hasVideo:false,
nb:nbSamples};

this.isAudioContiguous=true;
console.assert(mdat.length,'MDAT length must not be zero');
return audioData;
};
_proto.remuxEmptyAudio=function remuxEmptyAudio(track,timeOffset,contiguous,videoData){
var inputTimeScale=track.inputTimeScale;
var mp4timeScale=track.samplerate?track.samplerate:inputTimeScale;
var scaleFactor=inputTimeScale/mp4timeScale;
var nextAudioPts=this.nextAudioPts;
// sync with video's timestamp
var startDTS=(nextAudioPts!==null?nextAudioPts:videoData.startDTS*inputTimeScale)+this._initDTS;
var endDTS=videoData.endDTS*inputTimeScale+this._initDTS;
// one sample's duration value
var frameDuration=scaleFactor*AAC_SAMPLES_PER_FRAME;
// samples count of this segment's duration
var nbSamples=Math.ceil((endDTS-startDTS)/frameDuration);
// silent frame
var silentFrame=_aac_helper__WEBPACK_IMPORTED_MODULE_1__["default"].getSilentFrame(track.manifestCodec||track.codec,track.channelCount);
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.warn('[mp4-remuxer]: remux empty Audio');
// Can't remux if we can't generate a silent frame...
if(!silentFrame){
_utils_logger__WEBPACK_IMPORTED_MODULE_5__.logger.trace('[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec');
return;
}
var samples=[];
for(var i=0;i<nbSamples;i++){
var stamp=startDTS+i*frameDuration;
samples.push({
unit:silentFrame,
pts:stamp,
dts:stamp});

}
track.samples=samples;
return this.remuxAudio(track,timeOffset,contiguous,false);
};
return MP4Remuxer;
}();

function _normalizePts(value,reference){
var offset;
if(reference===null){
return value;
}
if(reference<value){
// - 2^33
offset=-8589934592;
}else{
// + 2^33
offset=8589934592;
}
/* PTS is 33bit (from 0 to 2^33 -1)
    if diff between value and reference is bigger than half of the amplitude (2^32) then it means that
    PTS looping occured. fill the gap */
while(Math.abs(value-reference)>4294967296){
value+=offset;
}
return value;
}
function findKeyframeIndex(samples){
for(var i=0;i<samples.length;i++){
if(samples[i].key){
return i;
}
}
return-1;
}
function _flushTextTrackMetadataCueSamples(track,timeOffset,initPTS,initDTS){
var length=track.samples.length;
if(!length){
return;
}
var inputTimeScale=track.inputTimeScale;
for(var index=0;index<length;index++){
var sample=track.samples[index];
// setting id3 pts, dts to relative time
// using this._initPTS and this._initDTS to calculate relative time
sample.pts=_normalizePts(sample.pts-initPTS,timeOffset*inputTimeScale)/inputTimeScale;
sample.dts=_normalizePts(sample.dts-initDTS,timeOffset*inputTimeScale)/inputTimeScale;
}
var samples=track.samples;
track.samples=[];
return{
samples:samples};

}
function _flushTextTrackUserdataCueSamples(track,timeOffset,initPTS){
var length=track.samples.length;
if(!length){
return;
}
var inputTimeScale=track.inputTimeScale;
for(var index=0;index<length;index++){
var sample=track.samples[index];
// setting text pts, dts to relative time
// using this._initPTS and this._initDTS to calculate relative time
sample.pts=_normalizePts(sample.pts-initPTS,timeOffset*inputTimeScale)/inputTimeScale;
}
track.samples.sort(function(a,b){
return a.pts-b.pts;
});
var samples=track.samples;
track.samples=[];
return{
samples:samples};

}
var Mp4Sample=function Mp4Sample(isKeyframe,duration,size,cts){
this.size=void 0;
this.duration=void 0;
this.cts=void 0;
this.flags=void 0;
this.duration=duration;
this.size=size;
this.cts=cts;
this.flags=new Mp4SampleFlags(isKeyframe);
};
var Mp4SampleFlags=function Mp4SampleFlags(isKeyframe){
this.isLeading=0;
this.isDependedOn=0;
this.hasRedundancy=0;
this.degradPrio=0;
this.dependsOn=1;
this.isNonSync=1;
this.dependsOn=isKeyframe?2:1;
this.isNonSync=isKeyframe?0:1;
};

/***/},

/***/"./src/remux/passthrough-remuxer.ts":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.ts ***!
  \******************************************/
/***/function srcRemuxPassthroughRemuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _mp4_remuxer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./mp4-remuxer */"./src/remux/mp4-remuxer.ts");
/* harmony import */var _utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _loader_fragment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../loader/fragment */"./src/loader/fragment.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");







var PassThroughRemuxer=/*#__PURE__*/function(){
function PassThroughRemuxer(){
this.emitInitSegment=false;
this.audioCodec=void 0;
this.videoCodec=void 0;
this.initData=void 0;
this.initPTS=void 0;
this.initTracks=void 0;
this.lastEndTime=null;
}
var _proto=PassThroughRemuxer.prototype;
_proto.destroy=function destroy(){};
_proto.resetTimeStamp=function resetTimeStamp(defaultInitPTS){
this.initPTS=defaultInitPTS;
this.lastEndTime=null;
};
_proto.resetNextTimestamp=function resetNextTimestamp(){
this.lastEndTime=null;
};
_proto.resetInitSegment=function resetInitSegment(initSegment,audioCodec,videoCodec,decryptdata){
this.audioCodec=audioCodec;
this.videoCodec=videoCodec;
this.generateInitSegment((0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.patchEncyptionData)(initSegment,decryptdata));
this.emitInitSegment=true;
};
_proto.generateInitSegment=function generateInitSegment(initSegment){
var audioCodec=this.audioCodec,
videoCodec=this.videoCodec;
if(!initSegment||!initSegment.byteLength){
this.initTracks=undefined;
this.initData=undefined;
return;
}
var initData=this.initData=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.parseInitSegment)(initSegment);

// Get codec from initSegment or fallback to default
if(!audioCodec){
audioCodec=getParsedTrackCodec(initData.audio,_loader_fragment__WEBPACK_IMPORTED_MODULE_3__.ElementaryStreamTypes.AUDIO);
}
if(!videoCodec){
videoCodec=getParsedTrackCodec(initData.video,_loader_fragment__WEBPACK_IMPORTED_MODULE_3__.ElementaryStreamTypes.VIDEO);
}
var tracks={};
if(initData.audio&&initData.video){
tracks.audiovideo={
container:'video/mp4',
codec:audioCodec+','+videoCodec,
initSegment:initSegment,
id:'main'};

}else if(initData.audio){
tracks.audio={
container:'audio/mp4',
codec:audioCodec,
initSegment:initSegment,
id:'audio'};

}else if(initData.video){
tracks.video={
container:'video/mp4',
codec:videoCodec,
initSegment:initSegment,
id:'main'};

}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger.warn('[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes.');
}
this.initTracks=tracks;
};
_proto.remux=function remux(audioTrack,videoTrack,id3Track,textTrack,timeOffset){
var _this$initPTS;
var initPTS=this.initPTS,
lastEndTime=this.lastEndTime;
var result={
audio:undefined,
video:undefined,
text:textTrack,
id3:id3Track,
initSegment:undefined};


// If we haven't yet set a lastEndDTS, or it was reset, set it to the provided timeOffset. We want to use the
// lastEndDTS over timeOffset whenever possible; during progressive playback, the media source will not update
// the media duration (which is what timeOffset is provided as) before we need to process the next chunk.
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(lastEndTime)){
lastEndTime=this.lastEndTime=timeOffset||0;
}

// The binary segment data is added to the videoTrack in the mp4demuxer. We don't check to see if the data is only
// audio or video (or both); adding it to video was an arbitrary choice.
var data=videoTrack.samples;
if(!data||!data.length){
return result;
}
var initSegment={
initPTS:undefined,
timescale:1};

var initData=this.initData;
if(!initData||!initData.length){
this.generateInitSegment(data);
initData=this.initData;
}
if(!initData||!initData.length){
// We can't remux if the initSegment could not be generated
_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger.warn('[passthrough-remuxer.ts]: Failed to generate initSegment.');
return result;
}
if(this.emitInitSegment){
initSegment.tracks=this.initTracks;
this.emitInitSegment=false;
}
var startDTS=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.getStartDTS)(initData,data);
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(initPTS)){
this.initPTS=initSegment.initPTS=initPTS=startDTS-timeOffset;
}
var duration=(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.getDuration)(data,initData);
var startTime=audioTrack?startDTS-initPTS:lastEndTime;
var endTime=startTime+duration;
(0,_utils_mp4_tools__WEBPACK_IMPORTED_MODULE_2__.offsetStartDTS)(initData,data,initPTS);
if(duration>0){
this.lastEndTime=endTime;
}else{
_utils_logger__WEBPACK_IMPORTED_MODULE_4__.logger.warn('Duration parsed from mp4 should be greater than zero');
this.resetNextTimestamp();
}
var hasAudio=!!initData.audio;
var hasVideo=!!initData.video;
var type='';
if(hasAudio){
type+='audio';
}
if(hasVideo){
type+='video';
}
var track={
data1:data,
startPTS:startTime,
startDTS:startTime,
endPTS:endTime,
endDTS:endTime,
type:type,
hasAudio:hasAudio,
hasVideo:hasVideo,
nb:1,
dropped:0};

result.audio=track.type==='audio'?track:undefined;
result.video=track.type!=='audio'?track:undefined;
result.initSegment=initSegment;
var initPtsNum=(_this$initPTS=this.initPTS)!=null?_this$initPTS:0;
result.id3=(0,_mp4_remuxer__WEBPACK_IMPORTED_MODULE_1__.flushTextTrackMetadataCueSamples)(id3Track,timeOffset,initPtsNum,initPtsNum);
if(textTrack.samples.length){
result.text=(0,_mp4_remuxer__WEBPACK_IMPORTED_MODULE_1__.flushTextTrackUserdataCueSamples)(textTrack,timeOffset,initPtsNum);
}
return result;
};
return PassThroughRemuxer;
}();
function getParsedTrackCodec(track,type){
var parsedCodec=track===null||track===void 0?void 0:track.codec;
if(parsedCodec&&parsedCodec.length>4){
return parsedCodec;
}
// Since mp4-tools cannot parse full codec string (see 'TODO: Parse codec details'... in mp4-tools)
// Provide defaults based on codec type
// This allows for some playback of some fmp4 playlists without CODECS defined in manifest
if(parsedCodec==='hvc1'||parsedCodec==='hev1'){
return'hvc1.1.c.L120.90';
}
if(parsedCodec==='av01'){
return'av01.0.04M.08';
}
if(parsedCodec==='avc1'||type===_loader_fragment__WEBPACK_IMPORTED_MODULE_3__.ElementaryStreamTypes.VIDEO){
return'avc1.42e01e';
}
return'mp4a.40.5';
}
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=PassThroughRemuxer;

/***/},

/***/"./src/task-loop.ts":
/*!**************************!*\
  !*** ./src/task-loop.ts ***!
  \**************************/
/***/function srcTaskLoopTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */TaskLoop);}
/* harmony export */});
/**
 * Sub-class specialization of EventHandler base class.
 *
 * TaskLoop allows to schedule a task function being called (optionnaly repeatedly) on the main loop,
 * scheduled asynchroneously, avoiding recursive calls in the same tick.
 *
 * The task itself is implemented in `doTick`. It can be requested and called for single execution
 * using the `tick` method.
 *
 * It will be assured that the task execution method (`tick`) only gets called once per main loop "tick",
 * no matter how often it gets requested for execution. Execution in further ticks will be scheduled accordingly.
 *
 * If further execution requests have already been scheduled on the next tick, it can be checked with `hasNextTick`,
 * and cancelled with `clearNextTick`.
 *
 * The task can be scheduled as an interval repeatedly with a period as parameter (see `setInterval`, `clearInterval`).
 *
 * Sub-classes need to implement the `doTick` method which will effectively have the task execution routine.
 *
 * Further explanations:
 *
 * The baseclass has a `tick` method that will schedule the doTick call. It may be called synchroneously
 * only for a stack-depth of one. On re-entrant calls, sub-sequent calls are scheduled for next main loop ticks.
 *
 * When the task execution (`tick` method) is called in re-entrant way this is detected and
 * we are limiting the task execution per call stack to exactly one, but scheduling/post-poning further
 * task processing on the next main loop iteration (also known as "next tick" in the Node/JS runtime lingo).
 */
var TaskLoop=/*#__PURE__*/function(){
function TaskLoop(){
this._boundTick=void 0;
this._tickTimer=null;
this._tickInterval=null;
this._tickCallCount=0;
this._boundTick=this.tick.bind(this);
}
var _proto=TaskLoop.prototype;
_proto.destroy=function destroy(){
this.onHandlerDestroying();
this.onHandlerDestroyed();
};
_proto.onHandlerDestroying=function onHandlerDestroying(){
// clear all timers before unregistering from event bus
this.clearNextTick();
this.clearInterval();
};
_proto.onHandlerDestroyed=function onHandlerDestroyed(){}

/**
   * @returns {boolean}
   */;
_proto.hasInterval=function hasInterval(){
return!!this._tickInterval;
}

/**
   * @returns {boolean}
   */;
_proto.hasNextTick=function hasNextTick(){
return!!this._tickTimer;
}

/**
   * @param {number} millis Interval time (ms)
   * @returns {boolean} True when interval has been scheduled, false when already scheduled (no effect)
   */;
_proto.setInterval=function setInterval(millis){
if(!this._tickInterval){
this._tickInterval=self.setInterval(this._boundTick,millis);
return true;
}
return false;
}

/**
   * @returns {boolean} True when interval was cleared, false when none was set (no effect)
   */;
_proto.clearInterval=function clearInterval(){
if(this._tickInterval){
self.clearInterval(this._tickInterval);
this._tickInterval=null;
return true;
}
return false;
}

/**
   * @returns {boolean} True when timeout was cleared, false when none was set (no effect)
   */;
_proto.clearNextTick=function clearNextTick(){
if(this._tickTimer){
self.clearTimeout(this._tickTimer);
this._tickTimer=null;
return true;
}
return false;
}

/**
   * Will call the subclass doTick implementation in this main loop tick
   * or in the next one (via setTimeout(,0)) in case it has already been called
   * in this tick (in case this is a re-entrant call).
   */;
_proto.tick=function tick(){
this._tickCallCount++;
if(this._tickCallCount===1){
this.doTick();
// re-entrant call to tick from previous doTick call stack
// -> schedule a call on the next main loop iteration to process this task processing request
if(this._tickCallCount>1){
// make sure only one timer exists at any time at max
this.tickImmediate();
}
this._tickCallCount=0;
}
};
_proto.tickImmediate=function tickImmediate(){
this.clearNextTick();
this._tickTimer=self.setTimeout(this._boundTick,0);
}

/**
   * For subclass to implement task logic
   * @abstract
   */;
_proto.doTick=function doTick(){};
return TaskLoop;
}();


/***/},

/***/"./src/types/cmcd.ts":
/*!***************************!*\
  !*** ./src/types/cmcd.ts ***!
  \***************************/
/***/function srcTypesCmcdTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"CMCDObjectType":function CMCDObjectType(){return(/* binding */_CMCDObjectType);},
/* harmony export */"CMCDStreamType":function CMCDStreamType(){return(/* binding */_CMCDStreamType);},
/* harmony export */"CMCDStreamingFormat":function CMCDStreamingFormat(){return(/* binding */_CMCDStreamingFormat);},
/* harmony export */"CMCDVersion":function CMCDVersion(){return(/* binding */_CMCDVersion);}
/* harmony export */});
/**
 * CMCD spec version
 */
var _CMCDVersion=1;

/**
 * CMCD Object Type
 */
var _CMCDObjectType;

/**
 * CMCD Streaming Format
 */
(function(CMCDObjectType){
CMCDObjectType["MANIFEST"]="m";
CMCDObjectType["AUDIO"]="a";
CMCDObjectType["VIDEO"]="v";
CMCDObjectType["MUXED"]="av";
CMCDObjectType["INIT"]="i";
CMCDObjectType["CAPTION"]="c";
CMCDObjectType["TIMED_TEXT"]="tt";
CMCDObjectType["KEY"]="k";
CMCDObjectType["OTHER"]="o";
})(_CMCDObjectType||(_CMCDObjectType={}));
var _CMCDStreamingFormat;

/**
 * CMCD Streaming Type
 */
(function(CMCDStreamingFormat){
CMCDStreamingFormat["DASH"]="d";
CMCDStreamingFormat["HLS"]="h";
CMCDStreamingFormat["SMOOTH"]="s";
CMCDStreamingFormat["OTHER"]="o";
})(_CMCDStreamingFormat||(_CMCDStreamingFormat={}));
var _CMCDStreamType;

/**
 * CMCD Headers
 */
(function(CMCDStreamType){
CMCDStreamType["VOD"]="v";
CMCDStreamType["LIVE"]="l";
})(_CMCDStreamType||(_CMCDStreamType={}));

/***/},

/***/"./src/types/demuxer.ts":
/*!******************************!*\
  !*** ./src/types/demuxer.ts ***!
  \******************************/
/***/function srcTypesDemuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"MetadataSchema":function MetadataSchema(){return(/* binding */_MetadataSchema);}
/* harmony export */});
var _MetadataSchema;
(function(MetadataSchema){
MetadataSchema["audioId3"]="org.id3";
MetadataSchema["dateRange"]="com.apple.quicktime.HLS";
MetadataSchema["emsg"]="https://aomedia.org/emsg/ID3";
})(_MetadataSchema||(_MetadataSchema={}));

/***/},

/***/"./src/types/level.ts":
/*!****************************!*\
  !*** ./src/types/level.ts ***!
  \****************************/
/***/function srcTypesLevelTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"HdcpLevels":function HdcpLevels(){return(/* binding */_HdcpLevels);},
/* harmony export */"HlsSkip":function HlsSkip(){return(/* binding */_HlsSkip);},
/* harmony export */"HlsUrlParameters":function HlsUrlParameters(){return(/* binding */_HlsUrlParameters);},
/* harmony export */"Level":function Level(){return(/* binding */_Level);},
/* harmony export */"getSkipValue":function getSkipValue(){return(/* binding */_getSkipValue);}
/* harmony export */});
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
var _HdcpLevels=['NONE','TYPE-0','TYPE-1','TYPE-2',null];
var _HlsSkip;
(function(HlsSkip){
HlsSkip["No"]="";
HlsSkip["Yes"]="YES";
HlsSkip["v2"]="v2";
})(_HlsSkip||(_HlsSkip={}));
function _getSkipValue(details,msn){
var canSkipUntil=details.canSkipUntil,
canSkipDateRanges=details.canSkipDateRanges,
endSN=details.endSN;
var snChangeGoal=msn!==undefined?msn-endSN:0;
if(canSkipUntil&&snChangeGoal<canSkipUntil){
if(canSkipDateRanges){
return _HlsSkip.v2;
}
return _HlsSkip.Yes;
}
return _HlsSkip.No;
}
var _HlsUrlParameters=/*#__PURE__*/function(){
function HlsUrlParameters(msn,part,skip){
this.msn=void 0;
this.part=void 0;
this.skip=void 0;
this.msn=msn;
this.part=part;
this.skip=skip;
}
var _proto=HlsUrlParameters.prototype;
_proto.addDirectives=function addDirectives(uri){
var url=new self.URL(uri);
if(this.msn!==undefined){
url.searchParams.set('_HLS_msn',this.msn.toString());
}
if(this.part!==undefined){
url.searchParams.set('_HLS_part',this.part.toString());
}
if(this.skip){
url.searchParams.set('_HLS_skip',this.skip);
}
return url.href;
};
return HlsUrlParameters;
}();
var _Level=/*#__PURE__*/function(){
function Level(data){
this.attrs=void 0;
this.audioCodec=void 0;
this.bitrate=void 0;
this.codecSet=void 0;
this.height=void 0;
this.id=void 0;
this.name=void 0;
this.videoCodec=void 0;
this.width=void 0;
this.unknownCodecs=void 0;
this.audioGroupIds=void 0;
this.details=void 0;
this.fragmentError=0;
this.loadError=0;
this.loaded=void 0;
this.realBitrate=0;
this.textGroupIds=void 0;
this.url=void 0;
this._urlId=0;
this.url=[data.url];
this.attrs=data.attrs;
this.bitrate=data.bitrate;
if(data.details){
this.details=data.details;
}
this.id=data.id||0;
this.name=data.name;
this.width=data.width||0;
this.height=data.height||0;
this.audioCodec=data.audioCodec;
this.videoCodec=data.videoCodec;
this.unknownCodecs=data.unknownCodecs;
this.codecSet=[data.videoCodec,data.audioCodec].filter(function(c){
return c;
}).join(',').replace(/\.[^.,]+/g,'');
}
_createClass(Level,[{
key:"maxBitrate",
get:function get(){
return Math.max(this.realBitrate,this.bitrate);
}},
{
key:"uri",
get:function get(){
return this.url[this._urlId]||'';
}},
{
key:"urlId",
get:function get(){
return this._urlId;
},
set:function set(value){
var newValue=value%this.url.length;
if(this._urlId!==newValue){
this.details=undefined;
this._urlId=newValue;
}
}}]);

return Level;
}();

/***/},

/***/"./src/types/loader.ts":
/*!*****************************!*\
  !*** ./src/types/loader.ts ***!
  \*****************************/
/***/function srcTypesLoaderTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"PlaylistContextType":function PlaylistContextType(){return(/* binding */_PlaylistContextType);},
/* harmony export */"PlaylistLevelType":function PlaylistLevelType(){return(/* binding */_PlaylistLevelType);}
/* harmony export */});
var _PlaylistContextType;
(function(PlaylistContextType){
PlaylistContextType["MANIFEST"]="manifest";
PlaylistContextType["LEVEL"]="level";
PlaylistContextType["AUDIO_TRACK"]="audioTrack";
PlaylistContextType["SUBTITLE_TRACK"]="subtitleTrack";
})(_PlaylistContextType||(_PlaylistContextType={}));
var _PlaylistLevelType;
(function(PlaylistLevelType){
PlaylistLevelType["MAIN"]="main";
PlaylistLevelType["AUDIO"]="audio";
PlaylistLevelType["SUBTITLE"]="subtitle";
})(_PlaylistLevelType||(_PlaylistLevelType={}));

/***/},

/***/"./src/types/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/types/transmuxer.ts ***!
  \*********************************/
/***/function srcTypesTransmuxerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"ChunkMetadata":function ChunkMetadata(){return(/* binding */_ChunkMetadata);}
/* harmony export */});
var _ChunkMetadata=function ChunkMetadata(level,sn,id,size,part,partial){
if(size===void 0){
size=0;
}
if(part===void 0){
part=-1;
}
if(partial===void 0){
partial=false;
}
this.level=void 0;
this.sn=void 0;
this.part=void 0;
this.id=void 0;
this.size=void 0;
this.partial=void 0;
this.transmuxing=getNewPerformanceTiming();
this.buffering={
audio:getNewPerformanceTiming(),
video:getNewPerformanceTiming(),
audiovideo:getNewPerformanceTiming()};

this.level=level;
this.sn=sn;
this.id=id;
this.size=size;
this.part=part;
this.partial=partial;
};
function getNewPerformanceTiming(){
return{
start:0,
executeStart:0,
executeEnd:0,
end:0};

}

/***/},

/***/"./src/utils/attr-list.ts":
/*!********************************!*\
  !*** ./src/utils/attr-list.ts ***!
  \********************************/
/***/function srcUtilsAttrListTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"AttrList":function AttrList(){return(/* binding */_AttrList);}
/* harmony export */});
var DECIMAL_RESOLUTION_REGEX=/^(\d+)x(\d+)$/;// eslint-disable-line no-useless-escape
var ATTR_LIST_REGEX=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;// eslint-disable-line no-useless-escape

// adapted from https://github.com/kanongil/node-m3u8parse/blob/master/attrlist.js
var _AttrList=/*#__PURE__*/function(){
function AttrList(attrs){
if(typeof attrs==='string'){
attrs=AttrList.parseAttrList(attrs);
}
for(var attr in attrs){
if(attrs.hasOwnProperty(attr)){
this[attr]=attrs[attr];
}
}
}
var _proto=AttrList.prototype;
_proto.decimalInteger=function decimalInteger(attrName){
var intValue=parseInt(this[attrName],10);
if(intValue>Number.MAX_SAFE_INTEGER){
return Infinity;
}
return intValue;
};
_proto.hexadecimalInteger=function hexadecimalInteger(attrName){
if(this[attrName]){
var stringValue=(this[attrName]||'0x').slice(2);
stringValue=(stringValue.length&1?'0':'')+stringValue;
var value=new Uint8Array(stringValue.length/2);
for(var i=0;i<stringValue.length/2;i++){
value[i]=parseInt(stringValue.slice(i*2,i*2+2),16);
}
return value;
}else{
return null;
}
};
_proto.hexadecimalIntegerAsNumber=function hexadecimalIntegerAsNumber(attrName){
var intValue=parseInt(this[attrName],16);
if(intValue>Number.MAX_SAFE_INTEGER){
return Infinity;
}
return intValue;
};
_proto.decimalFloatingPoint=function decimalFloatingPoint(attrName){
return parseFloat(this[attrName]);
};
_proto.optionalFloat=function optionalFloat(attrName,defaultValue){
var value=this[attrName];
return value?parseFloat(value):defaultValue;
};
_proto.enumeratedString=function enumeratedString(attrName){
return this[attrName];
};
_proto.bool=function bool(attrName){
return this[attrName]==='YES';
};
_proto.decimalResolution=function decimalResolution(attrName){
var res=DECIMAL_RESOLUTION_REGEX.exec(this[attrName]);
if(res===null){
return undefined;
}
return{
width:parseInt(res[1],10),
height:parseInt(res[2],10)};

};
AttrList.parseAttrList=function parseAttrList(input){
var match;
var attrs={};
var quote='"';
ATTR_LIST_REGEX.lastIndex=0;
while((match=ATTR_LIST_REGEX.exec(input))!==null){
var value=match[2];
if(value.indexOf(quote)===0&&value.lastIndexOf(quote)===value.length-1){
value=value.slice(1,-1);
}
attrs[match[1]]=value;
}
return attrs;
};
return AttrList;
}();

/***/},

/***/"./src/utils/binary-search.ts":
/*!************************************!*\
  !*** ./src/utils/binary-search.ts ***!
  \************************************/
/***/function srcUtilsBinarySearchTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
var BinarySearch={
/**
   * Searches for an item in an array which matches a certain condition.
   * This requires the condition to only match one item in the array,
   * and for the array to be ordered.
   *
   * @param {Array<T>} list The array to search.
   * @param {BinarySearchComparison<T>} comparisonFn
   *      Called and provided a candidate item as the first argument.
   *      Should return:
   *          > -1 if the item should be located at a lower index than the provided item.
   *          > 1 if the item should be located at a higher index than the provided item.
   *          > 0 if the item is the item you're looking for.
   *
   * @return {T | null} The object if it is found or null otherwise.
   */
search:function search(list,comparisonFn){
var minIndex=0;
var maxIndex=list.length-1;
var currentIndex=null;
var currentElement=null;
while(minIndex<=maxIndex){
currentIndex=(minIndex+maxIndex)/2|0;
currentElement=list[currentIndex];
var comparisonResult=comparisonFn(currentElement);
if(comparisonResult>0){
minIndex=currentIndex+1;
}else if(comparisonResult<0){
maxIndex=currentIndex-1;
}else{
return currentElement;
}
}
return null;
}};

/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=BinarySearch;

/***/},

/***/"./src/utils/buffer-helper.ts":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.ts ***!
  \************************************/
/***/function srcUtilsBufferHelperTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"BufferHelper":function BufferHelper(){return(/* binding */_BufferHelper);}
/* harmony export */});
/* harmony import */var _logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./logger */"./src/utils/logger.ts");
/**
 * @module BufferHelper
 *
 * Providing methods dealing with buffer length retrieval for example.
 *
 * In general, a helper around HTML5 MediaElement TimeRanges gathered from `buffered` property.
 *
 * Also @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/buffered
 */


var noopBuffered={
length:0,
start:function start(){
return 0;
},
end:function end(){
return 0;
}};

var _BufferHelper=/*#__PURE__*/function(){
function BufferHelper(){}
/**
   * Return true if `media`'s buffered include `position`
   * @param {Bufferable} media
   * @param {number} position
   * @returns {boolean}
   */
BufferHelper.isBuffered=function isBuffered(media,position){
try{
if(media){
var buffered=BufferHelper.getBuffered(media);
for(var i=0;i<buffered.length;i++){
if(position>=buffered.start(i)&&position<=buffered.end(i)){
return true;
}
}
}
}catch(error){
// this is to catch
// InvalidStateError: Failed to read the 'buffered' property from 'SourceBuffer':
// This SourceBuffer has been removed from the parent media source
}
return false;
};
BufferHelper.bufferInfo=function bufferInfo(media,pos,maxHoleDuration){
try{
if(media){
var vbuffered=BufferHelper.getBuffered(media);
var buffered=[];
var i;
for(i=0;i<vbuffered.length;i++){
buffered.push({
start:vbuffered.start(i),
end:vbuffered.end(i)});

}
return this.bufferedInfo(buffered,pos,maxHoleDuration);
}
}catch(error){
// this is to catch
// InvalidStateError: Failed to read the 'buffered' property from 'SourceBuffer':
// This SourceBuffer has been removed from the parent media source
}
return{
len:0,
start:pos,
end:pos,
nextStart:undefined};

};
BufferHelper.bufferedInfo=function bufferedInfo(buffered,pos,maxHoleDuration){
pos=Math.max(0,pos);
// sort on buffer.start/smaller end (IE does not always return sorted buffered range)
buffered.sort(function(a,b){
var diff=a.start-b.start;
if(diff){
return diff;
}else{
return b.end-a.end;
}
});
var buffered2=[];
if(maxHoleDuration){
// there might be some small holes between buffer time range
// consider that holes smaller than maxHoleDuration are irrelevant and build another
// buffer time range representations that discards those holes
for(var i=0;i<buffered.length;i++){
var buf2len=buffered2.length;
if(buf2len){
var buf2end=buffered2[buf2len-1].end;
// if small hole (value between 0 or maxHoleDuration ) or overlapping (negative)
if(buffered[i].start-buf2end<maxHoleDuration){
// merge overlapping time ranges
// update lastRange.end only if smaller than item.end
// e.g.  [ 1, 15] with  [ 2,8] => [ 1,15] (no need to modify lastRange.end)
// whereas [ 1, 8] with  [ 2,15] => [ 1,15] ( lastRange should switch from [1,8] to [1,15])
if(buffered[i].end>buf2end){
buffered2[buf2len-1].end=buffered[i].end;
}
}else{
// big hole
buffered2.push(buffered[i]);
}
}else{
// first value
buffered2.push(buffered[i]);
}
}
}else{
buffered2=buffered;
}
var bufferLen=0;

// bufferStartNext can possibly be undefined based on the conditional logic below
var bufferStartNext;

// bufferStart and bufferEnd are buffer boundaries around current video position
var bufferStart=pos;
var bufferEnd=pos;
for(var _i=0;_i<buffered2.length;_i++){
var start=buffered2[_i].start;
var end=buffered2[_i].end;
// logger.log('buf start/end:' + buffered.start(i) + '/' + buffered.end(i));
if(pos+maxHoleDuration>=start&&pos<end){
// play position is inside this buffer TimeRange, retrieve end of buffer position and buffer length
bufferStart=start;
bufferEnd=end;
bufferLen=bufferEnd-pos;
}else if(pos+maxHoleDuration<start){
bufferStartNext=start;
break;
}
}
return{
len:bufferLen,
start:bufferStart||0,
end:bufferEnd||0,
nextStart:bufferStartNext};

}

/**
   * Safe method to get buffered property.
   * SourceBuffer.buffered may throw if SourceBuffer is removed from it's MediaSource
   */;
BufferHelper.getBuffered=function getBuffered(media){
try{
return media.buffered;
}catch(e){
_logger__WEBPACK_IMPORTED_MODULE_0__.logger.log('failed to get media.buffered',e);
return noopBuffered;
}
};
return BufferHelper;
}();

/***/},

/***/"./src/utils/cea-608-parser.ts":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.ts ***!
  \*************************************/
/***/function srcUtilsCea608ParserTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"CaptionScreen":function CaptionScreen(){return(/* binding */_CaptionScreen);},
/* harmony export */"Row":function Row(){return(/* binding */_Row);},
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");


/**
 *
 * This code was ported from the dash.js project at:
 *   https://github.com/Dash-Industry-Forum/dash.js/blob/development/externals/cea608-parser.js
 *   https://github.com/Dash-Industry-Forum/dash.js/commit/8269b26a761e0853bb21d78780ed945144ecdd4d#diff-71bc295a2d6b6b7093a1d3290d53a4b2
 *
 * The original copyright appears below:
 *
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2015-2016, DASH Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  1. Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  2. Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
/**
 *  Exceptions from regular ASCII. CodePoints are mapped to UTF-16 codes
 */

var specialCea608CharsCodes={
0x2a:0xe1,
// lowercase a, acute accent
0x5c:0xe9,
// lowercase e, acute accent
0x5e:0xed,
// lowercase i, acute accent
0x5f:0xf3,
// lowercase o, acute accent
0x60:0xfa,
// lowercase u, acute accent
0x7b:0xe7,
// lowercase c with cedilla
0x7c:0xf7,
// division symbol
0x7d:0xd1,
// uppercase N tilde
0x7e:0xf1,
// lowercase n tilde
0x7f:0x2588,
// Full block
// THIS BLOCK INCLUDES THE 16 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS
// THAT COME FROM HI BYTE=0x11 AND LOW BETWEEN 0x30 AND 0x3F
// THIS MEANS THAT \x50 MUST BE ADDED TO THE VALUES
0x80:0xae,
// Registered symbol (R)
0x81:0xb0,
// degree sign
0x82:0xbd,
// 1/2 symbol
0x83:0xbf,
// Inverted (open) question mark
0x84:0x2122,
// Trademark symbol (TM)
0x85:0xa2,
// Cents symbol
0x86:0xa3,
// Pounds sterling
0x87:0x266a,
// Music 8'th note
0x88:0xe0,
// lowercase a, grave accent
0x89:0x20,
// transparent space (regular)
0x8a:0xe8,
// lowercase e, grave accent
0x8b:0xe2,
// lowercase a, circumflex accent
0x8c:0xea,
// lowercase e, circumflex accent
0x8d:0xee,
// lowercase i, circumflex accent
0x8e:0xf4,
// lowercase o, circumflex accent
0x8f:0xfb,
// lowercase u, circumflex accent
// THIS BLOCK INCLUDES THE 32 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS
// THAT COME FROM HI BYTE=0x12 AND LOW BETWEEN 0x20 AND 0x3F
0x90:0xc1,
// capital letter A with acute
0x91:0xc9,
// capital letter E with acute
0x92:0xd3,
// capital letter O with acute
0x93:0xda,
// capital letter U with acute
0x94:0xdc,
// capital letter U with diaresis
0x95:0xfc,
// lowercase letter U with diaeresis
0x96:0x2018,
// opening single quote
0x97:0xa1,
// inverted exclamation mark
0x98:0x2a,
// asterisk
0x99:0x2019,
// closing single quote
0x9a:0x2501,
// box drawings heavy horizontal
0x9b:0xa9,
// copyright sign
0x9c:0x2120,
// Service mark
0x9d:0x2022,
// (round) bullet
0x9e:0x201c,
// Left double quotation mark
0x9f:0x201d,
// Right double quotation mark
0xa0:0xc0,
// uppercase A, grave accent
0xa1:0xc2,
// uppercase A, circumflex
0xa2:0xc7,
// uppercase C with cedilla
0xa3:0xc8,
// uppercase E, grave accent
0xa4:0xca,
// uppercase E, circumflex
0xa5:0xcb,
// capital letter E with diaresis
0xa6:0xeb,
// lowercase letter e with diaresis
0xa7:0xce,
// uppercase I, circumflex
0xa8:0xcf,
// uppercase I, with diaresis
0xa9:0xef,
// lowercase i, with diaresis
0xaa:0xd4,
// uppercase O, circumflex
0xab:0xd9,
// uppercase U, grave accent
0xac:0xf9,
// lowercase u, grave accent
0xad:0xdb,
// uppercase U, circumflex
0xae:0xab,
// left-pointing double angle quotation mark
0xaf:0xbb,
// right-pointing double angle quotation mark
// THIS BLOCK INCLUDES THE 32 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS
// THAT COME FROM HI BYTE=0x13 AND LOW BETWEEN 0x20 AND 0x3F
0xb0:0xc3,
// Uppercase A, tilde
0xb1:0xe3,
// Lowercase a, tilde
0xb2:0xcd,
// Uppercase I, acute accent
0xb3:0xcc,
// Uppercase I, grave accent
0xb4:0xec,
// Lowercase i, grave accent
0xb5:0xd2,
// Uppercase O, grave accent
0xb6:0xf2,
// Lowercase o, grave accent
0xb7:0xd5,
// Uppercase O, tilde
0xb8:0xf5,
// Lowercase o, tilde
0xb9:0x7b,
// Open curly brace
0xba:0x7d,
// Closing curly brace
0xbb:0x5c,
// Backslash
0xbc:0x5e,
// Caret
0xbd:0x5f,
// Underscore
0xbe:0x7c,
// Pipe (vertical line)
0xbf:0x223c,
// Tilde operator
0xc0:0xc4,
// Uppercase A, umlaut
0xc1:0xe4,
// Lowercase A, umlaut
0xc2:0xd6,
// Uppercase O, umlaut
0xc3:0xf6,
// Lowercase o, umlaut
0xc4:0xdf,
// Esszett (sharp S)
0xc5:0xa5,
// Yen symbol
0xc6:0xa4,
// Generic currency sign
0xc7:0x2503,
// Box drawings heavy vertical
0xc8:0xc5,
// Uppercase A, ring
0xc9:0xe5,
// Lowercase A, ring
0xca:0xd8,
// Uppercase O, stroke
0xcb:0xf8,
// Lowercase o, strok
0xcc:0x250f,
// Box drawings heavy down and right
0xcd:0x2513,
// Box drawings heavy down and left
0xce:0x2517,
// Box drawings heavy up and right
0xcf:0x251b// Box drawings heavy up and left
};

/**
 * Utils
 */
var getCharForByte=function getCharForByte(_byte){
var charCode=_byte;
if(specialCea608CharsCodes.hasOwnProperty(_byte)){
charCode=specialCea608CharsCodes[_byte];
}
return String.fromCharCode(charCode);
};
var NR_ROWS=15;
var NR_COLS=100;
// Tables to look up row from PAC data
var rowsLowCh1={
0x11:1,
0x12:3,
0x15:5,
0x16:7,
0x17:9,
0x10:11,
0x13:12,
0x14:14};

var rowsHighCh1={
0x11:2,
0x12:4,
0x15:6,
0x16:8,
0x17:10,
0x13:13,
0x14:15};

var rowsLowCh2={
0x19:1,
0x1a:3,
0x1d:5,
0x1e:7,
0x1f:9,
0x18:11,
0x1b:12,
0x1c:14};

var rowsHighCh2={
0x19:2,
0x1a:4,
0x1d:6,
0x1e:8,
0x1f:10,
0x1b:13,
0x1c:15};

var backgroundColors=['white','green','blue','cyan','red','yellow','magenta','black','transparent'];
var VerboseLevel;
(function(VerboseLevel){
VerboseLevel[VerboseLevel["ERROR"]=0]="ERROR";
VerboseLevel[VerboseLevel["TEXT"]=1]="TEXT";
VerboseLevel[VerboseLevel["WARNING"]=2]="WARNING";
VerboseLevel[VerboseLevel["INFO"]=2]="INFO";
VerboseLevel[VerboseLevel["DEBUG"]=3]="DEBUG";
VerboseLevel[VerboseLevel["DATA"]=3]="DATA";
})(VerboseLevel||(VerboseLevel={}));
var CaptionsLogger=/*#__PURE__*/function(){
function CaptionsLogger(){
this.time=null;
this.verboseLevel=VerboseLevel.ERROR;
}
var _proto=CaptionsLogger.prototype;
_proto.log=function log(severity,msg){
if(this.verboseLevel>=severity){
var m=typeof msg==='function'?msg():msg;
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.log(this.time+" ["+severity+"] "+m);
}
};
return CaptionsLogger;
}();
var numArrayToHexArray=function numArrayToHexArray(numArray){
var hexArray=[];
for(var j=0;j<numArray.length;j++){
hexArray.push(numArray[j].toString(16));
}
return hexArray;
};
var PenState=/*#__PURE__*/function(){
function PenState(foreground,underline,italics,background,flash){
this.foreground=void 0;
this.underline=void 0;
this.italics=void 0;
this.background=void 0;
this.flash=void 0;
this.foreground=foreground||'white';
this.underline=underline||false;
this.italics=italics||false;
this.background=background||'black';
this.flash=flash||false;
}
var _proto2=PenState.prototype;
_proto2.reset=function reset(){
this.foreground='white';
this.underline=false;
this.italics=false;
this.background='black';
this.flash=false;
};
_proto2.setStyles=function setStyles(styles){
var attribs=['foreground','underline','italics','background','flash'];
for(var i=0;i<attribs.length;i++){
var style=attribs[i];
if(styles.hasOwnProperty(style)){
this[style]=styles[style];
}
}
};
_proto2.isDefault=function isDefault(){
return this.foreground==='white'&&!this.underline&&!this.italics&&this.background==='black'&&!this.flash;
};
_proto2.equals=function equals(other){
return this.foreground===other.foreground&&this.underline===other.underline&&this.italics===other.italics&&this.background===other.background&&this.flash===other.flash;
};
_proto2.copy=function copy(newPenState){
this.foreground=newPenState.foreground;
this.underline=newPenState.underline;
this.italics=newPenState.italics;
this.background=newPenState.background;
this.flash=newPenState.flash;
};
_proto2.toString=function toString(){
return'color='+this.foreground+', underline='+this.underline+', italics='+this.italics+', background='+this.background+', flash='+this.flash;
};
return PenState;
}();
/**
 * Unicode character with styling and background.
 * @constructor
 */
var StyledUnicodeChar=/*#__PURE__*/function(){
function StyledUnicodeChar(uchar,foreground,underline,italics,background,flash){
this.uchar=void 0;
this.penState=void 0;
this.uchar=uchar||' ';// unicode character
this.penState=new PenState(foreground,underline,italics,background,flash);
}
var _proto3=StyledUnicodeChar.prototype;
_proto3.reset=function reset(){
this.uchar=' ';
this.penState.reset();
};
_proto3.setChar=function setChar(uchar,newPenState){
this.uchar=uchar;
this.penState.copy(newPenState);
};
_proto3.setPenState=function setPenState(newPenState){
this.penState.copy(newPenState);
};
_proto3.equals=function equals(other){
return this.uchar===other.uchar&&this.penState.equals(other.penState);
};
_proto3.copy=function copy(newChar){
this.uchar=newChar.uchar;
this.penState.copy(newChar.penState);
};
_proto3.isEmpty=function isEmpty(){
return this.uchar===' '&&this.penState.isDefault();
};
return StyledUnicodeChar;
}();
/**
 * CEA-608 row consisting of NR_COLS instances of StyledUnicodeChar.
 * @constructor
 */
var _Row=/*#__PURE__*/function(){
function Row(logger){
this.chars=void 0;
this.pos=void 0;
this.currPenState=void 0;
this.cueStartTime=void 0;
this.logger=void 0;
this.chars=[];
for(var i=0;i<NR_COLS;i++){
this.chars.push(new StyledUnicodeChar());
}
this.logger=logger;
this.pos=0;
this.currPenState=new PenState();
}
var _proto4=Row.prototype;
_proto4.equals=function equals(other){
var equal=true;
for(var i=0;i<NR_COLS;i++){
if(!this.chars[i].equals(other.chars[i])){
equal=false;
break;
}
}
return equal;
};
_proto4.copy=function copy(other){
for(var i=0;i<NR_COLS;i++){
this.chars[i].copy(other.chars[i]);
}
};
_proto4.isEmpty=function isEmpty(){
var empty=true;
for(var i=0;i<NR_COLS;i++){
if(!this.chars[i].isEmpty()){
empty=false;
break;
}
}
return empty;
}

/**
   *  Set the cursor to a valid column.
   */;
_proto4.setCursor=function setCursor(absPos){
if(this.pos!==absPos){
this.pos=absPos;
}
if(this.pos<0){
this.logger.log(VerboseLevel.DEBUG,'Negative cursor position '+this.pos);
this.pos=0;
}else if(this.pos>NR_COLS){
this.logger.log(VerboseLevel.DEBUG,'Too large cursor position '+this.pos);
this.pos=NR_COLS;
}
}

/**
   * Move the cursor relative to current position.
   */;
_proto4.moveCursor=function moveCursor(relPos){
var newPos=this.pos+relPos;
if(relPos>1){
for(var i=this.pos+1;i<newPos+1;i++){
this.chars[i].setPenState(this.currPenState);
}
}
this.setCursor(newPos);
}

/**
   * Backspace, move one step back and clear character.
   */;
_proto4.backSpace=function backSpace(){
this.moveCursor(-1);
this.chars[this.pos].setChar(' ',this.currPenState);
};
_proto4.insertChar=function insertChar(_byte2){
var _this=this;
if(_byte2>=0x90){
// Extended char
this.backSpace();
}
var _char=getCharForByte(_byte2);
if(this.pos>=NR_COLS){
this.logger.log(VerboseLevel.ERROR,function(){
return'Cannot insert '+_byte2.toString(16)+' ('+_char+') at position '+_this.pos+'. Skipping it!';
});
return;
}
this.chars[this.pos].setChar(_char,this.currPenState);
this.moveCursor(1);
};
_proto4.clearFromPos=function clearFromPos(startPos){
var i;
for(i=startPos;i<NR_COLS;i++){
this.chars[i].reset();
}
};
_proto4.clear=function clear(){
this.clearFromPos(0);
this.pos=0;
this.currPenState.reset();
};
_proto4.clearToEndOfRow=function clearToEndOfRow(){
this.clearFromPos(this.pos);
};
_proto4.getTextString=function getTextString(){
var chars=[];
var empty=true;
for(var i=0;i<NR_COLS;i++){
var _char2=this.chars[i].uchar;
if(_char2!==' '){
empty=false;
}
chars.push(_char2);
}
if(empty){
return'';
}else{
return chars.join('');
}
};
_proto4.setPenStyles=function setPenStyles(styles){
this.currPenState.setStyles(styles);
var currChar=this.chars[this.pos];
currChar.setPenState(this.currPenState);
};
return Row;
}();

/**
 * Keep a CEA-608 screen of 32x15 styled characters
 * @constructor
 */
var _CaptionScreen=/*#__PURE__*/function(){
function CaptionScreen(logger){
this.rows=void 0;
this.currRow=void 0;
this.nrRollUpRows=void 0;
this.lastOutputScreen=void 0;
this.logger=void 0;
this.rows=[];
for(var i=0;i<NR_ROWS;i++){
this.rows.push(new _Row(logger));
}// Note that we use zero-based numbering (0-14)

this.logger=logger;
this.currRow=NR_ROWS-1;
this.nrRollUpRows=null;
this.lastOutputScreen=null;
this.reset();
}
var _proto5=CaptionScreen.prototype;
_proto5.reset=function reset(){
for(var i=0;i<NR_ROWS;i++){
this.rows[i].clear();
}
this.currRow=NR_ROWS-1;
};
_proto5.equals=function equals(other){
var equal=true;
for(var i=0;i<NR_ROWS;i++){
if(!this.rows[i].equals(other.rows[i])){
equal=false;
break;
}
}
return equal;
};
_proto5.copy=function copy(other){
for(var i=0;i<NR_ROWS;i++){
this.rows[i].copy(other.rows[i]);
}
};
_proto5.isEmpty=function isEmpty(){
var empty=true;
for(var i=0;i<NR_ROWS;i++){
if(!this.rows[i].isEmpty()){
empty=false;
break;
}
}
return empty;
};
_proto5.backSpace=function backSpace(){
var row=this.rows[this.currRow];
row.backSpace();
};
_proto5.clearToEndOfRow=function clearToEndOfRow(){
var row=this.rows[this.currRow];
row.clearToEndOfRow();
}

/**
   * Insert a character (without styling) in the current row.
   */;
_proto5.insertChar=function insertChar(_char3){
var row=this.rows[this.currRow];
row.insertChar(_char3);
};
_proto5.setPen=function setPen(styles){
var row=this.rows[this.currRow];
row.setPenStyles(styles);
};
_proto5.moveCursor=function moveCursor(relPos){
var row=this.rows[this.currRow];
row.moveCursor(relPos);
};
_proto5.setCursor=function setCursor(absPos){
this.logger.log(VerboseLevel.INFO,'setCursor: '+absPos);
var row=this.rows[this.currRow];
row.setCursor(absPos);
};
_proto5.setPAC=function setPAC(pacData){
this.logger.log(VerboseLevel.INFO,function(){
return'pacData = '+JSON.stringify(pacData);
});
var newRow=pacData.row-1;
if(this.nrRollUpRows&&newRow<this.nrRollUpRows-1){
newRow=this.nrRollUpRows-1;
}

// Make sure this only affects Roll-up Captions by checking this.nrRollUpRows
if(this.nrRollUpRows&&this.currRow!==newRow){
// clear all rows first
for(var i=0;i<NR_ROWS;i++){
this.rows[i].clear();
}

// Copy this.nrRollUpRows rows from lastOutputScreen and place it in the newRow location
// topRowIndex - the start of rows to copy (inclusive index)
var topRowIndex=this.currRow+1-this.nrRollUpRows;
// We only copy if the last position was already shown.
// We use the cueStartTime value to check this.
var lastOutputScreen=this.lastOutputScreen;
if(lastOutputScreen){
var prevLineTime=lastOutputScreen.rows[topRowIndex].cueStartTime;
var time=this.logger.time;
if(prevLineTime&&time!==null&&prevLineTime<time){
for(var _i=0;_i<this.nrRollUpRows;_i++){
this.rows[newRow-this.nrRollUpRows+_i+1].copy(lastOutputScreen.rows[topRowIndex+_i]);
}
}
}
}
this.currRow=newRow;
var row=this.rows[this.currRow];
if(pacData.indent!==null){
var indent=pacData.indent;
var prevPos=Math.max(indent-1,0);
row.setCursor(pacData.indent);
pacData.color=row.chars[prevPos].penState.foreground;
}
var styles={
foreground:pacData.color,
underline:pacData.underline,
italics:pacData.italics,
background:'black',
flash:false};

this.setPen(styles);
}

/**
   * Set background/extra foreground, but first do back_space, and then insert space (backwards compatibility).
   */;
_proto5.setBkgData=function setBkgData(bkgData){
this.logger.log(VerboseLevel.INFO,function(){
return'bkgData = '+JSON.stringify(bkgData);
});
this.backSpace();
this.setPen(bkgData);
this.insertChar(0x20);// Space
};
_proto5.setRollUpRows=function setRollUpRows(nrRows){
this.nrRollUpRows=nrRows;
};
_proto5.rollUp=function rollUp(){
var _this2=this;
if(this.nrRollUpRows===null){
this.logger.log(VerboseLevel.DEBUG,'roll_up but nrRollUpRows not set yet');
return;// Not properly setup
}

this.logger.log(VerboseLevel.TEXT,function(){
return _this2.getDisplayText();
});
var topRowIndex=this.currRow+1-this.nrRollUpRows;
var topRow=this.rows.splice(topRowIndex,1)[0];
topRow.clear();
this.rows.splice(this.currRow,0,topRow);
this.logger.log(VerboseLevel.INFO,'Rolling up');
// this.logger.log(VerboseLevel.TEXT, this.get_display_text())
}

/**
   * Get all non-empty rows with as unicode text.
   */;
_proto5.getDisplayText=function getDisplayText(asOneRow){
asOneRow=asOneRow||false;
var displayText=[];
var text='';
var rowNr=-1;
for(var i=0;i<NR_ROWS;i++){
var rowText=this.rows[i].getTextString();
if(rowText){
rowNr=i+1;
if(asOneRow){
displayText.push('Row '+rowNr+": '"+rowText+"'");
}else{
displayText.push(rowText.trim());
}
}
}
if(displayText.length>0){
if(asOneRow){
text='['+displayText.join(' | ')+']';
}else{
text=displayText.join('\n');
}
}
return text;
};
_proto5.getTextAndFormat=function getTextAndFormat(){
return this.rows;
};
return CaptionScreen;
}();

// var modes = ['MODE_ROLL-UP', 'MODE_POP-ON', 'MODE_PAINT-ON', 'MODE_TEXT'];
var Cea608Channel=/*#__PURE__*/function(){
function Cea608Channel(channelNumber,outputFilter,logger){
this.chNr=void 0;
this.outputFilter=void 0;
this.mode=void 0;
this.verbose=void 0;
this.displayedMemory=void 0;
this.nonDisplayedMemory=void 0;
this.lastOutputScreen=void 0;
this.currRollUpRow=void 0;
this.writeScreen=void 0;
this.cueStartTime=void 0;
this.logger=void 0;
this.chNr=channelNumber;
this.outputFilter=outputFilter;
this.mode=null;
this.verbose=0;
this.displayedMemory=new _CaptionScreen(logger);
this.nonDisplayedMemory=new _CaptionScreen(logger);
this.lastOutputScreen=new _CaptionScreen(logger);
this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1];
this.writeScreen=this.displayedMemory;
this.mode=null;
this.cueStartTime=null;// Keeps track of where a cue started.
this.logger=logger;
}
var _proto6=Cea608Channel.prototype;
_proto6.reset=function reset(){
this.mode=null;
this.displayedMemory.reset();
this.nonDisplayedMemory.reset();
this.lastOutputScreen.reset();
this.outputFilter.reset();
this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1];
this.writeScreen=this.displayedMemory;
this.mode=null;
this.cueStartTime=null;
};
_proto6.getHandler=function getHandler(){
return this.outputFilter;
};
_proto6.setHandler=function setHandler(newHandler){
this.outputFilter=newHandler;
};
_proto6.setPAC=function setPAC(pacData){
this.writeScreen.setPAC(pacData);
};
_proto6.setBkgData=function setBkgData(bkgData){
this.writeScreen.setBkgData(bkgData);
};
_proto6.setMode=function setMode(newMode){
if(newMode===this.mode){
return;
}
this.mode=newMode;
this.logger.log(VerboseLevel.INFO,function(){
return'MODE='+newMode;
});
if(this.mode==='MODE_POP-ON'){
this.writeScreen=this.nonDisplayedMemory;
}else{
this.writeScreen=this.displayedMemory;
this.writeScreen.reset();
}
if(this.mode!=='MODE_ROLL-UP'){
this.displayedMemory.nrRollUpRows=null;
this.nonDisplayedMemory.nrRollUpRows=null;
}
this.mode=newMode;
};
_proto6.insertChars=function insertChars(chars){
var _this3=this;
for(var i=0;i<chars.length;i++){
this.writeScreen.insertChar(chars[i]);
}
var screen=this.writeScreen===this.displayedMemory?'DISP':'NON_DISP';
this.logger.log(VerboseLevel.INFO,function(){
return screen+': '+_this3.writeScreen.getDisplayText(true);
});
if(this.mode==='MODE_PAINT-ON'||this.mode==='MODE_ROLL-UP'){
this.logger.log(VerboseLevel.TEXT,function(){
return'DISPLAYED: '+_this3.displayedMemory.getDisplayText(true);
});
this.outputDataUpdate();
}
};
_proto6.ccRCL=function ccRCL(){
// Resume Caption Loading (switch mode to Pop On)
this.logger.log(VerboseLevel.INFO,'RCL - Resume Caption Loading');
this.setMode('MODE_POP-ON');
};
_proto6.ccBS=function ccBS(){
// BackSpace
this.logger.log(VerboseLevel.INFO,'BS - BackSpace');
if(this.mode==='MODE_TEXT'){
return;
}
this.writeScreen.backSpace();
if(this.writeScreen===this.displayedMemory){
this.outputDataUpdate();
}
};
_proto6.ccAOF=function ccAOF(){
// Reserved (formerly Alarm Off)
};
_proto6.ccAON=function ccAON(){
// Reserved (formerly Alarm On)
};
_proto6.ccDER=function ccDER(){
// Delete to End of Row
this.logger.log(VerboseLevel.INFO,'DER- Delete to End of Row');
this.writeScreen.clearToEndOfRow();
this.outputDataUpdate();
};
_proto6.ccRU=function ccRU(nrRows){
// Roll-Up Captions-2,3,or 4 Rows
this.logger.log(VerboseLevel.INFO,'RU('+nrRows+') - Roll Up');
this.writeScreen=this.displayedMemory;
this.setMode('MODE_ROLL-UP');
this.writeScreen.setRollUpRows(nrRows);
};
_proto6.ccFON=function ccFON(){
// Flash On
this.logger.log(VerboseLevel.INFO,'FON - Flash On');
this.writeScreen.setPen({
flash:true});

};
_proto6.ccRDC=function ccRDC(){
// Resume Direct Captioning (switch mode to PaintOn)
this.logger.log(VerboseLevel.INFO,'RDC - Resume Direct Captioning');
this.setMode('MODE_PAINT-ON');
};
_proto6.ccTR=function ccTR(){
// Text Restart in text mode (not supported, however)
this.logger.log(VerboseLevel.INFO,'TR');
this.setMode('MODE_TEXT');
};
_proto6.ccRTD=function ccRTD(){
// Resume Text Display in Text mode (not supported, however)
this.logger.log(VerboseLevel.INFO,'RTD');
this.setMode('MODE_TEXT');
};
_proto6.ccEDM=function ccEDM(){
// Erase Displayed Memory
this.logger.log(VerboseLevel.INFO,'EDM - Erase Displayed Memory');
this.displayedMemory.reset();
this.outputDataUpdate(true);
};
_proto6.ccCR=function ccCR(){
// Carriage Return
this.logger.log(VerboseLevel.INFO,'CR - Carriage Return');
this.writeScreen.rollUp();
this.outputDataUpdate(true);
};
_proto6.ccENM=function ccENM(){
// Erase Non-Displayed Memory
this.logger.log(VerboseLevel.INFO,'ENM - Erase Non-displayed Memory');
this.nonDisplayedMemory.reset();
};
_proto6.ccEOC=function ccEOC(){
var _this4=this;
// End of Caption (Flip Memories)
this.logger.log(VerboseLevel.INFO,'EOC - End Of Caption');
if(this.mode==='MODE_POP-ON'){
var tmp=this.displayedMemory;
this.displayedMemory=this.nonDisplayedMemory;
this.nonDisplayedMemory=tmp;
this.writeScreen=this.nonDisplayedMemory;
this.logger.log(VerboseLevel.TEXT,function(){
return'DISP: '+_this4.displayedMemory.getDisplayText();
});
}
this.outputDataUpdate(true);
};
_proto6.ccTO=function ccTO(nrCols){
// Tab Offset 1,2, or 3 columns
this.logger.log(VerboseLevel.INFO,'TO('+nrCols+') - Tab Offset');
this.writeScreen.moveCursor(nrCols);
};
_proto6.ccMIDROW=function ccMIDROW(secondByte){
// Parse MIDROW command
var styles={
flash:false};

styles.underline=secondByte%2===1;
styles.italics=secondByte>=0x2e;
if(!styles.italics){
var colorIndex=Math.floor(secondByte/2)-0x10;
var colors=['white','green','blue','cyan','red','yellow','magenta'];
styles.foreground=colors[colorIndex];
}else{
styles.foreground='white';
}
this.logger.log(VerboseLevel.INFO,'MIDROW: '+JSON.stringify(styles));
this.writeScreen.setPen(styles);
};
_proto6.outputDataUpdate=function outputDataUpdate(dispatch){
if(dispatch===void 0){
dispatch=false;
}
var time=this.logger.time;
if(time===null){
return;
}
if(this.outputFilter){
if(this.cueStartTime===null&&!this.displayedMemory.isEmpty()){
// Start of a new cue
this.cueStartTime=time;
}else{
if(!this.displayedMemory.equals(this.lastOutputScreen)){
this.outputFilter.newCue(this.cueStartTime,time,this.lastOutputScreen);
if(dispatch&&this.outputFilter.dispatchCue){
this.outputFilter.dispatchCue();
}
this.cueStartTime=this.displayedMemory.isEmpty()?null:time;
}
}
this.lastOutputScreen.copy(this.displayedMemory);
}
};
_proto6.cueSplitAtTime=function cueSplitAtTime(t){
if(this.outputFilter){
if(!this.displayedMemory.isEmpty()){
if(this.outputFilter.newCue){
this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory);
}
this.cueStartTime=t;
}
}
};
return Cea608Channel;
}();
var Cea608Parser=/*#__PURE__*/function(){
function Cea608Parser(field,out1,out2){
this.channels=void 0;
this.currentChannel=0;
this.cmdHistory=void 0;
this.logger=void 0;
var logger=new CaptionsLogger();
this.channels=[null,new Cea608Channel(field,out1,logger),new Cea608Channel(field+1,out2,logger)];
this.cmdHistory=createCmdHistory();
this.logger=logger;
}
var _proto7=Cea608Parser.prototype;
_proto7.getHandler=function getHandler(channel){
return this.channels[channel].getHandler();
};
_proto7.setHandler=function setHandler(channel,newHandler){
this.channels[channel].setHandler(newHandler);
}

/**
   * Add data for time t in forms of list of bytes (unsigned ints). The bytes are treated as pairs.
   */;
_proto7.addData=function addData(time,byteList){
var cmdFound;
var a;
var b;
var charsFound=false;
this.logger.time=time;
for(var i=0;i<byteList.length;i+=2){
a=byteList[i]&0x7f;
b=byteList[i+1]&0x7f;
if(a===0&&b===0){
continue;
}else{
this.logger.log(VerboseLevel.DATA,'['+numArrayToHexArray([byteList[i],byteList[i+1]])+'] -> ('+numArrayToHexArray([a,b])+')');
}
cmdFound=this.parseCmd(a,b);
if(!cmdFound){
cmdFound=this.parseMidrow(a,b);
}
if(!cmdFound){
cmdFound=this.parsePAC(a,b);
}
if(!cmdFound){
cmdFound=this.parseBackgroundAttributes(a,b);
}
if(!cmdFound){
charsFound=this.parseChars(a,b);
if(charsFound){
var currChNr=this.currentChannel;
if(currChNr&&currChNr>0){
var channel=this.channels[currChNr];
channel.insertChars(charsFound);
}else{
this.logger.log(VerboseLevel.WARNING,'No channel found yet. TEXT-MODE?');
}
}
}
if(!cmdFound&&!charsFound){
this.logger.log(VerboseLevel.WARNING,"Couldn't parse cleaned data "+numArrayToHexArray([a,b])+' orig: '+numArrayToHexArray([byteList[i],byteList[i+1]]));
}
}
}

/**
   * Parse Command.
   * @returns {Boolean} Tells if a command was found
   */;
_proto7.parseCmd=function parseCmd(a,b){
var cmdHistory=this.cmdHistory;
var cond1=(a===0x14||a===0x1c||a===0x15||a===0x1d)&&b>=0x20&&b<=0x2f;
var cond2=(a===0x17||a===0x1f)&&b>=0x21&&b<=0x23;
if(!(cond1||cond2)){
return false;
}
if(hasCmdRepeated(a,b,cmdHistory)){
setLastCmd(null,null,cmdHistory);
this.logger.log(VerboseLevel.DEBUG,'Repeated command ('+numArrayToHexArray([a,b])+') is dropped');
return true;
}
var chNr=a===0x14||a===0x15||a===0x17?1:2;
var channel=this.channels[chNr];
if(a===0x14||a===0x15||a===0x1c||a===0x1d){
if(b===0x20){
channel.ccRCL();
}else if(b===0x21){
channel.ccBS();
}else if(b===0x22){
channel.ccAOF();
}else if(b===0x23){
channel.ccAON();
}else if(b===0x24){
channel.ccDER();
}else if(b===0x25){
channel.ccRU(2);
}else if(b===0x26){
channel.ccRU(3);
}else if(b===0x27){
channel.ccRU(4);
}else if(b===0x28){
channel.ccFON();
}else if(b===0x29){
channel.ccRDC();
}else if(b===0x2a){
channel.ccTR();
}else if(b===0x2b){
channel.ccRTD();
}else if(b===0x2c){
channel.ccEDM();
}else if(b===0x2d){
channel.ccCR();
}else if(b===0x2e){
channel.ccENM();
}else if(b===0x2f){
channel.ccEOC();
}
}else{
// a == 0x17 || a == 0x1F
channel.ccTO(b-0x20);
}
setLastCmd(a,b,cmdHistory);
this.currentChannel=chNr;
return true;
}

/**
   * Parse midrow styling command
   * @returns {Boolean}
   */;
_proto7.parseMidrow=function parseMidrow(a,b){
var chNr=0;
if((a===0x11||a===0x19)&&b>=0x20&&b<=0x2f){
if(a===0x11){
chNr=1;
}else{
chNr=2;
}
if(chNr!==this.currentChannel){
this.logger.log(VerboseLevel.ERROR,'Mismatch channel in midrow parsing');
return false;
}
var channel=this.channels[chNr];
if(!channel){
return false;
}
channel.ccMIDROW(b);
this.logger.log(VerboseLevel.DEBUG,'MIDROW ('+numArrayToHexArray([a,b])+')');
return true;
}
return false;
}

/**
   * Parse Preable Access Codes (Table 53).
   * @returns {Boolean} Tells if PAC found
   */;
_proto7.parsePAC=function parsePAC(a,b){
var row;
var cmdHistory=this.cmdHistory;
var case1=(a>=0x11&&a<=0x17||a>=0x19&&a<=0x1f)&&b>=0x40&&b<=0x7f;
var case2=(a===0x10||a===0x18)&&b>=0x40&&b<=0x5f;
if(!(case1||case2)){
return false;
}
if(hasCmdRepeated(a,b,cmdHistory)){
setLastCmd(null,null,cmdHistory);
return true;// Repeated commands are dropped (once)
}

var chNr=a<=0x17?1:2;
if(b>=0x40&&b<=0x5f){
row=chNr===1?rowsLowCh1[a]:rowsLowCh2[a];
}else{
// 0x60 <= b <= 0x7F
row=chNr===1?rowsHighCh1[a]:rowsHighCh2[a];
}
var channel=this.channels[chNr];
if(!channel){
return false;
}
channel.setPAC(this.interpretPAC(row,b));
setLastCmd(a,b,cmdHistory);
this.currentChannel=chNr;
return true;
}

/**
   * Interpret the second byte of the pac, and return the information.
   * @returns {Object} pacData with style parameters.
   */;
_proto7.interpretPAC=function interpretPAC(row,_byte3){
var pacIndex;
var pacData={
color:null,
italics:false,
indent:null,
underline:false,
row:row};

if(_byte3>0x5f){
pacIndex=_byte3-0x60;
}else{
pacIndex=_byte3-0x40;
}
pacData.underline=(pacIndex&1)===1;
if(pacIndex<=0xd){
pacData.color=['white','green','blue','cyan','red','yellow','magenta','white'][Math.floor(pacIndex/2)];
}else if(pacIndex<=0xf){
pacData.italics=true;
pacData.color='white';
}else{
pacData.indent=Math.floor((pacIndex-0x10)/2)*4;
}
return pacData;// Note that row has zero offset. The spec uses 1.
}

/**
   * Parse characters.
   * @returns An array with 1 to 2 codes corresponding to chars, if found. null otherwise.
   */;
_proto7.parseChars=function parseChars(a,b){
var channelNr;
var charCodes=null;
var charCode1=null;
if(a>=0x19){
channelNr=2;
charCode1=a-8;
}else{
channelNr=1;
charCode1=a;
}
if(charCode1>=0x11&&charCode1<=0x13){
// Special character
var oneCode;
if(charCode1===0x11){
oneCode=b+0x50;
}else if(charCode1===0x12){
oneCode=b+0x70;
}else{
oneCode=b+0x90;
}
this.logger.log(VerboseLevel.INFO,"Special char '"+getCharForByte(oneCode)+"' in channel "+channelNr);
charCodes=[oneCode];
}else if(a>=0x20&&a<=0x7f){
charCodes=b===0?[a]:[a,b];
}
if(charCodes){
var hexCodes=numArrayToHexArray(charCodes);
this.logger.log(VerboseLevel.DEBUG,'Char codes =  '+hexCodes.join(','));
setLastCmd(a,b,this.cmdHistory);
}
return charCodes;
}

/**
   * Parse extended background attributes as well as new foreground color black.
   * @returns {Boolean} Tells if background attributes are found
   */;
_proto7.parseBackgroundAttributes=function parseBackgroundAttributes(a,b){
var case1=(a===0x10||a===0x18)&&b>=0x20&&b<=0x2f;
var case2=(a===0x17||a===0x1f)&&b>=0x2d&&b<=0x2f;
if(!(case1||case2)){
return false;
}
var index;
var bkgData={};
if(a===0x10||a===0x18){
index=Math.floor((b-0x20)/2);
bkgData.background=backgroundColors[index];
if(b%2===1){
bkgData.background=bkgData.background+'_semi';
}
}else if(b===0x2d){
bkgData.background='transparent';
}else{
bkgData.foreground='black';
if(b===0x2f){
bkgData.underline=true;
}
}
var chNr=a<=0x17?1:2;
var channel=this.channels[chNr];
channel.setBkgData(bkgData);
setLastCmd(a,b,this.cmdHistory);
return true;
}

/**
   * Reset state of parser and its channels.
   */;
_proto7.reset=function reset(){
for(var i=0;i<Object.keys(this.channels).length;i++){
var channel=this.channels[i];
if(channel){
channel.reset();
}
}
this.cmdHistory=createCmdHistory();
}

/**
   * Trigger the generation of a cue, and the start of a new one if displayScreens are not empty.
   */;
_proto7.cueSplitAtTime=function cueSplitAtTime(t){
for(var i=0;i<this.channels.length;i++){
var channel=this.channels[i];
if(channel){
channel.cueSplitAtTime(t);
}
}
};
return Cea608Parser;
}();
function setLastCmd(a,b,cmdHistory){
cmdHistory.a=a;
cmdHistory.b=b;
}
function hasCmdRepeated(a,b,cmdHistory){
return cmdHistory.a===a&&cmdHistory.b===b;
}
function createCmdHistory(){
return{
a:null,
b:null};

}
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=Cea608Parser;

/***/},

/***/"./src/utils/codecs.ts":
/*!*****************************!*\
  !*** ./src/utils/codecs.ts ***!
  \*****************************/
/***/function srcUtilsCodecsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"isCodecSupportedInMp4":function isCodecSupportedInMp4(){return(/* binding */_isCodecSupportedInMp);},
/* harmony export */"isCodecType":function isCodecType(){return(/* binding */_isCodecType);}
/* harmony export */});
// from http://mp4ra.org/codecs.html
var sampleEntryCodesISO={
audio:{
a3ds:true,
'ac-3':true,
'ac-4':true,
alac:true,
alaw:true,
dra1:true,
'dts+':true,
'dts-':true,
dtsc:true,
dtse:true,
dtsh:true,
'ec-3':true,
enca:true,
g719:true,
g726:true,
m4ae:true,
mha1:true,
mha2:true,
mhm1:true,
mhm2:true,
mlpa:true,
mp4a:true,
'raw ':true,
Opus:true,
opus:true,
// browsers expect this to be lowercase despite MP4RA says 'Opus'
samr:true,
sawb:true,
sawp:true,
sevc:true,
sqcp:true,
ssmv:true,
twos:true,
ulaw:true},

video:{
avc1:true,
avc2:true,
avc3:true,
avc4:true,
avcp:true,
av01:true,
drac:true,
dva1:true,
dvav:true,
dvh1:true,
dvhe:true,
encv:true,
hev1:true,
hvc1:true,
mjp2:true,
mp4v:true,
mvc1:true,
mvc2:true,
mvc3:true,
mvc4:true,
resv:true,
rv60:true,
s263:true,
svc1:true,
svc2:true,
'vc-1':true,
vp08:true,
vp09:true},

text:{
stpp:true,
wvtt:true}};


function _isCodecType(codec,type){
var typeCodes=sampleEntryCodesISO[type];
return!!typeCodes&&typeCodes[codec.slice(0,4)]===true;
}
function _isCodecSupportedInMp(codec,type){
return MediaSource.isTypeSupported((type||'video')+"/mp4;codecs=\""+codec+"\"");
}

/***/},

/***/"./src/utils/cues.ts":
/*!***************************!*\
  !*** ./src/utils/cues.ts ***!
  \***************************/
/***/function srcUtilsCuesTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _vttparser__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./vttparser */"./src/utils/vttparser.ts");
/* harmony import */var _webvtt_parser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts");
/* harmony import */var _texttrack_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./texttrack-utils */"./src/utils/texttrack-utils.ts");



var WHITESPACE_CHAR=/\s/;
var Cues={
newCue:function newCue(track,startTime,endTime,captionScreen){
var result=[];
var row;
// the type data states this is VTTCue, but it can potentially be a TextTrackCue on old browsers
var cue;
var indenting;
var indent;
var text;
var Cue=self.VTTCue||self.TextTrackCue;
for(var r=0;r<captionScreen.rows.length;r++){
row=captionScreen.rows[r];
indenting=true;
indent=0;
text='';
if(!row.isEmpty()){
for(var c=0;c<row.chars.length;c++){
if(WHITESPACE_CHAR.test(row.chars[c].uchar)&&indenting){
indent++;
}else{
text+=row.chars[c].uchar;
indenting=false;
}
}
// To be used for cleaning-up orphaned roll-up captions
row.cueStartTime=startTime;

// Give a slight bump to the endTime if it's equal to startTime to avoid a SyntaxError in IE
if(startTime===endTime){
endTime+=0.0001;
}
if(indent>=16){
indent--;
}else{
indent++;
}
var cueText=(0,_vttparser__WEBPACK_IMPORTED_MODULE_0__.fixLineBreaks)(text.trim());
var id=(0,_webvtt_parser__WEBPACK_IMPORTED_MODULE_1__.generateCueId)(startTime,endTime,cueText);

// If this cue already exists in the track do not push it
if(!track||!track.cues||!track.cues.getCueById(id)){
cue=new Cue(startTime,endTime,cueText);
cue.id=id;
cue.line=r+1;
cue.align='left';
// Clamp the position between 10 and 80 percent (CEA-608 PAC indent code)
// https://dvcs.w3.org/hg/text-tracks/raw-file/default/608toVTT/608toVTT.html#positioning-in-cea-608
// Firefox throws an exception and captions break with out of bounds 0-100 values
cue.position=10+Math.min(80,Math.floor(indent*8/32)*10);
result.push(cue);
}
}
}
if(track&&result.length){
// Sort bottom cues in reverse order so that they render in line order when overlapping in Chrome
result.sort(function(cueA,cueB){
if(cueA.line==='auto'||cueB.line==='auto'){
return 0;
}
if(cueA.line>8&&cueB.line>8){
return cueB.line-cueA.line;
}
return cueA.line-cueB.line;
});
result.forEach(function(cue){
return(0,_texttrack_utils__WEBPACK_IMPORTED_MODULE_2__.addCueToTrack)(track,cue);
});
}
return result;
}};

/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=Cues;

/***/},

/***/"./src/utils/discontinuities.ts":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.ts ***!
  \**************************************/
/***/function srcUtilsDiscontinuitiesTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"adjustSlidingStart":function adjustSlidingStart(){return(/* binding */_adjustSlidingStart);},
/* harmony export */"alignMediaPlaylistByPDT":function alignMediaPlaylistByPDT(){return(/* binding */_alignMediaPlaylistByPDT);},
/* harmony export */"alignPDT":function alignPDT(){return(/* binding */_alignPDT);},
/* harmony export */"alignStream":function alignStream(){return(/* binding */_alignStream);},
/* harmony export */"findDiscontinuousReferenceFrag":function findDiscontinuousReferenceFrag(){return(/* binding */_findDiscontinuousReferenceFrag);},
/* harmony export */"findFirstFragWithCC":function findFirstFragWithCC(){return(/* binding */_findFirstFragWithCC);},
/* harmony export */"shouldAlignOnDiscontinuities":function shouldAlignOnDiscontinuities(){return(/* binding */_shouldAlignOnDiscontinuities);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./logger */"./src/utils/logger.ts");
/* harmony import */var _controller_level_helper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../controller/level-helper */"./src/controller/level-helper.ts");




function _findFirstFragWithCC(fragments,cc){
var firstFrag=null;
for(var i=0,len=fragments.length;i<len;i++){
var currentFrag=fragments[i];
if(currentFrag&&currentFrag.cc===cc){
firstFrag=currentFrag;
break;
}
}
return firstFrag;
}
function _shouldAlignOnDiscontinuities(lastFrag,lastLevel,details){
if(lastLevel.details){
if(details.endCC>details.startCC||lastFrag&&lastFrag.cc<details.startCC){
return true;
}
}
return false;
}

// Find the first frag in the previous level which matches the CC of the first frag of the new level
function _findDiscontinuousReferenceFrag(prevDetails,curDetails,referenceIndex){
if(referenceIndex===void 0){
referenceIndex=0;
}
var prevFrags=prevDetails.fragments;
var curFrags=curDetails.fragments;
if(!curFrags.length||!prevFrags.length){
_logger__WEBPACK_IMPORTED_MODULE_1__.logger.log('No fragments to align');
return;
}
var prevStartFrag=_findFirstFragWithCC(prevFrags,curFrags[0].cc);
if(!prevStartFrag||prevStartFrag&&!prevStartFrag.startPTS){
_logger__WEBPACK_IMPORTED_MODULE_1__.logger.log('No frag in previous level to align on');
return;
}
return prevStartFrag;
}
function adjustFragmentStart(frag,sliding){
if(frag){
var start=frag.start+sliding;
frag.start=frag.startPTS=start;
frag.endPTS=start+frag.duration;
}
}
function _adjustSlidingStart(sliding,details){
// Update segments
var fragments=details.fragments;
for(var i=0,len=fragments.length;i<len;i++){
adjustFragmentStart(fragments[i],sliding);
}
// Update LL-HLS parts at the end of the playlist
if(details.fragmentHint){
adjustFragmentStart(details.fragmentHint,sliding);
}
details.alignedSliding=true;
}

/**
 * Using the parameters of the last level, this function computes PTS' of the new fragments so that they form a
 * contiguous stream with the last fragments.
 * The PTS of a fragment lets Hls.js know where it fits into a stream - by knowing every PTS, we know which fragment to
 * download at any given time. PTS is normally computed when the fragment is demuxed, so taking this step saves us time
 * and an extra download.
 * @param lastFrag
 * @param lastLevel
 * @param details
 */
function _alignStream(lastFrag,lastLevel,details){
if(!lastLevel){
return;
}
alignDiscontinuities(lastFrag,details,lastLevel);
if(!details.alignedSliding&&lastLevel.details){
// If the PTS wasn't figured out via discontinuity sequence that means there was no CC increase within the level.
// Aligning via Program Date Time should therefore be reliable, since PDT should be the same within the same
// discontinuity sequence.
_alignPDT(details,lastLevel.details);
}
if(!details.alignedSliding&&lastLevel.details&&!details.skippedSegments){
// Try to align on sn so that we pick a better start fragment.
// Do not perform this on playlists with delta updates as this is only to align levels on switch
// and adjustSliding only adjusts fragments after skippedSegments.
(0,_controller_level_helper__WEBPACK_IMPORTED_MODULE_2__.adjustSliding)(lastLevel.details,details);
}
}

/**
 * Computes the PTS if a new level's fragments using the PTS of a fragment in the last level which shares the same
 * discontinuity sequence.
 * @param lastFrag - The last Fragment which shares the same discontinuity sequence
 * @param lastLevel - The details of the last loaded level
 * @param details - The details of the new level
 */
function alignDiscontinuities(lastFrag,details,lastLevel){
if(_shouldAlignOnDiscontinuities(lastFrag,lastLevel,details)){
var referenceFrag=_findDiscontinuousReferenceFrag(lastLevel.details,details);
if(referenceFrag&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(referenceFrag.start)){
_logger__WEBPACK_IMPORTED_MODULE_1__.logger.log("Adjusting PTS using last level due to CC increase within current level "+details.url);
_adjustSlidingStart(referenceFrag.start,details);
}
}
}

/**
 * Computes the PTS of a new level's fragments using the difference in Program Date Time from the last level.
 * @param details - The details of the new level
 * @param lastDetails - The details of the last loaded level
 */
function _alignPDT(details,lastDetails){
// This check protects the unsafe "!" usage below for null program date time access.
if(!lastDetails.fragments.length||!details.hasProgramDateTime||!lastDetails.hasProgramDateTime){
return;
}
// if last level sliding is 1000 and its first frag PROGRAM-DATE-TIME is 2017-08-20 1:10:00 AM
// and if new details first frag PROGRAM DATE-TIME is 2017-08-20 1:10:08 AM
// then we can deduce that playlist B sliding is 1000+8 = 1008s
var lastPDT=lastDetails.fragments[0].programDateTime;// hasProgramDateTime check above makes this safe.
var newPDT=details.fragments[0].programDateTime;
// date diff is in ms. frag.start is in seconds
var sliding=(newPDT-lastPDT)/1000+lastDetails.fragments[0].start;
if(sliding&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(sliding)){
_logger__WEBPACK_IMPORTED_MODULE_1__.logger.log("Adjusting PTS using programDateTime delta "+(newPDT-lastPDT)+"ms, sliding:"+sliding.toFixed(3)+" "+details.url+" ");
_adjustSlidingStart(sliding,details);
}
}

/**
 * Ensures appropriate time-alignment between renditions based on PDT. Unlike `alignPDT`, which adjusts
 * the timeline based on the delta between PDTs of the 0th fragment of two playlists/`LevelDetails`,
 * this function assumes the timelines represented in `refDetails` are accurate, including the PDTs,
 * and uses the "wallclock"/PDT timeline as a cross-reference to `details`, adjusting the presentation
 * times/timelines of `details` accordingly.
 * Given the asynchronous nature of fetches and initial loads of live `main` and audio/subtitle tracks,
 * the primary purpose of this function is to ensure the "local timelines" of audio/subtitle tracks
 * are aligned to the main/video timeline, using PDT as the cross-reference/"anchor" that should
 * be consistent across playlists, per the HLS spec.
 * @param details - The details of the rendition you'd like to time-align (e.g. an audio rendition).
 * @param refDetails - The details of the reference rendition with start and PDT times for alignment.
 */
function _alignMediaPlaylistByPDT(details,refDetails){
if(!details.hasProgramDateTime||!refDetails.hasProgramDateTime){
return;
}
var fragments=details.fragments;
var refFragments=refDetails.fragments;
if(!fragments.length||!refFragments.length){
return;
}

// Calculate a delta to apply to all fragments according to the delta in PDT times and start times
// of a fragment in the reference details, and a fragment in the target details of the same discontinuity.
// If a fragment of the same discontinuity was not found use the middle fragment of both.
var middleFrag=Math.round(refFragments.length/2)-1;
var refFrag=refFragments[middleFrag];
var frag=_findFirstFragWithCC(fragments,refFrag.cc)||fragments[Math.round(fragments.length/2)-1];
var refPDT=refFrag.programDateTime;
var targetPDT=frag.programDateTime;
if(refPDT===null||targetPDT===null){
return;
}
var delta=(targetPDT-refPDT)/1000-(frag.start-refFrag.start);
_adjustSlidingStart(delta,details);
}

/***/},

/***/"./src/utils/ewma-bandwidth-estimator.ts":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.ts ***!
  \***********************************************/
/***/function srcUtilsEwmaBandwidthEstimatorTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _utils_ewma__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/ewma */"./src/utils/ewma.ts");
/*
 * EWMA Bandwidth Estimator
 *  - heavily inspired from shaka-player
 * Tracks bandwidth samples and estimates available bandwidth.
 * Based on the minimum of two exponentially-weighted moving averages with
 * different half-lives.
 */


var EwmaBandWidthEstimator=/*#__PURE__*/function(){
function EwmaBandWidthEstimator(slow,fast,defaultEstimate){
this.defaultEstimate_=void 0;
this.minWeight_=void 0;
this.minDelayMs_=void 0;
this.slow_=void 0;
this.fast_=void 0;
this.defaultEstimate_=defaultEstimate;
this.minWeight_=0.001;
this.minDelayMs_=50;
this.slow_=new _utils_ewma__WEBPACK_IMPORTED_MODULE_0__["default"](slow);
this.fast_=new _utils_ewma__WEBPACK_IMPORTED_MODULE_0__["default"](fast);
}
var _proto=EwmaBandWidthEstimator.prototype;
_proto.update=function update(slow,fast){
var slow_=this.slow_,
fast_=this.fast_;
if(this.slow_.halfLife!==slow){
this.slow_=new _utils_ewma__WEBPACK_IMPORTED_MODULE_0__["default"](slow,slow_.getEstimate(),slow_.getTotalWeight());
}
if(this.fast_.halfLife!==fast){
this.fast_=new _utils_ewma__WEBPACK_IMPORTED_MODULE_0__["default"](fast,fast_.getEstimate(),fast_.getTotalWeight());
}
};
_proto.sample=function sample(durationMs,numBytes){
durationMs=Math.max(durationMs,this.minDelayMs_);
var numBits=8*numBytes;
// weight is duration in seconds
var durationS=durationMs/1000;
// value is bandwidth in bits/s
var bandwidthInBps=numBits/durationS;
this.fast_.sample(durationS,bandwidthInBps);
this.slow_.sample(durationS,bandwidthInBps);
};
_proto.canEstimate=function canEstimate(){
var fast=this.fast_;
return fast&&fast.getTotalWeight()>=this.minWeight_;
};
_proto.getEstimate=function getEstimate(){
if(this.canEstimate()){
// console.log('slow estimate:'+ Math.round(this.slow_.getEstimate()));
// console.log('fast estimate:'+ Math.round(this.fast_.getEstimate()));
// Take the minimum of these two estimates.  This should have the effect of
// adapting down quickly, but up more slowly.
return Math.min(this.fast_.getEstimate(),this.slow_.getEstimate());
}else{
return this.defaultEstimate_;
}
};
_proto.destroy=function destroy(){};
return EwmaBandWidthEstimator;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=EwmaBandWidthEstimator;

/***/},

/***/"./src/utils/ewma.ts":
/*!***************************!*\
  !*** ./src/utils/ewma.ts ***!
  \***************************/
/***/function srcUtilsEwmaTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/*
 * compute an Exponential Weighted moving average
 * - https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average
 *  - heavily inspired from shaka-player
 */
var EWMA=/*#__PURE__*/function(){
//  About half of the estimated value will be from the last |halfLife| samples by weight.
function EWMA(halfLife,estimate,weight){
if(estimate===void 0){
estimate=0;
}
if(weight===void 0){
weight=0;
}
this.halfLife=void 0;
this.alpha_=void 0;
this.estimate_=void 0;
this.totalWeight_=void 0;
this.halfLife=halfLife;
// Larger values of alpha expire historical data more slowly.
this.alpha_=halfLife?Math.exp(Math.log(0.5)/halfLife):0;
this.estimate_=estimate;
this.totalWeight_=weight;
}
var _proto=EWMA.prototype;
_proto.sample=function sample(weight,value){
var adjAlpha=Math.pow(this.alpha_,weight);
this.estimate_=value*(1-adjAlpha)+adjAlpha*this.estimate_;
this.totalWeight_+=weight;
};
_proto.getTotalWeight=function getTotalWeight(){
return this.totalWeight_;
};
_proto.getEstimate=function getEstimate(){
if(this.alpha_){
var zeroFactor=1-Math.pow(this.alpha_,this.totalWeight_);
if(zeroFactor){
return this.estimate_/zeroFactor;
}
}
return this.estimate_;
};
return EWMA;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=EWMA;

/***/},

/***/"./src/utils/fetch-loader.ts":
/*!***********************************!*\
  !*** ./src/utils/fetch-loader.ts ***!
  \***********************************/
/***/function srcUtilsFetchLoaderTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;},
/* harmony export */"fetchSupported":function fetchSupported(){return(/* binding */_fetchSupported);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _loader_load_stats__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../loader/load-stats */"./src/loader/load-stats.ts");
/* harmony import */var _demux_chunk_cache__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts");


function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass);}
function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}
function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct.bind();}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}


function _fetchSupported(){
if(
// @ts-ignore
self.fetch&&self.AbortController&&self.ReadableStream&&self.Request){
try{
new self.ReadableStream({});// eslint-disable-line no-new
return true;
}catch(e){
/* noop */
}
}
return false;
}
var FetchLoader=/*#__PURE__*/function(){
function FetchLoader(config/* HlsConfig */){
this.fetchSetup=void 0;
this.requestTimeout=void 0;
this.request=void 0;
this.response=void 0;
this.controller=void 0;
this.context=void 0;
this.config=null;
this.callbacks=null;
this.stats=void 0;
this.loader=null;
this.fetchSetup=config.fetchSetup||getRequest;
this.controller=new self.AbortController();
this.stats=new _loader_load_stats__WEBPACK_IMPORTED_MODULE_1__.LoadStats();
}
var _proto=FetchLoader.prototype;
_proto.destroy=function destroy(){
this.loader=this.callbacks=null;
this.abortInternal();
};
_proto.abortInternal=function abortInternal(){
var response=this.response;
if(!response||!response.ok){
this.stats.aborted=true;
this.controller.abort();
}
};
_proto.abort=function abort(){
var _this$callbacks;
this.abortInternal();
if((_this$callbacks=this.callbacks)!==null&&_this$callbacks!==void 0&&_this$callbacks.onAbort){
this.callbacks.onAbort(this.stats,this.context,this.response);
}
};
_proto.load=function load(context,config,callbacks){
var _this=this;
var stats=this.stats;
if(stats.loading.start){
throw new Error('Loader can only be used once.');
}
stats.loading.start=self.performance.now();
var initParams=getRequestParameters(context,this.controller.signal);
var onProgress=callbacks.onProgress;
var isArrayBuffer=context.responseType==='arraybuffer';
var LENGTH=isArrayBuffer?'byteLength':'length';
this.context=context;
this.config=config;
this.callbacks=callbacks;
this.request=this.fetchSetup(context,initParams);
self.clearTimeout(this.requestTimeout);
this.requestTimeout=self.setTimeout(function(){
_this.abortInternal();
callbacks.onTimeout(stats,context,_this.response);
},config.timeout);
self.fetch(this.request).then(function(response){
_this.response=_this.loader=response;
if(!response.ok){
var status=response.status,
statusText=response.statusText;
throw new FetchError(statusText||'fetch, bad network response',status,response);
}
stats.loading.first=Math.max(self.performance.now(),stats.loading.start);
stats.total=parseInt(response.headers.get('Content-Length')||'0');
if(onProgress&&(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(config.highWaterMark)){
return _this.loadProgressively(response,stats,context,config.highWaterMark,onProgress);
}
if(isArrayBuffer){
return response.arrayBuffer();
}
return response.text();
}).then(function(responseData){
var response=_this.response;
self.clearTimeout(_this.requestTimeout);
stats.loading.end=Math.max(self.performance.now(),stats.loading.first);
var total=responseData[LENGTH];
if(total){
stats.loaded=stats.total=total;
}
var loaderResponse={
url:response.url,
data:responseData};

if(onProgress&&!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(config.highWaterMark)){
onProgress(stats,context,responseData,response);
}
callbacks.onSuccess(loaderResponse,stats,context,response);
}).catch(function(error){
self.clearTimeout(_this.requestTimeout);
if(stats.aborted){
return;
}
// CORS errors result in an undefined code. Set it to 0 here to align with XHR's behavior
// when destroying, 'error' itself can be undefined
var code=!error?0:error.code||0;
var text=!error?null:error.message;
callbacks.onError({
code:code,
text:text},
context,error?error.details:null);
});
};
_proto.getCacheAge=function getCacheAge(){
var result=null;
if(this.response){
var ageHeader=this.response.headers.get('age');
result=ageHeader?parseFloat(ageHeader):null;
}
return result;
};
_proto.loadProgressively=function loadProgressively(response,stats,context,highWaterMark,onProgress){
if(highWaterMark===void 0){
highWaterMark=0;
}
var chunkCache=new _demux_chunk_cache__WEBPACK_IMPORTED_MODULE_2__["default"]();
var reader=response.body.getReader();
var pump=function pump(){
return reader.read().then(function(data){
if(data.done){
if(chunkCache.dataLength){
onProgress(stats,context,chunkCache.flush(),response);
}
return Promise.resolve(new ArrayBuffer(0));
}
var chunk=data.value;
var len=chunk.length;
stats.loaded+=len;
if(len<highWaterMark||chunkCache.dataLength){
// The current chunk is too small to to be emitted or the cache already has data
// Push it to the cache
chunkCache.push(chunk);
if(chunkCache.dataLength>=highWaterMark){
// flush in order to join the typed arrays
onProgress(stats,context,chunkCache.flush(),response);
}
}else{
// If there's nothing cached already, and the chache is large enough
// just emit the progress event
onProgress(stats,context,chunk,response);
}
return pump();
}).catch(function(){
/* aborted */
return Promise.reject();
});
};
return pump();
};
return FetchLoader;
}();
function getRequestParameters(context,signal){
var initParams={
method:'GET',
mode:'cors',
credentials:'same-origin',
signal:signal,
headers:new self.Headers(_extends({},context.headers))};

if(context.rangeEnd){
initParams.headers.set('Range','bytes='+context.rangeStart+'-'+String(context.rangeEnd-1));
}
return initParams;
}
function getRequest(context,initParams){
return new self.Request(context.url,initParams);
}
var FetchError=/*#__PURE__*/function(_Error){
_inheritsLoose(FetchError,_Error);
function FetchError(message,code,details){
var _this2;
_this2=_Error.call(this,message)||this;
_this2.code=void 0;
_this2.details=void 0;
_this2.code=code;
_this2.details=details;
return _this2;
}
return FetchError;
}(/*#__PURE__*/_wrapNativeSuper(Error));
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=FetchLoader;

/***/},

/***/"./src/utils/hex.ts":
/*!**************************!*\
  !*** ./src/utils/hex.ts ***!
  \**************************/
/***/function srcUtilsHexTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/**
 *  hex dump helper class
 */

var Hex={
hexDump:function hexDump(array){
var str='';
for(var i=0;i<array.length;i++){
var h=array[i].toString(16);
if(h.length<2){
h='0'+h;
}
str+=h;
}
return str;
}};

/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=Hex;

/***/},

/***/"./src/utils/imsc1-ttml-parser.ts":
/*!****************************************!*\
  !*** ./src/utils/imsc1-ttml-parser.ts ***!
  \****************************************/
/***/function srcUtilsImsc1TtmlParserTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"IMSC1_CODEC":function IMSC1_CODEC(){return(/* binding */_IMSC1_CODEC);},
/* harmony export */"parseIMSC1":function parseIMSC1(){return(/* binding */_parseIMSC);}
/* harmony export */});
/* harmony import */var _mp4_tools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./mp4-tools */"./src/utils/mp4-tools.ts");
/* harmony import */var _vttparser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./vttparser */"./src/utils/vttparser.ts");
/* harmony import */var _vttcue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./vttcue */"./src/utils/vttcue.ts");
/* harmony import */var _demux_id3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../demux/id3 */"./src/demux/id3.ts");
/* harmony import */var _timescale_conversion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts");
/* harmony import */var _webvtt_parser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts");
function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}






var _IMSC1_CODEC='stpp.ttml.im1t';

// Time format: h:m:s:frames(.subframes)
var HMSF_REGEX=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/;

// Time format: hours, minutes, seconds, milliseconds, frames, ticks
var TIME_UNIT_REGEX=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/;
var textAlignToLineAlign={
left:'start',
center:'center',
right:'end',
start:'start',
end:'end'};

function _parseIMSC(payload,initPTS,timescale,callBack,errorCallBack){
var results=(0,_mp4_tools__WEBPACK_IMPORTED_MODULE_0__.findBox)(new Uint8Array(payload),['mdat']);
if(results.length===0){
errorCallBack(new Error('Could not parse IMSC1 mdat'));
return;
}
var ttmlList=results.map(function(mdat){
return(0,_demux_id3__WEBPACK_IMPORTED_MODULE_3__.utf8ArrayToStr)(mdat);
});
var syncTime=(0,_timescale_conversion__WEBPACK_IMPORTED_MODULE_4__.toTimescaleFromScale)(initPTS,1,timescale);
try{
ttmlList.forEach(function(ttml){
return callBack(parseTTML(ttml,syncTime));
});
}catch(error){
errorCallBack(error);
}
}
function parseTTML(ttml,syncTime){
var parser=new DOMParser();
var xmlDoc=parser.parseFromString(ttml,'text/xml');
var tt=xmlDoc.getElementsByTagName('tt')[0];
if(!tt){
throw new Error('Invalid ttml');
}
var defaultRateInfo={
frameRate:30,
subFrameRate:1,
frameRateMultiplier:0,
tickRate:0};

var rateInfo=Object.keys(defaultRateInfo).reduce(function(result,key){
result[key]=tt.getAttribute("ttp:"+key)||defaultRateInfo[key];
return result;
},{});
var trim=tt.getAttribute('xml:space')!=='preserve';
var styleElements=collectionToDictionary(getElementCollection(tt,'styling','style'));
var regionElements=collectionToDictionary(getElementCollection(tt,'layout','region'));
var cueElements=getElementCollection(tt,'body','[begin]');
return[].map.call(cueElements,function(cueElement){
var cueText=getTextContent(cueElement,trim);
if(!cueText||!cueElement.hasAttribute('begin')){
return null;
}
var startTime=parseTtmlTime(cueElement.getAttribute('begin'),rateInfo);
var duration=parseTtmlTime(cueElement.getAttribute('dur'),rateInfo);
var endTime=parseTtmlTime(cueElement.getAttribute('end'),rateInfo);
if(startTime===null){
throw timestampParsingError(cueElement);
}
if(endTime===null){
if(duration===null){
throw timestampParsingError(cueElement);
}
endTime=startTime+duration;
}
var cue=new _vttcue__WEBPACK_IMPORTED_MODULE_2__["default"](startTime-syncTime,endTime-syncTime,cueText);
cue.id=(0,_webvtt_parser__WEBPACK_IMPORTED_MODULE_5__.generateCueId)(cue.startTime,cue.endTime,cue.text);
var region=regionElements[cueElement.getAttribute('region')];
var style=styleElements[cueElement.getAttribute('style')];

// Apply styles to cue
var styles=getTtmlStyles(region,style,styleElements);
var textAlign=styles.textAlign;
if(textAlign){
// cue.positionAlign not settable in FF~2016
var lineAlign=textAlignToLineAlign[textAlign];
if(lineAlign){
cue.lineAlign=lineAlign;
}
cue.align=textAlign;
}
_extends(cue,styles);
return cue;
}).filter(function(cue){
return cue!==null;
});
}
function getElementCollection(fromElement,parentName,childName){
var parent=fromElement.getElementsByTagName(parentName)[0];
if(parent){
return[].slice.call(parent.querySelectorAll(childName));
}
return[];
}
function collectionToDictionary(elementsWithId){
return elementsWithId.reduce(function(dict,element){
var id=element.getAttribute('xml:id');
if(id){
dict[id]=element;
}
return dict;
},{});
}
function getTextContent(element,trim){
return[].slice.call(element.childNodes).reduce(function(str,node,i){
var _node$childNodes;
if(node.nodeName==='br'&&i){
return str+'\n';
}
if((_node$childNodes=node.childNodes)!==null&&_node$childNodes!==void 0&&_node$childNodes.length){
return getTextContent(node,trim);
}else if(trim){
return str+node.textContent.trim().replace(/\s+/g,' ');
}
return str+node.textContent;
},'');
}
function getTtmlStyles(region,style,styleElements){
var ttsNs='http://www.w3.org/ns/ttml#styling';
var regionStyle=null;
var styleAttributes=['displayAlign','textAlign','color','backgroundColor','fontSize','fontFamily'
// 'fontWeight',
// 'lineHeight',
// 'wrapOption',
// 'fontStyle',
// 'direction',
// 'writingMode'
];

var regionStyleName=region!==null&&region!==void 0&&region.hasAttribute('style')?region.getAttribute('style'):null;
if(regionStyleName&&styleElements.hasOwnProperty(regionStyleName)){
regionStyle=styleElements[regionStyleName];
}
return styleAttributes.reduce(function(styles,name){
var value=getAttributeNS(style,ttsNs,name)||getAttributeNS(region,ttsNs,name)||getAttributeNS(regionStyle,ttsNs,name);
if(value){
styles[name]=value;
}
return styles;
},{});
}
function getAttributeNS(element,ns,name){
if(!element){
return null;
}
return element.hasAttributeNS(ns,name)?element.getAttributeNS(ns,name):null;
}
function timestampParsingError(node){
return new Error("Could not parse ttml timestamp "+node);
}
function parseTtmlTime(timeAttributeValue,rateInfo){
if(!timeAttributeValue){
return null;
}
var seconds=(0,_vttparser__WEBPACK_IMPORTED_MODULE_1__.parseTimeStamp)(timeAttributeValue);
if(seconds===null){
if(HMSF_REGEX.test(timeAttributeValue)){
seconds=parseHoursMinutesSecondsFrames(timeAttributeValue,rateInfo);
}else if(TIME_UNIT_REGEX.test(timeAttributeValue)){
seconds=parseTimeUnits(timeAttributeValue,rateInfo);
}
}
return seconds;
}
function parseHoursMinutesSecondsFrames(timeAttributeValue,rateInfo){
var m=HMSF_REGEX.exec(timeAttributeValue);
var frames=(m[4]|0)+(m[5]|0)/rateInfo.subFrameRate;
return(m[1]|0)*3600+(m[2]|0)*60+(m[3]|0)+frames/rateInfo.frameRate;
}
function parseTimeUnits(timeAttributeValue,rateInfo){
var m=TIME_UNIT_REGEX.exec(timeAttributeValue);
var value=Number(m[1]);
var unit=m[2];
switch(unit){
case'h':
return value*3600;
case'm':
return value*60;
case'ms':
return value*1000;
case'f':
return value/rateInfo.frameRate;
case't':
return value/rateInfo.tickRate;}

return value;
}

/***/},

/***/"./src/utils/keysystem-util.ts":
/*!*************************************!*\
  !*** ./src/utils/keysystem-util.ts ***!
  \*************************************/
/***/function srcUtilsKeysystemUtilTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"changeEndianness":function changeEndianness(){return(/* binding */_changeEndianness);},
/* harmony export */"convertDataUriToArrayBytes":function convertDataUriToArrayBytes(){return(/* binding */_convertDataUriToArrayBytes);},
/* harmony export */"strToUtf8array":function strToUtf8array(){return(/* binding */_strToUtf8array);}
/* harmony export */});
/* harmony import */var _numeric_encoding_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./numeric-encoding-utils */"./src/utils/numeric-encoding-utils.ts");

function getKeyIdBytes(str){
var keyIdbytes=_strToUtf8array(str).subarray(0,16);
var paddedkeyIdbytes=new Uint8Array(16);
paddedkeyIdbytes.set(keyIdbytes,16-keyIdbytes.length);
return paddedkeyIdbytes;
}
function _changeEndianness(keyId){
var swap=function swap(array,from,to){
var cur=array[from];
array[from]=array[to];
array[to]=cur;
};
swap(keyId,0,3);
swap(keyId,1,2);
swap(keyId,4,5);
swap(keyId,6,7);
}
function _convertDataUriToArrayBytes(uri){
// data:[<media type][;attribute=value][;base64],<data>
var colonsplit=uri.split(':');
var keydata=null;
if(colonsplit[0]==='data'&&colonsplit.length===2){
var semicolonsplit=colonsplit[1].split(';');
var commasplit=semicolonsplit[semicolonsplit.length-1].split(',');
if(commasplit.length===2){
var isbase64=commasplit[0]==='base64';
var data=commasplit[1];
if(isbase64){
semicolonsplit.splice(-1,1);// remove from processing
keydata=(0,_numeric_encoding_utils__WEBPACK_IMPORTED_MODULE_0__.base64Decode)(data);
}else{
keydata=getKeyIdBytes(data);
}
}
}
return keydata;
}
function _strToUtf8array(str){
return Uint8Array.from(unescape(encodeURIComponent(str)),function(c){
return c.charCodeAt(0);
});
}

/***/},

/***/"./src/utils/logger.ts":
/*!*****************************!*\
  !*** ./src/utils/logger.ts ***!
  \*****************************/
/***/function srcUtilsLoggerTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"enableLogs":function enableLogs(){return(/* binding */_enableLogs);},
/* harmony export */"logger":function logger(){return(/* binding */_logger);}
/* harmony export */});
var noop=function noop(){};
var fakeLogger={
trace:noop,
debug:noop,
log:noop,
warn:noop,
info:noop,
error:noop};

var exportedLogger=fakeLogger;

// let lastCallTime;
// function formatMsgWithTimeInfo(type, msg) {
//   const now = Date.now();
//   const diff = lastCallTime ? '+' + (now - lastCallTime) : '0';
//   lastCallTime = now;
//   msg = (new Date(now)).toISOString() + ' | [' +  type + '] > ' + msg + ' ( ' + diff + ' ms )';
//   return msg;
// }

function consolePrintFn(type){
var func=self.console[type];
if(func){
return func.bind(self.console,"["+type+"] >");
}
return noop;
}
function exportLoggerFunctions(debugConfig){
for(var _len=arguments.length,functions=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){
functions[_key-1]=arguments[_key];
}
functions.forEach(function(type){
exportedLogger[type]=debugConfig[type]?debugConfig[type].bind(debugConfig):consolePrintFn(type);
});
}
function _enableLogs(debugConfig,id){
// check that console is available
if(self.console&&debugConfig===true||typeof debugConfig==='object'){
exportLoggerFunctions(debugConfig,
// Remove out from list here to hard-disable a log-level
// 'trace',
'debug','log','info','warn','error');
// Some browsers don't allow to use bind on console object anyway
// fallback to default if needed
try{
exportedLogger.log("Debug logs enabled for \""+id+"\"");
}catch(e){
exportedLogger=fakeLogger;
}
}else{
exportedLogger=fakeLogger;
}
}
var _logger=exportedLogger;

/***/},

/***/"./src/utils/mediakeys-helper.ts":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.ts ***!
  \***************************************/
/***/function srcUtilsMediakeysHelperTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"KeySystemFormats":function KeySystemFormats(){return(/* binding */_KeySystemFormats);},
/* harmony export */"KeySystemIds":function KeySystemIds(){return(/* binding */_KeySystemIds);},
/* harmony export */"KeySystems":function KeySystems(){return(/* binding */_KeySystems);},
/* harmony export */"getKeySystemsForConfig":function getKeySystemsForConfig(){return(/* binding */_getKeySystemsForConfig);},
/* harmony export */"getSupportedMediaKeySystemConfigurations":function getSupportedMediaKeySystemConfigurations(){return(/* binding */_getSupportedMediaKeySystemConfigurations);},
/* harmony export */"keySystemDomainToKeySystemFormat":function keySystemDomainToKeySystemFormat(){return(/* binding */_keySystemDomainToKeySystemFormat);},
/* harmony export */"keySystemFormatToKeySystemDomain":function keySystemFormatToKeySystemDomain(){return(/* binding */_keySystemFormatToKeySystemDomain);},
/* harmony export */"keySystemIdToKeySystemDomain":function keySystemIdToKeySystemDomain(){return(/* binding */_keySystemIdToKeySystemDomain);},
/* harmony export */"requestMediaKeySystemAccess":function requestMediaKeySystemAccess(){return(/* binding */_requestMediaKeySystemAccess);}
/* harmony export */});
/**
 * @see https://developer.mozilla.org/en-US/docs/Web/API/Navigator/requestMediaKeySystemAccess
 */
var _KeySystems;

// Playlist #EXT-X-KEY KEYFORMAT values
(function(KeySystems){
KeySystems["CLEARKEY"]="org.w3.clearkey";
KeySystems["FAIRPLAY"]="com.apple.fps";
KeySystems["PLAYREADY"]="com.microsoft.playready";
KeySystems["WIDEVINE"]="com.widevine.alpha";
})(_KeySystems||(_KeySystems={}));
var _KeySystemFormats;
(function(KeySystemFormats){
KeySystemFormats["CLEARKEY"]="org.w3.clearkey";
KeySystemFormats["FAIRPLAY"]="com.apple.streamingkeydelivery";
KeySystemFormats["PLAYREADY"]="com.microsoft.playready";
KeySystemFormats["WIDEVINE"]="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";
})(_KeySystemFormats||(_KeySystemFormats={}));
function _keySystemFormatToKeySystemDomain(format){
switch(format){
case _KeySystemFormats.FAIRPLAY:
return _KeySystems.FAIRPLAY;
case _KeySystemFormats.PLAYREADY:
return _KeySystems.PLAYREADY;
case _KeySystemFormats.WIDEVINE:
return _KeySystems.WIDEVINE;
case _KeySystemFormats.CLEARKEY:
return _KeySystems.CLEARKEY;}

}

// System IDs for which we can extract a key ID from "encrypted" event PSSH
var _KeySystemIds;
(function(KeySystemIds){
KeySystemIds["WIDEVINE"]="edef8ba979d64acea3c827dcd51d21ed";
})(_KeySystemIds||(_KeySystemIds={}));
function _keySystemIdToKeySystemDomain(systemId){
if(systemId===_KeySystemIds.WIDEVINE){
return _KeySystems.WIDEVINE;
// } else if (systemId === KeySystemIds.PLAYREADY) {
//   return KeySystems.PLAYREADY;
// } else if (systemId === KeySystemIds.CENC || systemId === KeySystemIds.CLEARKEY) {
//   return KeySystems.CLEARKEY;
}
}

function _keySystemDomainToKeySystemFormat(keySystem){
switch(keySystem){
case _KeySystems.FAIRPLAY:
return _KeySystemFormats.FAIRPLAY;
case _KeySystems.PLAYREADY:
return _KeySystemFormats.PLAYREADY;
case _KeySystems.WIDEVINE:
return _KeySystemFormats.WIDEVINE;
case _KeySystems.CLEARKEY:
return _KeySystemFormats.CLEARKEY;}

}
function _getKeySystemsForConfig(config){
var drmSystems=config.drmSystems,
widevineLicenseUrl=config.widevineLicenseUrl;
var keySystemsToAttempt=drmSystems?[_KeySystems.FAIRPLAY,_KeySystems.WIDEVINE,_KeySystems.PLAYREADY,_KeySystems.CLEARKEY].filter(function(keySystem){
return!!drmSystems[keySystem];
}):[];
if(!keySystemsToAttempt[_KeySystems.WIDEVINE]&&widevineLicenseUrl){
keySystemsToAttempt.push(_KeySystems.WIDEVINE);
}
return keySystemsToAttempt;
}
var _requestMediaKeySystemAccess=function(){
if(typeof self!=='undefined'&&self.navigator&&self.navigator.requestMediaKeySystemAccess){
return self.navigator.requestMediaKeySystemAccess.bind(self.navigator);
}else{
return null;
}
}();

/**
 * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaKeySystemConfiguration
 */
function _getSupportedMediaKeySystemConfigurations(keySystem,audioCodecs,videoCodecs,drmSystemOptions){
var initDataTypes;
switch(keySystem){
case _KeySystems.FAIRPLAY:
initDataTypes=['cenc','sinf'];
break;
case _KeySystems.WIDEVINE:
case _KeySystems.PLAYREADY:
initDataTypes=['cenc'];
break;
case _KeySystems.CLEARKEY:
initDataTypes=['cenc','keyids'];
break;
default:
throw new Error("Unknown key-system: "+keySystem);}

return createMediaKeySystemConfigurations(initDataTypes,audioCodecs,videoCodecs,drmSystemOptions);
}
function createMediaKeySystemConfigurations(initDataTypes,audioCodecs,videoCodecs,drmSystemOptions){
var baseConfig={
initDataTypes:initDataTypes,
persistentState:drmSystemOptions.persistentState||'not-allowed',
distinctiveIdentifier:drmSystemOptions.distinctiveIdentifier||'not-allowed',
sessionTypes:drmSystemOptions.sessionTypes||[drmSystemOptions.sessionType||'temporary'],
audioCapabilities:audioCodecs.map(function(codec){
return{
contentType:"audio/mp4; codecs=\""+codec+"\"",
robustness:drmSystemOptions.audioRobustness||'',
encryptionScheme:drmSystemOptions.audioEncryptionScheme||null};

}),
videoCapabilities:videoCodecs.map(function(codec){
return{
contentType:"video/mp4; codecs=\""+codec+"\"",
robustness:drmSystemOptions.videoRobustness||'',
encryptionScheme:drmSystemOptions.videoEncryptionScheme||null};

})};

return[baseConfig];
}

/***/},

/***/"./src/utils/mediasource-helper.ts":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.ts ***!
  \*****************************************/
/***/function srcUtilsMediasourceHelperTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"getMediaSource":function getMediaSource(){return(/* binding */_getMediaSource);}
/* harmony export */});
/**
 * MediaSource helper
 */

function _getMediaSource(){
return self.MediaSource||self.WebKitMediaSource;
}

/***/},

/***/"./src/utils/mp4-tools.ts":
/*!********************************!*\
  !*** ./src/utils/mp4-tools.ts ***!
  \********************************/
/***/function srcUtilsMp4ToolsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"RemuxerTrackIdConfig":function RemuxerTrackIdConfig(){return(/* binding */_RemuxerTrackIdConfig);},
/* harmony export */"appendUint8Array":function appendUint8Array(){return(/* binding */_appendUint8Array);},
/* harmony export */"bin2str":function bin2str(){return(/* binding */_bin2str);},
/* harmony export */"computeRawDurationFromSamples":function computeRawDurationFromSamples(){return(/* binding */_computeRawDurationFromSamples);},
/* harmony export */"discardEPB":function discardEPB(){return(/* binding */_discardEPB);},
/* harmony export */"findBox":function findBox(){return(/* binding */_findBox);},
/* harmony export */"getDuration":function getDuration(){return(/* binding */_getDuration);},
/* harmony export */"getStartDTS":function getStartDTS(){return(/* binding */_getStartDTS);},
/* harmony export */"mp4Box":function mp4Box(){return(/* binding */_mp4Box);},
/* harmony export */"mp4pssh":function mp4pssh(){return(/* binding */_mp4pssh);},
/* harmony export */"offsetStartDTS":function offsetStartDTS(){return(/* binding */_offsetStartDTS);},
/* harmony export */"parseEmsg":function parseEmsg(){return(/* binding */_parseEmsg);},
/* harmony export */"parseInitSegment":function parseInitSegment(){return(/* binding */_parseInitSegment);},
/* harmony export */"parsePssh":function parsePssh(){return(/* binding */_parsePssh);},
/* harmony export */"parseSEIMessageFromNALu":function parseSEIMessageFromNALu(){return(/* binding */_parseSEIMessageFromNALu);},
/* harmony export */"parseSamples":function parseSamples(){return(/* binding */_parseSamples);},
/* harmony export */"parseSegmentIndex":function parseSegmentIndex(){return(/* binding */_parseSegmentIndex);},
/* harmony export */"parseSinf":function parseSinf(){return(/* binding */_parseSinf);},
/* harmony export */"patchEncyptionData":function patchEncyptionData(){return(/* binding */_patchEncyptionData);},
/* harmony export */"readSint32":function readSint32(){return(/* binding */_readSint);},
/* harmony export */"readUint16":function readUint16(){return(/* binding */_readUint);},
/* harmony export */"readUint32":function readUint32(){return(/* binding */_readUint2);},
/* harmony export */"segmentValidRange":function segmentValidRange(){return(/* binding */_segmentValidRange);},
/* harmony export */"writeUint32":function writeUint32(){return(/* binding */_writeUint);}
/* harmony export */});
/* harmony import */var _loader_fragment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../loader/fragment */"./src/loader/fragment.ts");
/* harmony import */var _typed_array__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./typed-array */"./src/utils/typed-array.ts");
/* harmony import */var _demux_id3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../demux/id3 */"./src/demux/id3.ts");
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _hex__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./hex */"./src/utils/hex.ts");





var UINT32_MAX=Math.pow(2,32)-1;
var push=[].push;

// We are using fixed track IDs for driving the MP4 remuxer
// instead of following the TS PIDs.
// There is no reason not to do this and some browsers/SourceBuffer-demuxers
// may not like if there are TrackID "switches"
// See https://github.com/video-dev/hls.js/issues/1331
// Here we are mapping our internal track types to constant MP4 track IDs
// With MSE currently one can only have one track of each, and we are muxing
// whatever video/audio rendition in them.
var _RemuxerTrackIdConfig={
video:1,
audio:2,
id3:3,
text:4};

function _bin2str(data){
return String.fromCharCode.apply(null,data);
}
function _readUint(buffer,offset){
var val=buffer[offset]<<8|buffer[offset+1];
return val<0?65536+val:val;
}
function _readUint2(buffer,offset){
var val=_readSint(buffer,offset);
return val<0?4294967296+val:val;
}
function _readSint(buffer,offset){
return buffer[offset]<<24|buffer[offset+1]<<16|buffer[offset+2]<<8|buffer[offset+3];
}
function _writeUint(buffer,offset,value){
buffer[offset]=value>>24;
buffer[offset+1]=value>>16&0xff;
buffer[offset+2]=value>>8&0xff;
buffer[offset+3]=value&0xff;
}

// Find the data for a box specified by its path
function _findBox(data,path){
var results=[];
if(!path.length){
// short-circuit the search for empty paths
return results;
}
var end=data.byteLength;
for(var i=0;i<end;){
var size=_readUint2(data,i);
var type=_bin2str(data.subarray(i+4,i+8));
var endbox=size>1?i+size:end;
if(type===path[0]){
if(path.length===1){
// this is the end of the path and we've found the box we were
// looking for
results.push(data.subarray(i+8,endbox));
}else{
// recursively search for the next box along the path
var subresults=_findBox(data.subarray(i+8,endbox),path.slice(1));
if(subresults.length){
push.apply(results,subresults);
}
}
}
i=endbox;
}

// we've finished searching all of data
return results;
}
function _parseSegmentIndex(sidx){
var references=[];
var version=sidx[0];

// set initial offset, we skip the reference ID (not needed)
var index=8;
var timescale=_readUint2(sidx,index);
index+=4;

// TODO: parse earliestPresentationTime and firstOffset
// usually zero in our case
var earliestPresentationTime=0;
var firstOffset=0;
if(version===0){
index+=8;
}else{
index+=16;
}

// skip reserved
index+=2;
var startByte=sidx.length+firstOffset;
var referencesCount=_readUint(sidx,index);
index+=2;
for(var i=0;i<referencesCount;i++){
var referenceIndex=index;
var referenceInfo=_readUint2(sidx,referenceIndex);
referenceIndex+=4;
var referenceSize=referenceInfo&0x7fffffff;
var referenceType=(referenceInfo&0x80000000)>>>31;
if(referenceType===1){
// eslint-disable-next-line no-console
console.warn('SIDX has hierarchical references (not supported)');
return null;
}
var subsegmentDuration=_readUint2(sidx,referenceIndex);
referenceIndex+=4;
references.push({
referenceSize:referenceSize,
subsegmentDuration:subsegmentDuration,
// unscaled
info:{
duration:subsegmentDuration/timescale,
start:startByte,
end:startByte+referenceSize-1}});


startByte+=referenceSize;

// Skipping 1 bit for |startsWithSap|, 3 bits for |sapType|, and 28 bits
// for |sapDelta|.
referenceIndex+=4;

// skip to next ref
index=referenceIndex;
}
return{
earliestPresentationTime:earliestPresentationTime,
timescale:timescale,
version:version,
referencesCount:referencesCount,
references:references};

}

/**
 * Parses an MP4 initialization segment and extracts stream type and
 * timescale values for any declared tracks. Timescale values indicate the
 * number of clock ticks per second to assume for time-based values
 * elsewhere in the MP4.
 *
 * To determine the start time of an MP4, you need two pieces of
 * information: the timescale unit and the earliest base media decode
 * time. Multiple timescales can be specified within an MP4 but the
 * base media decode time is always expressed in the timescale from
 * the media header box for the track:
 * ```
 * moov > trak > mdia > mdhd.timescale
 * moov > trak > mdia > hdlr
 * ```
 * @param initSegment {Uint8Array} the bytes of the init segment
 * @return {InitData} a hash of track type to timescale values or null if
 * the init segment is malformed.
 */

function _parseInitSegment(initSegment){
var result=[];
var traks=_findBox(initSegment,['moov','trak']);
for(var i=0;i<traks.length;i++){
var trak=traks[i];
var tkhd=_findBox(trak,['tkhd'])[0];
if(tkhd){
var version=tkhd[0];
var _index=version===0?12:20;
var trackId=_readUint2(tkhd,_index);
var mdhd=_findBox(trak,['mdia','mdhd'])[0];
if(mdhd){
version=mdhd[0];
_index=version===0?12:20;
var timescale=_readUint2(mdhd,_index);
var hdlr=_findBox(trak,['mdia','hdlr'])[0];
if(hdlr){
var hdlrType=_bin2str(hdlr.subarray(8,12));
var type={
soun:_loader_fragment__WEBPACK_IMPORTED_MODULE_0__.ElementaryStreamTypes.AUDIO,
vide:_loader_fragment__WEBPACK_IMPORTED_MODULE_0__.ElementaryStreamTypes.VIDEO}[
hdlrType];
if(type){
// Parse codec details
var stsd=_findBox(trak,['mdia','minf','stbl','stsd'])[0];
var codec=void 0;
if(stsd){
codec=_bin2str(stsd.subarray(12,16));
// TODO: Parse codec details to be able to build MIME type.
// stsd.start += 8;
// const codecBox = findBox(stsd, [codec])[0];
// if (codecBox) {
//   TODO: Codec parsing support for avc1, mp4a, hevc, av01...
// }
}

result[trackId]={
timescale:timescale,
type:type};

result[type]={
timescale:timescale,
id:trackId,
codec:codec};

}
}
}
}
}
var trex=_findBox(initSegment,['moov','mvex','trex']);
trex.forEach(function(trex){
var trackId=_readUint2(trex,4);
var track=result[trackId];
if(track){
track.default={
duration:_readUint2(trex,12),
flags:_readUint2(trex,20)};

}
});
return result;
}
function _patchEncyptionData(initSegment,decryptdata){
if(!initSegment||!decryptdata){
return initSegment;
}
var keyId=decryptdata.keyId;
if(keyId&&decryptdata.isCommonEncryption){
var traks=_findBox(initSegment,['moov','trak']);
traks.forEach(function(trak){
var stsd=_findBox(trak,['mdia','minf','stbl','stsd'])[0];

// skip the sample entry count
var sampleEntries=stsd.subarray(8);
var encBoxes=_findBox(sampleEntries,['enca']);
var isAudio=encBoxes.length>0;
if(!isAudio){
encBoxes=_findBox(sampleEntries,['encv']);
}
encBoxes.forEach(function(enc){
var encBoxChildren=isAudio?enc.subarray(28):enc.subarray(78);
var sinfBoxes=_findBox(encBoxChildren,['sinf']);
sinfBoxes.forEach(function(sinf){
var tenc=_parseSinf(sinf);
if(tenc){
// Look for default key id (keyID offset is always 8 within the tenc box):
var tencKeyId=tenc.subarray(8,24);
if(!tencKeyId.some(function(b){
return b!==0;
})){
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.log("[eme] Patching keyId in 'enc"+(isAudio?'a':'v')+">sinf>>tenc' box: "+_hex__WEBPACK_IMPORTED_MODULE_4__["default"].hexDump(tencKeyId)+" -> "+_hex__WEBPACK_IMPORTED_MODULE_4__["default"].hexDump(keyId));
tenc.set(keyId,8);
}
}
});
});
});
}
return initSegment;
}
function _parseSinf(sinf){
var schm=_findBox(sinf,['schm'])[0];
if(schm){
var scheme=_bin2str(schm.subarray(4,8));
if(scheme==='cbcs'||scheme==='cenc'){
return _findBox(sinf,['schi','tenc'])[0];
}
}
_utils_logger__WEBPACK_IMPORTED_MODULE_3__.logger.error("[eme] missing 'schm' box");
return null;
}

/**
 * Determine the base media decode start time, in seconds, for an MP4
 * fragment. If multiple fragments are specified, the earliest time is
 * returned.
 *
 * The base media decode time can be parsed from track fragment
 * metadata:
 * ```
 * moof > traf > tfdt.baseMediaDecodeTime
 * ```
 * It requires the timescale value from the mdhd to interpret.
 *
 * @param initData {InitData} a hash of track type to timescale values
 * @param fmp4 {Uint8Array} the bytes of the mp4 fragment
 * @return {number} the earliest base media decode start time for the
 * fragment, in seconds
 */
function _getStartDTS(initData,fmp4){
// we need info from two children of each track fragment box
return _findBox(fmp4,['moof','traf']).reduce(function(result,traf){
var tfdt=_findBox(traf,['tfdt'])[0];
var version=tfdt[0];
var start=_findBox(traf,['tfhd']).reduce(function(result,tfhd){
// get the track id from the tfhd
var id=_readUint2(tfhd,4);
var track=initData[id];
if(track){
var baseTime=_readUint2(tfdt,4);
if(version===1){
baseTime*=Math.pow(2,32);
baseTime+=_readUint2(tfdt,8);
}
// assume a 90kHz clock if no timescale was specified
var scale=track.timescale||90e3;
// convert base time to seconds
var startTime=baseTime/scale;
if(isFinite(startTime)&&(result===null||startTime<result)){
return startTime;
}
}
return result;
},null);
if(start!==null&&isFinite(start)&&(result===null||start<result)){
return start;
}
return result;
},null)||0;
}

/*
  For Reference:
  aligned(8) class TrackFragmentHeaderBox
           extends FullBox(‘tfhd’, 0, tf_flags){
     unsigned int(32)  track_ID;
     // all the following are optional fields
     unsigned int(64)  base_data_offset;
     unsigned int(32)  sample_description_index;
     unsigned int(32)  default_sample_duration;
     unsigned int(32)  default_sample_size;
     unsigned int(32)  default_sample_flags
  }
 */
function _getDuration(data,initData){
var rawDuration=0;
var videoDuration=0;
var audioDuration=0;
var trafs=_findBox(data,['moof','traf']);
for(var i=0;i<trafs.length;i++){
var traf=trafs[i];
// There is only one tfhd & trun per traf
// This is true for CMAF style content, and we should perhaps check the ftyp
// and only look for a single trun then, but for ISOBMFF we should check
// for multiple track runs.
var tfhd=_findBox(traf,['tfhd'])[0];
// get the track id from the tfhd
var id=_readUint2(tfhd,4);
var track=initData[id];
if(!track){
continue;
}
var trackDefault=track.default;
var tfhdFlags=_readUint2(tfhd,0)|(trackDefault===null||trackDefault===void 0?void 0:trackDefault.flags);
var sampleDuration=trackDefault===null||trackDefault===void 0?void 0:trackDefault.duration;
if(tfhdFlags&0x000008){
// 0x000008 indicates the presence of the default_sample_duration field
if(tfhdFlags&0x000002){
// 0x000002 indicates the presence of the sample_description_index field, which precedes default_sample_duration
// If present, the default_sample_duration exists at byte offset 12
sampleDuration=_readUint2(tfhd,12);
}else{
// Otherwise, the duration is at byte offset 8
sampleDuration=_readUint2(tfhd,8);
}
}
// assume a 90kHz clock if no timescale was specified
var timescale=track.timescale||90e3;
var truns=_findBox(traf,['trun']);
for(var j=0;j<truns.length;j++){
rawDuration=_computeRawDurationFromSamples(truns[j]);
if(!rawDuration&&sampleDuration){
var sampleCount=_readUint2(truns[j],4);
rawDuration=sampleDuration*sampleCount;
}
if(track.type===_loader_fragment__WEBPACK_IMPORTED_MODULE_0__.ElementaryStreamTypes.VIDEO){
videoDuration+=rawDuration/timescale;
}else if(track.type===_loader_fragment__WEBPACK_IMPORTED_MODULE_0__.ElementaryStreamTypes.AUDIO){
audioDuration+=rawDuration/timescale;
}
}
}
if(videoDuration===0&&audioDuration===0){
// If duration samples are not available in the traf use sidx subsegment_duration
var sidxDuration=0;
var sidxs=_findBox(data,['sidx']);
for(var _i=0;_i<sidxs.length;_i++){
var sidx=_parseSegmentIndex(sidxs[_i]);
if(sidx!==null&&sidx!==void 0&&sidx.references){
sidxDuration+=sidx.references.reduce(function(dur,ref){
return dur+ref.info.duration||0;
},0);
}
}
return sidxDuration;
}
if(videoDuration){
return videoDuration;
}
return audioDuration;
}

/*
  For Reference:
  aligned(8) class TrackRunBox
           extends FullBox(‘trun’, version, tr_flags) {
     unsigned int(32)  sample_count;
     // the following are optional fields
     signed int(32) data_offset;
     unsigned int(32)  first_sample_flags;
     // all fields in the following array are optional
     {
        unsigned int(32)  sample_duration;
        unsigned int(32)  sample_size;
        unsigned int(32)  sample_flags
        if (version == 0)
           { unsigned int(32)
        else
           { signed int(32)
     }[ sample_count ]
  }
 */
function _computeRawDurationFromSamples(trun){
var flags=_readUint2(trun,0);
// Flags are at offset 0, non-optional sample_count is at offset 4. Therefore we start 8 bytes in.
// Each field is an int32, which is 4 bytes
var offset=8;
// data-offset-present flag
if(flags&0x000001){
offset+=4;
}
// first-sample-flags-present flag
if(flags&0x000004){
offset+=4;
}
var duration=0;
var sampleCount=_readUint2(trun,4);
for(var i=0;i<sampleCount;i++){
// sample-duration-present flag
if(flags&0x000100){
var sampleDuration=_readUint2(trun,offset);
duration+=sampleDuration;
offset+=4;
}
// sample-size-present flag
if(flags&0x000200){
offset+=4;
}
// sample-flags-present flag
if(flags&0x000400){
offset+=4;
}
// sample-composition-time-offsets-present flag
if(flags&0x000800){
offset+=4;
}
}
return duration;
}
function _offsetStartDTS(initData,fmp4,timeOffset){
_findBox(fmp4,['moof','traf']).forEach(function(traf){
_findBox(traf,['tfhd']).forEach(function(tfhd){
// get the track id from the tfhd
var id=_readUint2(tfhd,4);
var track=initData[id];
if(!track){
return;
}
// assume a 90kHz clock if no timescale was specified
var timescale=track.timescale||90e3;
// get the base media decode time from the tfdt
_findBox(traf,['tfdt']).forEach(function(tfdt){
var version=tfdt[0];
var baseMediaDecodeTime=_readUint2(tfdt,4);
if(version===0){
baseMediaDecodeTime-=timeOffset*timescale;
baseMediaDecodeTime=Math.max(baseMediaDecodeTime,0);
_writeUint(tfdt,4,baseMediaDecodeTime);
}else{
baseMediaDecodeTime*=Math.pow(2,32);
baseMediaDecodeTime+=_readUint2(tfdt,8);
baseMediaDecodeTime-=timeOffset*timescale;
baseMediaDecodeTime=Math.max(baseMediaDecodeTime,0);
var upper=Math.floor(baseMediaDecodeTime/(UINT32_MAX+1));
var lower=Math.floor(baseMediaDecodeTime%(UINT32_MAX+1));
_writeUint(tfdt,4,upper);
_writeUint(tfdt,8,lower);
}
});
});
});
}

// TODO: Check if the last moof+mdat pair is part of the valid range
function _segmentValidRange(data){
var segmentedRange={
valid:null,
remainder:null};

var moofs=_findBox(data,['moof']);
if(!moofs){
return segmentedRange;
}else if(moofs.length<2){
segmentedRange.remainder=data;
return segmentedRange;
}
var last=moofs[moofs.length-1];
// Offset by 8 bytes; findBox offsets the start by as much
segmentedRange.valid=(0,_typed_array__WEBPACK_IMPORTED_MODULE_1__.sliceUint8)(data,0,last.byteOffset-8);
segmentedRange.remainder=(0,_typed_array__WEBPACK_IMPORTED_MODULE_1__.sliceUint8)(data,last.byteOffset-8);
return segmentedRange;
}
function _appendUint8Array(data1,data2){
var temp=new Uint8Array(data1.length+data2.length);
temp.set(data1);
temp.set(data2,data1.length);
return temp;
}
function _parseSamples(timeOffset,track){
var seiSamples=[];
var videoData=track.samples;
var timescale=track.timescale;
var trackId=track.id;
var isHEVCFlavor=false;
var moofs=_findBox(videoData,['moof']);
moofs.map(function(moof){
var moofOffset=moof.byteOffset-8;
var trafs=_findBox(moof,['traf']);
trafs.map(function(traf){
// get the base media decode time from the tfdt
var baseTime=_findBox(traf,['tfdt']).map(function(tfdt){
var version=tfdt[0];
var result=_readUint2(tfdt,4);
if(version===1){
result*=Math.pow(2,32);
result+=_readUint2(tfdt,8);
}
return result/timescale;
})[0];
if(baseTime!==undefined){
timeOffset=baseTime;
}
return _findBox(traf,['tfhd']).map(function(tfhd){
var id=_readUint2(tfhd,4);
var tfhdFlags=_readUint2(tfhd,0)&0xffffff;
var baseDataOffsetPresent=(tfhdFlags&0x000001)!==0;
var sampleDescriptionIndexPresent=(tfhdFlags&0x000002)!==0;
var defaultSampleDurationPresent=(tfhdFlags&0x000008)!==0;
var defaultSampleDuration=0;
var defaultSampleSizePresent=(tfhdFlags&0x000010)!==0;
var defaultSampleSize=0;
var defaultSampleFlagsPresent=(tfhdFlags&0x000020)!==0;
var tfhdOffset=8;
if(id===trackId){
if(baseDataOffsetPresent){
tfhdOffset+=8;
}
if(sampleDescriptionIndexPresent){
tfhdOffset+=4;
}
if(defaultSampleDurationPresent){
defaultSampleDuration=_readUint2(tfhd,tfhdOffset);
tfhdOffset+=4;
}
if(defaultSampleSizePresent){
defaultSampleSize=_readUint2(tfhd,tfhdOffset);
tfhdOffset+=4;
}
if(defaultSampleFlagsPresent){
tfhdOffset+=4;
}
if(track.type==='video'){
isHEVCFlavor=isHEVC(track.codec);
}
_findBox(traf,['trun']).map(function(trun){
var version=trun[0];
var flags=_readUint2(trun,0)&0xffffff;
var dataOffsetPresent=(flags&0x000001)!==0;
var dataOffset=0;
var firstSampleFlagsPresent=(flags&0x000004)!==0;
var sampleDurationPresent=(flags&0x000100)!==0;
var sampleDuration=0;
var sampleSizePresent=(flags&0x000200)!==0;
var sampleSize=0;
var sampleFlagsPresent=(flags&0x000400)!==0;
var sampleCompositionOffsetsPresent=(flags&0x000800)!==0;
var compositionOffset=0;
var sampleCount=_readUint2(trun,4);
var trunOffset=8;// past version, flags, and sample count

if(dataOffsetPresent){
dataOffset=_readUint2(trun,trunOffset);
trunOffset+=4;
}
if(firstSampleFlagsPresent){
trunOffset+=4;
}
var sampleOffset=dataOffset+moofOffset;
for(var ix=0;ix<sampleCount;ix++){
if(sampleDurationPresent){
sampleDuration=_readUint2(trun,trunOffset);
trunOffset+=4;
}else{
sampleDuration=defaultSampleDuration;
}
if(sampleSizePresent){
sampleSize=_readUint2(trun,trunOffset);
trunOffset+=4;
}else{
sampleSize=defaultSampleSize;
}
if(sampleFlagsPresent){
trunOffset+=4;
}
if(sampleCompositionOffsetsPresent){
if(version===0){
compositionOffset=_readUint2(trun,trunOffset);
}else{
compositionOffset=_readSint(trun,trunOffset);
}
trunOffset+=4;
}
if(track.type===_loader_fragment__WEBPACK_IMPORTED_MODULE_0__.ElementaryStreamTypes.VIDEO){
var naluTotalSize=0;
while(naluTotalSize<sampleSize){
var naluSize=_readUint2(videoData,sampleOffset);
sampleOffset+=4;
if(isSEIMessage(isHEVCFlavor,videoData[sampleOffset])){
var data=videoData.subarray(sampleOffset,sampleOffset+naluSize);
_parseSEIMessageFromNALu(data,isHEVCFlavor?2:1,timeOffset+compositionOffset/timescale,seiSamples);
}
sampleOffset+=naluSize;
naluTotalSize+=naluSize+4;
}
}
timeOffset+=sampleDuration/timescale;
}
});
}
});
});
});
return seiSamples;
}
function isHEVC(codec){
if(!codec){
return false;
}
var delimit=codec.indexOf('.');
var baseCodec=delimit<0?codec:codec.substring(0,delimit);
return baseCodec==='hvc1'||baseCodec==='hev1'||
// Dolby Vision
baseCodec==='dvh1'||baseCodec==='dvhe';
}
function isSEIMessage(isHEVCFlavor,naluHeader){
if(isHEVCFlavor){
var naluType=naluHeader>>1&0x3f;
return naluType===39||naluType===40;
}else{
var _naluType=naluHeader&0x1f;
return _naluType===6;
}
}
function _parseSEIMessageFromNALu(unescapedData,headerSize,pts,samples){
var data=_discardEPB(unescapedData);
var seiPtr=0;
// skip nal header
seiPtr+=headerSize;
var payloadType=0;
var payloadSize=0;
var endOfCaptions=false;
var b=0;
while(seiPtr<data.length){
payloadType=0;
do{
if(seiPtr>=data.length){
break;
}
b=data[seiPtr++];
payloadType+=b;
}while(b===0xff);

// Parse payload size.
payloadSize=0;
do{
if(seiPtr>=data.length){
break;
}
b=data[seiPtr++];
payloadSize+=b;
}while(b===0xff);
var leftOver=data.length-seiPtr;
if(!endOfCaptions&&payloadType===4&&seiPtr<data.length){
endOfCaptions=true;
var countryCode=data[seiPtr++];
if(countryCode===181){
var providerCode=_readUint(data,seiPtr);
seiPtr+=2;
if(providerCode===49){
var userStructure=_readUint2(data,seiPtr);
seiPtr+=4;
if(userStructure===0x47413934){
var userDataType=data[seiPtr++];

// Raw CEA-608 bytes wrapped in CEA-708 packet
if(userDataType===3){
var firstByte=data[seiPtr++];
var totalCCs=0x1f&firstByte;
var enabled=0x40&firstByte;
var totalBytes=enabled?2+totalCCs*3:0;
var byteArray=new Uint8Array(totalBytes);
if(enabled){
byteArray[0]=firstByte;
for(var i=1;i<totalBytes;i++){
byteArray[i]=data[seiPtr++];
}
}
samples.push({
type:userDataType,
payloadType:payloadType,
pts:pts,
bytes:byteArray});

}
}
}
}
}else if(payloadType===5&&payloadSize<leftOver){
endOfCaptions=true;
if(payloadSize>16){
var uuidStrArray=[];
for(var _i2=0;_i2<16;_i2++){
var _b=data[seiPtr++].toString(16);
uuidStrArray.push(_b.length==1?'0'+_b:_b);
if(_i2===3||_i2===5||_i2===7||_i2===9){
uuidStrArray.push('-');
}
}
var length=payloadSize-16;
var userDataBytes=new Uint8Array(length);
for(var _i3=0;_i3<length;_i3++){
userDataBytes[_i3]=data[seiPtr++];
}
samples.push({
payloadType:payloadType,
pts:pts,
uuid:uuidStrArray.join(''),
userData:(0,_demux_id3__WEBPACK_IMPORTED_MODULE_2__.utf8ArrayToStr)(userDataBytes),
userDataBytes:userDataBytes});

}
}else if(payloadSize<leftOver){
seiPtr+=payloadSize;
}else if(payloadSize>leftOver){
break;
}
}
}

/**
 * remove Emulation Prevention bytes from a RBSP
 */
function _discardEPB(data){
var length=data.byteLength;
var EPBPositions=[];
var i=1;

// Find all `Emulation Prevention Bytes`
while(i<length-2){
if(data[i]===0&&data[i+1]===0&&data[i+2]===0x03){
EPBPositions.push(i+2);
i+=2;
}else{
i++;
}
}

// If no Emulation Prevention Bytes were found just return the original
// array
if(EPBPositions.length===0){
return data;
}

// Create a new array to hold the NAL unit data
var newLength=length-EPBPositions.length;
var newData=new Uint8Array(newLength);
var sourceIndex=0;
for(i=0;i<newLength;sourceIndex++,i++){
if(sourceIndex===EPBPositions[0]){
// Skip this byte
sourceIndex++;
// Remove this position index
EPBPositions.shift();
}
newData[i]=data[sourceIndex];
}
return newData;
}
function _parseEmsg(data){
var version=data[0];
var schemeIdUri='';
var value='';
var timeScale=0;
var presentationTimeDelta=0;
var presentationTime=0;
var eventDuration=0;
var id=0;
var offset=0;
if(version===0){
while(_bin2str(data.subarray(offset,offset+1))!=='\0'){
schemeIdUri+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
}
schemeIdUri+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
while(_bin2str(data.subarray(offset,offset+1))!=='\0'){
value+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
}
value+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
timeScale=_readUint2(data,12);
presentationTimeDelta=_readUint2(data,16);
eventDuration=_readUint2(data,20);
id=_readUint2(data,24);
offset=28;
}else if(version===1){
offset+=4;
timeScale=_readUint2(data,offset);
offset+=4;
var leftPresentationTime=_readUint2(data,offset);
offset+=4;
var rightPresentationTime=_readUint2(data,offset);
offset+=4;
presentationTime=Math.pow(2,32)*leftPresentationTime+rightPresentationTime;
if(!Number.isSafeInteger(presentationTime)){
presentationTime=Number.MAX_SAFE_INTEGER;
// eslint-disable-next-line no-console
console.warn('Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box');
}
eventDuration=_readUint2(data,offset);
offset+=4;
id=_readUint2(data,offset);
offset+=4;
while(_bin2str(data.subarray(offset,offset+1))!=='\0'){
schemeIdUri+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
}
schemeIdUri+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
while(_bin2str(data.subarray(offset,offset+1))!=='\0'){
value+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
}
value+=_bin2str(data.subarray(offset,offset+1));
offset+=1;
}
var payload=data.subarray(offset,data.byteLength);
return{
schemeIdUri:schemeIdUri,
value:value,
timeScale:timeScale,
presentationTime:presentationTime,
presentationTimeDelta:presentationTimeDelta,
eventDuration:eventDuration,
id:id,
payload:payload};

}
function _mp4Box(type){
for(var _len=arguments.length,payload=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){
payload[_key-1]=arguments[_key];
}
var len=payload.length;
var size=8;
var i=len;
while(i--){
size+=payload[i].byteLength;
}
var result=new Uint8Array(size);
result[0]=size>>24&0xff;
result[1]=size>>16&0xff;
result[2]=size>>8&0xff;
result[3]=size&0xff;
result.set(type,4);
for(i=0,size=8;i<len;i++){
result.set(payload[i],size);
size+=payload[i].byteLength;
}
return result;
}
function _mp4pssh(systemId,keyids,data){
if(systemId.byteLength!==16){
throw new RangeError('Invalid system id');
}
var version;
var kids;
if(keyids){
version=1;
kids=new Uint8Array(keyids.length*16);
for(var ix=0;ix<keyids.length;ix++){
var k=keyids[ix];// uint8array
if(k.byteLength!==16){
throw new RangeError('Invalid key');
}
kids.set(k,ix*16);
}
}else{
version=0;
kids=new Uint8Array();
}
var kidCount;
if(version>0){
kidCount=new Uint8Array(4);
if(keyids.length>0){
new DataView(kidCount.buffer).setUint32(0,keyids.length,false);
}
}else{
kidCount=new Uint8Array();
}
var dataSize=new Uint8Array(4);
if(data&&data.byteLength>0){
new DataView(dataSize.buffer).setUint32(0,data.byteLength,false);
}
return _mp4Box([112,115,115,104],new Uint8Array([version,0x00,0x00,0x00// Flags
]),systemId,
// 16 bytes
kidCount,kids,dataSize,data||new Uint8Array());
}
function _parsePssh(initData){
if(!(initData instanceof ArrayBuffer)||initData.byteLength<32){
return null;
}
var result={
version:0,
systemId:'',
kids:null,
data:null};

var view=new DataView(initData);
var boxSize=view.getUint32(0);
if(initData.byteLength!==boxSize&&boxSize>44){
return null;
}
var type=view.getUint32(4);
if(type!==0x70737368){
return null;
}
result.version=view.getUint32(8)>>>24;
if(result.version>1){
return null;
}
result.systemId=_hex__WEBPACK_IMPORTED_MODULE_4__["default"].hexDump(new Uint8Array(initData,12,16));
var dataSizeOrKidCount=view.getUint32(28);
if(result.version===0){
if(boxSize-32<dataSizeOrKidCount){
return null;
}
result.data=new Uint8Array(initData,32,dataSizeOrKidCount);
}else if(result.version===1){
result.kids=[];
for(var i=0;i<dataSizeOrKidCount;i++){
result.kids.push(new Uint8Array(initData,32+i*16,16));
}
}
return result;
}

/***/},

/***/"./src/utils/numeric-encoding-utils.ts":
/*!*********************************************!*\
  !*** ./src/utils/numeric-encoding-utils.ts ***!
  \*********************************************/
/***/function srcUtilsNumericEncodingUtilsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"base64Decode":function base64Decode(){return(/* binding */_base64Decode);},
/* harmony export */"base64DecodeToStr":function base64DecodeToStr(){return(/* binding */_base64DecodeToStr);},
/* harmony export */"base64Encode":function base64Encode(){return(/* binding */_base64Encode);},
/* harmony export */"base64ToBase64Url":function base64ToBase64Url(){return(/* binding */_base64ToBase64Url);},
/* harmony export */"base64UrlEncode":function base64UrlEncode(){return(/* binding */_base64UrlEncode);},
/* harmony export */"strToBase64Encode":function strToBase64Encode(){return(/* binding */_strToBase64Encode);}
/* harmony export */});
function _base64ToBase64Url(base64encodedStr){
return base64encodedStr.replace(/\+/g,'-').replace(/\//g,'_').replace(/=+$/,'');
}
function _strToBase64Encode(str){
return btoa(str);
}
function _base64DecodeToStr(str){
return atob(str);
}
function _base64Encode(input){
return btoa(String.fromCharCode.apply(String,input));
}
function _base64UrlEncode(input){
return _base64ToBase64Url(_base64Encode(input));
}
function _base64Decode(base64encodedStr){
return Uint8Array.from(atob(base64encodedStr),function(c){
return c.charCodeAt(0);
});
}

/***/},

/***/"./src/utils/output-filter.ts":
/*!************************************!*\
  !*** ./src/utils/output-filter.ts ***!
  \************************************/
/***/function srcUtilsOutputFilterTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return(/* binding */OutputFilter);}
/* harmony export */});
var OutputFilter=/*#__PURE__*/function(){
function OutputFilter(timelineController,trackName){
this.timelineController=void 0;
this.cueRanges=[];
this.trackName=void 0;
this.startTime=null;
this.endTime=null;
this.screen=null;
this.timelineController=timelineController;
this.trackName=trackName;
}
var _proto=OutputFilter.prototype;
_proto.dispatchCue=function dispatchCue(){
if(this.startTime===null){
return;
}
this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges);
this.startTime=null;
};
_proto.newCue=function newCue(startTime,endTime,screen){
if(this.startTime===null||this.startTime>startTime){
this.startTime=startTime;
}
this.endTime=endTime;
this.screen=screen;
this.timelineController.createCaptionsTrack(this.trackName);
};
_proto.reset=function reset(){
this.cueRanges=[];
this.startTime=null;
};
return OutputFilter;
}();


/***/},

/***/"./src/utils/texttrack-utils.ts":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.ts ***!
  \**************************************/
/***/function srcUtilsTexttrackUtilsTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"addCueToTrack":function addCueToTrack(){return(/* binding */_addCueToTrack);},
/* harmony export */"clearCurrentCues":function clearCurrentCues(){return(/* binding */_clearCurrentCues);},
/* harmony export */"getCuesInRange":function getCuesInRange(){return(/* binding */_getCuesInRange);},
/* harmony export */"removeCuesInRange":function removeCuesInRange(){return(/* binding */_removeCuesInRange);},
/* harmony export */"sendAddTrackEvent":function sendAddTrackEvent(){return(/* binding */_sendAddTrackEvent);}
/* harmony export */});
/* harmony import */var _logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./logger */"./src/utils/logger.ts");

function _sendAddTrackEvent(track,videoEl){
var event;
try{
event=new Event('addtrack');
}catch(err){
// for IE11
event=document.createEvent('Event');
event.initEvent('addtrack',false,false);
}
event.track=track;
videoEl.dispatchEvent(event);
}
function _addCueToTrack(track,cue){
// Sometimes there are cue overlaps on segmented vtts so the same
// cue can appear more than once in different vtt files.
// This avoid showing duplicated cues with same timecode and text.
var mode=track.mode;
if(mode==='disabled'){
track.mode='hidden';
}
if(track.cues&&!track.cues.getCueById(cue.id)){
try{
track.addCue(cue);
if(!track.cues.getCueById(cue.id)){
throw new Error("addCue is failed for: "+cue);
}
}catch(err){
_logger__WEBPACK_IMPORTED_MODULE_0__.logger.debug("[texttrack-utils]: "+err);
var textTrackCue=new self.TextTrackCue(cue.startTime,cue.endTime,cue.text);
textTrackCue.id=cue.id;
track.addCue(textTrackCue);
}
}
if(mode==='disabled'){
track.mode=mode;
}
}
function _clearCurrentCues(track){
// When track.mode is disabled, track.cues will be null.
// To guarantee the removal of cues, we need to temporarily
// change the mode to hidden
var mode=track.mode;
if(mode==='disabled'){
track.mode='hidden';
}
if(track.cues){
for(var i=track.cues.length;i--;){
track.removeCue(track.cues[i]);
}
}
if(mode==='disabled'){
track.mode=mode;
}
}
function _removeCuesInRange(track,start,end,predicate){
var mode=track.mode;
if(mode==='disabled'){
track.mode='hidden';
}
if(track.cues&&track.cues.length>0){
var cues=_getCuesInRange(track.cues,start,end);
for(var i=0;i<cues.length;i++){
if(!predicate||predicate(cues[i])){
track.removeCue(cues[i]);
}
}
}
if(mode==='disabled'){
track.mode=mode;
}
}

// Find first cue starting after given time.
// Modified version of binary search O(log(n)).
function getFirstCueIndexAfterTime(cues,time){
// If first cue starts after time, start there
if(time<cues[0].startTime){
return 0;
}
// If the last cue ends before time there is no overlap
var len=cues.length-1;
if(time>cues[len].endTime){
return-1;
}
var left=0;
var right=len;
while(left<=right){
var mid=Math.floor((right+left)/2);
if(time<cues[mid].startTime){
right=mid-1;
}else if(time>cues[mid].startTime&&left<len){
left=mid+1;
}else{
// If it's not lower or higher, it must be equal.
return mid;
}
}
// At this point, left and right have swapped.
// No direct match was found, left or right element must be the closest. Check which one has the smallest diff.
return cues[left].startTime-time<time-cues[right].startTime?left:right;
}
function _getCuesInRange(cues,start,end){
var cuesFound=[];
var firstCueInRange=getFirstCueIndexAfterTime(cues,start);
if(firstCueInRange>-1){
for(var i=firstCueInRange,len=cues.length;i<len;i++){
var _cue=cues[i];
if(_cue.startTime>=start&&_cue.endTime<=end){
cuesFound.push(_cue);
}else if(_cue.startTime>end){
return cuesFound;
}
}
}
return cuesFound;
}

/***/},

/***/"./src/utils/time-ranges.ts":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.ts ***!
  \**********************************/
/***/function srcUtilsTimeRangesTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/**
 *  TimeRanges to string helper
 */

var TimeRanges={
toString:function toString(r){
var log='';
var len=r.length;
for(var i=0;i<len;i++){
log+="["+r.start(i).toFixed(3)+"-"+r.end(i).toFixed(3)+"]";
}
return log;
}};

/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=TimeRanges;

/***/},

/***/"./src/utils/timescale-conversion.ts":
/*!*******************************************!*\
  !*** ./src/utils/timescale-conversion.ts ***!
  \*******************************************/
/***/function srcUtilsTimescaleConversionTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"toMpegTsClockFromTimescale":function toMpegTsClockFromTimescale(){return(/* binding */_toMpegTsClockFromTimescale);},
/* harmony export */"toMsFromMpegTsClock":function toMsFromMpegTsClock(){return(/* binding */_toMsFromMpegTsClock);},
/* harmony export */"toTimescaleFromBase":function toTimescaleFromBase(){return(/* binding */_toTimescaleFromBase);},
/* harmony export */"toTimescaleFromScale":function toTimescaleFromScale(){return(/* binding */_toTimescaleFromScale);}
/* harmony export */});
var MPEG_TS_CLOCK_FREQ_HZ=90000;
function _toTimescaleFromBase(value,destScale,srcBase,round){
if(srcBase===void 0){
srcBase=1;
}
if(round===void 0){
round=false;
}
var result=value*destScale*srcBase;// equivalent to `(value * scale) / (1 / base)`
return round?Math.round(result):result;
}
function _toTimescaleFromScale(value,destScale,srcScale,round){
if(srcScale===void 0){
srcScale=1;
}
if(round===void 0){
round=false;
}
return _toTimescaleFromBase(value,destScale,1/srcScale,round);
}
function _toMsFromMpegTsClock(value,round){
if(round===void 0){
round=false;
}
return _toTimescaleFromBase(value,1000,1/MPEG_TS_CLOCK_FREQ_HZ,round);
}
function _toMpegTsClockFromTimescale(value,srcScale){
if(srcScale===void 0){
srcScale=1;
}
return _toTimescaleFromBase(value,MPEG_TS_CLOCK_FREQ_HZ,1/srcScale);
}

/***/},

/***/"./src/utils/typed-array.ts":
/*!**********************************!*\
  !*** ./src/utils/typed-array.ts ***!
  \**********************************/
/***/function srcUtilsTypedArrayTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"sliceUint8":function sliceUint8(){return(/* binding */_sliceUint);}
/* harmony export */});
function _sliceUint(array,start,end){
// @ts-expect-error This polyfills IE11 usage of Uint8Array slice.
// It always exists in the TypeScript definition so fails, but it fails at runtime on IE11.
return Uint8Array.prototype.slice?array.slice(start,end):new Uint8Array(Array.prototype.slice.call(array,start,end));
}

/***/},

/***/"./src/utils/vttcue.ts":
/*!*****************************!*\
  !*** ./src/utils/vttcue.ts ***!
  \*****************************/
/***/function srcUtilsVttcueTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/**
 * Copyright 2013 vtt.js Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=function(){
if(typeof self!=='undefined'&&self.VTTCue){
return self.VTTCue;
}
var AllowedDirections=['','lr','rl'];
var AllowedAlignments=['start','middle','end','left','right'];
function isAllowedValue(allowed,value){
if(typeof value!=='string'){
return false;
}
// necessary for assuring the generic conforms to the Array interface
if(!Array.isArray(allowed)){
return false;
}
// reset the type so that the next narrowing works well
var lcValue=value.toLowerCase();
// use the allow list to narrow the type to a specific subset of strings
if(~allowed.indexOf(lcValue)){
return lcValue;
}
return false;
}
function findDirectionSetting(value){
return isAllowedValue(AllowedDirections,value);
}
function findAlignSetting(value){
return isAllowedValue(AllowedAlignments,value);
}
function extend(obj){
for(var _len=arguments.length,rest=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){
rest[_key-1]=arguments[_key];
}
var i=1;
for(;i<arguments.length;i++){
var cobj=arguments[i];
for(var p in cobj){
obj[p]=cobj[p];
}
}
return obj;
}
function VTTCue(startTime,endTime,text){
var cue=this;
var baseObj={
enumerable:true};

/**
     * Shim implementation specific properties. These properties are not in
     * the spec.
     */

// Lets us know when the VTTCue's data has changed in such a way that we need
// to recompute its display state. This lets us compute its display state
// lazily.
cue.hasBeenReset=false;

/**
     * VTTCue and TextTrackCue properties
     * http://dev.w3.org/html5/webvtt/#vttcue-interface
     */

var _id='';
var _pauseOnExit=false;
var _startTime=startTime;
var _endTime=endTime;
var _text=text;
var _region=null;
var _vertical='';
var _snapToLines=true;
var _line='auto';
var _lineAlign='start';
var _position=50;
var _positionAlign='middle';
var _size=50;
var _align='middle';
Object.defineProperty(cue,'id',extend({},baseObj,{
get:function get(){
return _id;
},
set:function set(value){
_id=''+value;
}}));

Object.defineProperty(cue,'pauseOnExit',extend({},baseObj,{
get:function get(){
return _pauseOnExit;
},
set:function set(value){
_pauseOnExit=!!value;
}}));

Object.defineProperty(cue,'startTime',extend({},baseObj,{
get:function get(){
return _startTime;
},
set:function set(value){
if(typeof value!=='number'){
throw new TypeError('Start time must be set to a number.');
}
_startTime=value;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'endTime',extend({},baseObj,{
get:function get(){
return _endTime;
},
set:function set(value){
if(typeof value!=='number'){
throw new TypeError('End time must be set to a number.');
}
_endTime=value;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'text',extend({},baseObj,{
get:function get(){
return _text;
},
set:function set(value){
_text=''+value;
this.hasBeenReset=true;
}}));


// todo: implement VTTRegion polyfill?
Object.defineProperty(cue,'region',extend({},baseObj,{
get:function get(){
return _region;
},
set:function set(value){
_region=value;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'vertical',extend({},baseObj,{
get:function get(){
return _vertical;
},
set:function set(value){
var setting=findDirectionSetting(value);
// Have to check for false because the setting an be an empty string.
if(setting===false){
throw new SyntaxError('An invalid or illegal string was specified.');
}
_vertical=setting;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'snapToLines',extend({},baseObj,{
get:function get(){
return _snapToLines;
},
set:function set(value){
_snapToLines=!!value;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'line',extend({},baseObj,{
get:function get(){
return _line;
},
set:function set(value){
if(typeof value!=='number'&&value!=='auto'){
throw new SyntaxError('An invalid number or illegal string was specified.');
}
_line=value;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'lineAlign',extend({},baseObj,{
get:function get(){
return _lineAlign;
},
set:function set(value){
var setting=findAlignSetting(value);
if(!setting){
throw new SyntaxError('An invalid or illegal string was specified.');
}
_lineAlign=setting;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'position',extend({},baseObj,{
get:function get(){
return _position;
},
set:function set(value){
if(value<0||value>100){
throw new Error('Position must be between 0 and 100.');
}
_position=value;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'positionAlign',extend({},baseObj,{
get:function get(){
return _positionAlign;
},
set:function set(value){
var setting=findAlignSetting(value);
if(!setting){
throw new SyntaxError('An invalid or illegal string was specified.');
}
_positionAlign=setting;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'size',extend({},baseObj,{
get:function get(){
return _size;
},
set:function set(value){
if(value<0||value>100){
throw new Error('Size must be between 0 and 100.');
}
_size=value;
this.hasBeenReset=true;
}}));

Object.defineProperty(cue,'align',extend({},baseObj,{
get:function get(){
return _align;
},
set:function set(value){
var setting=findAlignSetting(value);
if(!setting){
throw new SyntaxError('An invalid or illegal string was specified.');
}
_align=setting;
this.hasBeenReset=true;
}}));


/**
     * Other <track> spec defined properties
     */

// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state
cue.displayState=undefined;
}

/**
   * VTTCue methods
   */

VTTCue.prototype.getCueAsHTML=function(){
// Assume WebVTT.convertCueToDOMTree is on the global.
var WebVTT=self.WebVTT;
return WebVTT.convertCueToDOMTree(self,this.text);
};
// this is a polyfill hack
return VTTCue;
}();

/***/},

/***/"./src/utils/vttparser.ts":
/*!********************************!*\
  !*** ./src/utils/vttparser.ts ***!
  \********************************/
/***/function srcUtilsVttparserTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"VTTParser":function VTTParser(){return(/* binding */_VTTParser);},
/* harmony export */"fixLineBreaks":function fixLineBreaks(){return(/* binding */_fixLineBreaks);},
/* harmony export */"parseTimeStamp":function parseTimeStamp(){return(/* binding */_parseTimeStamp);}
/* harmony export */});
/* harmony import */var _vttcue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./vttcue */"./src/utils/vttcue.ts");
/*
 * Source: https://github.com/mozilla/vtt.js/blob/master/dist/vtt.js
 */


var StringDecoder=/*#__PURE__*/function(){
function StringDecoder(){}
var _proto=StringDecoder.prototype;
// eslint-disable-next-line @typescript-eslint/no-unused-vars
_proto.decode=function decode(data,options){
if(!data){
return'';
}
if(typeof data!=='string'){
throw new Error('Error - expected string data.');
}
return decodeURIComponent(encodeURIComponent(data));
};
return StringDecoder;
}();// Try to parse input as a time stamp.
function _parseTimeStamp(input){
function computeSeconds(h,m,s,f){
return(h|0)*3600+(m|0)*60+(s|0)+parseFloat(f||0);
}
var m=input.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);
if(!m){
return null;
}
if(parseFloat(m[2])>59){
// Timestamp takes the form of [hours]:[minutes].[milliseconds]
// First position is hours as it's over 59.
return computeSeconds(m[2],m[3],0,m[4]);
}
// Timestamp takes the form of [hours (optional)]:[minutes]:[seconds].[milliseconds]
return computeSeconds(m[1],m[2],m[3],m[4]);
}

// A settings object holds key/value pairs and will ignore anything but the first
// assignment to a specific key.
var Settings=/*#__PURE__*/function(){
function Settings(){
this.values=Object.create(null);
}
var _proto2=Settings.prototype;
// Only accept the first assignment to any key.
_proto2.set=function set(k,v){
if(!this.get(k)&&v!==''){
this.values[k]=v;
}
}
// Return the value for a key, or a default value.
// If 'defaultKey' is passed then 'dflt' is assumed to be an object with
// a number of possible default values as properties where 'defaultKey' is
// the key of the property that will be chosen; otherwise it's assumed to be
// a single value.
;
_proto2.get=function get(k,dflt,defaultKey){
if(defaultKey){
return this.has(k)?this.values[k]:dflt[defaultKey];
}
return this.has(k)?this.values[k]:dflt;
}
// Check whether we have a value for a key.
;
_proto2.has=function has(k){
return k in this.values;
}
// Accept a setting if its one of the given alternatives.
;
_proto2.alt=function alt(k,v,a){
for(var n=0;n<a.length;++n){
if(v===a[n]){
this.set(k,v);
break;
}
}
}
// Accept a setting if its a valid (signed) integer.
;
_proto2.integer=function integer(k,v){
if(/^-?\d+$/.test(v)){
// integer
this.set(k,parseInt(v,10));
}
}
// Accept a setting if its a valid percentage.
;
_proto2.percent=function percent(k,v){
if(/^([\d]{1,3})(\.[\d]*)?%$/.test(v)){
var percent=parseFloat(v);
if(percent>=0&&percent<=100){
this.set(k,percent);
return true;
}
}
return false;
};
return Settings;
}();// Helper function to parse input into groups separated by 'groupDelim', and
// interpret each group as a key/value pair separated by 'keyValueDelim'.
function parseOptions(input,callback,keyValueDelim,groupDelim){
var groups=groupDelim?input.split(groupDelim):[input];
for(var i in groups){
if(typeof groups[i]!=='string'){
continue;
}
var kv=groups[i].split(keyValueDelim);
if(kv.length!==2){
continue;
}
var _k=kv[0];
var _v=kv[1];
callback(_k,_v);
}
}
var defaults=new _vttcue__WEBPACK_IMPORTED_MODULE_0__["default"](0,0,'');
// 'middle' was changed to 'center' in the spec: https://github.com/w3c/webvtt/pull/244
//  Safari doesn't yet support this change, but FF and Chrome do.
var center=defaults.align==='middle'?'middle':'center';
function parseCue(input,cue,regionList){
// Remember the original input if we need to throw an error.
var oInput=input;
// 4.1 WebVTT timestamp
function consumeTimeStamp(){
var ts=_parseTimeStamp(input);
if(ts===null){
throw new Error('Malformed timestamp: '+oInput);
}

// Remove time stamp from input.
input=input.replace(/^[^\sa-zA-Z-]+/,'');
return ts;
}

// 4.4.2 WebVTT cue settings
function consumeCueSettings(input,cue){
var settings=new Settings();
parseOptions(input,function(k,v){
var vals;
switch(k){
case'region':
// Find the last region we parsed with the same region id.
for(var i=regionList.length-1;i>=0;i--){
if(regionList[i].id===v){
settings.set(k,regionList[i].region);
break;
}
}
break;
case'vertical':
settings.alt(k,v,['rl','lr']);
break;
case'line':
vals=v.split(',');
settings.integer(k,vals[0]);
if(settings.percent(k,vals[0])){
settings.set('snapToLines',false);
}
settings.alt(k,vals[0],['auto']);
if(vals.length===2){
settings.alt('lineAlign',vals[1],['start',center,'end']);
}
break;
case'position':
vals=v.split(',');
settings.percent(k,vals[0]);
if(vals.length===2){
settings.alt('positionAlign',vals[1],['start',center,'end','line-left','line-right','auto']);
}
break;
case'size':
settings.percent(k,v);
break;
case'align':
settings.alt(k,v,['start',center,'end','left','right']);
break;}

},/:/,/\s/);

// Apply default values for any missing fields.
cue.region=settings.get('region',null);
cue.vertical=settings.get('vertical','');
var line=settings.get('line','auto');
if(line==='auto'&&defaults.line===-1){
// set numeric line number for Safari
line=-1;
}
cue.line=line;
cue.lineAlign=settings.get('lineAlign','start');
cue.snapToLines=settings.get('snapToLines',true);
cue.size=settings.get('size',100);
cue.align=settings.get('align',center);
var position=settings.get('position','auto');
if(position==='auto'&&defaults.position===50){
// set numeric position for Safari
position=cue.align==='start'||cue.align==='left'?0:cue.align==='end'||cue.align==='right'?100:50;
}
cue.position=position;
}
function skipWhitespace(){
input=input.replace(/^\s+/,'');
}

// 4.1 WebVTT cue timings.
skipWhitespace();
cue.startTime=consumeTimeStamp();// (1) collect cue start time
skipWhitespace();
if(input.slice(0,3)!=='-->'){
// (3) next characters must match '-->'
throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+oInput);
}
input=input.slice(3);
skipWhitespace();
cue.endTime=consumeTimeStamp();// (5) collect cue end time

// 4.1 WebVTT cue settings list.
skipWhitespace();
consumeCueSettings(input,cue);
}
function _fixLineBreaks(input){
return input.replace(/<br(?: \/)?>/gi,'\n');
}
var _VTTParser=/*#__PURE__*/function(){
function VTTParser(){
this.state='INITIAL';
this.buffer='';
this.decoder=new StringDecoder();
this.regionList=[];
this.cue=null;
this.oncue=void 0;
this.onparsingerror=void 0;
this.onflush=void 0;
}
var _proto3=VTTParser.prototype;
_proto3.parse=function parse(data){
var _this=this;

// If there is no data then we won't decode it, but will just try to parse
// whatever is in buffer already. This may occur in circumstances, for
// example when flush() is called.
if(data){
// Try to decode the data that we received.
_this.buffer+=_this.decoder.decode(data,{
stream:true});

}
function collectNextLine(){
var buffer=_this.buffer;
var pos=0;
buffer=_fixLineBreaks(buffer);
while(pos<buffer.length&&buffer[pos]!=='\r'&&buffer[pos]!=='\n'){
++pos;
}
var line=buffer.slice(0,pos);
// Advance the buffer early in case we fail below.
if(buffer[pos]==='\r'){
++pos;
}
if(buffer[pos]==='\n'){
++pos;
}
_this.buffer=buffer.slice(pos);
return line;
}

// 3.2 WebVTT metadata header syntax
function parseHeader(input){
parseOptions(input,function(k,v){
// switch (k) {
// case 'region':
// 3.3 WebVTT region metadata header syntax
// console.log('parse region', v);
// parseRegion(v);
// break;
// }
},/:/);
}

// 5.1 WebVTT file parsing.
try{
var line='';
if(_this.state==='INITIAL'){
// We can't start parsing until we have the first line.
if(!/\r\n|\n/.test(_this.buffer)){
return this;
}
line=collectNextLine();
// strip of UTF-8 BOM if any
// https://en.wikipedia.org/wiki/Byte_order_mark#UTF-8
var m=line.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);
if(!m||!m[0]){
throw new Error('Malformed WebVTT signature.');
}
_this.state='HEADER';
}
var alreadyCollectedLine=false;
while(_this.buffer){
// We can't parse a line until we have the full line.
if(!/\r\n|\n/.test(_this.buffer)){
return this;
}
if(!alreadyCollectedLine){
line=collectNextLine();
}else{
alreadyCollectedLine=false;
}
switch(_this.state){
case'HEADER':
// 13-18 - Allow a header (metadata) under the WEBVTT line.
if(/:/.test(line)){
parseHeader(line);
}else if(!line){
// An empty line terminates the header and starts the body (cues).
_this.state='ID';
}
continue;
case'NOTE':
// Ignore NOTE blocks.
if(!line){
_this.state='ID';
}
continue;
case'ID':
// Check for the start of NOTE blocks.
if(/^NOTE($|[ \t])/.test(line)){
_this.state='NOTE';
break;
}
// 19-29 - Allow any number of line terminators, then initialize new cue values.
if(!line){
continue;
}
_this.cue=new _vttcue__WEBPACK_IMPORTED_MODULE_0__["default"](0,0,'');
_this.state='CUE';
// 30-39 - Check if self line contains an optional identifier or timing data.
if(line.indexOf('-->')===-1){
_this.cue.id=line;
continue;
}
// Process line as start of a cue.
/* falls through */
case'CUE':
// 40 - Collect cue timings and settings.
if(!_this.cue){
_this.state='BADCUE';
continue;
}
try{
parseCue(line,_this.cue,_this.regionList);
}catch(e){
// In case of an error ignore rest of the cue.
_this.cue=null;
_this.state='BADCUE';
continue;
}
_this.state='CUETEXT';
continue;
case'CUETEXT':
{
var hasSubstring=line.indexOf('-->')!==-1;
// 34 - If we have an empty line then report the cue.
// 35 - If we have the special substring '-->' then report the cue,
// but do not collect the line as we need to process the current
// one as a new cue.
if(!line||hasSubstring&&(alreadyCollectedLine=true)){
// We are done parsing self cue.
if(_this.oncue&&_this.cue){
_this.oncue(_this.cue);
}
_this.cue=null;
_this.state='ID';
continue;
}
if(_this.cue===null){
continue;
}
if(_this.cue.text){
_this.cue.text+='\n';
}
_this.cue.text+=line;
}
continue;
case'BADCUE':
// 54-62 - Collect and discard the remaining cue.
if(!line){
_this.state='ID';
}}

}
}catch(e){
// If we are currently parsing a cue, report what we have.
if(_this.state==='CUETEXT'&&_this.cue&&_this.oncue){
_this.oncue(_this.cue);
}
_this.cue=null;
// Enter BADWEBVTT state if header was not parsed correctly otherwise
// another exception occurred so enter BADCUE state.
_this.state=_this.state==='INITIAL'?'BADWEBVTT':'BADCUE';
}
return this;
};
_proto3.flush=function flush(){
var _this=this;
try{
// Finish decoding the stream.
// _this.buffer += _this.decoder.decode();
// Synthesize the end of the current cue or region.
if(_this.cue||_this.state==='HEADER'){
_this.buffer+='\n\n';
_this.parse();
}
// If we've flushed, parsed, and we're still on the INITIAL state then
// that means we don't have enough of the stream to parse the first
// line.
if(_this.state==='INITIAL'||_this.state==='BADWEBVTT'){
throw new Error('Malformed WebVTT signature.');
}
}catch(e){
if(_this.onparsingerror){
_this.onparsingerror(e);
}
}
if(_this.onflush){
_this.onflush();
}
return this;
};
return VTTParser;
}();

/***/},

/***/"./src/utils/webvtt-parser.ts":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.ts ***!
  \************************************/
/***/function srcUtilsWebvttParserTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"generateCueId":function generateCueId(){return(/* binding */_generateCueId);},
/* harmony export */"parseWebVTT":function parseWebVTT(){return(/* binding */_parseWebVTT);}
/* harmony export */});
/* harmony import */var _home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ./src/polyfills/number */"./src/polyfills/number.ts");
/* harmony import */var _vttparser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./vttparser */"./src/utils/vttparser.ts");
/* harmony import */var _demux_id3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ../demux/id3 */"./src/demux/id3.ts");
/* harmony import */var _timescale_conversion__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts");
/* harmony import */var _remux_mp4_remuxer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts");








var LINEBREAKS=/\r\n|\n\r|\n|\r/g;

// String.prototype.startsWith is not supported in IE11
var startsWith=function startsWith(inputString,searchString,position){
if(position===void 0){
position=0;
}
return inputString.slice(position,position+searchString.length)===searchString;
};
var cueString2millis=function cueString2millis(timeString){
var ts=parseInt(timeString.slice(-3));
var secs=parseInt(timeString.slice(-6,-4));
var mins=parseInt(timeString.slice(-9,-7));
var hours=timeString.length>9?parseInt(timeString.substring(0,timeString.indexOf(':'))):0;
if(!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(ts)||!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(secs)||!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(mins)||!(0,_home_runner_work_hls_js_hls_js_src_polyfills_number__WEBPACK_IMPORTED_MODULE_0__.isFiniteNumber)(hours)){
throw Error("Malformed X-TIMESTAMP-MAP: Local:"+timeString);
}
ts+=1000*secs;
ts+=60*1000*mins;
ts+=60*60*1000*hours;
return ts;
};

// From https://github.com/darkskyapp/string-hash
var hash=function hash(text){
var hash=5381;
var i=text.length;
while(i){
hash=hash*33^text.charCodeAt(--i);
}
return(hash>>>0).toString();
};

// Create a unique hash id for a cue based on start/end times and text.
// This helps timeline-controller to avoid showing repeated captions.
function _generateCueId(startTime,endTime,text){
return hash(startTime.toString())+hash(endTime.toString())+hash(text);
}
var calculateOffset=function calculateOffset(vttCCs,cc,presentationTime){
var currCC=vttCCs[cc];
var prevCC=vttCCs[currCC.prevCC];

// This is the first discontinuity or cues have been processed since the last discontinuity
// Offset = current discontinuity time
if(!prevCC||!prevCC.new&&currCC.new){
vttCCs.ccOffset=vttCCs.presentationOffset=currCC.start;
currCC.new=false;
return;
}

// There have been discontinuities since cues were last parsed.
// Offset = time elapsed
while((_prevCC=prevCC)!==null&&_prevCC!==void 0&&_prevCC.new){
var _prevCC;
vttCCs.ccOffset+=currCC.start-prevCC.start;
currCC.new=false;
currCC=prevCC;
prevCC=vttCCs[currCC.prevCC];
}
vttCCs.presentationOffset=presentationTime;
};
function _parseWebVTT(vttByteArray,initPTS,timescale,vttCCs,cc,timeOffset,callBack,errorCallBack){
var parser=new _vttparser__WEBPACK_IMPORTED_MODULE_1__.VTTParser();
// Convert byteArray into string, replacing any somewhat exotic linefeeds with "\n", then split on that character.
// Uint8Array.prototype.reduce is not implemented in IE11
var vttLines=(0,_demux_id3__WEBPACK_IMPORTED_MODULE_2__.utf8ArrayToStr)(new Uint8Array(vttByteArray)).trim().replace(LINEBREAKS,'\n').split('\n');
var cues=[];
var initPTS90Hz=(0,_timescale_conversion__WEBPACK_IMPORTED_MODULE_3__.toMpegTsClockFromTimescale)(initPTS,timescale);
var cueTime='00:00.000';
var timestampMapMPEGTS=0;
var timestampMapLOCAL=0;
var parsingError;
var inHeader=true;
parser.oncue=function(cue){
// Adjust cue timing; clamp cues to start no earlier than - and drop cues that don't end after - 0 on timeline.
var currCC=vttCCs[cc];
var cueOffset=vttCCs.ccOffset;

// Calculate subtitle PTS offset
var webVttMpegTsMapOffset=(timestampMapMPEGTS-initPTS90Hz)/90000;

// Update offsets for new discontinuities
if(currCC!==null&&currCC!==void 0&&currCC.new){
if(timestampMapLOCAL!==undefined){
// When local time is provided, offset = discontinuity start time - local time
cueOffset=vttCCs.ccOffset=currCC.start;
}else{
calculateOffset(vttCCs,cc,webVttMpegTsMapOffset);
}
}
if(webVttMpegTsMapOffset){
// If we have MPEGTS, offset = presentation time + discontinuity offset
cueOffset=webVttMpegTsMapOffset-vttCCs.presentationOffset;
}
var duration=cue.endTime-cue.startTime;
var startTime=(0,_remux_mp4_remuxer__WEBPACK_IMPORTED_MODULE_4__.normalizePts)((cue.startTime+cueOffset-timestampMapLOCAL)*90000,timeOffset*90000)/90000;
cue.startTime=Math.max(startTime,0);
cue.endTime=Math.max(startTime+duration,0);

//trim trailing webvtt block whitespaces
var text=cue.text.trim();

// Fix encoding of special characters
cue.text=decodeURIComponent(encodeURIComponent(text));

// If the cue was not assigned an id from the VTT file (line above the content), create one.
if(!cue.id){
cue.id=_generateCueId(cue.startTime,cue.endTime,text);
}
if(cue.endTime>0){
cues.push(cue);
}
};
parser.onparsingerror=function(error){
parsingError=error;
};
parser.onflush=function(){
if(parsingError){
errorCallBack(parsingError);
return;
}
callBack(cues);
};

// Go through contents line by line.
vttLines.forEach(function(line){
if(inHeader){
// Look for X-TIMESTAMP-MAP in header.
if(startsWith(line,'X-TIMESTAMP-MAP=')){
// Once found, no more are allowed anyway, so stop searching.
inHeader=false;
// Extract LOCAL and MPEGTS.
line.slice(16).split(',').forEach(function(timestamp){
if(startsWith(timestamp,'LOCAL:')){
cueTime=timestamp.slice(6);
}else if(startsWith(timestamp,'MPEGTS:')){
timestampMapMPEGTS=parseInt(timestamp.slice(7));
}
});
try{
// Convert cue time to seconds
timestampMapLOCAL=cueString2millis(cueTime)/1000;
}catch(error){
parsingError=error;
}
// Return without parsing X-TIMESTAMP-MAP line.
return;
}else if(line===''){
inHeader=false;
}
}
// Parse line by default.
parser.parse(line+'\n');
});
parser.flush();
}

/***/},

/***/"./src/utils/xhr-loader.ts":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.ts ***!
  \*********************************/
/***/function srcUtilsXhrLoaderTs(__unused_webpack_module,__webpack_exports__,__webpack_require__){

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */"default":function _default(){return __WEBPACK_DEFAULT_EXPORT__;}
/* harmony export */});
/* harmony import */var _utils_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! ../utils/logger */"./src/utils/logger.ts");
/* harmony import */var _loader_load_stats__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ../loader/load-stats */"./src/loader/load-stats.ts");


var AGE_HEADER_LINE_REGEX=/^age:\s*[\d.]+\s*$/m;
var XhrLoader=/*#__PURE__*/function(){
function XhrLoader(config/* HlsConfig */){
this.xhrSetup=void 0;
this.requestTimeout=void 0;
this.retryTimeout=void 0;
this.retryDelay=void 0;
this.config=null;
this.callbacks=null;
this.context=void 0;
this.loader=null;
this.stats=void 0;
this.xhrSetup=config?config.xhrSetup:null;
this.stats=new _loader_load_stats__WEBPACK_IMPORTED_MODULE_1__.LoadStats();
this.retryDelay=0;
}
var _proto=XhrLoader.prototype;
_proto.destroy=function destroy(){
this.callbacks=null;
this.abortInternal();
this.loader=null;
this.config=null;
};
_proto.abortInternal=function abortInternal(){
var loader=this.loader;
self.clearTimeout(this.requestTimeout);
self.clearTimeout(this.retryTimeout);
if(loader){
loader.onreadystatechange=null;
loader.onprogress=null;
if(loader.readyState!==4){
this.stats.aborted=true;
loader.abort();
}
}
};
_proto.abort=function abort(){
var _this$callbacks;
this.abortInternal();
if((_this$callbacks=this.callbacks)!==null&&_this$callbacks!==void 0&&_this$callbacks.onAbort){
this.callbacks.onAbort(this.stats,this.context,this.loader);
}
};
_proto.load=function load(context,config,callbacks){
if(this.stats.loading.start){
throw new Error('Loader can only be used once.');
}
this.stats.loading.start=self.performance.now();
this.context=context;
this.config=config;
this.callbacks=callbacks;
this.retryDelay=config.retryDelay;
this.loadInternal();
};
_proto.loadInternal=function loadInternal(){
var config=this.config,
context=this.context;
if(!config){
return;
}
var xhr=this.loader=new self.XMLHttpRequest();
var stats=this.stats;
stats.loading.first=0;
stats.loaded=0;
var xhrSetup=this.xhrSetup;
try{
if(xhrSetup){
try{
xhrSetup(xhr,context.url);
}catch(e){
// fix xhrSetup: (xhr, url) => {xhr.setRequestHeader("Content-Language", "test");}
// not working, as xhr.setRequestHeader expects xhr.readyState === OPEN
xhr.open('GET',context.url,true);
xhrSetup(xhr,context.url);
}
}
if(!xhr.readyState){
xhr.open('GET',context.url,true);
}
var headers=this.context.headers;
if(headers){
for(var header in headers){
xhr.setRequestHeader(header,headers[header]);
}
}
}catch(e){
// IE11 throws an exception on xhr.open if attempting to access an HTTP resource over HTTPS
this.callbacks.onError({
code:xhr.status,
text:e.message},
context,xhr);
return;
}
if(context.rangeEnd){
xhr.setRequestHeader('Range','bytes='+context.rangeStart+'-'+(context.rangeEnd-1));
}
xhr.onreadystatechange=this.readystatechange.bind(this);
xhr.onprogress=this.loadprogress.bind(this);
xhr.responseType=context.responseType;
// setup timeout before we perform request
self.clearTimeout(this.requestTimeout);
this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),config.timeout);
xhr.send();
};
_proto.readystatechange=function readystatechange(){
var context=this.context,
xhr=this.loader,
stats=this.stats;
if(!context||!xhr){
return;
}
var readyState=xhr.readyState;
var config=this.config;

// don't proceed if xhr has been aborted
if(stats.aborted){
return;
}

// >= HEADERS_RECEIVED
if(readyState>=2){
// clear xhr timeout and rearm it if readyState less than 4
self.clearTimeout(this.requestTimeout);
if(stats.loading.first===0){
stats.loading.first=Math.max(self.performance.now(),stats.loading.start);
}
if(readyState===4){
xhr.onreadystatechange=null;
xhr.onprogress=null;
var status=xhr.status;
// http status between 200 to 299 are all successful
var isArrayBuffer=xhr.responseType==='arraybuffer';
if(status>=200&&status<300&&(isArrayBuffer&&xhr.response||xhr.responseText!==null)){
stats.loading.end=Math.max(self.performance.now(),stats.loading.first);
var data;
var len;
if(isArrayBuffer){
data=xhr.response;
len=data.byteLength;
}else{
data=xhr.responseText;
len=data.length;
}
stats.loaded=stats.total=len;
if(!this.callbacks){
return;
}
var onProgress=this.callbacks.onProgress;
if(onProgress){
onProgress(stats,context,data,xhr);
}
if(!this.callbacks){
return;
}
var response={
url:xhr.responseURL,
data:data};

this.callbacks.onSuccess(response,stats,context,xhr);
}else{
// if max nb of retries reached or if http status between 400 and 499 (such error cannot be recovered, retrying is useless), return error
if(stats.retry>=config.maxRetry||status>=400&&status<499){
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(status+" while loading "+context.url);
this.callbacks.onError({
code:status,
text:xhr.statusText},
context,xhr);
}else{
// retry
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn(status+" while loading "+context.url+", retrying in "+this.retryDelay+"...");
// abort and reset internal state
this.abortInternal();
this.loader=null;
// schedule retry
self.clearTimeout(this.retryTimeout);
this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay);
// set exponential backoff
this.retryDelay=Math.min(2*this.retryDelay,config.maxRetryDelay);
stats.retry++;
}
}
}else{
// readyState >= 2 AND readyState !==4 (readyState = HEADERS_RECEIVED || LOADING) rearm timeout as xhr not finished yet
self.clearTimeout(this.requestTimeout);
this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),config.timeout);
}
}
};
_proto.loadtimeout=function loadtimeout(){
_utils_logger__WEBPACK_IMPORTED_MODULE_0__.logger.warn("timeout while loading "+this.context.url);
var callbacks=this.callbacks;
if(callbacks){
this.abortInternal();
callbacks.onTimeout(this.stats,this.context,this.loader);
}
};
_proto.loadprogress=function loadprogress(event){
var stats=this.stats;
stats.loaded=event.loaded;
if(event.lengthComputable){
stats.total=event.total;
}
};
_proto.getCacheAge=function getCacheAge(){
var result=null;
if(this.loader&&AGE_HEADER_LINE_REGEX.test(this.loader.getAllResponseHeaders())){
var ageHeader=this.loader.getResponseHeader('age');
result=ageHeader?parseFloat(ageHeader):null;
}
return result;
};
return XhrLoader;
}();
/* harmony default export */var __WEBPACK_DEFAULT_EXPORT__=XhrLoader;

/***/},

/***/"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/***/function node_modulesEventemitter3IndexJs(module){

"use strict";


var has=Object.prototype.hasOwnProperty,
prefix='~';

/**
 * Constructor to create a storage for our `EE` objects.
 * An `Events` instance is a plain object whose properties are event names.
 *
 * @constructor
 * @private
 */
function Events(){}

//
// We try to not inherit from `Object.prototype`. In some engines creating an
// instance in this way is faster than calling `Object.create(null)` directly.
// If `Object.create(null)` is not supported we prefix the event names with a
// character to make sure that the built-in object properties are not
// overridden or used as an attack vector.
//
if(Object.create){
Events.prototype=Object.create(null);

//
// This hack is needed because the `__proto__` property is still inherited in
// some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.
//
if(!new Events().__proto__)prefix=false;
}

/**
 * Representation of a single event listener.
 *
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
 * @constructor
 * @private
 */
function EE(fn,context,once){
this.fn=fn;
this.context=context;
this.once=once||false;
}

/**
 * Add a listener for a given event.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} once Specify if the listener is a one-time listener.
 * @returns {EventEmitter}
 * @private
 */
function addListener(emitter,event,fn,context,once){
if(typeof fn!=='function'){
throw new TypeError('The listener must be a function');
}

var listener=new EE(fn,context||emitter,once),
evt=prefix?prefix+event:event;

if(!emitter._events[evt])emitter._events[evt]=listener,emitter._eventsCount++;else
if(!emitter._events[evt].fn)emitter._events[evt].push(listener);else
emitter._events[evt]=[emitter._events[evt],listener];

return emitter;
}

/**
 * Clear event by name.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} evt The Event name.
 * @private
 */
function clearEvent(emitter,evt){
if(--emitter._eventsCount===0)emitter._events=new Events();else
delete emitter._events[evt];
}

/**
 * Minimal `EventEmitter` interface that is molded against the Node.js
 * `EventEmitter` interface.
 *
 * @constructor
 * @public
 */
function EventEmitter(){
this._events=new Events();
this._eventsCount=0;
}

/**
 * Return an array listing the events for which the emitter has registered
 * listeners.
 *
 * @returns {Array}
 * @public
 */
EventEmitter.prototype.eventNames=function eventNames(){
var names=[],
events,
name;

if(this._eventsCount===0)return names;

for(name in events=this._events){
if(has.call(events,name))names.push(prefix?name.slice(1):name);
}

if(Object.getOwnPropertySymbols){
return names.concat(Object.getOwnPropertySymbols(events));
}

return names;
};

/**
 * Return the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Array} The registered listeners.
 * @public
 */
EventEmitter.prototype.listeners=function listeners(event){
var evt=prefix?prefix+event:event,
handlers=this._events[evt];

if(!handlers)return[];
if(handlers.fn)return[handlers.fn];

for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++){
ee[i]=handlers[i].fn;
}

return ee;
};

/**
 * Return the number of listeners listening to a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Number} The number of listeners.
 * @public
 */
EventEmitter.prototype.listenerCount=function listenerCount(event){
var evt=prefix?prefix+event:event,
listeners=this._events[evt];

if(!listeners)return 0;
if(listeners.fn)return 1;
return listeners.length;
};

/**
 * Calls each of the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Boolean} `true` if the event had listeners, else `false`.
 * @public
 */
EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){
var evt=prefix?prefix+event:event;

if(!this._events[evt])return false;

var listeners=this._events[evt],
len=arguments.length,
args,
i;

if(listeners.fn){
if(listeners.once)this.removeListener(event,listeners.fn,undefined,true);

switch(len){
case 1:return listeners.fn.call(listeners.context),true;
case 2:return listeners.fn.call(listeners.context,a1),true;
case 3:return listeners.fn.call(listeners.context,a1,a2),true;
case 4:return listeners.fn.call(listeners.context,a1,a2,a3),true;
case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),true;
case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),true;}


for(i=1,args=new Array(len-1);i<len;i++){
args[i-1]=arguments[i];
}

listeners.fn.apply(listeners.context,args);
}else{
var length=listeners.length,
j;

for(i=0;i<length;i++){
if(listeners[i].once)this.removeListener(event,listeners[i].fn,undefined,true);

switch(len){
case 1:listeners[i].fn.call(listeners[i].context);break;
case 2:listeners[i].fn.call(listeners[i].context,a1);break;
case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;
case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;
default:
if(!args)for(j=1,args=new Array(len-1);j<len;j++){
args[j-1]=arguments[j];
}

listeners[i].fn.apply(listeners[i].context,args);}

}
}

return true;
};

/**
 * Add a listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.on=function on(event,fn,context){
return addListener(this,event,fn,context,false);
};

/**
 * Add a one-time listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.once=function once(event,fn,context){
return addListener(this,event,fn,context,true);
};

/**
 * Remove the listeners of a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn Only remove the listeners that match this function.
 * @param {*} context Only remove the listeners that have this context.
 * @param {Boolean} once Only remove one-time listeners.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){
var evt=prefix?prefix+event:event;

if(!this._events[evt])return this;
if(!fn){
clearEvent(this,evt);
return this;
}

var listeners=this._events[evt];

if(listeners.fn){
if(
listeners.fn===fn&&(
!once||listeners.once)&&(
!context||listeners.context===context))
{
clearEvent(this,evt);
}
}else{
for(var i=0,events=[],length=listeners.length;i<length;i++){
if(
listeners[i].fn!==fn||
once&&!listeners[i].once||
context&&listeners[i].context!==context)
{
events.push(listeners[i]);
}
}

//
// Reset the array, or remove it completely if we have no more listeners.
//
if(events.length)this._events[evt]=events.length===1?events[0]:events;else
clearEvent(this,evt);
}

return this;
};

/**
 * Remove all listeners, or those of the specified event.
 *
 * @param {(String|Symbol)} [event] The event name.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){
var evt;

if(event){
evt=prefix?prefix+event:event;
if(this._events[evt])clearEvent(this,evt);
}else{
this._events=new Events();
this._eventsCount=0;
}

return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off=EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener=EventEmitter.prototype.on;

//
// Expose the prefix.
//
EventEmitter.prefixed=prefix;

//
// Allow `EventEmitter` to be imported as module namespace.
//
EventEmitter.EventEmitter=EventEmitter;

//
// Expose the module.
//
if(true){
module.exports=EventEmitter;
}


/***/},

/***/"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/***/function node_modulesUrlToolkitSrcUrlToolkitJs(module){

// see https://tools.ietf.org/html/rfc1808

(function(root){
var URL_REGEX=
/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/;
var FIRST_SEGMENT_REGEX=/^(?=([^\/?#]*))\1([^]*)$/;
var SLASH_DOT_REGEX=/(?:\/|^)\.(?=\/)/g;
var SLASH_DOT_DOT_REGEX=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g;

var URLToolkit={
// If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //
// E.g
// With opts.alwaysNormalize = false (default, spec compliant)
// http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g
// With opts.alwaysNormalize = true (not spec compliant)
// http://a.com/b/cd + /e/f/../g => http://a.com/e/g
buildAbsoluteURL:function buildAbsoluteURL(baseURL,relativeURL,opts){
opts=opts||{};
// remove any remaining space and CRLF
baseURL=baseURL.trim();
relativeURL=relativeURL.trim();
if(!relativeURL){
// 2a) If the embedded URL is entirely empty, it inherits the
// entire base URL (i.e., is set equal to the base URL)
// and we are done.
if(!opts.alwaysNormalize){
return baseURL;
}
var basePartsForNormalise=URLToolkit.parseURL(baseURL);
if(!basePartsForNormalise){
throw new Error('Error trying to parse base URL.');
}
basePartsForNormalise.path=URLToolkit.normalizePath(
basePartsForNormalise.path);

return URLToolkit.buildURLFromParts(basePartsForNormalise);
}
var relativeParts=URLToolkit.parseURL(relativeURL);
if(!relativeParts){
throw new Error('Error trying to parse relative URL.');
}
if(relativeParts.scheme){
// 2b) If the embedded URL starts with a scheme name, it is
// interpreted as an absolute URL and we are done.
if(!opts.alwaysNormalize){
return relativeURL;
}
relativeParts.path=URLToolkit.normalizePath(relativeParts.path);
return URLToolkit.buildURLFromParts(relativeParts);
}
var baseParts=URLToolkit.parseURL(baseURL);
if(!baseParts){
throw new Error('Error trying to parse base URL.');
}
if(!baseParts.netLoc&&baseParts.path&&baseParts.path[0]!=='/'){
// If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc
// This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'
var pathParts=FIRST_SEGMENT_REGEX.exec(baseParts.path);
baseParts.netLoc=pathParts[1];
baseParts.path=pathParts[2];
}
if(baseParts.netLoc&&!baseParts.path){
baseParts.path='/';
}
var builtParts={
// 2c) Otherwise, the embedded URL inherits the scheme of
// the base URL.
scheme:baseParts.scheme,
netLoc:relativeParts.netLoc,
path:null,
params:relativeParts.params,
query:relativeParts.query,
fragment:relativeParts.fragment};

if(!relativeParts.netLoc){
// 3) If the embedded URL's <net_loc> is non-empty, we skip to
// Step 7.  Otherwise, the embedded URL inherits the <net_loc>
// (if any) of the base URL.
builtParts.netLoc=baseParts.netLoc;
// 4) If the embedded URL path is preceded by a slash "/", the
// path is not relative and we skip to Step 7.
if(relativeParts.path[0]!=='/'){
if(!relativeParts.path){
// 5) If the embedded URL path is empty (and not preceded by a
// slash), then the embedded URL inherits the base URL path
builtParts.path=baseParts.path;
// 5a) if the embedded URL's <params> is non-empty, we skip to
// step 7; otherwise, it inherits the <params> of the base
// URL (if any) and
if(!relativeParts.params){
builtParts.params=baseParts.params;
// 5b) if the embedded URL's <query> is non-empty, we skip to
// step 7; otherwise, it inherits the <query> of the base
// URL (if any) and we skip to step 7.
if(!relativeParts.query){
builtParts.query=baseParts.query;
}
}
}else{
// 6) The last segment of the base URL's path (anything
// following the rightmost slash "/", or the entire path if no
// slash is present) is removed and the embedded URL's path is
// appended in its place.
var baseURLPath=baseParts.path;
var newPath=
baseURLPath.substring(0,baseURLPath.lastIndexOf('/')+1)+
relativeParts.path;
builtParts.path=URLToolkit.normalizePath(newPath);
}
}
}
if(builtParts.path===null){
builtParts.path=opts.alwaysNormalize?
URLToolkit.normalizePath(relativeParts.path):
relativeParts.path;
}
return URLToolkit.buildURLFromParts(builtParts);
},
parseURL:function parseURL(url){
var parts=URL_REGEX.exec(url);
if(!parts){
return null;
}
return{
scheme:parts[1]||'',
netLoc:parts[2]||'',
path:parts[3]||'',
params:parts[4]||'',
query:parts[5]||'',
fragment:parts[6]||''};

},
normalizePath:function normalizePath(path){
// The following operations are
// then applied, in order, to the new path:
// 6a) All occurrences of "./", where "." is a complete path
// segment, are removed.
// 6b) If the path ends with "." as a complete path segment,
// that "." is removed.
path=path.split('').reverse().join('').replace(SLASH_DOT_REGEX,'');
// 6c) All occurrences of "<segment>/../", where <segment> is a
// complete path segment not equal to "..", are removed.
// Removal of these path segments is performed iteratively,
// removing the leftmost matching pattern on each iteration,
// until no matching pattern remains.
// 6d) If the path ends with "<segment>/..", where <segment> is a
// complete path segment not equal to "..", that
// "<segment>/.." is removed.
while(
path.length!==(path=path.replace(SLASH_DOT_DOT_REGEX,'')).length)
{}
return path.split('').reverse().join('');
},
buildURLFromParts:function buildURLFromParts(parts){
return(
parts.scheme+
parts.netLoc+
parts.path+
parts.params+
parts.query+
parts.fragment);

}};


if(true)
module.exports=URLToolkit;else
{}
})(this);


/***/}

/******/};
/************************************************************************/
/******/ // The module cache
/******/var __webpack_module_cache__={};
/******/
/******/ // The require function
/******/function __webpack_require__(moduleId){
/******/ // Check if module is in cache
/******/var cachedModule=__webpack_module_cache__[moduleId];
/******/if(cachedModule!==undefined){
/******/return cachedModule.exports;
/******/}
/******/ // Create a new module (and put it into the cache)
/******/var module=__webpack_module_cache__[moduleId]={
/******/ // no module.id needed
/******/ // no module.loaded needed
/******/exports:{}
/******/};
/******/
/******/ // Execute the module function
/******/__webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__);
/******/
/******/ // Return the exports of the module
/******/return module.exports;
/******/}
/******/
/******/ // expose the modules object (__webpack_modules__)
/******/__webpack_require__.m=__webpack_modules__;
/******/
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/(function(){
/******/ // getDefaultExport function for compatibility with non-harmony modules
/******/__webpack_require__.n=function(module){
/******/var getter=module&&module.__esModule?
/******/function(){return module['default'];}:
/******/function(){return module;};
/******/__webpack_require__.d(getter,{a:getter});
/******/return getter;
/******/};
/******/})();
/******/
/******/ /* webpack/runtime/define property getters */
/******/(function(){
/******/ // define getter functions for harmony exports
/******/__webpack_require__.d=function(exports,definition){
/******/for(var key in definition){
/******/if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){
/******/Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});
/******/}
/******/}
/******/};
/******/})();
/******/
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/(function(){
/******/__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);};
/******/})();
/******/
/******/ /* webpack/runtime/make namespace object */
/******/(function(){
/******/ // define __esModule on exports
/******/__webpack_require__.r=function(exports){
/******/if(typeof Symbol!=='undefined'&&Symbol.toStringTag){
/******/Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});
/******/}
/******/Object.defineProperty(exports,'__esModule',{value:true});
/******/};
/******/})();
/******/
/************************************************************************/
/******/
/******/ // module factories are used so entry inlining is disabled
/******/ // startup
/******/ // Load entry module and return exports
/******/var __webpack_exports__=__webpack_require__("./src/hls.ts");
/******/__webpack_exports__=__webpack_exports__["default"];
/******/
/******/return __webpack_exports__;
/******/}());

});

/***/ }),
/* 197 */
/*!****************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/node_modules/dplayer/dist/DPlayer.min.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, Buffer) {!function (n, e) { true ? module.exports = e() : undefined;}(self, function () {return function () {var n = { 916: function _(n, e, t) {var a = t(471);n.exports = function (n) {"use strict";var e,o = "",r = (n = n || {}).video,i = n.options,l = a.$escape,s = n.tran,p = n.icons,d = n.index,c = a.$each;return n.$value, n.$index, o += '<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ', e = t(568)(r), o += e, o += "\n    ", i.logo && (o += '\n    <div class="dplayer-logo">\n        <img src="', o += l(i.logo), o += '">\n    </div>\n    '), o += '\n    <div class="dplayer-danmaku"', i.danmaku && i.danmaku.bottom && (o += ' style="margin-bottom:', o += l(i.danmaku.bottom), o += '"'), o += '>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ', i.danmaku && (o += '\n        <span class="dplayer-danloading">', o += l(s("danmaku-loading")), o += "</span>\n        "), o += '\n        <span class="diplayer-loading-icon">', o += p.loading, o += '</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="', o += l(s("setting")), o += '" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', o += p.pallette, o += '</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">', o += l(s("set-danmaku-color")), o += '</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', o += l(d), o += '" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', o += l(d), o += '" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', o += l(d), o += '" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', o += l(d), o += '" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', o += l(d), o += '" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-', o += l(d), o += '" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">', o += l(s("set-danmaku-type")), o += '</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-', o += l(d), o += '" value="1">\n                    <span>', o += l(s("top")), o += '</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-', o += l(d), o += '" value="0" checked>\n                    <span>', o += l(s("rolling")), o += '</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-', o += l(d), o += '" value="2">\n                    <span>', o += l(s("bottom")), o += '</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="', o += l(s("input-danmaku-enter")), o += '" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="', o += l(s("send")), o += '" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', o += p.send, o += '</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">', o += p.play, o += '</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">', o += p.volumeDown, o += '</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ', o += l(i.theme), o += ';">\n                        <span class="dplayer-thumb" style="background: ', o += l(i.theme), o += '"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ', i.live && (o += '\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ', o += l(i.theme), o += ';"></span>', o += l(s("live")), o += "</span>\n        "), o += '\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ', i.video.quality && (o += '\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">', o += l(i.video.quality[i.video.defaultQuality].name), o += '</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ', c(i.video.quality, function (n, e) {o += '\n                    <div class="dplayer-quality-item" data-index="', o += l(e), o += '">', o += l(n.name), o += "</div>\n                ";}), o += "\n                </div>\n            </div>\n        </div>\n        "), o += "\n        ", i.screenshot && (o += '\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="', o += l(s("screenshot")), o += '" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', o += p.camera, o += "</span>\n        </div>\n        "), o += "\n        ", i.airplay && (o += '\n        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="', o += l(s("airplay")), o += '" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', o += p.airplay, o += "</span>\n        </div>\n        "), o += "\n        ", i.chromecast && (o += '\n        <div class="dplayer-icon dplayer-chromecast-icon" data-balloon="', o += l(s("chromecast")), o += '" data-balloon-pos="up">\n            <span class="dplayer-icon-content">', o += p.chromecast, o += "</span>\n        </div>\n        "), o += '\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="', o += l(s("send-danmaku")), o += '" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', o += p.comment, o += "</span>\n            </button>\n        </div>\n        ", i.subtitle && (o += "\n        ", "string" == typeof i.subtitle.url ? (o += '\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="', o += l(s("hide-subs")), o += '" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', o += p.subtitle, o += "</span>\n            </button>\n        </div>\n        ") : (o += '\n        <div class="dplayer-subtitles">\n            <button class="dplayer-icon dplayer-subtitles-icon" data-balloon="', o += l(s("subtitle")), o += '" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', o += p.subtitle, o += '</span>\n            </button>\n            <div class="dplayer-subtitles-box">\n                <div class="dplayer-subtitles-panel">\n                    ', c(i.subtitle.url, function (n, e) {o += '\n                        <div class="dplayer-subtitles-item" data-subtitle="', o += l(n.url), o += '">\n                            \x3c!-- if lang, show tran(lang). if lang and name, show name + (tran(lang)). if name, show name. off option use lang for translation. --\x3e\n                            <span class="dplayer-label">', o += l(n.lang ? n.name ? n.name + " (" + s(n.lang) + ")" : s(n.lang) : n.name), o += "</span>\n                        </div>\n                    ";}), o += "\n                </div>\n            </div>\n        </div>\n        "), o += "\n        "), o += '\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="', o += l(s("setting")), o += '" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', o += p.setting, o += '</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">', o += l(s("speed")), o += '</span>\n                        <div class="dplayer-toggle">', o += p.right, o += '</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">', o += l(s("loop")), o += '</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">', o += l(s("show-danmaku")), o += '</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">', o += l(s("unlimited-danmaku")), o += '</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">', o += l(s("opacity-danmaku")), o += '</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    ', c(i.playbackSpeed, function (n, e) {o += '\n                        <div class="dplayer-setting-speed-item" data-speed="', o += l(n), o += '">\n                            <span class="dplayer-label">', o += l(1 === n ? s("normal") : n), o += "</span>\n                        </div>\n                    ";}), o += '\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="', o += l(s("web-fullscreen")), o += '" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', o += p.fullWeb, o += '</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="', o += l(s("fullscreen")), o += '" data-balloon-pos="up">\n                <span class="dplayer-icon-content">', o += p.full, o += '</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ', o += l(i.theme), o += '">\n                <span class="dplayer-thumb" style="background: ', o += l(i.theme), o += '"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ', i.danmaku && (o += '\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danmaku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danmaku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danmaku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '), o += '\n</div>\n<div class="dplayer-menu">\n    ', c(i.contextmenu, function (n, e) {o += '\n        <div class="dplayer-menu-item">\n            <a', n.link && (o += ' target="_blank"'), o += ' href="', o += l(n.link || "javascript:void(0);"), o += '">', n.key && (o += " ", o += l(s(n.key))), n.text && (o += " ", o += l(n.text)), o += "</a>\n        </div>\n    ";}), o += '\n</div>\n<div class="dplayer-notice-list"></div>\n<button class="dplayer-mobile-play">\n    ', o += p.play, o += "\n</button>";};}, 568: function _(n, e, t) {var a = t(471);n.exports = function (n) {"use strict";var e = "",t = (n = n || {}).enableSubtitle,o = n.subtitle,r = n.current,i = n.airplay,l = n.pic,s = a.$escape,p = n.screenshot,d = n.preload,c = n.url;return t = o && "webvtt" === o.type, e += '\n<video\n    class="dplayer-video ', r && (e += "dplayer-video-current"), e += '"\n    webkit-playsinline\n    ', i && (e += ' x-webkit-airplay="allow" '), e += "\n    playsinline\n    ", l && (e += 'poster="', e += s(l), e += '"'), e += "\n    ", (p || t) && (e += 'crossorigin="anonymous"'), e += "\n    ", d && (e += 'preload="', e += s(d), e += '"'), e += "\n    ", i ? e += "\n    nosrc\n    " : c && (e += '\n    src="', e += s(c), e += '"\n    '), e += "\n    >\n    ", i && (e += '\n    <source src="', e += s(c), e += '">\n    '), e += "\n    ", t && (e += '\n    <track class="dplayer-subtrack" kind="metadata" default src="', e += s("string" == typeof o.url ? o.url : o.url[o.index].url), e += '"></track>\n    '), e + "\n</video>";};}, 49: function _(n, e, t) {"use strict";t.d(e, { Z: function Z() {return l;} });var a = t(415),o = t.n(a),r = t(352),i = t.n(r)()(o());i.push([n.id, ':root {\n  --balloon-border-radius: 2px;\n  --balloon-color: rgba(16, 16, 16, 0.95);\n  --balloon-text-color: #fff;\n  --balloon-font-size: 12px;\n  --balloon-move: 4px; }\n\nbutton[aria-label][data-balloon-pos] {\n  overflow: visible; }\n\n[aria-label][data-balloon-pos] {\n  position: relative;\n  cursor: pointer; }\n  [aria-label][data-balloon-pos]:after {\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    text-indent: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n    font-weight: normal;\n    font-style: normal;\n    text-shadow: none;\n    font-size: 12px;\n    font-size: var(--balloon-font-size);\n    background: rgba(16, 16, 16, 0.95);\n    background: var(--balloon-color);\n    border-radius: 2px;\n    color: #fff;\n    color: var(--balloon-text-color);\n    border-radius: var(--balloon-border-radius);\n    content: attr(aria-label);\n    padding: .5em 1em;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-top-color: rgba(16, 16, 16, 0.95);\n    border-top-color: var(--balloon-color);\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    content: "";\n    position: absolute;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {\n    opacity: 1;\n    pointer-events: none; }\n  [aria-label][data-balloon-pos].font-awesome:after {\n    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif; }\n  [aria-label][data-balloon-pos][data-balloon-break]:after {\n    white-space: pre; }\n  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {\n    white-space: pre-line;\n    word-break: break-word; }\n  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {\n    transition: none; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {\n    left: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {\n    left: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {\n    right: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {\n    right: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    bottom: 100%;\n    transform-origin: top;\n    transform: translate(0, 4px);\n    transform: translate(0, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    margin-bottom: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {\n    left: 50%;\n    transform: translate(-50%, 4px);\n    transform: translate(-50%, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    top: 100%;\n    transform: translate(0, calc(4px * -1));\n    transform: translate(0, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    margin-top: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-bottom-color: rgba(16, 16, 16, 0.95);\n    border-bottom-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {\n    left: 50%;\n    transform: translate(-50%, calc(4px * -1));\n    transform: translate(-50%, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    right: 100%;\n    top: 50%;\n    transform: translate(4px, -50%);\n    transform: translate(var(--balloon-move), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {\n    margin-right: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-left-color: rgba(16, 16, 16, 0.95);\n    border-left-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    left: 100%;\n    top: 50%;\n    transform: translate(calc(4px * -1), -50%);\n    transform: translate(calc(var(--balloon-move) * -1), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {\n    margin-left: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-right-color: rgba(16, 16, 16, 0.95);\n    border-right-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-length]:after {\n    white-space: normal; }\n  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {\n    width: 80px; }\n  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {\n    width: 150px; }\n  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {\n    width: 260px; }\n  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n    width: 380px; }\n    @media screen and (max-width: 768px) {\n      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n        width: 90vw; } }\n  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {\n    width: 100%; }\n', "", { version: 3, sources: ["webpack://./node_modules/.pnpm/balloon-css@1.2.0/node_modules/balloon-css/balloon.css"], names: [], mappings: "AAAA;EACE,4BAA4B;EAC5B,uCAAuC;EACvC,0BAA0B;EAC1B,yBAAyB;EACzB,mBAAmB,EAAE;;AAEvB;EACE,iBAAiB,EAAE;;AAErB;EACE,kBAAkB;EAClB,eAAe,EAAE;EACjB;IACE,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,cAAc;IACd,wIAAwI;IACxI,mBAAmB;IACnB,kBAAkB;IAClB,iBAAiB;IACjB,eAAmC;IAAnC,mCAAmC;IACnC,kCAAgC;IAAhC,gCAAgC;IAChC,kBAAkB;IAClB,WAAgC;IAAhC,gCAAgC;IAChC,2CAA2C;IAC3C,yBAAyB;IACzB,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,WAAW,EAAE;EACf;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,wCAAsC;IAAtC,sCAAsC;IACtC,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,WAAW;IACX,kBAAkB;IAClB,WAAW,EAAE;EACf;IACE,UAAU;IACV,oBAAoB,EAAE;EACxB;IACE,qJAAqJ,EAAE;EACzJ;IACE,gBAAgB,EAAE;EACpB;IACE,qBAAqB;IACrB,sBAAsB,EAAE;EAC1B;IACE,gBAAgB,EAAE;EACpB;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,OAAO,EAAE;EACX;IACE,SAAS,EAAE;EACb;IACE,QAAQ,EAAE;EACZ;IACE,UAAU,EAAE;EACd;IACE,0BAA0B,EAAE;EAC9B;IACE,0BAA0B,EAAE;EAC9B;IACE,YAAY;IACZ,qBAAqB;IACrB,4BAA4C;IAA5C,4CAA4C,EAAE;EAChD;IACE,mBAAmB,EAAE;EACvB;IACE,SAAS;IACT,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,SAAS;IACT,uCAAuD;IAAvD,uDAAuD,EAAE;EAC3D;IACE,gBAAgB,EAAE;EACpB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,2CAAyC;IAAzC,yCAAyC,EAAE;EAC7C;IACE,SAAS;IACT,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,WAAW;IACX,QAAQ;IACR,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,kBAAkB,EAAE;EACtB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,yCAAuC;IAAvC,uCAAuC,EAAE;EAC3C;IACE,UAAU;IACV,QAAQ;IACR,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,iBAAiB,EAAE;EACrB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,0CAAwC;IAAxC,wCAAwC,EAAE;EAC5C;IACE,mBAAmB,EAAE;EACvB;IACE,WAAW,EAAE;EACf;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;IACd;MACE;QACE,WAAW,EAAE,EAAE;EACrB;IACE,WAAW,EAAE", sourcesContent: [':root {\n  --balloon-border-radius: 2px;\n  --balloon-color: rgba(16, 16, 16, 0.95);\n  --balloon-text-color: #fff;\n  --balloon-font-size: 12px;\n  --balloon-move: 4px; }\n\nbutton[aria-label][data-balloon-pos] {\n  overflow: visible; }\n\n[aria-label][data-balloon-pos] {\n  position: relative;\n  cursor: pointer; }\n  [aria-label][data-balloon-pos]:after {\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    text-indent: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n    font-weight: normal;\n    font-style: normal;\n    text-shadow: none;\n    font-size: var(--balloon-font-size);\n    background: var(--balloon-color);\n    border-radius: 2px;\n    color: var(--balloon-text-color);\n    border-radius: var(--balloon-border-radius);\n    content: attr(aria-label);\n    padding: .5em 1em;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-top-color: var(--balloon-color);\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    content: "";\n    position: absolute;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {\n    opacity: 1;\n    pointer-events: none; }\n  [aria-label][data-balloon-pos].font-awesome:after {\n    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif; }\n  [aria-label][data-balloon-pos][data-balloon-break]:after {\n    white-space: pre; }\n  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {\n    white-space: pre-line;\n    word-break: break-word; }\n  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {\n    transition: none; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {\n    left: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {\n    left: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {\n    right: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {\n    right: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    bottom: 100%;\n    transform-origin: top;\n    transform: translate(0, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    margin-bottom: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {\n    left: 50%;\n    transform: translate(-50%, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    top: 100%;\n    transform: translate(0, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    margin-top: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-bottom-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {\n    left: 50%;\n    transform: translate(-50%, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    right: 100%;\n    top: 50%;\n    transform: translate(var(--balloon-move), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {\n    margin-right: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-left-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    left: 100%;\n    top: 50%;\n    transform: translate(calc(var(--balloon-move) * -1), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {\n    margin-left: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-right-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-length]:after {\n    white-space: normal; }\n  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {\n    width: 80px; }\n  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {\n    width: 150px; }\n  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {\n    width: 260px; }\n  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n    width: 380px; }\n    @media screen and (max-width: 768px) {\n      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n        width: 90vw; } }\n  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {\n    width: 100%; }\n'], sourceRoot: "" }]);var l = i;}, 685: function _(n, e, t) {"use strict";t.d(e, { Z: function Z() {return u;} });var a = t(415),o = t.n(a),r = t(352),i = t.n(r),l = t(49),s = t(80),p = t.n(s),d = new URL(t(831), t.b),c = i()(o());c.i(l.Z);var A = p()(d);c.push([n.id, '@keyframes my-face {\n  2% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  4% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  6% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  8% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  10% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  12% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  14% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  16% {\n    transform: translate(0, -0.5px) rotate(-1.5deg);\n  }\n  18% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  20% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  22% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  24% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  26% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  28% {\n    transform: translate(0, 0.5px) rotate(1.5deg);\n  }\n  30% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  32% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  34% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  36% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  38% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  40% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  42% {\n    transform: translate(0, 2.5px) rotate(-1.5deg);\n  }\n  44% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  46% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  48% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  50% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  52% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  54% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  56% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  58% {\n    transform: translate(0, 0.5px) rotate(2.5deg);\n  }\n  60% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  62% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  64% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  66% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  68% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  70% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  72% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  74% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  76% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  78% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  80% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  82% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  84% {\n    transform: translate(0, 1.5px) rotate(2.5deg);\n  }\n  86% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  88% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  90% {\n    transform: translate(0, 2.5px) rotate(-0.5deg);\n  }\n  92% {\n    transform: translate(0, 0.5px) rotate(-0.5deg);\n  }\n  94% {\n    transform: translate(0, 2.5px) rotate(0.5deg);\n  }\n  96% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  98% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  0%,\n  100% {\n    transform: translate(0, 0) rotate(0deg);\n  }\n}\n.dplayer {\n  position: relative;\n  overflow: hidden;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  line-height: 1;\n}\n.dplayer * {\n  box-sizing: content-box;\n}\n.dplayer svg {\n  width: 100%;\n  height: 100%;\n}\n.dplayer svg path,\n.dplayer svg circle {\n  fill: #fff;\n}\n.dplayer:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  transform: translate(0, 0);\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-danmaku {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-time {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-bar-wrap {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-speed {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-loop {\n  display: none;\n}\n.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {\n  display: none;\n}\n.dplayer.dplayer-arrow .dplayer-danmaku {\n  font-size: 18px;\n}\n.dplayer.dplayer-arrow .dplayer-icon {\n  margin: 0 -3px;\n}\n.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {\n  animation-play-state: running;\n}\n@media (min-width: 900px) {\n  .dplayer.dplayer-playing .dplayer-controller-mask {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing .dplayer-controller {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller-mask {\n    opacity: 1;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller {\n    opacity: 1;\n  }\n}\n.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {\n  display: block;\n}\n.dplayer.dplayer-loading .dplayer-danmaku,\n.dplayer.dplayer-paused .dplayer-danmaku,\n.dplayer.dplayer-loading .dplayer-danmaku-move,\n.dplayer.dplayer-paused .dplayer-danmaku-move {\n  animation-play-state: paused;\n}\n.dplayer.dplayer-hide-controller {\n  cursor: none;\n}\n.dplayer.dplayer-hide-controller .dplayer-controller-mask {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-hide-controller .dplayer-controller {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-show-controller .dplayer-controller-mask {\n  opacity: 1;\n}\n.dplayer.dplayer-show-controller .dplayer-controller {\n  opacity: 1;\n}\n.dplayer.dplayer-fulled {\n  width: 100% !important;\n  height: 100% !important;\n}\n.dplayer.dplayer-fulled {\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: static;\n  display: inline-block;\n}\n.dplayer.dplayer-mobile .dplayer-bar-time {\n  display: none;\n}\n.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-mobile-play {\n  display: block;\n}\n.dplayer-web-fullscreen-fix {\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n}\n[data-balloon]:before {\n  display: none;\n}\n[data-balloon]:after {\n  padding: 0.3em 0.7em;\n  background: rgba(17, 17, 17, 0.7);\n}\n[data-balloon][data-balloon-pos="up"]:after {\n  margin-bottom: 0;\n}\n.dplayer-bezel {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -26px 0 0 -26px;\n  height: 52px;\n  width: 52px;\n  padding: 12px;\n  box-sizing: border-box;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 50%;\n  opacity: 0;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {\n  animation: bezel-hide 0.5s linear;\n}\n@keyframes bezel-hide {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(2);\n  }\n}\n.dplayer-bezel .dplayer-danloading {\n  position: absolute;\n  top: 50%;\n  margin-top: -7px;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 14px;\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-bezel .diplayer-loading-icon {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -18px 0 0 -18px;\n  height: 36px;\n  width: 36px;\n  pointer-events: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {\n  display: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {\n  animation: diplayer-loading-dot-fade 0.8s ease infinite;\n  opacity: 0;\n  transform-origin: 4px 4px;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {\n  animation-delay: 0.1s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {\n  animation-delay: 0.2s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {\n  animation-delay: 0.3s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {\n  animation-delay: 0.4s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {\n  animation-delay: 0.5s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {\n  animation-delay: 0.6s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {\n  animation-delay: 0.7s;\n}\n@keyframes diplayer-loading-dot-fade {\n  0% {\n    opacity: 0.7;\n    transform: scale(1.2, 1.2);\n  }\n  50% {\n    opacity: 0.25;\n    transform: scale(0.9, 0.9);\n  }\n  to {\n    opacity: 0.25;\n    transform: scale(0.85, 0.85);\n  }\n}\n.dplayer-controller-mask {\n  background: url(' + A + ") repeat-x bottom;\n  height: 98px;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  transition: all 0.3s ease;\n}\n.dplayer-controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 41px;\n  padding: 0 20px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  transition: all 0.3s ease;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons {\n  display: none;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap {\n  padding: 5px 0;\n  cursor: pointer;\n  position: absolute;\n  bottom: 33px;\n  width: calc(100% - 40px);\n  height: 3px;\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {\n  display: block;\n  width: 8px;\n  transform: translateX(-4px);\n  top: 4px;\n  height: 40%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {\n  z-index: 12;\n  position: absolute;\n  top: 5px;\n  width: 6px;\n  height: 20%;\n  border-radius: 6px;\n  background-color: #fff;\n  text-align: center;\n  transform: translateX(-3px);\n  transition: all 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {\n  display: none;\n  position: absolute;\n  left: 50%;\n  top: -24px;\n  padding: 5px 8px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  white-space: nowrap;\n  transform: translateX(-50%);\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {\n  position: absolute;\n  background: #fff;\n  pointer-events: none;\n  display: none;\n  background-size: 16000px 100%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {\n  position: absolute;\n  left: 0px;\n  top: -20px;\n  border-radius: 4px;\n  padding: 5px 7px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n  word-wrap: normal;\n  word-break: normal;\n  z-index: 2;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar {\n  position: relative;\n  height: 3px;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  height: 3px;\n  transition: all 0.5s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  height: 3px;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons {\n  height: 38px;\n  position: absolute;\n  bottom: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box {\n  display: none;\n  position: absolute;\n  transition: all 0.3s ease-in-out;\n  z-index: 2;\n  height: 38px;\n  bottom: 0;\n  left: 20px;\n  right: 20px;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {\n  position: absolute;\n  background: rgba(28, 28, 28, 0.9);\n  bottom: 41px;\n  left: 0;\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  padding: 10px 10px 16px;\n  font-size: 14px;\n  width: 204px;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {\n  font-size: 13px;\n  color: #fff;\n  line-height: 30px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {\n  margin-bottom: 6px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {\n  border-radius: 4px 0 0 4px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {\n  border-radius: 0 4px 4px 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {\n  width: 33%;\n  padding: 4px 6px;\n  line-height: 16px;\n  display: inline-block;\n  font-size: 12px;\n  color: #fff;\n  border: 1px solid #fff;\n  margin-right: -1px;\n  box-sizing: border-box;\n  text-align: center;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {\n  background: #E4E4E6;\n  color: #1c1c1c;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {\n  font-size: 0;\n  padding: 6px;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {\n  width: 22px;\n  height: 22px;\n  display: inline-block;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {\n  outline: none;\n  border: none;\n  padding: 8px 31px;\n  font-size: 14px;\n  line-height: 18px;\n  text-align: center;\n  border-radius: 4px;\n  background: none;\n  margin: 0;\n  height: 100%;\n  box-sizing: border-box;\n  width: 100%;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder {\n  color: #fff;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {\n  color: #fff;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right {\n  right: 20px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {\n  padding: 8px;\n}\n.dplayer-controller .dplayer-icons .dplayer-time,\n.dplayer-controller .dplayer-icons .dplayer-live-badge {\n  line-height: 38px;\n  color: #eee;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n  vertical-align: middle;\n  font-size: 13px;\n  cursor: default;\n}\n.dplayer-controller .dplayer-icons .dplayer-live-dot {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  vertical-align: 4%;\n  margin-right: 5px;\n  content: '';\n  border-radius: 6px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon {\n  width: 40px;\n  height: 100%;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  vertical-align: middle;\n  box-sizing: border-box;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {\n  transition: all 0.2s ease-in-out;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {\n  opacity: 1;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {\n  color: #fff;\n  width: auto;\n  line-height: 22px;\n  font-size: 14px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {\n  padding: 10px 9px 9px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {\n  padding-top: 8.5px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {\n  width: 43px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {\n  display: inline-block;\n  margin: 0 10px 0 -5px;\n  vertical-align: middle;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  position: relative;\n  top: 17px;\n  width: 0;\n  height: 3px;\n  background: #aaa;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: -moz-fit-content;\n  width: fit-content;\n  max-width: 240px;\n  min-width: 120px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: auto;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: 150px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {\n  width: 70px;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {\n  padding: 5px 0;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {\n  padding: 0 10px;\n  display: inline;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {\n  padding: 0 10px;\n  box-sizing: border-box;\n  display: none;\n  vertical-align: middle;\n  height: 100%;\n  width: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {\n  position: relative;\n  top: 8.5px;\n  width: 100%;\n  height: 3px;\n  background: #fff;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  background: #aaa;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  background: #aaa;\n}\n.dplayer-controller .dplayer-icons .dplayer-full {\n  display: inline-block;\n  height: 100%;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: absolute;\n  top: -30px;\n  z-index: 1;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {\n  display: none;\n  position: absolute;\n  bottom: 38px;\n  left: -18px;\n  width: 80px;\n  padding-bottom: 12px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {\n  display: none;\n  font-size: 12px;\n  width: 80px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 5px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {\n  height: 25px;\n  box-sizing: border-box;\n  cursor: pointer;\n  line-height: 25px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-comment {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-label {\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle {\n  width: 32px;\n  height: 20px;\n  text-align: center;\n  font-size: 0;\n  vertical-align: middle;\n  position: absolute;\n  top: 5px;\n  right: 10px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input {\n  max-height: 0;\n  max-width: 0;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label {\n  display: inline-block;\n  position: relative;\n  box-shadow: #dfdfdf 0 0 0 0 inset;\n  border: 1px solid #dfdfdf;\n  height: 20px;\n  width: 32px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {\n  content: \"\";\n  position: absolute;\n  display: block;\n  height: 18px;\n  width: 18px;\n  top: 0;\n  left: 0;\n  border-radius: 15px;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {\n  content: \"\";\n  position: absolute;\n  display: block;\n  left: 0;\n  top: 0;\n  border-radius: 15px;\n  background: #fff;\n  transition: 0.2s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n  height: 18px;\n  width: 18px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {\n  width: 30px;\n  background: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {\n  left: 12px;\n}\n.dplayer-mobile-play {\n  display: none;\n  width: 50px;\n  height: 50px;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  bottom: 0;\n  opacity: 0.8;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.dplayer-danmaku {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n}\n.dplayer-danmaku .dplayer-danmaku-item {\n  display: inline-block;\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  cursor: default;\n  white-space: nowrap;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n}\n.dplayer-danmaku .dplayer-danmaku-item--demo {\n  position: absolute;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-right {\n  position: absolute;\n  right: 0;\n  transform: translateX(100%);\n}\n.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {\n  will-change: transform;\n  animation-name: 'danmaku';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku {\n  from {\n    transform: translateX(100%);\n  }\n}\n.dplayer-danmaku .dplayer-danmaku-top,\n.dplayer-danmaku .dplayer-danmaku-bottom {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,\n.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {\n  will-change: visibility;\n  animation-name: 'danmaku-center';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku-center {\n  from {\n    visibility: visible;\n  }\n  to {\n    visibility: visible;\n  }\n}\n.dplayer-logo {\n  pointer-events: none;\n  position: absolute;\n  left: 20px;\n  top: 20px;\n  max-width: 50px;\n  max-height: 50px;\n}\n.dplayer-logo img {\n  max-width: 100%;\n  max-height: 100%;\n  background: none;\n}\n.dplayer-menu {\n  position: absolute;\n  width: 170px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.85);\n  padding: 5px 0;\n  overflow: hidden;\n  z-index: 3;\n  display: none;\n}\n.dplayer-menu.dplayer-menu-show {\n  display: block;\n}\n.dplayer-menu .dplayer-menu-item {\n  height: 30px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-menu .dplayer-menu-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-menu .dplayer-menu-item a {\n  padding: 0 10px;\n  line-height: 30px;\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  width: 100%;\n  box-sizing: border-box;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-menu .dplayer-menu-item a:hover {\n  text-decoration: none;\n}\n.dplayer-notice-list {\n  position: absolute;\n  bottom: 60px;\n  left: 20px;\n}\n.dplayer-notice-list .dplayer-notice {\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  display: table;\n  pointer-events: none;\n  animation: showNotice 0.3s ease 1 forwards;\n}\n.dplayer-notice-list .remove-notice {\n  animation: removeNotice 0.3s ease 1 forwards;\n}\n@keyframes showNotice {\n  from {\n    padding: 0;\n    font-size: 0;\n    margin-top: 0;\n  }\n  to {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n}\n@keyframes removeNotice {\n  0% {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n  20% {\n    font-size: 12px;\n  }\n  21% {\n    font-size: 0;\n    padding: 7px 10px;\n  }\n  100% {\n    padding: 0;\n    margin-top: 0;\n    font-size: 0;\n  }\n}\n.dplayer-subtitle {\n  position: absolute;\n  bottom: 40px;\n  width: 90%;\n  left: 5%;\n  text-align: center;\n  color: #fff;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n  font-size: 20px;\n}\n.dplayer-subtitle.dplayer-subtitle-hide {\n  display: none;\n}\n.dplayer-mask {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  display: none;\n}\n.dplayer-mask.dplayer-mask-show {\n  display: block;\n}\n.dplayer-video-wrap {\n  position: relative;\n  background: #000;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n}\n.dplayer-video-wrap .dplayer-video {\n  width: 100%;\n  height: 100%;\n  display: none;\n}\n.dplayer-video-wrap .dplayer-video-current {\n  display: block;\n}\n.dplayer-video-wrap .dplayer-video-prepare {\n  display: none;\n}\n.dplayer-info-panel {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 400px;\n  background: rgba(28, 28, 28, 0.8);\n  padding: 10px;\n  color: #fff;\n  font-size: 12px;\n  border-radius: 2px;\n}\n.dplayer-info-panel-hide {\n  display: none;\n}\n.dplayer-info-panel .dplayer-info-panel-close {\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item > span {\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-info-panel .dplayer-info-panel-item-title {\n  width: 100px;\n  text-align: right;\n  margin-right: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item-data {\n  width: 260px;\n}\n", "", { version: 3, sources: ["webpack://./src/css/global.less", "webpack://./src/css/index.less", "webpack://./src/css/player.less", "webpack://./src/css/balloon.less", "webpack://./src/css/bezel.less", "webpack://./src/css/notice.less", "webpack://./src/css/controller.less", "webpack://./src/css/danmaku.less", "webpack://./src/css/logo.less", "webpack://./src/css/menu.less", "webpack://./src/css/subtitle.less", "webpack://./src/css/video.less", "webpack://./src/css/info-panel.less"], names: [], mappings: "AAAA;EACI;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;;IAEI,uCAAA;ECEN;AACF;ACzJA;EACI,kBAAA;EACA,gBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,cAAA;AD2JJ;AC/JA;EAOQ,uBAAA;AD2JR;AClKA;EAWQ,WAAA;EACA,YAAA;AD0JR;ACtKA;;EAgBY,UAAA;AD0JZ;ACtJI;EACI,WAAA;EACA,YAAA;EACA,gBAAA;EACA,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,0BAAA;ADwJR;ACpJI;;;EAKY,aAAA;ADoJhB;ACzJI;EAUQ,aAAA;ADkJZ;AC5JI;EAcQ,aAAA;ADiJZ;AC7II;EAEQ,aAAA;AD8IZ;AChJI;EAKQ,aAAA;AD8IZ;ACnJI;EAQQ,aAAA;AD8IZ;ACtJI;EAWQ,aAAA;AD8IZ;AC3IQ;EAEQ,aAAA;AD4IhB;ACvII;EAEQ,eAAA;ADwIZ;AC1II;EAKQ,cAAA;ADwIZ;ACpII;EAEQ,6BAAA;ADqIZ;AClIQ;EAAA;IAEQ,UAAA;EDoId;ECtIM;IAKQ,UAAA;EDoId;ECjIU;IAEQ,UAAA;EDkIlB;ECpIU;IAKQ,UAAA;EDkIlB;AACF;AC7HI;EAEQ,cAAA;AD8HZ;AC1HI;;;;EAIQ,4BAAA;AD4HZ;ACxHI;EACI,YAAA;AD0HR;AC3HI;EAIQ,UAAA;EACA,2BAAA;AD0HZ;AC/HI;EAQQ,UAAA;EACA,2BAAA;AD0HZ;ACvHI;EAEQ,UAAA;ADwHZ;AC1HI;EAKQ,UAAA;ADwHZ;ACrHI;EAKI,sBAAA;EACA,uBAAA;ADuHR;AC7HI;EACI,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;ADyHR;ACrHI;;;;;EAOY,aAAA;ADqHhB;AC5HI;EAUY,gBAAA;EACA,qBAAA;ADqHhB;AChII;EAgBQ,aAAA;ADmHZ;AChHQ;EAEQ,aAAA;ADiHhB;ACtII;EA0BQ,cAAA;AD+GZ;ACzGA;EACI,eAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;AD2GJ;AElSA;EACI,aAAA;AFoSJ;AEjSA;EACI,oBAAA;EACA,iCAAA;AFmSJ;AEhSA;EACI,gBAAA;AFkSJ;AG9SA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;EACA,oBAAA;AHgTJ;AGxTA;EAUQ,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,aAAA;EACA,sBAAA;EACA,8BAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AHiTR;AGhTQ;EACI,iCAAA;AHkTZ;AGhTQ;EACI;IACI,UAAA;IACA,mBAAA;EHkTd;EGhTU;IACI,UAAA;IACA,mBAAA;EHkTd;AACF;AGnVA;EAqCQ,kBAAA;EACA,QAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,iBAAA;EACA,0CAAA;AHiTR;AG7VA;EA+CQ,aAAA;EACA,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,oBAAA;AHiTR;AGvWA;EAwDY,aAAA;AHkTZ;AG1WA;EA2DY,uDAAA;EACA,UAAA;EACA,yBAAA;AHkTZ;AI/WC;EDgEmB,qBAAA;AHkTpB;AIlXC;EDgEmB,qBAAA;AHqTpB;AIrXC;EDgEmB,qBAAA;AHwTpB;AIxXC;EDgEmB,qBAAA;AH2TpB;AI3XC;EDgEmB,qBAAA;AH8TpB;AI9XC;EDgEmB,qBAAA;AHiUpB;AIjYC;EDgEmB,qBAAA;AHoUpB;AGhUQ;EACI;IACI,YAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,4BAAA;EHkUd;AACF;AKlZA;EACI,mEAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,SAAA;EACA,yBAAA;ALoZJ;AKjZA;EACI,kBAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,yBAAA;ALmZJ;AKlZI;EAEQ,aAAA;ALmZZ;AKrZI;EAKQ,cAAA;ALmZZ;AKjaA;EAkBQ,cAAA;EACA,eAAA;EACA,kBAAA;EACA,YAAA;EACA,wBAAA;EACA,WAAA;ALkZR;AKjZQ;EAEQ,mBAAA;ALkZhB;AKpZQ;EAKQ,cAAA;EACA,UAAA;EACA,2BAAA;EACA,QAAA;EACA,WAAA;ALkZhB;AKnbA;EAqCY,WAAA;EACA,kBAAA;EACA,QAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,2BAAA;EACA,gCAAA;ALiZZ;AKhZY;EAEQ,cAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AKxcA;EA2DgB,aAAA;EACA,kBAAA;EACA,SAAA;EACA,UAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,mBAAA;EACA,2BAAA;ALgZhB;AKrdA;EAyEY,kBAAA;EACA,gBAAA;EACA,oBAAA;EACA,aAAA;EACA,6BAAA;AL+YZ;AK5dA;EAgFY,kBAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,oBAAA;AL+YZ;AKneA;EA0FY,kBAAA;EACA,SAAA;EACA,UAAA;EACA,kBAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;EACA,UAAA;EACA,oCAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AL4YZ;AK7ZY;EACI,UAAA;AL+ZhB;AKvfA;EA2GY,kBAAA;EACA,WAAA;EACA,WAAA;EACA,oCAAA;EACA,eAAA;AL+YZ;AK9fA;EAiHgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,oCAAA;EACA,WAAA;EACA,yBAAA;EACA,kBAAA;ALgZhB;AKxgBA;EA2HgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,WAAA;EACA,kBAAA;ALgZhB;AKhhBA;EAkIoB,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALiZpB;AK7hBA;EAkJQ,YAAA;EACA,kBAAA;EACA,SAAA;AL8YR;AK7YQ;EACI,aAAA;EACA,kBAAA;EACA,gCAAA;EACA,UAAA;EACA,YAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;AL+YZ;AKxZQ;EAWQ,YAAA;ALgZhB;AK3ZQ;EAcQ,kBAAA;EACA,OAAA;EACA,MAAA;ALgZhB;AKhaQ;EAmBQ,kBAAA;EACA,QAAA;EACA,MAAA;ALgZhB;AKraQ;EAwBQ,kBAAA;EACA,iCAAA;EACA,YAAA;EACA,OAAA;EACA,uCAAA;EACA,kBAAA;EACA,uBAAA;EACA,eAAA;EACA,YAAA;EACA,gCAAA;EACA,mBAAA;ALgZhB;AK/YgB;EACI,mBAAA;ALiZpB;AKrbQ;EAuCY,aAAA;ALiZpB;AKxbQ;EA0CY,eAAA;ALiZpB;AK3bQ;EA6CY,eAAA;EACA,WAAA;EACA,iBAAA;ALiZpB;AKhcQ;EAkDY,YAAA;ALiZpB;AKncQ;EAoDgB,kBAAA;ALkZxB;AK/YwB;EAEQ,0BAAA;ALgZhC;AK7YwB;EAEQ,0BAAA;AL8YhC;AK5cQ;EAmEgB,UAAA;EACA,gBAAA;EACA,iBAAA;EACA,qBAAA;EACA,eAAA;EACA,WAAA;EACA,sBAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,eAAA;AL4YxB;AKzdQ;EAgFgB,mBAAA;EACA,cAAA;AL4YxB;AK7dQ;EAqFY,YAAA;AL2YpB;AKheQ;EAuFgB,YAAA;EACA,YAAA;EACA,qBAAA;AL4YxB;AKreQ;EA4FgB,WAAA;EACA,YAAA;EACA,qBAAA;EACA,kBAAA;EACA,sBAAA;EACA,eAAA;AL4YxB;AK3YwB;EACI,0CAAA;AL6Y5B;AKhfQ;EAyGQ,aAAA;EACA,YAAA;EACA,iBAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,kBAAA;EACA,gBAAA;EACA,SAAA;EACA,YAAA;EACA,sBAAA;EACA,WAAA;EACA,WAAA;AL0YhB;AKzYgB;EACI,WAAA;EACA,YAAA;AL2YpB;AK7YgB;EACI,WAAA;EACA,YAAA;AL2YpB;AKzYgB;EACI,aAAA;AL2YpB;AKvYQ;EAEQ,YAAA;ALwYhB;AKrYQ;EACI,WAAA;ALuYZ;AKxYQ;EAGQ,YAAA;ALwYhB;AKpqBA;;EAiSY,iBAAA;EACA,WAAA;EACA,uCAAA;EACA,sBAAA;EACA,eAAA;EACA,eAAA;ALuYZ;AK7qBA;EAySY,qBAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,kBAAA;ALuYZ;AKtrBA;EAkTY,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EACA,sBAAA;EACA,qBAAA;ALuYZ;AKjsBA;EA4TgB,gCAAA;EACA,YAAA;ALwYhB;AKtYY;EAEQ,UAAA;ALuYpB;AKpYY;EACI,WAAA;EACA,WAAA;EACA,iBAAA;EACA,eAAA;ALsYhB;AKpYY;EACI,qBAAA;ALsYhB;AKpYY;EACI,kBAAA;ALsYhB;AKpYY;EACI,WAAA;ALsYhB;AKvtBA;EAqVY,kBAAA;EACA,qBAAA;EACA,eAAA;EACA,YAAA;ALqYZ;AKpYY;EAEQ,WAAA;ALqYpB;AKvYY;EAKQ,mBAAA;ALqYpB;AKlYY;EAEQ,WAAA;ALmYpB;AKrYY;EAKQ,mBAAA;ALmYpB;AKzuBA;EA0WgB,qBAAA;EACA,qBAAA;EACA,sBAAA;EACA,YAAA;ALkYhB;AK/uBA;EA+WoB,kBAAA;EACA,SAAA;EACA,QAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;ALmYpB;AKvvBA;EAsXwB,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,kBAAA;ALoYxB;AK/vBA;EA6X4B,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALqY5B;AK5wBA;EA8YY,qBAAA;EACA,YAAA;ALiYZ;AKhxBA;EAkZY,qBAAA;EACA,YAAA;ALiYZ;AKpxBA;EAqZgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,uBAAA;EAAA,kBAAA;EACA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,cAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,cAAA;ALmYpB;AKjYgB;EACI,mBAAA;ALmYpB;AKzyBA;EA0agB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALkYhB;AKjYgB;EACI,0CAAA;ALmYpB;AKnzBA;EAqbY,qBAAA;EACA,YAAA;ALiYZ;AKvzBA;EAwbgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,YAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,aAAA;ALmYpB;AKlYoB;EACI,cAAA;ALoYxB;AKjYgB;EACI,mBAAA;ALmYpB;AKjYgB;EACI,WAAA;EACA,kBAAA;ALmYpB;AKjYgB;EAEQ,aAAA;ALkYxB;AKpYgB;EAKQ,cAAA;ALkYxB;AKv1BA;;EA2dgB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALgYhB;AK/XgB;;EACI,0CAAA;ALkYpB;AKn2BA;EAqegB,cAAA;ALiYhB;AKt2BA;EAueoB,eAAA;EACA,eAAA;ALkYpB;AKhYgB;EAEQ,aAAA;ALiYxB;AKnYgB;EAKQ,qBAAA;ALiYxB;AK9XgB;EAEQ,aAAA;AL+XxB;AKjYgB;EAKQ,qBAAA;AL+XxB;AKt3BA;EA2foB,eAAA;EACA,sBAAA;EACA,aAAA;EACA,sBAAA;EACA,YAAA;EACA,WAAA;AL8XpB;AK93BA;EAkgBwB,kBAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;AL+XxB;AKt4BA;EAygB4B,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,gBAAA;EACA,kBAAA;ALgY5B;AK/4BA;EAihBgC,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,gBAAA;ALiYhC;AK55BA;EAmiBY,qBAAA;EACA,YAAA;EACA,kBAAA;AL4XZ;AK3XY;EAEQ,cAAA;AL4XpB;AKp6BA;EA4iBgB,kBAAA;EACA,UAAA;EACA,UAAA;EACA,aAAA;AL2XhB;AK16BA;EAmjBY,kBAAA;EACA,qBAAA;EACA,YAAA;EACA,UAAA;AL0XZ;AKzXY;EAEQ,cAAA;AL0XpB;AK5XY;EAKQ,cAAA;AL0XpB;AKt7BA;EAgkBgB,aAAA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;EACA,WAAA;EACA,oBAAA;ALyXhB;AK97BA;EAwkBgB,aAAA;EACA,eAAA;EACA,WAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;ALyXhB;AK18BA;EAolBgB,YAAA;EACA,sBAAA;EACA,eAAA;EACA,iBAAA;ALyXhB;AKxXgB;EACI,0CAAA;AL0XpB;AKn9BA;EA8lBY,qBAAA;EACA,YAAA;ALwXZ;AKv9BA;EAkmBY,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,mBAAA;ALwXZ;AK99BA;EAymBY,WAAA;EACA,YAAA;EACA,kBAAA;EACA,YAAA;EACA,sBAAA;EACA,kBAAA;EACA,QAAA;EACA,WAAA;ALwXZ;AKx+BA;EAknBgB,aAAA;EACA,YAAA;EACA,aAAA;ALyXhB;AK7+BA;EAunBgB,qBAAA;EACA,kBAAA;EACA,iCAAA;EACA,yBAAA;EACA,YAAA;EACA,WAAA;EACA,mBAAA;EACA,sBAAA;EACA,eAAA;EACA,4BAAA;ALyXhB;AKz/BA;EAmoBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,YAAA;EACA,WAAA;EACA,MAAA;EACA,OAAA;EACA,mBAAA;EACA,4BAAA;ALyXhB;AKpgCA;EA8oBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,OAAA;EACA,MAAA;EACA,mBAAA;EACA,gBAAA;EACA,4BAAA;EACA,wCAAA;EACA,YAAA;EACA,WAAA;ALyXhB;AKjhCA;EA2pBgB,sCAAA;ALyXhB;AKphCA;EA8pBgB,WAAA;EACA,oCAAA;ALyXhB;AKxhCA;EAkqBgB,UAAA;ALyXhB;AKnXA;EACI,aAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EAEA,SAAA;EACA,YAAA;EACA,kBAAA;EACA,SAAA;EACA,QAAA;EACA,gCAAA;ALoXJ;AMpjCA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;ANsjCJ;AM7jCA;EASQ,qBAAA;EACA,oBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,eAAA;EACA,mBAAA;EACA,iDAAA;ANujCR;AMtjCQ;EACI,kBAAA;EACA,kBAAA;ANwjCZ;AMzkCA;EAqBQ,kBAAA;EACA,QAAA;EACA,2BAAA;ANujCR;AMtjCQ;EACI,sBAAA;EACA,yBAAA;EACA,iCAAA;EACA,4BAAA;ANwjCZ;AMrjCI;EACI;IACI,2BAAA;ENujCV;AACF;AMzlCA;;EAsCQ,kBAAA;EACA,WAAA;EACA,kBAAA;EACA,kBAAA;ANujCR;AMtjCQ;;EACI,uBAAA;EACA,gCAAA;EACA,iCAAA;EACA,4BAAA;ANyjCZ;AMtjCI;EACI;IACI,mBAAA;ENwjCV;EMtjCM;IACI,mBAAA;ENwjCV;AACF;AO/mCA;EACI,oBAAA;EACA,kBAAA;EACA,UAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;APinCJ;AOvnCA;EAQQ,eAAA;EACA,gBAAA;EACA,gBAAA;APknCR;AQ5nCA;EACI,kBAAA;EACA,YAAA;EACA,kBAAA;EACA,kCAAA;EACA,cAAA;EACA,gBAAA;EACA,UAAA;EACA,aAAA;AR8nCJ;AQ7nCI;EACI,cAAA;AR+nCR;AQzoCA;EAaQ,YAAA;EACA,sBAAA;EACA,eAAA;AR+nCR;AQ9nCQ;EACI,0CAAA;ARgoCZ;AQjpCA;EAqBY,eAAA;EACA,iBAAA;EACA,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,sBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AR+nCZ;AQ9nCY;EACI,qBAAA;ARgoChB;AIjqCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;AJmqCJ;AItqCA;EAMQ,kBAAA;EACA,iCAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,cAAA;EACA,oBAAA;EACA,0CAAA;AJmqCR;AIhrCA;EAiBQ,4CAAA;AJkqCR;AI9pCA;EACI;IACI,UAAA;IACA,YAAA;IACA,aAAA;EJgqCN;EI9pCE;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJgqCN;AACF;AI7pCA;EACI;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJ+pCN;EI7pCE;IACI,eAAA;EJ+pCN;EI7pCE;IACI,YAAA;IACA,iBAAA;EJ+pCN;EI7pCE;IACI,UAAA;IACA,aAAA;IACA,YAAA;EJ+pCN;AACF;ASltCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;EACA,QAAA;EACA,kBAAA;EACA,WAAA;EACA,iDAAA;EACA,eAAA;ATotCJ;ASntCI;EACI,aAAA;ATqtCR;AU/tCA;EACI,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,UAAA;EACA,aAAA;AViuCJ;AUhuCI;EACI,cAAA;AVkuCR;AU9tCA;EACI,kBAAA;EACA,gBAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AVguCJ;AUruCA;EAOQ,WAAA;EACA,YAAA;EACA,aAAA;AViuCR;AU1uCA;EAYQ,cAAA;AViuCR;AU7uCA;EAeQ,aAAA;AViuCR;AW7vCA;EACI,kBAAA;EACA,SAAA;EACA,UAAA;EACA,YAAA;EACA,iCAAA;EACA,aAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;AX+vCJ;AW7vCI;EACI,aAAA;AX+vCR;AW3wCA;EAgBQ,eAAA;EACA,kBAAA;EACA,WAAA;EACA,SAAA;AX8vCR;AW1vCQ;EACI,qBAAA;EACA,sBAAA;EACA,iBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AX4vCZ;AWzxCA;EAkCQ,YAAA;EACA,iBAAA;EACA,kBAAA;AX0vCR;AW9xCA;EAwCQ,YAAA;AXyvCR", sourcesContent: ["@keyframes my-face {\n    2% {\n        transform: translate(0, 1.5px) rotate(1.5deg);\n    }\n    4% {\n        transform: translate(0, -1.5px) rotate(-0.5deg);\n    }\n    6% {\n        transform: translate(0, 1.5px) rotate(-1.5deg);\n    }\n    8% {\n        transform: translate(0, -1.5px) rotate(-1.5deg);\n    }\n    10% {\n        transform: translate(0, 2.5px) rotate(1.5deg);\n    }\n    12% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    14% {\n        transform: translate(0, -1.5px) rotate(1.5deg);\n    }\n    16% {\n        transform: translate(0, -0.5px) rotate(-1.5deg);\n    }\n    18% {\n        transform: translate(0, 0.5px) rotate(-1.5deg);\n    }\n    20% {\n        transform: translate(0, -1.5px) rotate(2.5deg);\n    }\n    22% {\n        transform: translate(0, 0.5px) rotate(-1.5deg);\n    }\n    24% {\n        transform: translate(0, 1.5px) rotate(1.5deg);\n    }\n    26% {\n        transform: translate(0, 0.5px) rotate(0.5deg);\n    }\n    28% {\n        transform: translate(0, 0.5px) rotate(1.5deg);\n    }\n    30% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    32% {\n        transform: translate(0, 1.5px) rotate(-0.5deg);\n    }\n    34% {\n        transform: translate(0, 1.5px) rotate(-0.5deg);\n    }\n    36% {\n        transform: translate(0, -1.5px) rotate(2.5deg);\n    }\n    38% {\n        transform: translate(0, 1.5px) rotate(-1.5deg);\n    }\n    40% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    42% {\n        transform: translate(0, 2.5px) rotate(-1.5deg);\n    }\n    44% {\n        transform: translate(0, 1.5px) rotate(0.5deg);\n    }\n    46% {\n        transform: translate(0, -1.5px) rotate(2.5deg);\n    }\n    48% {\n        transform: translate(0, -0.5px) rotate(0.5deg);\n    }\n    50% {\n        transform: translate(0, 0.5px) rotate(0.5deg);\n    }\n    52% {\n        transform: translate(0, 2.5px) rotate(2.5deg);\n    }\n    54% {\n        transform: translate(0, -1.5px) rotate(1.5deg);\n    }\n    56% {\n        transform: translate(0, 2.5px) rotate(2.5deg);\n    }\n    58% {\n        transform: translate(0, 0.5px) rotate(2.5deg);\n    }\n    60% {\n        transform: translate(0, 2.5px) rotate(2.5deg);\n    }\n    62% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    64% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    66% {\n        transform: translate(0, 1.5px) rotate(-0.5deg);\n    }\n    68% {\n        transform: translate(0, -1.5px) rotate(-0.5deg);\n    }\n    70% {\n        transform: translate(0, 1.5px) rotate(0.5deg);\n    }\n    72% {\n        transform: translate(0, 2.5px) rotate(1.5deg);\n    }\n    74% {\n        transform: translate(0, -0.5px) rotate(0.5deg);\n    }\n    76% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    78% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    80% {\n        transform: translate(0, 1.5px) rotate(1.5deg);\n    }\n    82% {\n        transform: translate(0, -0.5px) rotate(0.5deg);\n    }\n    84% {\n        transform: translate(0, 1.5px) rotate(2.5deg);\n    }\n    86% {\n        transform: translate(0, -1.5px) rotate(-1.5deg);\n    }\n    88% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    90% {\n        transform: translate(0, 2.5px) rotate(-0.5deg);\n    }\n    92% {\n        transform: translate(0, 0.5px) rotate(-0.5deg);\n    }\n    94% {\n        transform: translate(0, 2.5px) rotate(0.5deg);\n    }\n    96% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    98% {\n        transform: translate(0, -1.5px) rotate(-0.5deg);\n    }\n    0%,\n    100% {\n        transform: translate(0, 0) rotate(0deg);\n    }\n}", "@import '../../node_modules/balloon-css/balloon.css';\n@keyframes my-face {\n  2% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  4% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  6% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  8% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  10% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  12% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  14% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  16% {\n    transform: translate(0, -0.5px) rotate(-1.5deg);\n  }\n  18% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  20% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  22% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  24% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  26% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  28% {\n    transform: translate(0, 0.5px) rotate(1.5deg);\n  }\n  30% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  32% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  34% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  36% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  38% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  40% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  42% {\n    transform: translate(0, 2.5px) rotate(-1.5deg);\n  }\n  44% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  46% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  48% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  50% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  52% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  54% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  56% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  58% {\n    transform: translate(0, 0.5px) rotate(2.5deg);\n  }\n  60% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  62% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  64% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  66% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  68% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  70% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  72% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  74% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  76% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  78% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  80% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  82% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  84% {\n    transform: translate(0, 1.5px) rotate(2.5deg);\n  }\n  86% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  88% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  90% {\n    transform: translate(0, 2.5px) rotate(-0.5deg);\n  }\n  92% {\n    transform: translate(0, 0.5px) rotate(-0.5deg);\n  }\n  94% {\n    transform: translate(0, 2.5px) rotate(0.5deg);\n  }\n  96% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  98% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  0%,\n  100% {\n    transform: translate(0, 0) rotate(0deg);\n  }\n}\n.dplayer {\n  position: relative;\n  overflow: hidden;\n  user-select: none;\n  line-height: 1;\n}\n.dplayer * {\n  box-sizing: content-box;\n}\n.dplayer svg {\n  width: 100%;\n  height: 100%;\n}\n.dplayer svg path,\n.dplayer svg circle {\n  fill: #fff;\n}\n.dplayer:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  transform: translate(0, 0);\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-danmaku {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-time {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-bar-wrap {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-speed {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-loop {\n  display: none;\n}\n.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {\n  display: none;\n}\n.dplayer.dplayer-arrow .dplayer-danmaku {\n  font-size: 18px;\n}\n.dplayer.dplayer-arrow .dplayer-icon {\n  margin: 0 -3px;\n}\n.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {\n  animation-play-state: running;\n}\n@media (min-width: 900px) {\n  .dplayer.dplayer-playing .dplayer-controller-mask {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing .dplayer-controller {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller-mask {\n    opacity: 1;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller {\n    opacity: 1;\n  }\n}\n.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {\n  display: block;\n}\n.dplayer.dplayer-loading .dplayer-danmaku,\n.dplayer.dplayer-paused .dplayer-danmaku,\n.dplayer.dplayer-loading .dplayer-danmaku-move,\n.dplayer.dplayer-paused .dplayer-danmaku-move {\n  animation-play-state: paused;\n}\n.dplayer.dplayer-hide-controller {\n  cursor: none;\n}\n.dplayer.dplayer-hide-controller .dplayer-controller-mask {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-hide-controller .dplayer-controller {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-show-controller .dplayer-controller-mask {\n  opacity: 1;\n}\n.dplayer.dplayer-show-controller .dplayer-controller {\n  opacity: 1;\n}\n.dplayer.dplayer-fulled {\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n  width: 100% !important;\n  height: 100% !important;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: static;\n  display: inline-block;\n}\n.dplayer.dplayer-mobile .dplayer-bar-time {\n  display: none;\n}\n.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-mobile-play {\n  display: block;\n}\n.dplayer-web-fullscreen-fix {\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n}\n[data-balloon]:before {\n  display: none;\n}\n[data-balloon]:after {\n  padding: 0.3em 0.7em;\n  background: rgba(17, 17, 17, 0.7);\n}\n[data-balloon][data-balloon-pos=\"up\"]:after {\n  margin-bottom: 0;\n}\n.dplayer-bezel {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -26px 0 0 -26px;\n  height: 52px;\n  width: 52px;\n  padding: 12px;\n  box-sizing: border-box;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 50%;\n  opacity: 0;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {\n  animation: bezel-hide 0.5s linear;\n}\n@keyframes bezel-hide {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(2);\n  }\n}\n.dplayer-bezel .dplayer-danloading {\n  position: absolute;\n  top: 50%;\n  margin-top: -7px;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 14px;\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-bezel .diplayer-loading-icon {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -18px 0 0 -18px;\n  height: 36px;\n  width: 36px;\n  pointer-events: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {\n  display: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {\n  animation: diplayer-loading-dot-fade 0.8s ease infinite;\n  opacity: 0;\n  transform-origin: 4px 4px;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {\n  animation-delay: 0.1s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {\n  animation-delay: 0.2s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {\n  animation-delay: 0.3s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {\n  animation-delay: 0.4s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {\n  animation-delay: 0.5s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {\n  animation-delay: 0.6s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {\n  animation-delay: 0.7s;\n}\n@keyframes diplayer-loading-dot-fade {\n  0% {\n    opacity: 0.7;\n    transform: scale(1.2, 1.2);\n  }\n  50% {\n    opacity: 0.25;\n    transform: scale(0.9, 0.9);\n  }\n  to {\n    opacity: 0.25;\n    transform: scale(0.85, 0.85);\n  }\n}\n.dplayer-controller-mask {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;\n  height: 98px;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  transition: all 0.3s ease;\n}\n.dplayer-controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 41px;\n  padding: 0 20px;\n  user-select: none;\n  transition: all 0.3s ease;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons {\n  display: none;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap {\n  padding: 5px 0;\n  cursor: pointer;\n  position: absolute;\n  bottom: 33px;\n  width: calc(100% - 40px);\n  height: 3px;\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {\n  display: block;\n  width: 8px;\n  transform: translateX(-4px);\n  top: 4px;\n  height: 40%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {\n  z-index: 12;\n  position: absolute;\n  top: 5px;\n  width: 6px;\n  height: 20%;\n  border-radius: 6px;\n  background-color: #fff;\n  text-align: center;\n  transform: translateX(-3px);\n  transition: all 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {\n  display: none;\n  position: absolute;\n  left: 50%;\n  top: -24px;\n  padding: 5px 8px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  white-space: nowrap;\n  transform: translateX(-50%);\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {\n  position: absolute;\n  background: #fff;\n  pointer-events: none;\n  display: none;\n  background-size: 16000px 100%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {\n  position: absolute;\n  left: 0px;\n  top: -20px;\n  border-radius: 4px;\n  padding: 5px 7px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n  word-wrap: normal;\n  word-break: normal;\n  z-index: 2;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar {\n  position: relative;\n  height: 3px;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  height: 3px;\n  transition: all 0.5s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  height: 3px;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons {\n  height: 38px;\n  position: absolute;\n  bottom: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box {\n  display: none;\n  position: absolute;\n  transition: all 0.3s ease-in-out;\n  z-index: 2;\n  height: 38px;\n  bottom: 0;\n  left: 20px;\n  right: 20px;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {\n  position: absolute;\n  background: rgba(28, 28, 28, 0.9);\n  bottom: 41px;\n  left: 0;\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  padding: 10px 10px 16px;\n  font-size: 14px;\n  width: 204px;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {\n  font-size: 13px;\n  color: #fff;\n  line-height: 30px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {\n  margin-bottom: 6px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {\n  border-radius: 4px 0 0 4px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {\n  border-radius: 0 4px 4px 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {\n  width: 33%;\n  padding: 4px 6px;\n  line-height: 16px;\n  display: inline-block;\n  font-size: 12px;\n  color: #fff;\n  border: 1px solid #fff;\n  margin-right: -1px;\n  box-sizing: border-box;\n  text-align: center;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {\n  background: #E4E4E6;\n  color: #1c1c1c;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {\n  font-size: 0;\n  padding: 6px;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {\n  width: 22px;\n  height: 22px;\n  display: inline-block;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {\n  outline: none;\n  border: none;\n  padding: 8px 31px;\n  font-size: 14px;\n  line-height: 18px;\n  text-align: center;\n  border-radius: 4px;\n  background: none;\n  margin: 0;\n  height: 100%;\n  box-sizing: border-box;\n  width: 100%;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {\n  color: #fff;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right {\n  right: 20px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {\n  padding: 8px;\n}\n.dplayer-controller .dplayer-icons .dplayer-time,\n.dplayer-controller .dplayer-icons .dplayer-live-badge {\n  line-height: 38px;\n  color: #eee;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n  vertical-align: middle;\n  font-size: 13px;\n  cursor: default;\n}\n.dplayer-controller .dplayer-icons .dplayer-live-dot {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  vertical-align: 4%;\n  margin-right: 5px;\n  content: '';\n  border-radius: 6px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon {\n  width: 40px;\n  height: 100%;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  vertical-align: middle;\n  box-sizing: border-box;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {\n  transition: all 0.2s ease-in-out;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {\n  opacity: 1;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {\n  color: #fff;\n  width: auto;\n  line-height: 22px;\n  font-size: 14px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {\n  padding: 10px 9px 9px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {\n  padding-top: 8.5px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {\n  width: 43px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {\n  display: inline-block;\n  margin: 0 10px 0 -5px;\n  vertical-align: middle;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  position: relative;\n  top: 17px;\n  width: 0;\n  height: 3px;\n  background: #aaa;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: fit-content;\n  max-width: 240px;\n  min-width: 120px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: auto;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: 150px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {\n  width: 70px;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {\n  padding: 5px 0;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {\n  padding: 0 10px;\n  display: inline;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {\n  padding: 0 10px;\n  box-sizing: border-box;\n  display: none;\n  vertical-align: middle;\n  height: 100%;\n  width: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {\n  position: relative;\n  top: 8.5px;\n  width: 100%;\n  height: 3px;\n  background: #fff;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  background: #aaa;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  background: #aaa;\n}\n.dplayer-controller .dplayer-icons .dplayer-full {\n  display: inline-block;\n  height: 100%;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: absolute;\n  top: -30px;\n  z-index: 1;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {\n  display: none;\n  position: absolute;\n  bottom: 38px;\n  left: -18px;\n  width: 80px;\n  padding-bottom: 12px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {\n  display: none;\n  font-size: 12px;\n  width: 80px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 5px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {\n  height: 25px;\n  box-sizing: border-box;\n  cursor: pointer;\n  line-height: 25px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-comment {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-label {\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle {\n  width: 32px;\n  height: 20px;\n  text-align: center;\n  font-size: 0;\n  vertical-align: middle;\n  position: absolute;\n  top: 5px;\n  right: 10px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input {\n  max-height: 0;\n  max-width: 0;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label {\n  display: inline-block;\n  position: relative;\n  box-shadow: #dfdfdf 0 0 0 0 inset;\n  border: 1px solid #dfdfdf;\n  height: 20px;\n  width: 32px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {\n  content: \"\";\n  position: absolute;\n  display: block;\n  height: 18px;\n  width: 18px;\n  top: 0;\n  left: 0;\n  border-radius: 15px;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {\n  content: \"\";\n  position: absolute;\n  display: block;\n  left: 0;\n  top: 0;\n  border-radius: 15px;\n  background: #fff;\n  transition: 0.2s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n  height: 18px;\n  width: 18px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {\n  width: 30px;\n  background: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {\n  left: 12px;\n}\n.dplayer-mobile-play {\n  display: none;\n  width: 50px;\n  height: 50px;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  bottom: 0;\n  opacity: 0.8;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.dplayer-danmaku {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n}\n.dplayer-danmaku .dplayer-danmaku-item {\n  display: inline-block;\n  pointer-events: none;\n  user-select: none;\n  cursor: default;\n  white-space: nowrap;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n}\n.dplayer-danmaku .dplayer-danmaku-item--demo {\n  position: absolute;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-right {\n  position: absolute;\n  right: 0;\n  transform: translateX(100%);\n}\n.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {\n  will-change: transform;\n  animation-name: 'danmaku';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku {\n  from {\n    transform: translateX(100%);\n  }\n}\n.dplayer-danmaku .dplayer-danmaku-top,\n.dplayer-danmaku .dplayer-danmaku-bottom {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,\n.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {\n  will-change: visibility;\n  animation-name: 'danmaku-center';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku-center {\n  from {\n    visibility: visible;\n  }\n  to {\n    visibility: visible;\n  }\n}\n.dplayer-logo {\n  pointer-events: none;\n  position: absolute;\n  left: 20px;\n  top: 20px;\n  max-width: 50px;\n  max-height: 50px;\n}\n.dplayer-logo img {\n  max-width: 100%;\n  max-height: 100%;\n  background: none;\n}\n.dplayer-menu {\n  position: absolute;\n  width: 170px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.85);\n  padding: 5px 0;\n  overflow: hidden;\n  z-index: 3;\n  display: none;\n}\n.dplayer-menu.dplayer-menu-show {\n  display: block;\n}\n.dplayer-menu .dplayer-menu-item {\n  height: 30px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-menu .dplayer-menu-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-menu .dplayer-menu-item a {\n  padding: 0 10px;\n  line-height: 30px;\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  width: 100%;\n  box-sizing: border-box;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-menu .dplayer-menu-item a:hover {\n  text-decoration: none;\n}\n.dplayer-notice-list {\n  position: absolute;\n  bottom: 60px;\n  left: 20px;\n}\n.dplayer-notice-list .dplayer-notice {\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  display: table;\n  pointer-events: none;\n  animation: showNotice 0.3s ease 1 forwards;\n}\n.dplayer-notice-list .remove-notice {\n  animation: removeNotice 0.3s ease 1 forwards;\n}\n@keyframes showNotice {\n  from {\n    padding: 0;\n    font-size: 0;\n    margin-top: 0;\n  }\n  to {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n}\n@keyframes removeNotice {\n  0% {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n  20% {\n    font-size: 12px;\n  }\n  21% {\n    font-size: 0;\n    padding: 7px 10px;\n  }\n  100% {\n    padding: 0;\n    margin-top: 0;\n    font-size: 0;\n  }\n}\n.dplayer-subtitle {\n  position: absolute;\n  bottom: 40px;\n  width: 90%;\n  left: 5%;\n  text-align: center;\n  color: #fff;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n  font-size: 20px;\n}\n.dplayer-subtitle.dplayer-subtitle-hide {\n  display: none;\n}\n.dplayer-mask {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  display: none;\n}\n.dplayer-mask.dplayer-mask-show {\n  display: block;\n}\n.dplayer-video-wrap {\n  position: relative;\n  background: #000;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n}\n.dplayer-video-wrap .dplayer-video {\n  width: 100%;\n  height: 100%;\n  display: none;\n}\n.dplayer-video-wrap .dplayer-video-current {\n  display: block;\n}\n.dplayer-video-wrap .dplayer-video-prepare {\n  display: none;\n}\n.dplayer-info-panel {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 400px;\n  background: rgba(28, 28, 28, 0.8);\n  padding: 10px;\n  color: #fff;\n  font-size: 12px;\n  border-radius: 2px;\n}\n.dplayer-info-panel-hide {\n  display: none;\n}\n.dplayer-info-panel .dplayer-info-panel-close {\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item > span {\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-info-panel .dplayer-info-panel-item-title {\n  width: 100px;\n  text-align: right;\n  margin-right: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item-data {\n  width: 260px;\n}\n", ".dplayer {\n    position: relative;\n    overflow: hidden;\n    user-select: none;\n    line-height: 1;\n\n    * {\n        box-sizing: content-box;\n    }\n\n    svg {\n        width: 100%;\n        height: 100%;\n\n        path,\n        circle {\n            fill: #fff;\n        }\n    }\n\n    &:-webkit-full-screen {\n        width: 100%;\n        height: 100%;\n        background: #000;\n        position: fixed;\n        z-index: 100000;\n        left: 0;\n        top: 0;\n        margin: 0;\n        padding: 0;\n        transform: translate(0, 0);\n        \n    }\n\n    &.dplayer-no-danmaku {\n        .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {\n            .dplayer-setting-showdan,\n            .dplayer-setting-danmaku,\n            .dplayer-setting-danunlimit {\n                display: none;\n            }\n        }\n\n        .dplayer-controller .dplayer-icons .dplayer-comment {\n            display: none;\n        }\n\n        .dplayer-danmaku {\n            display: none;\n        }\n    }\n\n    &.dplayer-live {\n        .dplayer-time {\n            display: none;\n        }\n        .dplayer-bar-wrap {\n            display: none;\n        }\n        .dplayer-setting-speed {\n            display: none;\n        }\n        .dplayer-setting-loop {\n            display: none;\n        }\n\n        &.dplayer-no-danmaku {\n            .dplayer-setting {\n                display: none;\n            }\n        }\n    }\n\n    &.dplayer-arrow {\n        .dplayer-danmaku {\n            font-size: 18px;\n        }\n        .dplayer-icon {\n            margin: 0 -3px;\n        }\n    }\n\n    &.dplayer-playing {\n        .dplayer-danmaku .dplayer-danmaku-move {\n            animation-play-state: running;\n        }\n\n        @media (min-width: 900px) {\n            .dplayer-controller-mask {\n                opacity: 0;\n            }\n            .dplayer-controller {\n                opacity: 0;\n            }\n\n            &:hover {\n                .dplayer-controller-mask {\n                    opacity: 1;\n                }\n                .dplayer-controller {\n                    opacity: 1;\n                }\n            }\n        }\n    }\n\n    &.dplayer-loading {\n        .dplayer-bezel .diplayer-loading-icon {\n            display: block;\n        }\n    }\n\n    &.dplayer-loading,\n    &.dplayer-paused {\n        .dplayer-danmaku,\n        .dplayer-danmaku-move {\n            animation-play-state: paused;\n        }\n    }\n\n    &.dplayer-hide-controller {\n        cursor: none;\n\n        .dplayer-controller-mask {\n            opacity: 0;\n            transform: translateY(100%);\n        }\n        .dplayer-controller {\n            opacity: 0;\n            transform: translateY(100%);\n        }\n    }\n    &.dplayer-show-controller {\n        .dplayer-controller-mask {\n            opacity: 1;\n        }\n        .dplayer-controller {\n            opacity: 1;\n        }\n    }\n    &.dplayer-fulled {\n        position: fixed;\n        z-index: 100000;\n        left: 0;\n        top: 0;\n        width: 100% !important;\n        height: 100% !important;\n    }\n    &.dplayer-mobile {\n        .dplayer-controller .dplayer-icons {\n            .dplayer-volume,\n            .dplayer-camera-icon,\n            .dplayer-airplay-icon,\n            .dplayer-chromecast-icon,\n            .dplayer-play-icon {\n                display: none;\n            }\n            .dplayer-full .dplayer-full-in-icon {\n                position: static;\n                display: inline-block;\n            }\n        }\n\n        .dplayer-bar-time {\n            display: none;\n        }\n\n        &.dplayer-hide-controller {\n            .dplayer-mobile-play {\n                display: none;\n            }\n        }\n\n        .dplayer-mobile-play {\n            display: block;\n        }\n    }\n}\n\n// To hide scroll bar, apply this class to <body>\n.dplayer-web-fullscreen-fix {\n    position: fixed;\n    top: 0;\n    left: 0;\n    margin: 0;\n    padding: 0;\n}\n", "@import '../../node_modules/balloon-css/balloon.css';\n\n[data-balloon]:before {\n    display: none;\n}\n\n[data-balloon]:after {\n    padding: 0.3em 0.7em;\n    background: rgba(17, 17, 17, 0.7);\n}\n\n[data-balloon][data-balloon-pos=\"up\"]:after {\n    margin-bottom: 0;\n}", ".dplayer-bezel {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    font-size: 22px;\n    color: #fff;\n    pointer-events: none;\n    .dplayer-bezel-icon {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -26px 0 0 -26px;\n        height: 52px;\n        width: 52px;\n        padding: 12px;\n        box-sizing: border-box;\n        background: rgba(0, 0, 0, .5);\n        border-radius: 50%;\n        opacity: 0;\n        pointer-events: none;\n        &.dplayer-bezel-transition {\n            animation: bezel-hide .5s linear;\n        }\n        @keyframes bezel-hide {\n            from {\n                opacity: 1;\n                transform: scale(1);\n            }\n            to {\n                opacity: 0;\n                transform: scale(2);\n            }\n        }\n    }\n    .dplayer-danloading {\n        position: absolute;\n        top: 50%;\n        margin-top: -7px;\n        width: 100%;\n        text-align: center;\n        font-size: 14px;\n        line-height: 14px;\n        animation: my-face 5s infinite ease-in-out;\n    }\n    .diplayer-loading-icon {\n        display: none;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -18px 0 0 -18px;\n        height: 36px;\n        width: 36px;\n        pointer-events: none;\n        .diplayer-loading-hide {\n            display: none;\n        }\n        .diplayer-loading-dot {\n            animation: diplayer-loading-dot-fade .8s ease infinite;\n            opacity: 0;\n            transform-origin: 4px 4px;\n            each(range(7), {\n                &.diplayer-loading-dot-@{value} {\n                    animation-delay: (@value * 0.1s);\n                }\n            });\n        }\n        @keyframes diplayer-loading-dot-fade {\n            0% {\n                opacity: .7;\n                transform: scale(1.2, 1.2)\n            }\n            50% {\n                opacity: .25;\n                transform: scale(.9, .9)\n            }\n            to {\n                opacity: .25;\n                transform: scale(.85, .85)\n            }\n        }\n    }\n}", ".dplayer-notice-list{\n    position: absolute;\n    bottom: 60px;\n    left: 20px;\n\n    .dplayer-notice {\n        border-radius: 2px;\n        background: rgba(28, 28, 28, 0.9);\n        transition: all .3s ease-in-out;\n        overflow: hidden;\n        color: #fff;\n        display: table;\n        pointer-events: none;\n        animation: showNotice .3s ease 1 forwards;\n    }\n\n    .remove-notice{\n        animation: removeNotice .3s ease 1 forwards;\n    }\n}\n\n@keyframes showNotice {\n    from {\n        padding: 0;\n        font-size: 0;\n        margin-top: 0;\n    }\n    to {\n        padding: 7px 20px;\n        font-size: 14px;\n        margin-top: 5px;\n    }\n}\n\n@keyframes removeNotice {\n    0%{\n        padding: 7px 20px;\n        font-size: 14px;\n        margin-top: 5px;\n    }\n    20%{\n        font-size: 12px;\n    }\n    21%{\n        font-size: 0;\n        padding: 7px 10px;\n    }\n    100%{\n        padding: 0;\n        margin-top: 0;\n        font-size: 0;\n    }\n}\n", '.dplayer-controller-mask {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;\n    height: 98px;\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n    transition: all 0.3s ease;\n}\n\n.dplayer-controller {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 41px;\n    padding: 0 20px;\n    user-select: none;\n    transition: all 0.3s ease;\n    &.dplayer-controller-comment {\n        .dplayer-icons {\n            display: none;\n        }\n        .dplayer-icons.dplayer-comment-box {\n            display: block;\n        }\n    }\n    .dplayer-bar-wrap {\n        padding: 5px 0;\n        cursor: pointer;\n        position: absolute;\n        bottom: 33px;\n        width: calc(100% - 40px);\n        height: 3px;\n        &:hover {\n            .dplayer-bar .dplayer-played .dplayer-thumb {\n                transform: scale(1);\n            }\n            .dplayer-highlight {\n                display: block;\n                width: 8px;\n                transform: translateX(-4px);\n                top: 4px;\n                height: 40%;\n            }\n        }\n        .dplayer-highlight {\n            z-index: 12;\n            position: absolute;\n            top: 5px;\n            width: 6px;\n            height: 20%;\n            border-radius: 6px;\n            background-color: #fff;\n            text-align: center;\n            transform: translateX(-3px);\n            transition: all .2s ease-in-out;\n            &:hover {\n                .dplayer-highlight-text {\n                    display: block;\n                }\n                &~.dplayer-bar-preview {\n                    opacity: 0;\n                }\n                &~.dplayer-bar-time {\n                    opacity: 0;\n                }\n            }\n            .dplayer-highlight-text {\n                display: none;\n                position: absolute;\n                left: 50%;\n                top: -24px;\n                padding: 5px 8px;\n                background-color: rgba(0, 0, 0, .62);\n                color: #fff;\n                border-radius: 4px;\n                font-size: 12px;\n                white-space: nowrap;\n                transform: translateX(-50%);\n            }\n        }\n        .dplayer-bar-preview {\n            position: absolute;\n            background: #fff;\n            pointer-events: none;\n            display: none;\n            background-size: 16000px 100%;\n        }\n        .dplayer-bar-preview-canvas {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n            pointer-events: none;\n        }\n        .dplayer-bar-time {\n            &.hidden {\n                opacity: 0;\n            }\n            position: absolute;\n            left: 0px;\n            top: -20px;\n            border-radius: 4px;\n            padding: 5px 7px;\n            background-color: rgba(0, 0, 0, 0.62);\n            color: #fff;\n            font-size: 12px;\n            text-align: center;\n            opacity: 1;\n            transition: opacity .1s ease-in-out;\n            word-wrap: normal;\n            word-break: normal;\n            z-index: 2;\n            pointer-events: none;\n        }\n        .dplayer-bar {\n            position: relative;\n            height: 3px;\n            width: 100%;\n            background: rgba(255, 255, 255, .2);\n            cursor: pointer;\n            .dplayer-loaded {\n                position: absolute;\n                left: 0;\n                top: 0;\n                bottom: 0;\n                background: rgba(255, 255, 255, .4);\n                height: 3px;\n                transition: all 0.5s ease;\n                will-change: width;\n            }\n            .dplayer-played {\n                position: absolute;\n                left: 0;\n                top: 0;\n                bottom: 0;\n                height: 3px;\n                will-change: width;\n                .dplayer-thumb {\n                    position: absolute;\n                    top: 0;\n                    right: 5px;\n                    margin-top: -4px;\n                    margin-right: -10px;\n                    height: 11px;\n                    width: 11px;\n                    border-radius: 50%;\n                    cursor: pointer;\n                    transition: all .3s ease-in-out;\n                    transform: scale(0);\n                }\n            }\n        }\n    }\n    .dplayer-icons {\n        height: 38px;\n        position: absolute;\n        bottom: 0;\n        &.dplayer-comment-box {\n            display: none;\n            position: absolute;\n            transition: all .3s ease-in-out;\n            z-index: 2;\n            height: 38px;\n            bottom: 0;\n            left: 20px;\n            right: 20px;\n            color: #fff;\n            .dplayer-icon {\n                padding: 7px;\n            }\n            .dplayer-comment-setting-icon {\n                position: absolute;\n                left: 0;\n                top: 0;\n            }\n            .dplayer-send-icon {\n                position: absolute;\n                right: 0;\n                top: 0;\n            }\n            .dplayer-comment-setting-box {\n                position: absolute;\n                background: rgba(28, 28, 28, 0.9);\n                bottom: 41px;\n                left: 0;\n                box-shadow: 0 0 25px rgba(0, 0, 0, .3);\n                border-radius: 4px;\n                padding: 10px 10px 16px;\n                font-size: 14px;\n                width: 204px;\n                transition: all .3s ease-in-out;\n                transform: scale(0);\n                &.dplayer-comment-setting-open {\n                    transform: scale(1);\n                }\n                input[type=radio] {\n                    display: none;\n                }\n                label {\n                    cursor: pointer;\n                }\n                .dplayer-comment-setting-title {\n                    font-size: 13px;\n                    color: #fff;\n                    line-height: 30px;\n                }\n                .dplayer-comment-setting-type {\n                    font-size: 0;\n                    .dplayer-comment-setting-title {\n                        margin-bottom: 6px;\n                    }\n                    label {\n                        &:nth-child(2) {\n                            span {\n                                border-radius: 4px 0 0 4px;\n                            }\n                        }\n                        &:nth-child(4) {\n                            span {\n                                border-radius: 0 4px 4px 0;\n                            }\n                        }\n                    }\n                    span {\n                        width: 33%;\n                        padding: 4px 6px;\n                        line-height: 16px;\n                        display: inline-block;\n                        font-size: 12px;\n                        color: #fff;\n                        border: 1px solid #fff;\n                        margin-right: -1px;\n                        box-sizing: border-box;\n                        text-align: center;\n                        cursor: pointer;\n                    }\n                    input:checked+span {\n                        background: #E4E4E6;\n                        color: #1c1c1c;\n                    }\n                }\n                .dplayer-comment-setting-color {\n                    font-size: 0;\n                    label {\n                        font-size: 0;\n                        padding: 6px;\n                        display: inline-block;\n                    }\n                    span {\n                        width: 22px;\n                        height: 22px;\n                        display: inline-block;\n                        border-radius: 50%;\n                        box-sizing: border-box;\n                        cursor: pointer;\n                        &:hover {\n                            animation: my-face 5s infinite ease-in-out;\n                        }\n                    }\n                }\n            }\n            .dplayer-comment-input {\n                outline: none;\n                border: none;\n                padding: 8px 31px;\n                font-size: 14px;\n                line-height: 18px;\n                text-align: center;\n                border-radius: 4px;\n                background: none;\n                margin: 0;\n                height: 100%;\n                box-sizing: border-box;\n                width: 100%;\n                color: #fff;\n                &::placeholder {\n                    color: #fff;\n                    opacity: 0.8;\n                }\n                &::-ms-clear {\n                    display: none;\n                }\n            }\n        }\n        &.dplayer-icons-left {\n            .dplayer-icon {\n                padding: 7px;\n            }\n        }\n        &.dplayer-icons-right {\n            right: 20px;\n            .dplayer-icon {\n                padding: 8px;\n            }\n        }\n        .dplayer-time,\n        .dplayer-live-badge {\n            line-height: 38px;\n            color: #eee;\n            text-shadow: 0 0 2px rgba(0, 0, 0, .5);\n            vertical-align: middle;\n            font-size: 13px;\n            cursor: default;\n        }\n        .dplayer-live-dot {\n            display: inline-block;\n            width: 6px;\n            height: 6px;\n            vertical-align: 4%;\n            margin-right: 5px;\n            content: \'\';\n            border-radius: 6px;\n        }\n        .dplayer-icon {\n            width: 40px;\n            height: 100%;\n            border: none;\n            background-color: transparent;\n            outline: none;\n            cursor: pointer;\n            vertical-align: middle;\n            box-sizing: border-box;\n            display: inline-block;\n            .dplayer-icon-content {\n                transition: all .2s ease-in-out;\n                opacity: .8;\n            }\n            &:hover {\n                .dplayer-icon-content {\n                    opacity: 1;\n                }\n            }\n            &.dplayer-quality-icon {\n                color: #fff;\n                width: auto;\n                line-height: 22px;\n                font-size: 14px;\n            }\n            &.dplayer-comment-icon {\n                padding: 10px 9px 9px;\n            }\n            &.dplayer-setting-icon {\n                padding-top: 8.5px;\n            }\n            &.dplayer-volume-icon {\n                width: 43px;\n            }\n        }\n        .dplayer-volume {\n            position: relative;\n            display: inline-block;\n            cursor: pointer;\n            height: 100%;\n            &:hover {\n                .dplayer-volume-bar-wrap .dplayer-volume-bar {\n                    width: 45px;\n                }\n                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n                    transform: scale(1);\n                }\n            }\n            &.dplayer-volume-active {\n                .dplayer-volume-bar-wrap .dplayer-volume-bar {\n                    width: 45px;\n                }\n                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n                    transform: scale(1);\n                }\n            }\n            .dplayer-volume-bar-wrap {\n                display: inline-block;\n                margin: 0 10px 0 -5px;\n                vertical-align: middle;\n                height: 100%;\n                .dplayer-volume-bar {\n                    position: relative;\n                    top: 17px;\n                    width: 0;\n                    height: 3px;\n                    background: #aaa;\n                    transition: all 0.3s ease-in-out;\n                    .dplayer-volume-bar-inner {\n                        position: absolute;\n                        bottom: 0;\n                        left: 0;\n                        height: 100%;\n                        transition: all 0.1s ease;\n                        will-change: width;\n                        .dplayer-thumb {\n                            position: absolute;\n                            top: 0;\n                            right: 5px;\n                            margin-top: -4px;\n                            margin-right: -10px;\n                            height: 11px;\n                            width: 11px;\n                            border-radius: 50%;\n                            cursor: pointer;\n                            transition: all .3s ease-in-out;\n                            transform: scale(0);\n                        }\n                    }\n                }\n            }\n        }\n        .dplayer-subtitle-btn {\n            display: inline-block;\n            height: 100%;\n        }\n        .dplayer-subtitles {\n            display: inline-block;\n            height: 100%;\n            .dplayer-subtitles-box {\n                position: absolute;\n                right: 0;\n                bottom: 50px;\n                transform: scale(0);\n                width: fit-content;\n                max-width: 240px;\n                min-width: 120px;\n                border-radius: 2px;\n                background: rgba(28, 28, 28, 0.9);\n                padding: 7px 0;\n                transition: all .3s ease-in-out;\n                overflow: auto;\n                z-index: 2;\n                &.dplayer-subtitles-panel {\n                    display: block;\n                }\n                &.dplayer-subtitles-box-open {\n                    transform: scale(1);\n                }\n            }\n            .dplayer-subtitles-item {\n                height: 30px;\n                padding: 5px 10px;\n                box-sizing: border-box;\n                cursor: pointer;\n                position: relative;\n                &:hover {\n                    background-color: rgba(255, 255, 255, .1);\n                }\n            }\n        }\n        .dplayer-setting {\n            display: inline-block;\n            height: 100%;\n            .dplayer-setting-box {\n                position: absolute;\n                right: 0;\n                bottom: 50px;\n                transform: scale(0);\n                width: 150px;\n                border-radius: 2px;\n                background: rgba(28, 28, 28, 0.9);\n                padding: 7px 0;\n                transition: all .3s ease-in-out;\n                overflow: hidden;\n                z-index: 2;\n                &>div {\n                    display: none;\n                    &.dplayer-setting-origin-panel {\n                        display: block;\n                    }\n                }\n                &.dplayer-setting-box-open {\n                    transform: scale(1);\n                }\n                &.dplayer-setting-box-narrow {\n                    width: 70px;\n                    text-align: center;\n                }\n                &.dplayer-setting-box-speed {\n                    .dplayer-setting-origin-panel {\n                        display: none;\n                    }\n                    .dplayer-setting-speed-panel {\n                        display: block;\n                    }\n                }\n            }\n            .dplayer-setting-item,\n            .dplayer-setting-speed-item {\n                height: 30px;\n                padding: 5px 10px;\n                box-sizing: border-box;\n                cursor: pointer;\n                position: relative;\n                &:hover {\n                    background-color: rgba(255, 255, 255, .1);\n                }\n            }\n            .dplayer-setting-danmaku {\n                padding: 5px 0;\n                .dplayer-label {\n                    padding: 0 10px;\n                    display: inline;\n                }\n                &:hover {\n                    .dplayer-label {\n                        display: none;\n                    }\n                    .dplayer-danmaku-bar-wrap {\n                        display: inline-block;\n                    }\n                }\n                &.dplayer-setting-danmaku-active {\n                    .dplayer-label {\n                        display: none;\n                    }\n                    .dplayer-danmaku-bar-wrap {\n                        display: inline-block;\n                    }\n                }\n                .dplayer-danmaku-bar-wrap {\n                    padding: 0 10px;\n                    box-sizing: border-box;\n                    display: none;\n                    vertical-align: middle;\n                    height: 100%;\n                    width: 100%;\n                    .dplayer-danmaku-bar {\n                        position: relative;\n                        top: 8.5px;\n                        width: 100%;\n                        height: 3px;\n                        background: #fff;\n                        transition: all 0.3s ease-in-out;\n                        .dplayer-danmaku-bar-inner {\n                            position: absolute;\n                            bottom: 0;\n                            left: 0;\n                            height: 100%;\n                            transition: all 0.1s ease;\n                            background: #aaa;\n                            will-change: width;\n                            .dplayer-thumb {\n                                position: absolute;\n                                top: 0;\n                                right: 5px;\n                                margin-top: -4px;\n                                margin-right: -10px;\n                                height: 11px;\n                                width: 11px;\n                                border-radius: 50%;\n                                cursor: pointer;\n                                transition: all .3s ease-in-out;\n                                background: #aaa;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        .dplayer-full {\n            display: inline-block;\n            height: 100%;\n            position: relative;\n            &:hover {\n                .dplayer-full-in-icon {\n                    display: block;\n                }\n            }\n            .dplayer-full-in-icon {\n                position: absolute;\n                top: -30px;\n                z-index: 1;\n                display: none;\n            }\n        }\n        .dplayer-quality {\n            position: relative;\n            display: inline-block;\n            height: 100%;\n            z-index: 2;\n            &:hover {\n                .dplayer-quality-list {\n                    display: block;\n                }\n                .dplayer-quality-mask {\n                    display: block;\n                }\n            }\n            .dplayer-quality-mask {\n                display: none;\n                position: absolute;\n                bottom: 38px;\n                left: -18px;\n                width: 80px;\n                padding-bottom: 12px;\n            }\n            .dplayer-quality-list {\n                display: none;\n                font-size: 12px;\n                width: 80px;\n                border-radius: 2px;\n                background: rgba(28, 28, 28, 0.9);\n                padding: 5px 0;\n                transition: all .3s ease-in-out;\n                overflow: hidden;\n                color: #fff;\n                text-align: center;\n            }\n            .dplayer-quality-item {\n                height: 25px;\n                box-sizing: border-box;\n                cursor: pointer;\n                line-height: 25px;\n                &:hover {\n                    background-color: rgba(255, 255, 255, .1);\n                }\n            }\n        }\n        .dplayer-comment {\n            display: inline-block;\n            height: 100%;\n        }\n        .dplayer-label {\n            color: #eee;\n            font-size: 13px;\n            display: inline-block;\n            vertical-align: middle;\n            white-space: nowrap;\n        }\n        .dplayer-toggle {\n            width: 32px;\n            height: 20px;\n            text-align: center;\n            font-size: 0;\n            vertical-align: middle;\n            position: absolute;\n            top: 5px;\n            right: 10px;\n            input {\n                max-height: 0;\n                max-width: 0;\n                display: none;\n            }\n            input+label {\n                display: inline-block;\n                position: relative;\n                box-shadow: rgb(223, 223, 223) 0 0 0 0 inset;\n                border: 1px solid rgb(223, 223, 223);\n                height: 20px;\n                width: 32px;\n                border-radius: 10px;\n                box-sizing: border-box;\n                cursor: pointer;\n                transition: .2s ease-in-out;\n            }\n            input+label:before {\n                content: "";\n                position: absolute;\n                display: block;\n                height: 18px;\n                width: 18px;\n                top: 0;\n                left: 0;\n                border-radius: 15px;\n                transition: .2s ease-in-out;\n            }\n            input+label:after {\n                content: "";\n                position: absolute;\n                display: block;\n                left: 0;\n                top: 0;\n                border-radius: 15px;\n                background: #fff;\n                transition: .2s ease-in-out;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n                height: 18px;\n                width: 18px;\n            }\n            input:checked+label {\n                border-color: rgba(255, 255, 255, 0.5);\n            }\n            input:checked+label:before {\n                width: 30px;\n                background: rgba(255, 255, 255, 0.5);\n            }\n            input:checked+label:after {\n                left: 12px;\n            }\n        }\n    }\n}\n\n.dplayer-mobile-play {\n    display: none;\n    width: 50px;\n    height: 50px;\n    border: none;\n    background-color: transparent;\n    outline: none;\n    cursor: pointer;\n    box-sizing: border-box;\n    position: absolute;\n    bottom: 0;\n    opacity: 0.8;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}', ".dplayer-danmaku {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    font-size: 22px;\n    color: #fff;\n    .dplayer-danmaku-item {\n        display: inline-block;\n        pointer-events: none;\n        user-select: none;\n        cursor: default;\n        white-space: nowrap;\n        text-shadow: .5px .5px .5px rgba(0, 0, 0, .5);\n        &--demo {\n            position: absolute;\n            visibility: hidden;\n        }\n    }\n    .dplayer-danmaku-right {\n        position: absolute;\n        right: 0;\n        transform: translateX(100%);\n        &.dplayer-danmaku-move {\n            will-change: transform;\n            animation-name: 'danmaku';\n            animation-timing-function: linear;\n            animation-play-state: paused;\n        }\n    }\n    @keyframes danmaku {\n        from {\n            transform: translateX(100%);\n        }\n    }\n    .dplayer-danmaku-top,\n    .dplayer-danmaku-bottom {\n        position: absolute;\n        width: 100%;\n        text-align: center;\n        visibility: hidden;\n        &.dplayer-danmaku-move {\n            will-change: visibility;\n            animation-name: 'danmaku-center';\n            animation-timing-function: linear;\n            animation-play-state: paused;\n        }\n    }\n    @keyframes danmaku-center {\n        from {\n            visibility: visible;\n        }\n        to {\n            visibility: visible;\n        }\n    }\n}", ".dplayer-logo {\n    pointer-events: none;\n    position: absolute;\n    left: 20px;\n    top: 20px;\n    max-width: 50px;\n    max-height: 50px;\n    img {\n        max-width: 100%;\n        max-height: 100%;\n        background: none;\n    }\n}", ".dplayer-menu {\n    position: absolute;\n    width: 170px;\n    border-radius: 2px;\n    background: rgba(28, 28, 28, 0.85);\n    padding: 5px 0;\n    overflow: hidden;\n    z-index: 3;\n    display: none;\n    &.dplayer-menu-show {\n        display: block;\n    }\n    .dplayer-menu-item {\n        height: 30px;\n        box-sizing: border-box;\n        cursor: pointer;\n        &:hover {\n            background-color: rgba(255, 255, 255, .1);\n        }\n        a {\n            display: inline-block;\n            padding: 0 10px;\n            line-height: 30px;\n            color: #eee;\n            font-size: 13px;\n            display: inline-block;\n            vertical-align: middle;\n            width: 100%;\n            box-sizing: border-box;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            &:hover {\n                text-decoration: none;\n            }\n        }\n    }\n}", ".dplayer-subtitle {\n    position: absolute;\n    bottom: 40px;\n    width: 90%;\n    left: 5%;\n    text-align: center;\n    color: #fff;\n    text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n    font-size: 20px;\n    &.dplayer-subtitle-hide {\n        display: none;\n    }\n}", ".dplayer-mask {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n    display: none;\n    &.dplayer-mask-show {\n        display: block;\n    }\n}\n\n.dplayer-video-wrap {\n    position: relative;\n    background: #000;\n    font-size: 0;\n    width: 100%;\n    height: 100%;\n    .dplayer-video {\n        width: 100%;\n        height: 100%;\n        display: none;\n    }\n    .dplayer-video-current {\n        display: block;\n    }\n    .dplayer-video-prepare {\n        display: none;\n    }\n}", ".dplayer-info-panel {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    width: 400px;\n    background: rgba(28, 28, 28, 0.8);\n    padding: 10px;\n    color: #fff;\n    font-size: 12px;\n    border-radius: 2px;\n\n    &-hide {\n        display: none;\n    }\n\n    .dplayer-info-panel-close {\n        cursor: pointer;\n        position: absolute;\n        right: 10px;\n        top: 10px;\n    }\n\n    .dplayer-info-panel-item {\n        & > span {\n            display: inline-block;\n            vertical-align: middle;\n            line-height: 15px;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n    }\n\n    .dplayer-info-panel-item-title {\n        width: 100px;\n        text-align: right;\n        margin-right: 10px;\n    }\n    \n    .dplayer-info-panel-item-data {\n        width: 260px;\n    }\n}"], sourceRoot: "" }]);var u = c;}, 856: function _(n) {"use strict";var e = [];function t(n) {for (var t = -1, a = 0; a < e.length; a++) {if (e[a].identifier === n) {t = a;break;}}return t;}function a(n, a) {for (var r = {}, i = [], l = 0; l < n.length; l++) {var s = n[l],p = a.base ? s[0] + a.base : s[0],d = r[p] || 0,c = "".concat(p, " ").concat(d);r[p] = d + 1;var A = t(c),u = { css: s[1], media: s[2], sourceMap: s[3], supports: s[4], layer: s[5] };if (-1 !== A) e[A].references++, e[A].updater(u);else {var y = o(u, a);a.byIndex = l, e.splice(l, 0, { identifier: c, updater: y, references: 1 });}i.push(c);}return i;}function o(n, e) {var t = e.domAPI(e);return t.update(n), function (e) {if (e) {if (e.css === n.css && e.media === n.media && e.sourceMap === n.sourceMap && e.supports === n.supports && e.layer === n.layer) return;t.update(n = e);} else t.remove();};}n.exports = function (n, o) {var r = a(n = n || [], o = o || {});return function (n) {n = n || [];for (var i = 0; i < r.length; i++) {var l = t(r[i]);e[l].references--;}for (var s = a(n, o), p = 0; p < r.length; p++) {var d = t(r[p]);0 === e[d].references && (e[d].updater(), e.splice(d, 1));}r = s;};};}, 370: function _(n) {"use strict";var e = {};n.exports = function (n, t) {var a = function (n) {if (void 0 === e[n]) {var t = document.querySelector(n);if (window.HTMLIFrameElement && t instanceof window.HTMLIFrameElement) try {t = t.contentDocument.head;} catch (n) {t = null;}e[n] = t;}return e[n];}(n);if (!a) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t);};}, 278: function _(n) {"use strict";n.exports = function (n) {var e = document.createElement("style");return n.setAttributes(e, n.attributes), n.insert(e, n.options), e;};}, 458: function _(n, e, t) {"use strict";n.exports = function (n) {var e = t.nc;e && n.setAttribute("nonce", e);};}, 470: function _(n) {"use strict";n.exports = function (n) {var e = n.insertStyleElement(n);return { update: function update(t) {!function (n, e, t) {var a = "";t.supports && (a += "@supports (".concat(t.supports, ") {")), t.media && (a += "@media ".concat(t.media, " {"));var o = void 0 !== t.layer;o && (a += "@layer".concat(t.layer.length > 0 ? " ".concat(t.layer) : "", " {")), a += t.css, o && (a += "}"), t.media && (a += "}"), t.supports && (a += "}");var r = t.sourceMap;r && "undefined" != typeof btoa && (a += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))), " */")), e.styleTagTransform(a, n, e.options);}(e, n, t);}, remove: function remove() {!function (n) {if (null === n.parentNode) return !1;n.parentNode.removeChild(n);}(e);} };};}, 488: function _(n) {"use strict";n.exports = function (n, e) {if (e.styleSheet) e.styleSheet.cssText = n;else {for (; e.firstChild;) {e.removeChild(e.firstChild);}e.appendChild(document.createTextNode(n));}};}, 251: function _(n) {n.exports = '<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>';}, 113: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>';}, 193: function _(n) {n.exports = '<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="chromecast" class="svg-inline--fa fa-chromecast fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M447.8,64H64c-23.6,0-42.7,19.1-42.7,42.7v63.9H64v-63.9h383.8v298.6H298.6V448H448c23.6,0,42.7-19.1,42.7-42.7V106.7 C490.7,83.1,471.4,64,447.8,64z M21.3,383.6L21.3,383.6l0,63.9h63.9C85.2,412.2,56.6,383.6,21.3,383.6L21.3,383.6z M21.3,298.6V341 c58.9,0,106.6,48.1,106.6,107h42.7C170.7,365.6,103.7,298.7,21.3,298.6z M213.4,448h42.7c-0.5-129.5-105.3-234.3-234.8-234.6l0,42.4 C127.3,255.6,213.3,342,213.4,448z"></path></svg>';}, 338: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>';}, 807: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>';}, 300: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>';}, 574: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>';}, 182: function _(n) {n.exports = '<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>';}, 965: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>';}, 74: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>';}, 730: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>';}, 428: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>';}, 254: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>';}, 934: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>';}, 410: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>';}, 644: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>';}, 324: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>';}, 437: function _(n) {n.exports = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>';}, 897: function _(n, e, t) {"use strict";var a = "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== t.g ? t.g : {},o = Object.create(a),r = /["&'<>]/;function i(n) {return "string" != typeof n && (n = null == n ? "" : "function" == typeof n ? i(n.call(n)) : JSON.stringify(n)), n;}o.$escape = function (n) {return function (n) {var e = "" + n,t = r.exec(e);if (!t) return n;var a = "",o = void 0,i = void 0,l = void 0;for (o = t.index, i = 0; o < e.length; o++) {switch (e.charCodeAt(o)) {case 34:l = "&#34;";break;case 38:l = "&#38;";break;case 39:l = "&#39;";break;case 60:l = "&#60;";break;case 62:l = "&#62;";break;default:continue;}i !== o && (a += e.substring(i, o)), i = o + 1, a += l;}return i !== o ? a + e.substring(i, o) : a;}(i(n));}, o.$each = function (n, e) {if (Array.isArray(n)) for (var t = 0, a = n.length; t < a; t++) {e(n[t], t);} else for (var o in n) {e(n[o], o);}}, n.exports = o;}, 471: function _(n, e, t) {"use strict";n.exports = t(897);}, 352: function _(n) {"use strict";n.exports = function (n) {var e = [];return e.toString = function () {return this.map(function (e) {var t = "",a = void 0 !== e[5];return e[4] && (t += "@supports (".concat(e[4], ") {")), e[2] && (t += "@media ".concat(e[2], " {")), a && (t += "@layer".concat(e[5].length > 0 ? " ".concat(e[5]) : "", " {")), t += n(e), a && (t += "}"), e[2] && (t += "}"), e[4] && (t += "}"), t;}).join("");}, e.i = function (n, t, a, o, r) {"string" == typeof n && (n = [[null, n, void 0]]);var i = {};if (a) for (var l = 0; l < this.length; l++) {var s = this[l][0];null != s && (i[s] = !0);}for (var p = 0; p < n.length; p++) {var d = [].concat(n[p]);a && i[d[0]] || (void 0 !== r && (void 0 === d[5] || (d[1] = "@layer".concat(d[5].length > 0 ? " ".concat(d[5]) : "", " {").concat(d[1], "}")), d[5] = r), t && (d[2] ? (d[1] = "@media ".concat(d[2], " {").concat(d[1], "}"), d[2] = t) : d[2] = t), o && (d[4] ? (d[1] = "@supports (".concat(d[4], ") {").concat(d[1], "}"), d[4] = o) : d[4] = "".concat(o)), e.push(d));}}, e;};}, 80: function _(n) {"use strict";n.exports = function (n, e) {return e || (e = {}), n ? (n = String(n.__esModule ? n.default : n), /^['"].*['"]$/.test(n) && (n = n.slice(1, -1)), e.hash && (n += e.hash), /["'() \t\n]|(%20)/.test(n) || e.needQuotes ? '"'.concat(n.replace(/"/g, '\\"').replace(/\n/g, "\\n"), '"') : n) : n;};}, 415: function _(n) {"use strict";n.exports = function (n) {var e = n[1],t = n[3];if (!t) return e;if ("function" == typeof btoa) {var a = btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),r = "/*# ".concat(o, " */");return [e].concat([r]).join("\n");}return [e].join("\n");};}, 937: function _(n) {function e(n) {return e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, e(n);}n.exports = "object" == ("undefined" == typeof self ? "undefined" : e(self)) ? self.FormData : window.FormData;}, 831: function _(n) {"use strict";n.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==";} },e = {};function t(a) {var o = e[a];if (void 0 !== o) return o.exports;var r = e[a] = { id: a, exports: {} };return n[a](r, r.exports, t), r.exports;}t.m = n, t.n = function (n) {var e = n && n.__esModule ? function () {return n.default;} : function () {return n;};return t.d(e, { a: e }), e;}, t.d = function (n, e) {for (var a in e) {t.o(e, a) && !t.o(n, a) && Object.defineProperty(n, a, { enumerable: !0, get: e[a] });}}, t.g = function () {if ("object" == typeof globalThis) return globalThis;try {return this || new Function("return this")();} catch (n) {if ("object" == typeof window) return window;}}(), t.o = function (n, e) {return Object.prototype.hasOwnProperty.call(n, e);}, t.b = document.baseURI || self.location.href, t.nc = void 0;var a = {};return function () {"use strict";t.d(a, { default: function _default() {return Za;} });var n = t(856),e = t.n(n),o = t(470),r = t.n(o),i = t(370),l = t.n(i),s = t(458),p = t.n(s),d = t(278),c = t.n(d),A = t(488),u = t.n(A),y = t(685),m = {};m.styleTagTransform = u(), m.setAttributes = p(), m.insert = l().bind(null, "head"), m.domAPI = r(), m.insertStyleElement = c(), e()(y.Z, m), y.Z && y.Z.locals && y.Z.locals;function h(n) {return h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, h(n);}function f(n, e) {this.name = "AggregateError", this.errors = n, this.message = e || "";}f.prototype = Error.prototype;function b(n) {return b = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, b(n);}var g = setTimeout;function v(n) {return Boolean(n && void 0 !== n.length);}function x() {}function E(n) {if (!(this instanceof E)) throw new TypeError("Promises must be constructed via new");if ("function" != typeof n) throw new TypeError("not a function");this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], I(n, this);}function w(n, e) {for (; 3 === n._state;) {n = n._value;}0 !== n._state ? (n._handled = !0, E._immediateFn(function () {var t = 1 === n._state ? e.onFulfilled : e.onRejected;if (null !== t) {var a;try {a = t(n._value);} catch (n) {return void k(e.promise, n);}C(e.promise, a);} else (1 === n._state ? C : k)(e.promise, n._value);})) : n._deferreds.push(e);}function C(n, e) {try {if (e === n) throw new TypeError("A promise cannot be resolved with itself.");if (e && ("object" === b(e) || "function" == typeof e)) {var t = e.then;if (e instanceof E) return n._state = 3, n._value = e, void B(n);if ("function" == typeof t) return void I((a = t, o = e, function () {a.apply(o, arguments);}), n);}n._state = 1, n._value = e, B(n);} catch (e) {k(n, e);}var a, o;}function k(n, e) {n._state = 2, n._value = e, B(n);}function B(n) {2 === n._state && 0 === n._deferreds.length && E._immediateFn(function () {n._handled || E._unhandledRejectionFn(n._value);});for (var e = 0, t = n._deferreds.length; e < t; e++) {w(n, n._deferreds[e]);}n._deferreds = null;}function S(n, e, t) {this.onFulfilled = "function" == typeof n ? n : null, this.onRejected = "function" == typeof e ? e : null, this.promise = t;}function I(n, e) {var t = !1;try {n(function (n) {t || (t = !0, C(e, n));}, function (n) {t || (t = !0, k(e, n));});} catch (n) {if (t) return;t = !0, k(e, n);}}E.prototype.catch = function (n) {return this.then(null, n);}, E.prototype.then = function (n, e) {var t = new this.constructor(x);return w(this, new S(n, e, t)), t;}, E.prototype.finally = function (n) {var e = this.constructor;return this.then(function (t) {return e.resolve(n()).then(function () {return t;});}, function (t) {return e.resolve(n()).then(function () {return e.reject(t);});});}, E.all = function (n) {return new E(function (e, t) {if (!v(n)) return t(new TypeError("Promise.all accepts an array"));var a = Array.prototype.slice.call(n);if (0 === a.length) return e([]);var o = a.length;function r(n, i) {try {if (i && ("object" === b(i) || "function" == typeof i)) {var l = i.then;if ("function" == typeof l) return void l.call(i, function (e) {r(n, e);}, t);}a[n] = i, 0 == --o && e(a);} catch (n) {t(n);}}for (var i = 0; i < a.length; i++) {r(i, a[i]);}});}, E.any = function (n) {var e = this;return new e(function (t, a) {if (!n || void 0 === n.length) return a(new TypeError("Promise.any accepts an array"));var o = Array.prototype.slice.call(n);if (0 === o.length) return a();for (var r = [], i = 0; i < o.length; i++) {try {e.resolve(o[i]).then(t).catch(function (n) {r.push(n), r.length === o.length && a(new f(r, "All promises were rejected"));});} catch (n) {a(n);}}});}, E.allSettled = function (n) {return new this(function (e, t) {if (!n || void 0 === n.length) return t(new TypeError(h(n) + " " + n + " is not iterable(cannot read property Symbol(Symbol.iterator))"));var a = Array.prototype.slice.call(n);if (0 === a.length) return e([]);var o = a.length;function r(n, t) {if (t && ("object" === h(t) || "function" == typeof t)) {var i = t.then;if ("function" == typeof i) return void i.call(t, function (e) {r(n, e);}, function (t) {a[n] = { status: "rejected", reason: t }, 0 == --o && e(a);});}a[n] = { status: "fulfilled", value: t }, 0 == --o && e(a);}for (var i = 0; i < a.length; i++) {r(i, a[i]);}});}, E.resolve = function (n) {return n && "object" === b(n) && n.constructor === E ? n : new E(function (e) {e(n);});}, E.reject = function (n) {return new E(function (e, t) {t(n);});}, E.race = function (n) {return new E(function (e, t) {if (!v(n)) return t(new TypeError("Promise.race accepts an array"));for (var a = 0, o = n.length; a < o; a++) {E.resolve(n[a]).then(e, t);}});}, E._immediateFn = "function" == typeof setImmediate && function (n) {setImmediate(n);} || function (n) {g(n, 0);}, E._unhandledRejectionFn = function (n) {"undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", n);};var L = E;var z = /mobile/i.test(window.navigator.userAgent);var T = { secondToTime: function secondToTime(n) {if (0 === (n = n || 0) || n === 1 / 0 || "NaN" === n.toString()) return "00:00";var e = Math.floor(n / 3600),t = Math.floor((n - 3600 * e) / 60),a = Math.floor(n - 3600 * e - 60 * t);return (e > 0 ? [e, t, a] : [t, a]).map(function (n) {return n < 10 ? "0" + n : "" + n;}).join(":");}, getElementViewLeft: function getElementViewLeft(n) {var e = n.offsetLeft,t = n.offsetParent,a = document.body.scrollLeft + document.documentElement.scrollLeft;if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement) for (; null !== t && t !== n;) {e += t.offsetLeft, t = t.offsetParent;} else for (; null !== t;) {e += t.offsetLeft, t = t.offsetParent;}return e - a;}, getBoundingClientRectViewLeft: function getBoundingClientRectViewLeft(n) {var e = window.scrollY || window.pageYOffset || document.body.scrollTop + (document.documentElement && document.documentElement.scrollTop || 0);if (n.getBoundingClientRect) {if ("number" != typeof this.getBoundingClientRectViewLeft.offset) {var t = document.createElement("div");t.style.cssText = "position:absolute;top:0;left:0;", document.body.appendChild(t), this.getBoundingClientRectViewLeft.offset = -t.getBoundingClientRect().top - e, document.body.removeChild(t), t = null;}var a = n.getBoundingClientRect(),o = this.getBoundingClientRectViewLeft.offset;return a.left + o;}return this.getElementViewLeft(n);}, getScrollPosition: function getScrollPosition() {return { left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0, top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0 };}, setScrollPosition: function setScrollPosition(n) {var e = n.left,t = void 0 === e ? 0 : e,a = n.top,o = void 0 === a ? 0 : a;this.isFirefox ? (document.documentElement.scrollLeft = t, document.documentElement.scrollTop = o) : window.scrollTo(t, o);}, isMobile: z, isFirefox: /firefox/i.test(window.navigator.userAgent), isChrome: /chrome/i.test(window.navigator.userAgent), isSafari: /safari/i.test(window.navigator.userAgent), storage: { set: function set(n, e) {localStorage.setItem(n, e);}, get: function get(n) {return localStorage.getItem(n);} }, nameMap: { dragStart: z ? "touchstart" : "mousedown", dragMove: z ? "touchmove" : "mousemove", dragEnd: z ? "touchend" : "mouseup" }, color2Number: function color2Number(n) {return "#" === n[0] && (n = n.substr(1)), 3 === n.length && (n = "".concat(n[0]).concat(n[0]).concat(n[1]).concat(n[1]).concat(n[2]).concat(n[2])), parseInt(n, 16) + 0 & 16777215;}, number2Color: function number2Color(n) {return "#" + ("00000" + n.toString(16)).slice(-6);}, number2Type: function number2Type(n) {switch (n) {case 0:default:return "right";case 1:return "top";case 2:return "bottom";}} };function q(n, e) {return function () {return n.apply(e, arguments);};}function O(n) {return O = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, O(n);}var j,D = Object.prototype.toString,P = Object.getPrototypeOf,R = (j = Object.create(null), function (n) {var e = D.call(n);return j[e] || (j[e] = e.slice(8, -1).toLowerCase());}),Y = function Y(n) {return n = n.toLowerCase(), function (e) {return R(e) === n;};},M = function M(n) {return function (e) {return O(e) === n;};},F = Array.isArray,W = M("undefined"),U = Y("ArrayBuffer"),N = M("string"),Q = M("function"),H = M("number"),_ = function _(n) {return null !== n && "object" === O(n);},K = function K(n) {if ("object" !== R(n)) return !1;var e = P(n);return !(null !== e && e !== Object.prototype && null !== Object.getPrototypeOf(e) || Symbol.toStringTag in n || Symbol.iterator in n);},Z = Y("Date"),V = Y("File"),X = Y("Blob"),J = Y("FileList"),G = Y("URLSearchParams");function $(n, e) {var t,a,o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},r = o.allOwnKeys,i = void 0 !== r && r;if (null != n) if ("object" !== O(n) && (n = [n]), F(n)) for (t = 0, a = n.length; t < a; t++) {e.call(null, n[t], t, n);} else {var l,s = i ? Object.getOwnPropertyNames(n) : Object.keys(n),p = s.length;for (t = 0; t < p; t++) {l = s[t], e.call(null, n[l], l, n);}}}function nn(n, e) {e = e.toLowerCase();for (var t, a = Object.keys(n), o = a.length; o-- > 0;) {if (e === (t = a[o]).toLowerCase()) return t;}return null;}var en,tn,an = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : global,on = function on(n) {return !W(n) && n !== an;},rn = (en = "undefined" != typeof Uint8Array && P(Uint8Array), function (n) {return en && n instanceof en;}),ln = Y("HTMLFormElement"),sn = (tn = Object.prototype.hasOwnProperty, function (n, e) {return tn.call(n, e);}),pn = Y("RegExp"),dn = function dn(n, e) {var t = Object.getOwnPropertyDescriptors(n),a = {};$(t, function (t, o) {!1 !== e(t, o, n) && (a[o] = t);}), Object.defineProperties(n, a);};var cn = { isArray: F, isArrayBuffer: U, isBuffer: function isBuffer(n) {return null !== n && !W(n) && null !== n.constructor && !W(n.constructor) && Q(n.constructor.isBuffer) && n.constructor.isBuffer(n);}, isFormData: function isFormData(n) {var e = "[object FormData]";return n && ("function" == typeof FormData && n instanceof FormData || D.call(n) === e || Q(n.toString) && n.toString() === e);}, isArrayBufferView: function isArrayBufferView(n) {return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(n) : n && n.buffer && U(n.buffer);}, isString: N, isNumber: H, isBoolean: function isBoolean(n) {return !0 === n || !1 === n;}, isObject: _, isPlainObject: K, isUndefined: W, isDate: Z, isFile: V, isBlob: X, isRegExp: pn, isFunction: Q, isStream: function isStream(n) {return _(n) && Q(n.pipe);}, isURLSearchParams: G, isTypedArray: rn, isFileList: J, forEach: $, merge: function n() {for (var e = on(this) && this || {}, t = e.caseless, a = {}, o = function o(e, _o) {var r = t && nn(a, _o) || _o;K(a[r]) && K(e) ? a[r] = n(a[r], e) : K(e) ? a[r] = n({}, e) : F(e) ? a[r] = e.slice() : a[r] = e;}, r = 0, i = arguments.length; r < i; r++) {arguments[r] && $(arguments[r], o);}return a;}, extend: function extend(n, e, t) {var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},o = a.allOwnKeys;return $(e, function (e, a) {t && Q(e) ? n[a] = q(e, t) : n[a] = e;}, { allOwnKeys: o }), n;}, trim: function trim(n) {return n.trim ? n.trim() : n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");}, stripBOM: function stripBOM(n) {return 65279 === n.charCodeAt(0) && (n = n.slice(1)), n;}, inherits: function inherits(n, e, t, a) {n.prototype = Object.create(e.prototype, a), n.prototype.constructor = n, Object.defineProperty(n, "super", { value: e.prototype }), t && Object.assign(n.prototype, t);}, toFlatObject: function toFlatObject(n, e, t, a) {var o,r,i,l = {};if (e = e || {}, null == n) return e;do {for (r = (o = Object.getOwnPropertyNames(n)).length; r-- > 0;) {i = o[r], a && !a(i, n, e) || l[i] || (e[i] = n[i], l[i] = !0);}n = !1 !== t && P(n);} while (n && (!t || t(n, e)) && n !== Object.prototype);return e;}, kindOf: R, kindOfTest: Y, endsWith: function endsWith(n, e, t) {n = String(n), (void 0 === t || t > n.length) && (t = n.length), t -= e.length;var a = n.indexOf(e, t);return -1 !== a && a === t;}, toArray: function toArray(n) {if (!n) return null;if (F(n)) return n;var e = n.length;if (!H(e)) return null;for (var t = new Array(e); e-- > 0;) {t[e] = n[e];}return t;}, forEachEntry: function forEachEntry(n, e) {for (var t, a = (n && n[Symbol.iterator]).call(n); (t = a.next()) && !t.done;) {var o = t.value;e.call(n, o[0], o[1]);}}, matchAll: function matchAll(n, e) {for (var t, a = []; null !== (t = n.exec(e));) {a.push(t);}return a;}, isHTMLForm: ln, hasOwnProperty: sn, hasOwnProp: sn, reduceDescriptors: dn, freezeMethods: function freezeMethods(n) {dn(n, function (e, t) {if (Q(n) && -1 !== ["arguments", "caller", "callee"].indexOf(t)) return !1;var a = n[t];Q(a) && (e.enumerable = !1, "writable" in e ? e.writable = !1 : e.set || (e.set = function () {throw Error("Can not rewrite read-only method '" + t + "'");}));});}, toObjectSet: function toObjectSet(n, e) {var t = {},a = function a(n) {n.forEach(function (n) {t[n] = !0;});};return F(n) ? a(n) : a(String(n).split(e)), t;}, toCamelCase: function toCamelCase(n) {return n.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g, function (n, e, t) {return e.toUpperCase() + t;});}, noop: function noop() {}, toFiniteNumber: function toFiniteNumber(n, e) {return n = +n, Number.isFinite(n) ? n : e;}, findKey: nn, global: an, isContextDefined: on, toJSONObject: function toJSONObject(n) {var e = new Array(10);return function n(t, a) {if (_(t)) {if (e.indexOf(t) >= 0) return;if (!("toJSON" in t)) {e[a] = t;var o = F(t) ? [] : {};return $(t, function (e, t) {var r = n(e, a + 1);!W(r) && (o[t] = r);}), e[a] = void 0, o;}}return t;}(n, 0);} };function An(n, e, t, a, o) {Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack, this.message = n, this.name = "AxiosError", e && (this.code = e), t && (this.config = t), a && (this.request = a), o && (this.response = o);}cn.inherits(An, Error, { toJSON: function toJSON() {return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: cn.toJSONObject(this.config), code: this.code, status: this.response && this.response.status ? this.response.status : null };} });var un = An.prototype,yn = {};["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED", "ERR_NOT_SUPPORT", "ERR_INVALID_URL"].forEach(function (n) {yn[n] = { value: n };}), Object.defineProperties(An, yn), Object.defineProperty(un, "isAxiosError", { value: !0 }), An.from = function (n, e, t, a, o, r) {var i = Object.create(un);return cn.toFlatObject(n, i, function (n) {return n !== Error.prototype;}, function (n) {return "isAxiosError" !== n;}), An.call(i, n.message, e, t, a, o), i.cause = n, i.name = n.name, r && Object.assign(i, r), i;};var mn = An,hn = t(937);function fn(n) {return fn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, fn(n);}function bn(n) {return cn.isPlainObject(n) || cn.isArray(n);}function gn(n) {return cn.endsWith(n, "[]") ? n.slice(0, -2) : n;}function vn(n, e, t) {return n ? n.concat(e).map(function (n, e) {return n = gn(n), !t && e ? "[" + n + "]" : n;}).join(t ? "." : "") : e;}var xn = cn.toFlatObject(cn, {}, null, function (n) {return /^is[A-Z]/.test(n);});var En = function En(n, e, t) {if (!cn.isObject(n)) throw new TypeError("target must be an object");e = e || new (hn || FormData)();var a,o = (t = cn.toFlatObject(t, { metaTokens: !0, dots: !1, indexes: !1 }, !1, function (n, e) {return !cn.isUndefined(e[n]);})).metaTokens,r = t.visitor || d,i = t.dots,l = t.indexes,s = (t.Blob || "undefined" != typeof Blob && Blob) && (a = e) && cn.isFunction(a.append) && "FormData" === a[Symbol.toStringTag] && a[Symbol.iterator];if (!cn.isFunction(r)) throw new TypeError("visitor must be a function");function p(n) {if (null === n) return "";if (cn.isDate(n)) return n.toISOString();if (!s && cn.isBlob(n)) throw new mn("Blob is not supported. Use a Buffer instead.");return cn.isArrayBuffer(n) || cn.isTypedArray(n) ? s && "function" == typeof Blob ? new Blob([n]) : Buffer.from(n) : n;}function d(n, t, a) {var r = n;if (n && !a && "object" === fn(n)) if (cn.endsWith(t, "{}")) t = o ? t : t.slice(0, -2), n = JSON.stringify(n);else if (cn.isArray(n) && function (n) {return cn.isArray(n) && !n.some(bn);}(n) || cn.isFileList(n) || cn.endsWith(t, "[]") && (r = cn.toArray(n))) return t = gn(t), r.forEach(function (n, a) {!cn.isUndefined(n) && null !== n && e.append(!0 === l ? vn([t], a, i) : null === l ? t : t + "[]", p(n));}), !1;return !!bn(n) || (e.append(vn(a, t, i), p(n)), !1);}var c = [],A = Object.assign(xn, { defaultVisitor: d, convertValue: p, isVisitable: bn });if (!cn.isObject(n)) throw new TypeError("data must be an object");return function n(t, a) {if (!cn.isUndefined(t)) {if (-1 !== c.indexOf(t)) throw Error("Circular reference detected in " + a.join("."));c.push(t), cn.forEach(t, function (t, o) {!0 === (!(cn.isUndefined(t) || null === t) && r.call(e, t, cn.isString(o) ? o.trim() : o, a, A)) && n(t, a ? a.concat(o) : [o]);}), c.pop();}}(n), e;};function wn(n) {var e = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+", "%00": "\0" };return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g, function (n) {return e[n];});}function Cn(n, e) {this._pairs = [], n && En(n, this, e);}var kn = Cn.prototype;kn.append = function (n, e) {this._pairs.push([n, e]);}, kn.toString = function (n) {var e = n ? function (e) {return n.call(this, e, wn);} : wn;return this._pairs.map(function (n) {return e(n[0]) + "=" + e(n[1]);}, "").join("&");};var Bn = Cn;function Sn(n) {return encodeURIComponent(n).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");}function In(n, e, t) {if (!e) return n;var a,o = t && t.encode || Sn,r = t && t.serialize;if (a = r ? r(e, t) : cn.isURLSearchParams(e) ? e.toString() : new Bn(e, t).toString(o)) {var i = n.indexOf("#");-1 !== i && (n = n.slice(0, i)), n += (-1 === n.indexOf("?") ? "?" : "&") + a;}return n;}function Ln(n) {return Ln = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Ln(n);}function zn(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Ln(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Ln(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Ln(o) ? o : String(o)), a);}var o;}var Tn = function () {function n() {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.handlers = [];}var e, t;return e = n, t = [{ key: "use", value: function value(n, e, t) {return this.handlers.push({ fulfilled: n, rejected: e, synchronous: !!t && t.synchronous, runWhen: t ? t.runWhen : null }), this.handlers.length - 1;} }, { key: "eject", value: function value(n) {this.handlers[n] && (this.handlers[n] = null);} }, { key: "clear", value: function value() {this.handlers && (this.handlers = []);} }, { key: "forEach", value: function value(n) {cn.forEach(this.handlers, function (e) {null !== e && n(e);});} }], t && zn(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var qn = Tn,On = { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 },jn = "undefined" != typeof URLSearchParams ? URLSearchParams : Bn,Dn = FormData;var Pn,Rn = ("undefined" == typeof navigator || "ReactNative" !== (Pn = navigator.product) && "NativeScript" !== Pn && "NS" !== Pn) && "undefined" != typeof window && "undefined" != typeof document,Yn = "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && "function" == typeof self.importScripts;var Mn = { isBrowser: !0, classes: { URLSearchParams: jn, FormData: Dn, Blob: Blob }, isStandardBrowserEnv: Rn, isStandardBrowserWebWorkerEnv: Yn, protocols: ["http", "https", "file", "blob", "url", "data"] },Fn = function Fn(n) {function e(n, t, a, o) {var r = n[o++],i = Number.isFinite(+r),l = o >= n.length;return r = !r && cn.isArray(a) ? a.length : r, l ? (cn.hasOwnProp(a, r) ? a[r] = [a[r], t] : a[r] = t, !i) : (a[r] && cn.isObject(a[r]) || (a[r] = []), e(n, t, a[r], o) && cn.isArray(a[r]) && (a[r] = function (n) {var e,t,a = {},o = Object.keys(n),r = o.length;for (e = 0; e < r; e++) {a[t = o[e]] = n[t];}return a;}(a[r])), !i);}if (cn.isFormData(n) && cn.isFunction(n.entries)) {var t = {};return cn.forEachEntry(n, function (n, a) {e(function (n) {return cn.matchAll(/\w+|\[(\w*)]/g, n).map(function (n) {return "[]" === n[0] ? "" : n[1] || n[0];});}(n), a, t, 0);}), t;}return null;};var Wn = { "Content-Type": void 0 },Un = { transitional: On, adapter: ["xhr", "http"], transformRequest: [function (n, e) {var t,a = e.getContentType() || "",o = a.indexOf("application/json") > -1,r = cn.isObject(n);if (r && cn.isHTMLForm(n) && (n = new FormData(n)), cn.isFormData(n)) return o && o ? JSON.stringify(Fn(n)) : n;if (cn.isArrayBuffer(n) || cn.isBuffer(n) || cn.isStream(n) || cn.isFile(n) || cn.isBlob(n)) return n;if (cn.isArrayBufferView(n)) return n.buffer;if (cn.isURLSearchParams(n)) return e.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), n.toString();if (r) {if (a.indexOf("application/x-www-form-urlencoded") > -1) return function (n, e) {return En(n, new Mn.classes.URLSearchParams(), Object.assign({ visitor: function visitor(n, e, t, a) {return Mn.isNode && cn.isBuffer(n) ? (this.append(e, n.toString("base64")), !1) : a.defaultVisitor.apply(this, arguments);} }, e));}(n, this.formSerializer).toString();if ((t = cn.isFileList(n)) || a.indexOf("multipart/form-data") > -1) {var i = this.env && this.env.FormData;return En(t ? { "files[]": n } : n, i && new i(), this.formSerializer);}}return r || o ? (e.setContentType("application/json", !1), function (n, e, t) {if (cn.isString(n)) try {return (0, JSON.parse)(n), cn.trim(n);} catch (n) {if ("SyntaxError" !== n.name) throw n;}return (0, JSON.stringify)(n);}(n)) : n;}], transformResponse: [function (n) {var e = this.transitional || Un.transitional,t = e && e.forcedJSONParsing,a = "json" === this.responseType;if (n && cn.isString(n) && (t && !this.responseType || a)) {var o = !(e && e.silentJSONParsing) && a;try {return JSON.parse(n);} catch (n) {if (o) {if ("SyntaxError" === n.name) throw mn.from(n, mn.ERR_BAD_RESPONSE, this, null, this.response);throw n;}}}return n;}], timeout: 0, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", maxContentLength: -1, maxBodyLength: -1, env: { FormData: Mn.classes.FormData, Blob: Mn.classes.Blob }, validateStatus: function validateStatus(n) {return n >= 200 && n < 300;}, headers: { common: { Accept: "application/json, text/plain, */*" } } };cn.forEach(["delete", "get", "head"], function (n) {Un.headers[n] = {};}), cn.forEach(["post", "put", "patch"], function (n) {Un.headers[n] = cn.merge(Wn);});var Nn = Un;var Qn = cn.toObjectSet(["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]);function Hn(n) {return Hn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Hn(n);}function _n(n, e) {(null == e || e > n.length) && (e = n.length);for (var t = 0, a = new Array(e); t < e; t++) {a[t] = n[t];}return a;}function Kn(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Hn(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Hn(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Hn(o) ? o : String(o)), a);}var o;}var Zn = Symbol("internals");function Vn(n) {return n && String(n).trim().toLowerCase();}function Xn(n) {return !1 === n || null == n ? n : cn.isArray(n) ? n.map(Xn) : String(n);}function Jn(n, e, t, a) {return cn.isFunction(a) ? a.call(this, e, t) : cn.isString(e) ? cn.isString(a) ? -1 !== e.indexOf(a) : cn.isRegExp(a) ? a.test(e) : void 0 : void 0;}var Gn = function (n, e) {function t(n) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, t), n && this.set(n);}var a, o, r;return a = t, o = [{ key: "set", value: function value(n, e, t) {var a = this;function o(n, e, t) {var o = Vn(e);if (!o) throw new Error("header name must be a non-empty string");var r = cn.findKey(a, o);(!r || void 0 === a[r] || !0 === t || void 0 === t && !1 !== a[r]) && (a[r || e] = Xn(n));}var r,i,l,s,p,d = function d(n, e) {return cn.forEach(n, function (n, t) {return o(n, t, e);});};return cn.isPlainObject(n) || n instanceof this.constructor ? d(n, e) : cn.isString(n) && (n = n.trim()) && !/^[-_a-zA-Z]+$/.test(n.trim()) ? d((p = {}, (r = n) && r.split("\n").forEach(function (n) {s = n.indexOf(":"), i = n.substring(0, s).trim().toLowerCase(), l = n.substring(s + 1).trim(), !i || p[i] && Qn[i] || ("set-cookie" === i ? p[i] ? p[i].push(l) : p[i] = [l] : p[i] = p[i] ? p[i] + ", " + l : l);}), p), e) : null != n && o(e, n, t), this;} }, { key: "get", value: function value(n, e) {if (n = Vn(n)) {var t = cn.findKey(this, n);if (t) {var a = this[t];if (!e) return a;if (!0 === e) return function (n) {for (var e, t = Object.create(null), a = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g; e = a.exec(n);) {t[e[1]] = e[2];}return t;}(a);if (cn.isFunction(e)) return e.call(this, a, t);if (cn.isRegExp(e)) return e.exec(a);throw new TypeError("parser must be boolean|regexp|function");}}} }, { key: "has", value: function value(n, e) {if (n = Vn(n)) {var t = cn.findKey(this, n);return !(!t || e && !Jn(0, this[t], t, e));}return !1;} }, { key: "delete", value: function value(n, e) {var t = this,a = !1;function o(n) {if (n = Vn(n)) {var o = cn.findKey(t, n);!o || e && !Jn(0, t[o], o, e) || (delete t[o], a = !0);}}return cn.isArray(n) ? n.forEach(o) : o(n), a;} }, { key: "clear", value: function value() {return Object.keys(this).forEach(this.delete.bind(this));} }, { key: "normalize", value: function value(n) {var e = this,t = {};return cn.forEach(this, function (a, o) {var r = cn.findKey(t, o);if (r) return e[r] = Xn(a), void delete e[o];var i = n ? function (n) {return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, function (n, e, t) {return e.toUpperCase() + t;});}(o) : String(o).trim();i !== o && delete e[o], e[i] = Xn(a), t[i] = !0;}), this;} }, { key: "concat", value: function value() {for (var n, e = arguments.length, t = new Array(e), a = 0; a < e; a++) {t[a] = arguments[a];}return (n = this.constructor).concat.apply(n, [this].concat(t));} }, { key: "toJSON", value: function value(n) {var e = Object.create(null);return cn.forEach(this, function (t, a) {null != t && !1 !== t && (e[a] = n && cn.isArray(t) ? t.join(", ") : t);}), e;} }, { key: Symbol.iterator, value: function value() {return Object.entries(this.toJSON())[Symbol.iterator]();} }, { key: "toString", value: function value() {return Object.entries(this.toJSON()).map(function (n) {var e,t,a = (t = 2, function (n) {if (Array.isArray(n)) return n;}(e = n) || function (n, e) {var t = null == n ? null : "undefined" != typeof Symbol && n[Symbol.iterator] || n["@@iterator"];if (null != t) {var a,o,r,i,l = [],s = !0,p = !1;try {if (r = (t = t.call(n)).next, 0 === e) {if (Object(t) !== t) return;s = !1;} else for (; !(s = (a = r.call(t)).done) && (l.push(a.value), l.length !== e); s = !0) {;}} catch (n) {p = !0, o = n;} finally {try {if (!s && null != t.return && (i = t.return(), Object(i) !== i)) return;} finally {if (p) throw o;}}return l;}}(e, t) || function (n, e) {if (n) {if ("string" == typeof n) return _n(n, e);var t = Object.prototype.toString.call(n).slice(8, -1);return "Object" === t && n.constructor && (t = n.constructor.name), "Map" === t || "Set" === t ? Array.from(n) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _n(n, e) : void 0;}}(e, t) || function () {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}());return a[0] + ": " + a[1];}).join("\n");} }, { key: Symbol.toStringTag, get: function get() {return "AxiosHeaders";} }], r = [{ key: "from", value: function value(n) {return n instanceof this ? n : new this(n);} }, { key: "concat", value: function value(n) {for (var e = new this(n), t = arguments.length, a = new Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++) {a[o - 1] = arguments[o];}return a.forEach(function (n) {return e.set(n);}), e;} }, { key: "accessor", value: function value(n) {var e = (this[Zn] = this[Zn] = { accessors: {} }).accessors,t = this.prototype;function a(n) {var a = Vn(n);e[a] || (function (n, e) {var t = cn.toCamelCase(" " + e);["get", "set", "has"].forEach(function (a) {Object.defineProperty(n, a + t, { value: function value(n, t, o) {return this[a].call(this, e, n, t, o);}, configurable: !0 });});}(t, n), e[a] = !0);}return cn.isArray(n) ? n.forEach(a) : a(n), this;} }], o && Kn(a.prototype, o), r && Kn(a, r), Object.defineProperty(a, "prototype", { writable: !1 }), t;}();Gn.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent"]), cn.freezeMethods(Gn.prototype), cn.freezeMethods(Gn);var $n = Gn;function ne(n, e) {var t = this || Nn,a = e || t,o = $n.from(a.headers),r = a.data;return cn.forEach(n, function (n) {r = n.call(t, r, o.normalize(), e ? e.status : void 0);}), o.normalize(), r;}function ee(n) {return !(!n || !n.__CANCEL__);}function te(n, e, t) {mn.call(this, null == n ? "canceled" : n, mn.ERR_CANCELED, e, t), this.name = "CanceledError";}cn.inherits(te, mn, { __CANCEL__: !0 });var ae = te,oe = Mn.isStandardBrowserEnv ? { write: function write(n, e, t, a, o, r) {var i = [];i.push(n + "=" + encodeURIComponent(e)), cn.isNumber(t) && i.push("expires=" + new Date(t).toGMTString()), cn.isString(a) && i.push("path=" + a), cn.isString(o) && i.push("domain=" + o), !0 === r && i.push("secure"), document.cookie = i.join("; ");}, read: function read(n) {var e = document.cookie.match(new RegExp("(^|;\\s*)(" + n + ")=([^;]*)"));return e ? decodeURIComponent(e[3]) : null;}, remove: function remove(n) {this.write(n, "", Date.now() - 864e5);} } : { write: function write() {}, read: function read() {return null;}, remove: function remove() {} };function re(n, e) {return n && !/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e) ? function (n, e) {return e ? n.replace(/\/+$/, "") + "/" + e.replace(/^\/+/, "") : n;}(n, e) : e;}var ie = Mn.isStandardBrowserEnv ? function () {var n,e = /(msie|trident)/i.test(navigator.userAgent),t = document.createElement("a");function a(n) {var a = n;return e && (t.setAttribute("href", a), a = t.href), t.setAttribute("href", a), { href: t.href, protocol: t.protocol ? t.protocol.replace(/:$/, "") : "", host: t.host, search: t.search ? t.search.replace(/^\?/, "") : "", hash: t.hash ? t.hash.replace(/^#/, "") : "", hostname: t.hostname, port: t.port, pathname: "/" === t.pathname.charAt(0) ? t.pathname : "/" + t.pathname };}return n = a(window.location.href), function (e) {var t = cn.isString(e) ? a(e) : e;return t.protocol === n.protocol && t.host === n.host;};}() : function () {return !0;};function le(n, e) {var t = 0,a = function (n, e) {n = n || 10;var t,a = new Array(n),o = new Array(n),r = 0,i = 0;return e = void 0 !== e ? e : 1e3, function (l) {var s = Date.now(),p = o[i];t || (t = s), a[r] = l, o[r] = s;for (var d = i, c = 0; d !== r;) {c += a[d++], d %= n;}if ((r = (r + 1) % n) === i && (i = (i + 1) % n), !(s - t < e)) {var A = p && s - p;return A ? Math.round(1e3 * c / A) : void 0;}};}(50, 250);return function (o) {var r = o.loaded,i = o.lengthComputable ? o.total : void 0,l = r - t,s = a(l);t = r;var p = { loaded: r, total: i, progress: i ? r / i : void 0, bytes: l, rate: s || void 0, estimated: s && i && r <= i ? (i - r) / s : void 0, event: o };p[e ? "download" : "upload"] = !0, n(p);};}var se = "undefined" != typeof XMLHttpRequest && function (n) {return new Promise(function (e, t) {var a,o = n.data,r = $n.from(n.headers).normalize(),i = n.responseType;function l() {n.cancelToken && n.cancelToken.unsubscribe(a), n.signal && n.signal.removeEventListener("abort", a);}cn.isFormData(o) && (Mn.isStandardBrowserEnv || Mn.isStandardBrowserWebWorkerEnv) && r.setContentType(!1);var s = new XMLHttpRequest();if (n.auth) {var p = n.auth.username || "",d = n.auth.password ? unescape(encodeURIComponent(n.auth.password)) : "";r.set("Authorization", "Basic " + btoa(p + ":" + d));}var c = re(n.baseURL, n.url);function A() {if (s) {var a = $n.from("getAllResponseHeaders" in s && s.getAllResponseHeaders());!function (n, e, t) {var a = t.config.validateStatus;t.status && a && !a(t.status) ? e(new mn("Request failed with status code " + t.status, [mn.ERR_BAD_REQUEST, mn.ERR_BAD_RESPONSE][Math.floor(t.status / 100) - 4], t.config, t.request, t)) : n(t);}(function (n) {e(n), l();}, function (n) {t(n), l();}, { data: i && "text" !== i && "json" !== i ? s.response : s.responseText, status: s.status, statusText: s.statusText, headers: a, config: n, request: s }), s = null;}}if (s.open(n.method.toUpperCase(), In(c, n.params, n.paramsSerializer), !0), s.timeout = n.timeout, "onloadend" in s ? s.onloadend = A : s.onreadystatechange = function () {s && 4 === s.readyState && (0 !== s.status || s.responseURL && 0 === s.responseURL.indexOf("file:")) && setTimeout(A);}, s.onabort = function () {s && (t(new mn("Request aborted", mn.ECONNABORTED, n, s)), s = null);}, s.onerror = function () {t(new mn("Network Error", mn.ERR_NETWORK, n, s)), s = null;}, s.ontimeout = function () {var e = n.timeout ? "timeout of " + n.timeout + "ms exceeded" : "timeout exceeded",a = n.transitional || On;n.timeoutErrorMessage && (e = n.timeoutErrorMessage), t(new mn(e, a.clarifyTimeoutError ? mn.ETIMEDOUT : mn.ECONNABORTED, n, s)), s = null;}, Mn.isStandardBrowserEnv) {var u = (n.withCredentials || ie(c)) && n.xsrfCookieName && oe.read(n.xsrfCookieName);u && r.set(n.xsrfHeaderName, u);}void 0 === o && r.setContentType(null), "setRequestHeader" in s && cn.forEach(r.toJSON(), function (n, e) {s.setRequestHeader(e, n);}), cn.isUndefined(n.withCredentials) || (s.withCredentials = !!n.withCredentials), i && "json" !== i && (s.responseType = n.responseType), "function" == typeof n.onDownloadProgress && s.addEventListener("progress", le(n.onDownloadProgress, !0)), "function" == typeof n.onUploadProgress && s.upload && s.upload.addEventListener("progress", le(n.onUploadProgress)), (n.cancelToken || n.signal) && (a = function a(e) {s && (t(!e || e.type ? new ae(null, n, s) : e), s.abort(), s = null);}, n.cancelToken && n.cancelToken.subscribe(a), n.signal && (n.signal.aborted ? a() : n.signal.addEventListener("abort", a)));var y,m = (y = /^([-+\w]{1,25})(:?\/\/|:)/.exec(c)) && y[1] || "";m && -1 === Mn.protocols.indexOf(m) ? t(new mn("Unsupported protocol " + m + ":", mn.ERR_BAD_REQUEST, n)) : s.send(o || null);});};var pe = { http: null, xhr: se };cn.forEach(pe, function (n, e) {if (n) {try {Object.defineProperty(n, "name", { value: e });} catch (n) {}Object.defineProperty(n, "adapterName", { value: e });}});function de(n) {if (n.cancelToken && n.cancelToken.throwIfRequested(), n.signal && n.signal.aborted) throw new ae(null, n);}function ce(n) {return de(n), n.headers = $n.from(n.headers), n.data = ne.call(n, n.transformRequest), -1 !== ["post", "put", "patch"].indexOf(n.method) && n.headers.setContentType("application/x-www-form-urlencoded", !1), function (n) {for (var e, t, a = (n = cn.isArray(n) ? n : [n]).length, o = 0; o < a && (e = n[o], !(t = cn.isString(e) ? pe[e.toLowerCase()] : e)); o++) {;}if (!t) {if (!1 === t) throw new mn("Adapter ".concat(e, " is not supported by the environment"), "ERR_NOT_SUPPORT");throw new Error(cn.hasOwnProp(pe, e) ? "Adapter '".concat(e, "' is not available in the build") : "Unknown adapter '".concat(e, "'"));}if (!cn.isFunction(t)) throw new TypeError("adapter is not a function");return t;}(n.adapter || Nn.adapter)(n).then(function (e) {return de(n), e.data = ne.call(n, n.transformResponse, e), e.headers = $n.from(e.headers), e;}, function (e) {return ee(e) || (de(n), e && e.response && (e.response.data = ne.call(n, n.transformResponse, e.response), e.response.headers = $n.from(e.response.headers))), Promise.reject(e);});}var Ae = function Ae(n) {return n instanceof $n ? n.toJSON() : n;};function ue(n, e) {e = e || {};var t = {};function a(n, e, t) {return cn.isPlainObject(n) && cn.isPlainObject(e) ? cn.merge.call({ caseless: t }, n, e) : cn.isPlainObject(e) ? cn.merge({}, e) : cn.isArray(e) ? e.slice() : e;}function o(n, e, t) {return cn.isUndefined(e) ? cn.isUndefined(n) ? void 0 : a(void 0, n, t) : a(n, e, t);}function r(n, e) {if (!cn.isUndefined(e)) return a(void 0, e);}function i(n, e) {return cn.isUndefined(e) ? cn.isUndefined(n) ? void 0 : a(void 0, n) : a(void 0, e);}function l(t, o, r) {return r in e ? a(t, o) : r in n ? a(void 0, t) : void 0;}var s = { url: r, method: r, data: r, baseURL: i, transformRequest: i, transformResponse: i, paramsSerializer: i, timeout: i, timeoutMessage: i, withCredentials: i, adapter: i, responseType: i, xsrfCookieName: i, xsrfHeaderName: i, onUploadProgress: i, onDownloadProgress: i, decompress: i, maxContentLength: i, maxBodyLength: i, beforeRedirect: i, transport: i, httpAgent: i, httpsAgent: i, cancelToken: i, socketPath: i, responseEncoding: i, validateStatus: l, headers: function headers(n, e) {return o(Ae(n), Ae(e), !0);} };return cn.forEach(Object.keys(n).concat(Object.keys(e)), function (a) {var r = s[a] || o,i = r(n[a], e[a], a);cn.isUndefined(i) && r !== l || (t[a] = i);}), t;}function ye(n) {return ye = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, ye(n);}var me = {};["object", "boolean", "number", "function", "string", "symbol"].forEach(function (n, e) {me[n] = function (t) {return ye(t) === n || "a" + (e < 1 ? "n " : " ") + n;};});var he = {};me.transitional = function (n, e, t) {function a(n, e) {return "[Axios v1.2.3] Transitional option '" + n + "'" + e + (t ? ". " + t : "");}return function (t, o, r) {if (!1 === n) throw new mn(a(o, " has been removed" + (e ? " in " + e : "")), mn.ERR_DEPRECATED);return e && !he[o] && (he[o] = !0, console.warn(a(o, " has been deprecated since v" + e + " and will be removed in the near future"))), !n || n(t, o, r);};};var fe = { assertOptions: function assertOptions(n, e, t) {if ("object" !== ye(n)) throw new mn("options must be an object", mn.ERR_BAD_OPTION_VALUE);for (var a = Object.keys(n), o = a.length; o-- > 0;) {var r = a[o],i = e[r];if (i) {var l = n[r],s = void 0 === l || i(l, r, n);if (!0 !== s) throw new mn("option " + r + " must be " + s, mn.ERR_BAD_OPTION_VALUE);} else if (!0 !== t) throw new mn("Unknown option " + r, mn.ERR_BAD_OPTION);}}, validators: me };function be(n) {return be = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, be(n);}function ge(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== be(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== be(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === be(o) ? o : String(o)), a);}var o;}var ve = fe.validators,xe = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.defaults = e, this.interceptors = { request: new qn(), response: new qn() };}var e, t;return e = n, (t = [{ key: "request", value: function value(n, e) {"string" == typeof n ? (e = e || {}).url = n : e = n || {};var t,a = e = ue(this.defaults, e),o = a.transitional,r = a.paramsSerializer,i = a.headers;void 0 !== o && fe.assertOptions(o, { silentJSONParsing: ve.transitional(ve.boolean), forcedJSONParsing: ve.transitional(ve.boolean), clarifyTimeoutError: ve.transitional(ve.boolean) }, !1), void 0 !== r && fe.assertOptions(r, { encode: ve.function, serialize: ve.function }, !0), e.method = (e.method || this.defaults.method || "get").toLowerCase(), (t = i && cn.merge(i.common, i[e.method])) && cn.forEach(["delete", "get", "head", "post", "put", "patch", "common"], function (n) {delete i[n];}), e.headers = $n.concat(t, i);var l = [],s = !0;this.interceptors.request.forEach(function (n) {"function" == typeof n.runWhen && !1 === n.runWhen(e) || (s = s && n.synchronous, l.unshift(n.fulfilled, n.rejected));});var p,d = [];this.interceptors.response.forEach(function (n) {d.push(n.fulfilled, n.rejected);});var c,A = 0;if (!s) {var u = [ce.bind(this), void 0];for (u.unshift.apply(u, l), u.push.apply(u, d), c = u.length, p = Promise.resolve(e); A < c;) {p = p.then(u[A++], u[A++]);}return p;}c = l.length;var y = e;for (A = 0; A < c;) {var m = l[A++],h = l[A++];try {y = m(y);} catch (n) {h.call(this, n);break;}}try {p = ce.call(this, y);} catch (n) {return Promise.reject(n);}for (A = 0, c = d.length; A < c;) {p = p.then(d[A++], d[A++]);}return p;} }, { key: "getUri", value: function value(n) {return In(re((n = ue(this.defaults, n)).baseURL, n.url), n.params, n.paramsSerializer);} }]) && ge(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();cn.forEach(["delete", "get", "head", "options"], function (n) {xe.prototype[n] = function (e, t) {return this.request(ue(t || {}, { method: n, url: e, data: (t || {}).data }));};}), cn.forEach(["post", "put", "patch"], function (n) {function e(e) {return function (t, a, o) {return this.request(ue(o || {}, { method: n, headers: e ? { "Content-Type": "multipart/form-data" } : {}, url: t, data: a }));};}xe.prototype[n] = e(), xe.prototype[n + "Form"] = e(!0);});var Ee = xe;function we(n) {return we = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, we(n);}function Ce(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== we(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== we(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === we(o) ? o : String(o)), a);}var o;}var ke = function () {function n(e) {if (function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), "function" != typeof e) throw new TypeError("executor must be a function.");var t;this.promise = new Promise(function (n) {t = n;});var a = this;this.promise.then(function (n) {if (a._listeners) {for (var e = a._listeners.length; e-- > 0;) {a._listeners[e](n);}a._listeners = null;}}), this.promise.then = function (n) {var e,t = new Promise(function (n) {a.subscribe(n), e = n;}).then(n);return t.cancel = function () {a.unsubscribe(e);}, t;}, e(function (n, e, o) {a.reason || (a.reason = new ae(n, e, o), t(a.reason));});}var e, t, a;return e = n, t = [{ key: "throwIfRequested", value: function value() {if (this.reason) throw this.reason;} }, { key: "subscribe", value: function value(n) {this.reason ? n(this.reason) : this._listeners ? this._listeners.push(n) : this._listeners = [n];} }, { key: "unsubscribe", value: function value(n) {if (this._listeners) {var e = this._listeners.indexOf(n);-1 !== e && this._listeners.splice(e, 1);}} }], a = [{ key: "source", value: function value() {var e;return { token: new n(function (n) {e = n;}), cancel: e };} }], t && Ce(e.prototype, t), a && Ce(e, a), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Be = ke;function Se(n, e) {(null == e || e > n.length) && (e = n.length);for (var t = 0, a = new Array(e); t < e; t++) {a[t] = n[t];}return a;}var Ie = { Continue: 100, SwitchingProtocols: 101, Processing: 102, EarlyHints: 103, Ok: 200, Created: 201, Accepted: 202, NonAuthoritativeInformation: 203, NoContent: 204, ResetContent: 205, PartialContent: 206, MultiStatus: 207, AlreadyReported: 208, ImUsed: 226, MultipleChoices: 300, MovedPermanently: 301, Found: 302, SeeOther: 303, NotModified: 304, UseProxy: 305, Unused: 306, TemporaryRedirect: 307, PermanentRedirect: 308, BadRequest: 400, Unauthorized: 401, PaymentRequired: 402, Forbidden: 403, NotFound: 404, MethodNotAllowed: 405, NotAcceptable: 406, ProxyAuthenticationRequired: 407, RequestTimeout: 408, Conflict: 409, Gone: 410, LengthRequired: 411, PreconditionFailed: 412, PayloadTooLarge: 413, UriTooLong: 414, UnsupportedMediaType: 415, RangeNotSatisfiable: 416, ExpectationFailed: 417, ImATeapot: 418, MisdirectedRequest: 421, UnprocessableEntity: 422, Locked: 423, FailedDependency: 424, TooEarly: 425, UpgradeRequired: 426, PreconditionRequired: 428, TooManyRequests: 429, RequestHeaderFieldsTooLarge: 431, UnavailableForLegalReasons: 451, InternalServerError: 500, NotImplemented: 501, BadGateway: 502, ServiceUnavailable: 503, GatewayTimeout: 504, HttpVersionNotSupported: 505, VariantAlsoNegotiates: 506, InsufficientStorage: 507, LoopDetected: 508, NotExtended: 510, NetworkAuthenticationRequired: 511 };Object.entries(Ie).forEach(function (n) {var e,t,a = (t = 2, function (n) {if (Array.isArray(n)) return n;}(e = n) || function (n, e) {var t = null == n ? null : "undefined" != typeof Symbol && n[Symbol.iterator] || n["@@iterator"];if (null != t) {var a,o,r,i,l = [],s = !0,p = !1;try {if (r = (t = t.call(n)).next, 0 === e) {if (Object(t) !== t) return;s = !1;} else for (; !(s = (a = r.call(t)).done) && (l.push(a.value), l.length !== e); s = !0) {;}} catch (n) {p = !0, o = n;} finally {try {if (!s && null != t.return && (i = t.return(), Object(i) !== i)) return;} finally {if (p) throw o;}}return l;}}(e, t) || function (n, e) {if (n) {if ("string" == typeof n) return Se(n, e);var t = Object.prototype.toString.call(n).slice(8, -1);return "Object" === t && n.constructor && (t = n.constructor.name), "Map" === t || "Set" === t ? Array.from(n) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? Se(n, e) : void 0;}}(e, t) || function () {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}()),o = a[0],r = a[1];Ie[r] = o;});var Le = Ie;var ze = function n(e) {var t = new Ee(e),a = q(Ee.prototype.request, t);return cn.extend(a, Ee.prototype, t, { allOwnKeys: !0 }), cn.extend(a, t, null, { allOwnKeys: !0 }), a.create = function (t) {return n(ue(e, t));}, a;}(Nn);ze.Axios = Ee, ze.CanceledError = ae, ze.CancelToken = Be, ze.isCancel = ee, ze.VERSION = "1.2.3", ze.toFormData = En, ze.AxiosError = mn, ze.Cancel = ze.CanceledError, ze.all = function (n) {return Promise.all(n);}, ze.spread = function (n) {return function (e) {return n.apply(null, e);};}, ze.isAxiosError = function (n) {return cn.isObject(n) && !0 === n.isAxiosError;}, ze.mergeConfig = ue, ze.AxiosHeaders = $n, ze.formToJSON = function (n) {return Fn(cn.isHTMLForm(n) ? new FormData(n) : n);}, ze.HttpStatusCode = Le, ze.default = ze;var Te = ze,qe = { send: function send(n) {Te.post(n.url, n.data).then(function (e) {var t = e.data;t && 0 === t.code ? n.success && n.success(t) : n.error && n.error(t && t.msg);}).catch(function (e) {console.error(e), n.error && n.error();});}, read: function read(n) {Te.get(n.url).then(function (e) {var t = e.data;t && 0 === t.code ? n.success && n.success(t.data.map(function (n) {return { time: n[0], type: n[1], color: n[2], author: n[3], text: n[4] };})) : n.error && n.error(t && t.msg);}).catch(function (e) {console.error(e), n.error && n.error();});} };function Oe(n) {return Oe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Oe(n);}function je(n) {var e = this;this.lang = n, this.fallbackLang = this.lang.includes("-") ? this.lang.split("-")[0] : this.lang, this.tran = function (n) {return n = n.toLowerCase(), Pe[e.lang] && Pe[e.lang][n] ? Pe[e.lang][n] : Pe[e.fallbackLang] && Pe[e.fallbackLang][n] ? Pe[e.fallbackLang][n] : De[n] ? De[n] : n;};}var De = { "danmaku-loading": "Danmaku is loading", top: "Top", bottom: "Bottom", rolling: "Rolling", "input-danmaku-enter": "Input danmaku, hit Enter", "about-author": "About author", "dplayer-feedback": "DPlayer feedback", "about-dplayer": "About DPlayer", loop: "Loop", speed: "Speed", "opacity-danmaku": "Opacity for danmaku", normal: "Normal", "please-input-danmaku": "Please input danmaku content!", "set-danmaku-color": "Set danmaku color", "set-danmaku-type": "Set danmaku type", "show-danmaku": "Show danmaku", "video-failed": "Video load failed", "danmaku-failed": "Danmaku load failed", "danmaku-send-failed": "Danmaku send failed", "switching-quality": "Switching to %q quality", "switched-quality": "Switched to %q quality", ff: "FF %s s", rew: "REW %s s", "unlimited-danmaku": "Unlimited danmaku", "send-danmaku": "Send danmaku", setting: "Setting", fullscreen: "Full screen", "web-fullscreen": "Web full screen", send: "Send", screenshot: "Screenshot", airplay: "AirPlay", chromecast: "ChromeCast", subtitle: "Subtitle", off: "Off", "show-subs": "Show subtitle", "hide-subs": "Hide subtitle", volume: "Volume", live: "Live", "video-info": "Video info" },Pe = { en: De, "zh-cn": { "danmaku-loading": "弹幕加载中", top: "顶部", bottom: "底部", rolling: "滚动", "input-danmaku-enter": "输入弹幕，回车发送", "about-author": "关于作者", "dplayer-feedback": "播放器意见反馈", "about-dplayer": "关于 DPlayer 播放器", loop: "洗脑循环", speed: "速度", "opacity-danmaku": "弹幕透明度", normal: "正常", "please-input-danmaku": "要输入弹幕内容啊喂！", "set-danmaku-color": "设置弹幕颜色", "set-danmaku-type": "设置弹幕类型", "show-danmaku": "显示弹幕", "video-failed": "视频加载失败", "danmaku-failed": "弹幕加载失败", "danmaku-send-failed": "弹幕发送失败", "switching-quality": "正在切换至 %q 画质", "switched-quality": "已经切换至 %q 画质", ff: "快进 %s 秒", rew: "快退 %s 秒", "unlimited-danmaku": "海量弹幕", "send-danmaku": "发送弹幕", setting: "设置", fullscreen: "全屏", "web-fullscreen": "页面全屏", send: "发送", screenshot: "截图", airplay: "无线投屏", chromecast: "ChromeCast", subtitle: "字幕", off: "关闭", "show-subs": "显示字幕", "hide-subs": "隐藏字幕", volume: "音量", live: "直播", "video-info": "视频统计信息" }, "zh-tw": { "danmaku-loading": "彈幕載入中", top: "頂部", bottom: "底部", rolling: "滾動", "input-danmaku-enter": "輸入彈幕，Enter 發送", "about-author": "關於作者", "dplayer-feedback": "播放器意見回饋", "about-dplayer": "關於 DPlayer 播放器", loop: "循環播放", speed: "速度", "opacity-danmaku": "彈幕透明度", normal: "正常", "please-input-danmaku": "請輸入彈幕內容啊！", "set-danmaku-color": "設定彈幕顏色", "set-danmaku-type": "設定彈幕類型", "show-danmaku": "顯示彈幕", "video-failed": "影片載入失敗", "danmaku-failed": "彈幕載入失敗", "danmaku-send-failed": "彈幕發送失敗", "switching-quality": "正在切換至 %q 畫質", "switched-quality": "已經切換至 %q 畫質", ff: "快進 %s 秒", rew: "快退 %s 秒", "unlimited-danmaku": "巨量彈幕", "send-danmaku": "發送彈幕", setting: "設定", fullscreen: "全螢幕", "web-fullscreen": "頁面全螢幕", send: "發送", screenshot: "截圖", airplay: "無線投屏", chromecast: "ChromeCast", subtitle: "字幕", off: "關閉", "show-subs": "顯示字幕", "hide-subs": "隱藏字幕", volume: "音量", live: "直播", "video-info": "影片統計訊息" }, "ko-kr": { "danmaku-loading": "Danmaku를 불러오는 중입니다.", top: "Top", bottom: "Bottom", rolling: "Rolling", "input-danmaku-enter": "Danmaku를 입력하고 Enter를 누르세요.", "about-author": "만든이", "dplayer-feedback": "피드백 보내기", "about-dplayer": "DPlayer 정보", loop: "반복", speed: "배속", "opacity-danmaku": "Danmaku 불투명도", normal: "표준", "please-input-danmaku": "Danmaku를 입력하세요!", "set-danmaku-color": "Danmaku 색상", "set-danmaku-type": "Danmaku 설정", "show-danmaku": "Danmaku 표시", "video-failed": "비디오를 불러오지 못했습니다.", "danmaku-failed": "Danmaku를 불러오지 못했습니다.", "danmaku-send-failed": "Danmaku 전송에 실패했습니다.", "Switching to": "", "Switched to": "", "switching-quality": "전환 %q 화질", "switched-quality": "전환 됨 %q 화질", ff: "앞으로 %s 초", rew: "뒤로 %s 초", "unlimited-danmaku": "끝없는 Danmaku", "send-danmaku": "Danmaku 보내기", setting: "설정", fullscreen: "전체 화면", "web-fullscreen": "웹 내 전체화면", send: "보내기", screenshot: "화면 캡쳐", airplay: "에어플레이", chromecast: "ChromeCast", subtitle: "부제", off: "끄다", "show-subs": "자막 보이기", "hide-subs": "자막 숨기기", Volume: "볼륨", live: "생방송", "video-info": "비디오 정보" }, de: { "danmaku-loading": "Danmaku lädt...", top: "Oben", bottom: "Unten", rolling: "Rollend", "input-danmaku-enter": "Drücke Enter nach dem Einfügen vom Danmaku", "about-author": "Über den Autor", "dplayer-feedback": "DPlayer Feedback", "about-dplayer": "Über DPlayer", loop: "Wiederholen", speed: "Geschwindigkeit", "opacity-danmaku": "Transparenz für Danmaku", normal: "Normal", "please-input-danmaku": "Bitte Danmaku Inhalt eingeben!", "set-danmaku-color": "Danmaku Farbe festlegen", "set-danmaku-type": "Danmaku Typ festlegen", "show-danmaku": "Zeige Danmaku", "video-failed": "Das Video konnte nicht geladen werden", "danmaku-failed": "Danmaku konnte nicht geladen werden", "danmaku-send-failed": "Das senden von Danmaku ist fehgeschlagen", "switching-quality": "Wechsle zur %q Qualität", "switched-quality": "Zur %q Qualität gewechselt", ff: "%s s Vorwärts", rew: "%s s Zurück", "unlimited-danmaku": "Unlimitiertes Danmaku", "send-danmaku": "Sende Danmaku", setting: "Einstellungen", fullscreen: "Vollbild", "web-fullscreen": "Browser Vollbild", send: "Senden", screenshot: "Screenshot", airplay: "AirPlay", "show-subs": "Zeige Untertitel", chromecast: "ChromeCast", subtitle: "Untertitel", off: "Schließung", "hide-subs": "Verstecke Untertitel", volume: "Lautstärke", live: "Live", "video-info": "Video Info" } },Re = t(730),Ye = t.n(Re),Me = t(74),Fe = t.n(Me),We = t(437),Ue = t.n(We),Ne = t(644),Qe = t.n(Ne),He = t(324),_e = t.n(He),Ke = t(574),Ze = t.n(Ke),Ve = t(300),Xe = t.n(Ve),Je = t(934),Ge = t.n(Je),$e = t(428),nt = t.n($e),et = t(807),tt = t.n(et),at = t(338),ot = t.n(at),rt = t(254),it = t.n(rt),lt = t(965),st = t.n(lt),pt = t(113),dt = t.n(pt),ct = t(251),At = t.n(ct),ut = t(410),yt = t.n(ut),mt = t(182),ht = t.n(mt),ft = t(193),bt = t.n(ft);var gt = { play: Ye(), pause: Fe(), volumeUp: Ue(), volumeDown: Qe(), volumeOff: _e(), full: Ze(), fullWeb: Xe(), setting: Ge(), right: nt(), comment: tt(), commentOff: ot(), send: it(), pallette: st(), camera: dt(), subtitle: yt(), loading: ht(), airplay: At(), chromecast: bt() };var vt = t(916),xt = t.n(vt);function Et(n) {return Et = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Et(n);}function wt(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Et(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Et(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Et(o) ? o : String(o)), a);}var o;}var Ct = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.container = e.container, this.options = e.options, this.index = e.index, this.tran = e.tran, this.init();}var e, t, a;return e = n, a = [{ key: "NewNotice", value: function value(n, e, t) {var a = document.createElement("div");return a.classList.add("dplayer-notice"), a.style.opacity = e, a.innerText = n, t && (a.id = "dplayer-notice-".concat(t)), a;} }], (t = [{ key: "init", value: function value() {this.container.innerHTML = xt()({ options: this.options, index: this.index, tran: this.tran, icons: gt, mobile: T.isMobile, video: { current: !0, pic: this.options.video.pic, screenshot: this.options.screenshot, airplay: !(!T.isSafari || T.isChrome) && this.options.airplay, chromecast: this.options.chromecast, preload: this.options.preload, url: this.options.video.url, subtitle: this.options.subtitle } }), this.volumeBar = this.container.querySelector(".dplayer-volume-bar-inner"), this.volumeBarWrap = this.container.querySelector(".dplayer-volume-bar"), this.volumeBarWrapWrap = this.container.querySelector(".dplayer-volume-bar-wrap"), this.volumeButton = this.container.querySelector(".dplayer-volume"), this.volumeButtonIcon = this.container.querySelector(".dplayer-volume-icon"), this.volumeIcon = this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"), this.playedBar = this.container.querySelector(".dplayer-played"), this.loadedBar = this.container.querySelector(".dplayer-loaded"), this.playedBarWrap = this.container.querySelector(".dplayer-bar-wrap"), this.playedBarTime = this.container.querySelector(".dplayer-bar-time"), this.danmaku = this.container.querySelector(".dplayer-danmaku"), this.danmakuLoading = this.container.querySelector(".dplayer-danloading"), this.video = this.container.querySelector(".dplayer-video-current"), this.bezel = this.container.querySelector(".dplayer-bezel-icon"), this.playButton = this.container.querySelector(".dplayer-play-icon"), this.mobilePlayButton = this.container.querySelector(".dplayer-mobile-play"), this.videoWrap = this.container.querySelector(".dplayer-video-wrap"), this.controllerMask = this.container.querySelector(".dplayer-controller-mask"), this.ptime = this.container.querySelector(".dplayer-ptime"), this.settingButton = this.container.querySelector(".dplayer-setting-icon"), this.settingBox = this.container.querySelector(".dplayer-setting-box"), this.mask = this.container.querySelector(".dplayer-mask"), this.loop = this.container.querySelector(".dplayer-setting-loop"), this.loopToggle = this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"), this.showDanmaku = this.container.querySelector(".dplayer-setting-showdan"), this.showDanmakuToggle = this.container.querySelector(".dplayer-showdan-setting-input"), this.unlimitDanmaku = this.container.querySelector(".dplayer-setting-danunlimit"), this.unlimitDanmakuToggle = this.container.querySelector(".dplayer-danunlimit-setting-input"), this.speed = this.container.querySelector(".dplayer-setting-speed"), this.speedItem = this.container.querySelectorAll(".dplayer-setting-speed-item"), this.danmakuOpacityBar = this.container.querySelector(".dplayer-danmaku-bar-inner"), this.danmakuOpacityBarWrap = this.container.querySelector(".dplayer-danmaku-bar"), this.danmakuOpacityBarWrapWrap = this.container.querySelector(".dplayer-danmaku-bar-wrap"), this.danmakuOpacityBox = this.container.querySelector(".dplayer-setting-danmaku"), this.dtime = this.container.querySelector(".dplayer-dtime"), this.controller = this.container.querySelector(".dplayer-controller"), this.commentInput = this.container.querySelector(".dplayer-comment-input"), this.commentButton = this.container.querySelector(".dplayer-comment-icon"), this.commentSettingBox = this.container.querySelector(".dplayer-comment-setting-box"), this.commentSettingButton = this.container.querySelector(".dplayer-comment-setting-icon"), this.commentSettingFill = this.container.querySelector(".dplayer-comment-setting-icon path"), this.commentSendButton = this.container.querySelector(".dplayer-send-icon"), this.commentSendFill = this.container.querySelector(".dplayer-send-icon path"), this.commentColorSettingBox = this.container.querySelector(".dplayer-comment-setting-color"), this.browserFullButton = this.container.querySelector(".dplayer-full-icon"), this.webFullButton = this.container.querySelector(".dplayer-full-in-icon"), this.menu = this.container.querySelector(".dplayer-menu"), this.menuItem = this.container.querySelectorAll(".dplayer-menu-item"), this.qualityList = this.container.querySelector(".dplayer-quality-list"), this.camareButton = this.container.querySelector(".dplayer-camera-icon"), this.airplayButton = this.container.querySelector(".dplayer-airplay-icon"), this.chromecastButton = this.container.querySelector(".dplayer-chromecast-icon"), this.subtitleButton = this.container.querySelector(".dplayer-subtitle-icon"), this.subtitleButtonInner = this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"), this.subtitlesButton = this.container.querySelector(".dplayer-subtitles-icon"), this.subtitlesBox = this.container.querySelector(".dplayer-subtitles-box"), this.subtitlesItem = this.container.querySelectorAll(".dplayer-subtitles-item"), this.subtitle = this.container.querySelector(".dplayer-subtitle"), this.subtrack = this.container.querySelector(".dplayer-subtrack"), this.qualityButton = this.container.querySelector(".dplayer-quality-icon"), this.barPreview = this.container.querySelector(".dplayer-bar-preview"), this.barWrap = this.container.querySelector(".dplayer-bar-wrap"), this.noticeList = this.container.querySelector(".dplayer-notice-list"), this.infoPanel = this.container.querySelector(".dplayer-info-panel"), this.infoPanelClose = this.container.querySelector(".dplayer-info-panel-close"), this.infoVersion = this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"), this.infoFPS = this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"), this.infoType = this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"), this.infoUrl = this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"), this.infoResolution = this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"), this.infoDuration = this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"), this.infoDanmakuId = this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"), this.infoDanmakuApi = this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"), this.infoDanmakuAmount = this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data");} }]) && wt(e.prototype, t), a && wt(e, a), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var kt = Ct;function Bt(n) {return Bt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Bt(n);}function St(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Bt(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Bt(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Bt(o) ? o : String(o)), a);}var o;}var It = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.options = e, this.player = this.options.player, this.container = this.options.container, this.danTunnel = { right: {}, top: {}, bottom: {} }, this.danIndex = 0, this.dan = [], this.showing = !0, this._opacity = this.options.opacity, this.events = this.options.events, this.unlimited = this.options.unlimited, this._measure(""), this.load();}var e, t;return e = n, t = [{ key: "load", value: function value() {var n,e = this;n = this.options.api.maximum ? "".concat(this.options.api.address, "v3/?id=").concat(this.options.api.id, "&max=").concat(this.options.api.maximum) : "".concat(this.options.api.address, "v3/?id=").concat(this.options.api.id);var t = (this.options.api.addition || []).slice(0);t.push(n), this.events && this.events.trigger("danmaku_load_start", t), this._readAllEndpoints(t, function (n) {e.dan = [].concat.apply([], n).sort(function (n, e) {return n.time - e.time;}), window.requestAnimationFrame(function () {e.frame();}), e.options.callback(), e.events && e.events.trigger("danmaku_load_end");});} }, { key: "reload", value: function value(n) {this.options.api = n, this.dan = [], this.clear(), this.load();} }, { key: "_readAllEndpoints", value: function value(n, e) {for (var t = this, a = [], o = 0, r = function r(_r) {t.options.apiBackend.read({ url: n[_r], success: function success(t) {a[_r] = t, ++o === n.length && e(a);}, error: function error(i) {t.options.error(i || t.options.tran("danmaku-failed")), a[_r] = [], ++o === n.length && e(a);} });}, i = 0; i < n.length; ++i) {r(i);}} }, { key: "send", value: function value(n, e) {var t = this,a = { token: this.options.api.token, id: this.options.api.id, author: this.options.api.user, time: this.options.time(), text: n.text, color: n.color, type: n.type };this.options.apiBackend.send({ url: this.options.api.address + "v3/", data: a, success: e, error: function error(n) {t.options.error(n || t.options.tran("danmaku-failed"));} }), this.dan.splice(this.danIndex, 0, a), this.danIndex++;var o = { text: this.htmlEncode(a.text), color: a.color, type: a.type, border: "2px solid ".concat(this.options.borderColor) };this.draw(o), this.events && this.events.trigger("danmaku_send", a);} }, { key: "frame", value: function value() {var n = this;if (this.dan.length && !this.paused && this.showing) {for (var e = this.dan[this.danIndex], t = []; e && this.options.time() > parseFloat(e.time);) {t.push(e), e = this.dan[++this.danIndex];}this.draw(t);}window.requestAnimationFrame(function () {n.frame();});} }, { key: "opacity", value: function value(n) {if (void 0 !== n) {for (var e = this.container.getElementsByClassName("dplayer-danmaku-item"), t = 0; t < e.length; t++) {e[t].style.opacity = n;}this._opacity = n, this.events && this.events.trigger("danmaku_opacity", this._opacity);}return this._opacity;} }, { key: "draw", value: function value(n) {var e = this;if (this.showing) {var t = this.options.height,a = this.container.offsetWidth,o = this.container.offsetHeight,r = parseInt(o / t),i = function i(n) {var t = n.offsetWidth || parseInt(n.style.width),a = n.getBoundingClientRect().right || e.container.getBoundingClientRect().right + t;return e.container.getBoundingClientRect().right - a;},l = function l(n) {return (a + n) / 5;},s = function s(n, t, o) {for (var s = a / l(o), p = function p(o) {var p = e.danTunnel[t][o + ""];if (!p || !p.length) return e.danTunnel[t][o + ""] = [n], n.addEventListener("animationend", function () {e.danTunnel[t][o + ""].splice(0, 1);}), { v: o % r };if ("right" !== t) return "continue";for (var d = 0; d < p.length; d++) {var c = i(p[d]) - 10;if (c <= a - s * l(parseInt(p[d].style.width)) || c <= 0) break;if (d === p.length - 1) return e.danTunnel[t][o + ""].push(n), n.addEventListener("animationend", function () {e.danTunnel[t][o + ""].splice(0, 1);}), { v: o % r };}}, d = 0; e.unlimited || d < r; d++) {var c = p(d);if ("continue" !== c && "object" === Bt(c)) return c.v;}return -1;};"[object Array]" !== Object.prototype.toString.call(n) && (n = [n]);for (var p = document.createDocumentFragment(), d = function d() {n[c].type = T.number2Type(n[c].type), n[c].color || (n[c].color = 16777215);var o = document.createElement("div");o.classList.add("dplayer-danmaku-item"), o.classList.add("dplayer-danmaku-".concat(n[c].type)), n[c].border ? o.innerHTML = '<span style="border:'.concat(n[c].border, '">').concat(n[c].text, "</span>") : o.innerHTML = n[c].text, o.style.opacity = e._opacity, o.style.color = T.number2Color(n[c].color), o.addEventListener("animationend", function () {e.container.removeChild(o);});var r,i = e._measure(n[c].text);switch (n[c].type) {case "right":(r = s(o, n[c].type, i)) >= 0 && (o.style.width = i + 1 + "px", o.style.top = t * r + "px", o.style.transform = "translateX(-".concat(a, "px)"));break;case "top":(r = s(o, n[c].type)) >= 0 && (o.style.top = t * r + "px");break;case "bottom":(r = s(o, n[c].type)) >= 0 && (o.style.bottom = t * r + "px");break;default:console.error("Can't handled danmaku type: ".concat(n[c].type));}r >= 0 && (o.classList.add("dplayer-danmaku-move"), o.style.animationDuration = e._danAnimation(n[c].type), p.appendChild(o));}, c = 0; c < n.length; c++) {d();}return this.container.appendChild(p), p;}} }, { key: "play", value: function value() {this.paused = !1;} }, { key: "pause", value: function value() {this.paused = !0;} }, { key: "_measure", value: function value(n) {if (!this.context) {var e = getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0], null);this.context = document.createElement("canvas").getContext("2d"), this.context.font = e.getPropertyValue("font");}return this.context.measureText(n).width;} }, { key: "seek", value: function value() {this.clear();for (var n = 0; n < this.dan.length; n++) {if (this.dan[n].time >= this.options.time()) {this.danIndex = n;break;}this.danIndex = this.dan.length;}} }, { key: "clear", value: function value() {this.danTunnel = { right: {}, top: {}, bottom: {} }, this.danIndex = 0, this.options.container.innerHTML = "", this.events && this.events.trigger("danmaku_clear");} }, { key: "htmlEncode", value: function value(n) {return n.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;").replace(/\//g, "&#x2f;");} }, { key: "resize", value: function value() {for (var n = this.container.offsetWidth, e = this.container.getElementsByClassName("dplayer-danmaku-item"), t = 0; t < e.length; t++) {e[t].style.transform = "translateX(-".concat(n, "px)");}} }, { key: "hide", value: function value() {this.showing = !1, this.pause(), this.clear(), this.events && this.events.trigger("danmaku_hide");} }, { key: "show", value: function value() {this.seek(), this.showing = !0, this.play(), this.events && this.events.trigger("danmaku_show");} }, { key: "unlimit", value: function value(n) {this.unlimited = n;} }, { key: "speed", value: function value(n) {this.options.api.speedRate = n;} }, { key: "_danAnimation", value: function value(n) {var e = this.options.api.speedRate || 1,t = !!this.player.fullScreen.isFullScreen();return { top: "".concat((t ? 6 : 4) / e, "s"), right: "".concat((t ? 8 : 5) / e, "s"), bottom: "".concat((t ? 6 : 4) / e, "s") }[n];} }], t && St(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Lt = It;function zt(n) {return zt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, zt(n);}function Tt(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== zt(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== zt(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === zt(o) ? o : String(o)), a);}var o;}var qt = function () {function n() {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.events = {}, this.videoEvents = ["abort", "canplay", "canplaythrough", "durationchange", "emptied", "ended", "error", "loadeddata", "loadedmetadata", "loadstart", "mozaudioavailable", "pause", "play", "playing", "progress", "ratechange", "seeked", "seeking", "stalled", "suspend", "timeupdate", "volumechange", "waiting"], this.playerEvents = ["screenshot", "thumbnails_show", "thumbnails_hide", "danmaku_show", "danmaku_hide", "danmaku_clear", "danmaku_loaded", "danmaku_send", "danmaku_opacity", "contextmenu_show", "contextmenu_hide", "notice_show", "notice_hide", "quality_start", "quality_end", "destroy", "resize", "fullscreen", "fullscreen_cancel", "webfullscreen", "webfullscreen_cancel", "subtitle_show", "subtitle_hide", "subtitle_change"];}var e, t;return e = n, (t = [{ key: "on", value: function value(n, e) {this.type(n) && "function" == typeof e && (this.events[n] || (this.events[n] = []), this.events[n].push(e));} }, { key: "trigger", value: function value(n, e) {if (this.events[n] && this.events[n].length) for (var t = 0; t < this.events[n].length; t++) {this.events[n][t](e);}} }, { key: "type", value: function value(n) {return -1 !== this.playerEvents.indexOf(n) ? "player" : -1 !== this.videoEvents.indexOf(n) ? "video" : (console.error("Unknown event name: ".concat(n)), null);} }]) && Tt(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();function Ot(n) {return Ot = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Ot(n);}function jt(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Ot(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Ot(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Ot(o) ? o : String(o)), a);}var o;}var Dt = function () {function n(e) {var t = this;!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, this.lastScrollPosition = { left: 0, top: 0 }, this.player.events.on("webfullscreen", function () {t.player.resize();}), this.player.events.on("webfullscreen_cancel", function () {t.player.resize(), T.setScrollPosition(t.lastScrollPosition);}), this.fullscreenchange = function () {t.player.resize(), t.isFullScreen("browser") ? t.player.events.trigger("fullscreen") : (T.setScrollPosition(t.lastScrollPosition), t.player.events.trigger("fullscreen_cancel"));}, this.docfullscreenchange = function () {var n = document.fullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;n && n !== t.player.container || (t.player.resize(), n ? t.player.events.trigger("fullscreen") : (T.setScrollPosition(t.lastScrollPosition), t.player.events.trigger("fullscreen_cancel")));}, /Firefox/.test(navigator.userAgent) ? (document.addEventListener("mozfullscreenchange", this.docfullscreenchange), document.addEventListener("fullscreenchange", this.docfullscreenchange)) : (this.player.container.addEventListener("fullscreenchange", this.fullscreenchange), this.player.container.addEventListener("webkitfullscreenchange", this.fullscreenchange), document.addEventListener("msfullscreenchange", this.docfullscreenchange), document.addEventListener("MSFullscreenChange", this.docfullscreenchange));}var e, t;return e = n, t = [{ key: "isFullScreen", value: function value() {var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "browser";switch (n) {case "browser":return document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement;case "web":return this.player.container.classList.contains("dplayer-fulled");}} }, { key: "request", value: function value() {var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "browser",e = "browser" === n ? "web" : "browser",t = this.isFullScreen(e);switch (t || (this.lastScrollPosition = T.getScrollPosition()), n) {case "browser":this.player.container.requestFullscreen ? this.player.container.requestFullscreen() : this.player.container.mozRequestFullScreen ? this.player.container.mozRequestFullScreen() : this.player.container.webkitRequestFullscreen ? this.player.container.webkitRequestFullscreen() : this.player.video.webkitEnterFullscreen ? this.player.video.webkitEnterFullscreen() : this.player.video.webkitEnterFullScreen ? this.player.video.webkitEnterFullScreen() : this.player.container.msRequestFullscreen && this.player.container.msRequestFullscreen();break;case "web":this.player.container.classList.add("dplayer-fulled"), document.body.classList.add("dplayer-web-fullscreen-fix"), this.player.events.trigger("webfullscreen");}t && this.cancel(e);} }, { key: "cancel", value: function value() {var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "browser";switch (n) {case "browser":document.cancelFullScreen ? document.cancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitCancelFullScreen ? document.webkitCancelFullScreen() : document.webkitCancelFullscreen ? document.webkitCancelFullscreen() : document.msCancelFullScreen ? document.msCancelFullScreen() : document.msExitFullscreen && document.msExitFullscreen();break;case "web":this.player.container.classList.remove("dplayer-fulled"), document.body.classList.remove("dplayer-web-fullscreen-fix"), this.player.events.trigger("webfullscreen_cancel");}} }, { key: "toggle", value: function value() {var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "browser";this.isFullScreen(n) ? this.cancel(n) : this.request(n);} }, { key: "destroy", value: function value() {/Firefox/.test(navigator.userAgent) ? (document.removeEventListener("mozfullscreenchange", this.docfullscreenchange), document.removeEventListener("fullscreenchange", this.docfullscreenchange)) : (this.player.container.removeEventListener("fullscreenchange", this.fullscreenchange), this.player.container.removeEventListener("webkitfullscreenchange", this.fullscreenchange), document.removeEventListener("msfullscreenchange", this.docfullscreenchange), document.removeEventListener("MSFullscreenChange", this.docfullscreenchange));} }], t && jt(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Pt = Dt;function Rt(n) {return Rt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Rt(n);}function Yt(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Rt(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Rt(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Rt(o) ? o : String(o)), a);}var o;}var Mt = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.storageName = { opacity: "dplayer-danmaku-opacity", volume: "dplayer-volume", unlimited: "dplayer-danmaku-unlimited", danmaku: "dplayer-danmaku-show", subtitle: "dplayer-subtitle-show" }, this.default = { opacity: .7, volume: e.options.hasOwnProperty("volume") ? e.options.volume : .7, unlimited: (e.options.danmaku && e.options.danmaku.unlimited ? 1 : 0) || 0, danmaku: 1, subtitle: 1 }, this.data = {}, this.init();}var e, t;return e = n, (t = [{ key: "init", value: function value() {for (var n in this.storageName) {var e = this.storageName[n];this.data[n] = parseFloat(T.storage.get(e) || this.default[n]);}} }, { key: "get", value: function value(n) {return this.data[n];} }, { key: "set", value: function value(n, e) {this.data[n] = e, T.storage.set(this.storageName[n], e);} }]) && Yt(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Ft = Mt;function Wt(n) {return Wt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Wt(n);}function Ut(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Wt(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Wt(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Wt(o) ? o : String(o)), a);}var o;}var Nt = function () {function n(e, t, a, o) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.container = e, this.video = t, this.options = a, this.events = o, this.init();}var e, t;return e = n, t = [{ key: "init", value: function value() {var n = this;if (this.container.style.fontSize = this.options.fontSize, this.container.style.bottom = this.options.bottom, this.container.style.color = this.options.color, this.video.textTracks && this.video.textTracks[0]) {var e = this.video.textTracks[0];e.oncuechange = function () {var t = e.activeCues[e.activeCues.length - 1];if (n.container.innerHTML = "", t) {var a = document.createElement("div");a.appendChild(t.getCueAsHTML());var o = a.innerHTML.split(/\r?\n/).map(function (n) {return "<p>".concat(n, "</p>");}).join("");n.container.innerHTML = o;}n.events.trigger("subtitle_change");};}} }, { key: "show", value: function value() {this.container.classList.remove("dplayer-subtitle-hide"), this.events.trigger("subtitle_show");} }, { key: "hide", value: function value() {this.container.classList.add("dplayer-subtitle-hide"), this.events.trigger("subtitle_hide");} }, { key: "toggle", value: function value() {this.container.classList.contains("dplayer-subtitle-hide") ? this.show() : this.hide();} }], t && Ut(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Qt = Nt;function Ht(n) {return Ht = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Ht(n);}function _t(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Ht(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Ht(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Ht(o) ? o : String(o)), a);}var o;}var Kt = function () {function n(e) {var t = this;!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, this.player.template.mask.addEventListener("click", function () {t.hide();}), this.player.template.subtitlesButton.addEventListener("click", function () {t.adaptiveHeight(), t.show();});for (var a = this.player.template.subtitlesItem.length - 1, o = function o(n) {t.player.template.subtitlesItem[n].addEventListener("click", function () {t.hide(), t.player.options.subtitle.index !== n && (t.player.template.subtitle.innerHTML = "<p></p>", t.player.template.subtrack.src = t.player.template.subtitlesItem[n].dataset.subtitle, t.player.options.subtitle.index = n, t.player.template.subtitle.classList.contains("dplayer-subtitle-hide") && t.subContainerShow());});}, r = 0; r < a; r++) {o(r);}this.player.template.subtitlesItem[a].addEventListener("click", function () {t.hide(), t.player.options.subtitle.index !== a && (t.player.template.subtitle.innerHTML = "<p></p>", t.player.template.subtrack.src = "", t.player.options.subtitle.index = a, t.subContainerHide());});}var e, t;return e = n, (t = [{ key: "subContainerShow", value: function value() {this.player.template.subtitle.classList.remove("dplayer-subtitle-hide"), this.player.events.trigger("subtitle_show");} }, { key: "subContainerHide", value: function value() {this.player.template.subtitle.classList.add("dplayer-subtitle-hide"), this.player.events.trigger("subtitle_hide");} }, { key: "hide", value: function value() {this.player.template.subtitlesBox.classList.remove("dplayer-subtitles-box-open"), this.player.template.mask.classList.remove("dplayer-mask-show"), this.player.controller.disableAutoHide = !1;} }, { key: "show", value: function value() {this.player.template.subtitlesBox.classList.add("dplayer-subtitles-box-open"), this.player.template.mask.classList.add("dplayer-mask-show"), this.player.controller.disableAutoHide = !0;} }, { key: "adaptiveHeight", value: function value() {var n = 30 * this.player.template.subtitlesItem.length + 14,e = .8 * this.player.template.videoWrap.offsetHeight;n >= e - 50 ? (this.player.template.subtitlesBox.style.bottom = "8px", this.player.template.subtitlesBox.style["max-height"] = e - 8 + "px") : (this.player.template.subtitlesBox.style.bottom = "50px", this.player.template.subtitlesBox.style["max-height"] = e - 50 + "px");} }]) && _t(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Zt = Kt;function Vt(n) {return Vt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Vt(n);}function Xt(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Vt(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Vt(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Vt(o) ? o : String(o)), a);}var o;}var Jt = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.elements = {}, this.elements.volume = e.volumeBar, this.elements.played = e.playedBar, this.elements.loaded = e.loadedBar, this.elements.danmaku = e.danmakuOpacityBar;}var e, t;return e = n, (t = [{ key: "set", value: function value(n, e, t) {e = Math.max(e, 0), e = Math.min(e, 1), this.elements[n].style[t] = 100 * e + "%";} }, { key: "get", value: function value(n) {return parseFloat(this.elements[n].style.width) / 100;} }]) && Xt(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Gt = Jt;function $t(n) {return $t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, $t(n);}function na(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== $t(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== $t(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === $t(o) ? o : String(o)), a);}var o;}var ea = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (n) {window.setTimeout(n, 1e3 / 60);}, this.types = ["loading", "info", "fps"], this.init();}var e, t;return e = n, (t = [{ key: "init", value: function value() {var n = this;this.types.map(function (e) {return "fps" !== e && n["init".concat(e, "Checker")](), e;});} }, { key: "initloadingChecker", value: function value() {var n = this,e = 0,t = 0,a = !1;this.loadingChecker = setInterval(function () {n.enableloadingChecker && (t = n.player.video.currentTime, a || t !== e || n.player.video.paused || (n.player.container.classList.add("dplayer-loading"), a = !0), a && t > e && !n.player.video.paused && (n.player.container.classList.remove("dplayer-loading"), a = !1), e = t);}, 100);} }, { key: "initfpsChecker", value: function value() {var n = this;window.requestAnimationFrame(function () {if (n.enablefpsChecker) {if (n.initfpsChecker(), n.fpsStart) {n.fpsIndex++;var e = new Date();e - n.fpsStart > 1e3 && (n.player.infoPanel.fps(n.fpsIndex / (e - n.fpsStart) * 1e3), n.fpsStart = new Date(), n.fpsIndex = 0);} else n.fpsStart = new Date(), n.fpsIndex = 0;} else n.fpsStart = 0, n.fpsIndex = 0;});} }, { key: "initinfoChecker", value: function value() {var n = this;this.infoChecker = setInterval(function () {n.enableinfoChecker && n.player.infoPanel.update();}, 1e3);} }, { key: "enable", value: function value(n) {this["enable".concat(n, "Checker")] = !0, "fps" === n && this.initfpsChecker();} }, { key: "disable", value: function value(n) {this["enable".concat(n, "Checker")] = !1;} }, { key: "destroy", value: function value() {var n = this;this.types.map(function (e) {return n["enable".concat(e, "Checker")] = !1, n["".concat(e, "Checker")] && clearInterval(n["".concat(e, "Checker")]), e;});} }]) && na(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var ta = ea;function aa(n) {return aa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, aa(n);}function oa(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== aa(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== aa(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === aa(o) ? o : String(o)), a);}var o;}var ra = function () {function n(e) {var t = this;!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.container = e, this.container.addEventListener("animationend", function () {t.container.classList.remove("dplayer-bezel-transition");});}var e, t;return e = n, (t = [{ key: "switch", value: function value(n) {this.container.innerHTML = n, this.container.classList.add("dplayer-bezel-transition");} }]) && oa(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();function ia(n) {return ia = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, ia(n);}function la(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== ia(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== ia(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === ia(o) ? o : String(o)), a);}var o;}var sa = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.container = e.container, this.barWidth = e.barWidth, this.container.style.backgroundImage = "url('".concat(e.url, "')"), this.events = e.events;}var e, t;return e = n, (t = [{ key: "resize", value: function value(n, e, t) {this.container.style.width = "".concat(n, "px"), this.container.style.height = "".concat(e, "px"), this.container.style.top = "".concat(2 - e, "px"), this.barWidth = t;} }, { key: "show", value: function value() {this.container.style.display = "block", this.events && this.events.trigger("thumbnails_show");} }, { key: "move", value: function value(n) {this.container.style.backgroundPosition = "-".concat(160 * (Math.ceil(n / this.barWidth * 100) - 1), "px 0"), this.container.style.left = "".concat(Math.min(Math.max(n - this.container.offsetWidth / 2, -10), this.barWidth - 150), "px");} }, { key: "hide", value: function value() {this.container.style.display = "none", this.events && this.events.trigger("thumbnails_hide");} }]) && la(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var pa = sa;function da(n) {return da = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, da(n);}function ca(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== da(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== da(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === da(o) ? o : String(o)), a);}var o;}var Aa,ua = !0,ya = !1,ma = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, this.autoHideTimer = 0, T.isMobile || (this.setAutoHideHandler = this.setAutoHide.bind(this), this.player.container.addEventListener("mousemove", this.setAutoHideHandler), this.player.container.addEventListener("click", this.setAutoHideHandler), this.player.on("play", this.setAutoHideHandler), this.player.on("pause", this.setAutoHideHandler)), this.initPlayButton(), this.initThumbnails(), this.initPlayedBar(), this.initFullButton(), this.initQualityButton(), this.initScreenshotButton(), this.player.options.subtitle && "string" == typeof this.player.options.subtitle.url && this.initSubtitleButton(), this.initHighlights(), this.initAirplayButton(), this.initChromecastButton(), T.isMobile || this.initVolumeButton();}var e, t;return e = n, (t = [{ key: "initPlayButton", value: function value() {var n = this;this.player.template.playButton.addEventListener("click", function () {n.player.toggle();}), this.player.template.mobilePlayButton.addEventListener("click", function () {n.player.toggle();}), T.isMobile ? (this.player.template.videoWrap.addEventListener("click", function () {n.toggle();}), this.player.template.controllerMask.addEventListener("click", function () {n.toggle();})) : this.player.options.preventClickToggle || (this.player.template.videoWrap.addEventListener("click", function () {n.player.toggle();}), this.player.template.controllerMask.addEventListener("click", function () {n.player.toggle();}));} }, { key: "initHighlights", value: function value() {var n = this;this.player.on("durationchange", function () {if (1 !== n.player.video.duration && n.player.video.duration !== 1 / 0 && n.player.options.highlight) {var e = n.player.template.playedBarWrap.querySelectorAll(".dplayer-highlight");[].slice.call(e, 0).forEach(function (e) {n.player.template.playedBarWrap.removeChild(e);});for (var t = 0; t < n.player.options.highlight.length; t++) {if (n.player.options.highlight[t].text && n.player.options.highlight[t].time) {var a = document.createElement("div");a.classList.add("dplayer-highlight"), a.style.left = n.player.options.highlight[t].time / n.player.video.duration * 100 + "%", a.innerHTML = '<span class="dplayer-highlight-text">' + n.player.options.highlight[t].text + "</span>", n.player.template.playedBarWrap.insertBefore(a, n.player.template.playedBarTime);}}}});} }, { key: "initThumbnails", value: function value() {var n = this;this.player.options.video.thumbnails && (this.thumbnails = new pa({ container: this.player.template.barPreview, barWidth: this.player.template.barWrap.offsetWidth, url: this.player.options.video.thumbnails, events: this.player.events }), this.player.on("loadedmetadata", function () {n.thumbnails.resize(160, n.player.video.videoHeight / n.player.video.videoWidth * 160, n.player.template.barWrap.offsetWidth);}));} }, { key: "initPlayedBar", value: function value() {var n = this,e = function e(_e2) {var t = ((_e2.clientX || _e2.changedTouches[0].clientX) - T.getBoundingClientRectViewLeft(n.player.template.playedBarWrap)) / n.player.template.playedBarWrap.clientWidth;t = Math.max(t, 0), t = Math.min(t, 1), n.player.bar.set("played", t, "width"), n.player.template.ptime.innerHTML = T.secondToTime(t * n.player.video.duration);},t = function t(a) {document.removeEventListener(T.nameMap.dragEnd, t), document.removeEventListener(T.nameMap.dragMove, e);var o = ((a.clientX || a.changedTouches[0].clientX) - T.getBoundingClientRectViewLeft(n.player.template.playedBarWrap)) / n.player.template.playedBarWrap.clientWidth;o = Math.max(o, 0), o = Math.min(o, 1), n.player.bar.set("played", o, "width"), n.player.seek(n.player.bar.get("played") * n.player.video.duration), n.player.timer.enable("progress");};this.player.template.playedBarWrap.addEventListener(T.nameMap.dragStart, function () {n.player.timer.disable("progress"), document.addEventListener(T.nameMap.dragMove, e), document.addEventListener(T.nameMap.dragEnd, t);}), this.player.template.playedBarWrap.addEventListener(T.nameMap.dragMove, function (e) {if (n.player.video.duration) {var t = n.player.template.playedBarWrap.getBoundingClientRect().left,a = (e.clientX || e.changedTouches[0].clientX) - t;if (a < 0 || a > n.player.template.playedBarWrap.offsetWidth) return;var o = n.player.video.duration * (a / n.player.template.playedBarWrap.offsetWidth);T.isMobile && n.thumbnails && n.thumbnails.show(), n.thumbnails && n.thumbnails.move(a), n.player.template.playedBarTime.style.left = "".concat(a - (o >= 3600 ? 25 : 20), "px"), n.player.template.playedBarTime.innerText = T.secondToTime(o), n.player.template.playedBarTime.classList.remove("hidden");}}), this.player.template.playedBarWrap.addEventListener(T.nameMap.dragEnd, function () {T.isMobile && n.thumbnails && n.thumbnails.hide();}), T.isMobile || (this.player.template.playedBarWrap.addEventListener("mouseenter", function () {n.player.video.duration && (n.thumbnails && n.thumbnails.show(), n.player.template.playedBarTime.classList.remove("hidden"));}), this.player.template.playedBarWrap.addEventListener("mouseleave", function () {n.player.video.duration && (n.thumbnails && n.thumbnails.hide(), n.player.template.playedBarTime.classList.add("hidden"));}));} }, { key: "initFullButton", value: function value() {var n = this;this.player.template.browserFullButton.addEventListener("click", function () {n.player.fullScreen.toggle("browser");}), this.player.template.webFullButton.addEventListener("click", function () {n.player.fullScreen.toggle("web");});} }, { key: "initVolumeButton", value: function value() {var n = this,e = function e(_e3) {var t = _e3 || window.event,a = ((t.clientX || t.changedTouches[0].clientX) - T.getBoundingClientRectViewLeft(n.player.template.volumeBarWrap) - 5.5) / 35;n.player.volume(a);},t = function t() {document.removeEventListener(T.nameMap.dragEnd, t), document.removeEventListener(T.nameMap.dragMove, e), n.player.template.volumeButton.classList.remove("dplayer-volume-active");};this.player.template.volumeBarWrapWrap.addEventListener("click", function (e) {var t = e || window.event,a = ((t.clientX || t.changedTouches[0].clientX) - T.getBoundingClientRectViewLeft(n.player.template.volumeBarWrap) - 5.5) / 35;n.player.volume(a);}), this.player.template.volumeBarWrapWrap.addEventListener(T.nameMap.dragStart, function () {document.addEventListener(T.nameMap.dragMove, e), document.addEventListener(T.nameMap.dragEnd, t), n.player.template.volumeButton.classList.add("dplayer-volume-active");}), this.player.template.volumeButtonIcon.addEventListener("click", function () {n.player.video.muted ? (n.player.video.muted = !1, n.player.switchVolumeIcon(), n.player.bar.set("volume", n.player.volume(), "width")) : (n.player.video.muted = !0, n.player.template.volumeIcon.innerHTML = gt.volumeOff, n.player.bar.set("volume", 0, "width"));});} }, { key: "initQualityButton", value: function value() {var n = this;this.player.options.video.quality && this.player.template.qualityList.addEventListener("click", function (e) {e.target.classList.contains("dplayer-quality-item") && n.player.switchQuality(e.target.dataset.index);});} }, { key: "initScreenshotButton", value: function value() {var n = this;this.player.options.screenshot && this.player.template.camareButton.addEventListener("click", function () {var e,t = document.createElement("canvas");t.width = n.player.video.videoWidth, t.height = n.player.video.videoHeight, t.getContext("2d").drawImage(n.player.video, 0, 0, t.width, t.height), t.toBlob(function (t) {e = URL.createObjectURL(t);var a = document.createElement("a");a.href = e, a.download = "DPlayer.png", a.style.display = "none", document.body.appendChild(a), a.click(), document.body.removeChild(a), URL.revokeObjectURL(e), n.player.events.trigger("screenshot", e);});});} }, { key: "initAirplayButton", value: function value() {this.player.options.airplay && (window.WebKitPlaybackTargetAvailabilityEvent ? this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged", function (n) {"available" === n.availability ? this.template.airplayButton.disable = !1 : this.template.airplayButton.disable = !0, this.template.airplayButton.addEventListener("click", function () {this.video.webkitShowPlaybackTargetPicker();}.bind(this));}.bind(this.player)) : this.player.template.airplayButton.style.display = "none");} }, { key: "initChromecast", value: function value() {var n = window.document.createElement("script");n.setAttribute("type", "text/javascript"), n.setAttribute("src", "https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"), window.document.body.appendChild(n), window.__onGCastApiAvailable = function (n) {if (n) {var e = new (Aa = window.chrome.cast).SessionRequest(Aa.media.DEFAULT_MEDIA_RECEIVER_APP_ID),t = new Aa.ApiConfig(e, function () {}, function (n) {n === Aa.ReceiverAvailability.AVAILABLE && console.log("chromecast: ", n);});Aa.initialize(t, function () {});}};} }, { key: "initChromecastButton", value: function value() {var n = this;if (this.player.options.chromecast) {ua && (ua = !1, this.initChromecast());var e = function e(_e4, t) {n.currentMedia = t;},t = function t(n) {console.error("Error launching media", n);};this.player.template.chromecastButton.addEventListener("click", function () {ya ? (ya = !1, n.currentMedia.stop(), n.session.stop(), n.initChromecast()) : (ya = !0, Aa.requestSession(function (a) {var o, r, i;n.session = a, o = n.player.options.video.url, r = new Aa.media.MediaInfo(o), i = new Aa.media.LoadRequest(r), n.session ? n.session.loadMedia(i, e.bind(n, "loadMedia"), t).play() : window.open(o);}, function (e) {"cancel" === e.code ? n.session = void 0 : console.error("Error selecting a cast device", e);}));});}} }, { key: "initSubtitleButton", value: function value() {var n = this;this.player.events.on("subtitle_show", function () {n.player.template.subtitleButton.dataset.balloon = n.player.tran("hide-subs"), n.player.template.subtitleButtonInner.style.opacity = "", n.player.user.set("subtitle", 1);}), this.player.events.on("subtitle_hide", function () {n.player.template.subtitleButton.dataset.balloon = n.player.tran("show-subs"), n.player.template.subtitleButtonInner.style.opacity = "0.4", n.player.user.set("subtitle", 0);}), this.player.template.subtitleButton.addEventListener("click", function () {n.player.subtitle.toggle();});} }, { key: "setAutoHide", value: function value() {var n = this;this.show(), clearTimeout(this.autoHideTimer), this.autoHideTimer = setTimeout(function () {!n.player.video.played.length || n.player.paused || n.disableAutoHide || n.hide();}, 3e3);} }, { key: "show", value: function value() {this.player.container.classList.remove("dplayer-hide-controller");} }, { key: "hide", value: function value() {this.player.container.classList.add("dplayer-hide-controller"), this.player.setting.hide(), this.player.comment && this.player.comment.hide();} }, { key: "isShow", value: function value() {return !this.player.container.classList.contains("dplayer-hide-controller");} }, { key: "toggle", value: function value() {this.isShow() ? this.hide() : this.show();} }, { key: "destroy", value: function value() {T.isMobile || (this.player.container.removeEventListener("mousemove", this.setAutoHideHandler), this.player.container.removeEventListener("click", this.setAutoHideHandler)), clearTimeout(this.autoHideTimer);} }]) && ca(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var ha = ma;function fa(n) {return fa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, fa(n);}function ba(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== fa(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== fa(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === fa(o) ? o : String(o)), a);}var o;}var ga = function () {function n(e) {var t = this;!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, this.player.template.mask.addEventListener("click", function () {t.hide();}), this.player.template.settingButton.addEventListener("click", function () {t.show();}), this.loop = this.player.options.loop, this.player.template.loopToggle.checked = this.loop, this.player.template.loop.addEventListener("click", function () {t.player.template.loopToggle.checked = !t.player.template.loopToggle.checked, t.player.template.loopToggle.checked ? t.loop = !0 : t.loop = !1, t.hide();}), this.showDanmaku = this.player.user.get("danmaku"), this.showDanmaku || this.player.danmaku && this.player.danmaku.hide(), this.player.template.showDanmakuToggle.checked = this.showDanmaku, this.player.template.showDanmaku.addEventListener("click", function () {t.player.template.showDanmakuToggle.checked = !t.player.template.showDanmakuToggle.checked, t.player.template.showDanmakuToggle.checked ? (t.showDanmaku = !0, t.player.danmaku.show()) : (t.showDanmaku = !1, t.player.danmaku.hide()), t.player.user.set("danmaku", t.showDanmaku ? 1 : 0), t.hide();}), this.unlimitDanmaku = this.player.user.get("unlimited"), this.player.template.unlimitDanmakuToggle.checked = this.unlimitDanmaku, this.player.template.unlimitDanmaku.addEventListener("click", function () {t.player.template.unlimitDanmakuToggle.checked = !t.player.template.unlimitDanmakuToggle.checked, t.player.template.unlimitDanmakuToggle.checked ? (t.unlimitDanmaku = !0, t.player.danmaku.unlimit(!0)) : (t.unlimitDanmaku = !1, t.player.danmaku.unlimit(!1)), t.player.user.set("unlimited", t.unlimitDanmaku ? 1 : 0), t.hide();}), this.player.template.speed.addEventListener("click", function () {t.player.template.settingBox.classList.add("dplayer-setting-box-narrow"), t.player.template.settingBox.classList.add("dplayer-setting-box-speed");});for (var a = function a(n) {t.player.template.speedItem[n].addEventListener("click", function () {t.player.speed(t.player.template.speedItem[n].dataset.speed), t.hide();});}, o = 0; o < this.player.template.speedItem.length; o++) {a(o);}if (this.player.danmaku) {this.player.on("danmaku_opacity", function (n) {t.player.bar.set("danmaku", n, "width"), t.player.user.set("opacity", n);}), this.player.danmaku.opacity(this.player.user.get("opacity"));var r = function r(n) {var e = n || window.event,a = ((e.clientX || e.changedTouches[0].clientX) - T.getBoundingClientRectViewLeft(t.player.template.danmakuOpacityBarWrap)) / 130;a = Math.max(a, 0), a = Math.min(a, 1), t.player.danmaku.opacity(a);},i = function n() {document.removeEventListener(T.nameMap.dragEnd, n), document.removeEventListener(T.nameMap.dragMove, r), t.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active");};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click", function (n) {var e = n || window.event,a = ((e.clientX || e.changedTouches[0].clientX) - T.getBoundingClientRectViewLeft(t.player.template.danmakuOpacityBarWrap)) / 130;a = Math.max(a, 0), a = Math.min(a, 1), t.player.danmaku.opacity(a);}), this.player.template.danmakuOpacityBarWrapWrap.addEventListener(T.nameMap.dragStart, function () {document.addEventListener(T.nameMap.dragMove, r), document.addEventListener(T.nameMap.dragEnd, i), t.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active");});}}var e, t;return e = n, (t = [{ key: "hide", value: function value() {var n = this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"), this.player.template.mask.classList.remove("dplayer-mask-show"), setTimeout(function () {n.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"), n.player.template.settingBox.classList.remove("dplayer-setting-box-speed");}, 300), this.player.controller.disableAutoHide = !1;} }, { key: "show", value: function value() {this.player.template.settingBox.classList.add("dplayer-setting-box-open"), this.player.template.mask.classList.add("dplayer-mask-show"), this.player.controller.disableAutoHide = !0;} }]) && ba(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var va = ga;function xa(n) {return xa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, xa(n);}function Ea(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== xa(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== xa(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === xa(o) ? o : String(o)), a);}var o;}var wa = function () {function n(e) {var t = this;!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, this.player.template.mask.addEventListener("click", function () {t.hide();}), this.player.template.commentButton.addEventListener("click", function () {t.show();}), this.player.template.commentSettingButton.addEventListener("click", function () {t.toggleSetting();}), this.player.template.commentColorSettingBox.addEventListener("click", function () {if (t.player.template.commentColorSettingBox.querySelector("input:checked+span")) {var n = t.player.template.commentColorSettingBox.querySelector("input:checked").value;t.player.template.commentSettingFill.style.fill = n, t.player.template.commentInput.style.color = n, t.player.template.commentSendFill.style.fill = n;}}), this.player.template.commentInput.addEventListener("click", function () {t.hideSetting();}), this.player.template.commentInput.addEventListener("keydown", function (n) {13 === (n || window.event).keyCode && t.send();}), this.player.template.commentSendButton.addEventListener("click", function () {t.send();});}var e, t;return e = n, (t = [{ key: "show", value: function value() {this.player.controller.disableAutoHide = !0, this.player.template.controller.classList.add("dplayer-controller-comment"), this.player.template.mask.classList.add("dplayer-mask-show"), this.player.container.classList.add("dplayer-show-controller"), this.player.template.commentInput.focus();} }, { key: "hide", value: function value() {this.player.template.controller.classList.remove("dplayer-controller-comment"), this.player.template.mask.classList.remove("dplayer-mask-show"), this.player.container.classList.remove("dplayer-show-controller"), this.player.controller.disableAutoHide = !1, this.hideSetting();} }, { key: "showSetting", value: function value() {this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open");} }, { key: "hideSetting", value: function value() {this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open");} }, { key: "toggleSetting", value: function value() {this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open") ? this.hideSetting() : this.showSetting();} }, { key: "send", value: function value() {var n = this;this.player.template.commentInput.blur(), this.player.template.commentInput.value.replace(/^\s+|\s+$/g, "") ? this.player.danmaku.send({ text: this.player.template.commentInput.value, color: T.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value), type: parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value) }, function () {n.player.template.commentInput.value = "", n.hide();}) : this.player.notice(this.player.tran("please-input-danmaku"));} }]) && Ea(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Ca = wa;function ka(n) {return ka = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, ka(n);}function Ba(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== ka(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== ka(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === ka(o) ? o : String(o)), a);}var o;}var Sa = function () {function n(e) {!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, this.doHotKeyHandler = this.doHotKey.bind(this), this.cancelFullScreenHandler = this.cancelFullScreen.bind(this), this.player.options.hotkey && document.addEventListener("keydown", this.doHotKeyHandler), document.addEventListener("keydown", this.cancelFullScreenHandler);}var e, t;return e = n, (t = [{ key: "doHotKey", value: function value(n) {if (this.player.focus) {var e = document.activeElement.tagName.toUpperCase(),t = document.activeElement.getAttribute("contenteditable");if ("INPUT" !== e && "TEXTAREA" !== e && "" !== t && "true" !== t) {var a,o = n || window.event;switch (o.keyCode) {case 32:o.preventDefault(), this.player.toggle();break;case 37:if (o.preventDefault(), this.player.options.live) break;this.player.seek(this.player.video.currentTime - 5), this.player.controller.setAutoHide();break;case 39:if (o.preventDefault(), this.player.options.live) break;this.player.seek(this.player.video.currentTime + 5), this.player.controller.setAutoHide();break;case 38:o.preventDefault(), a = this.player.volume() + .1, this.player.volume(a);break;case 40:o.preventDefault(), a = this.player.volume() - .1, this.player.volume(a);}}}} }, { key: "cancelFullScreen", value: function value(n) {27 === (n || window.event).keyCode && this.player.fullScreen.isFullScreen("web") && this.player.fullScreen.cancel("web");} }, { key: "destroy", value: function value() {this.player.options.hotkey && document.removeEventListener("keydown", this.doHotKeyHandler), document.removeEventListener("keydown", this.cancelFullScreenHandler);} }]) && Ba(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Ia = Sa;function La(n) {return La = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, La(n);}function za(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== La(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== La(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === La(o) ? o : String(o)), a);}var o;}var Ta = function () {function n(e) {var t = this;!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.player = e, this.shown = !1, Array.prototype.slice.call(this.player.template.menuItem).forEach(function (n, e) {t.player.options.contextmenu[e].click && n.addEventListener("click", function () {t.player.options.contextmenu[e].click(t.player), t.hide();});}), this.contextmenuHandler = function (n) {if (t.shown) t.hide();else {var e = n || window.event;e.preventDefault();var a = t.player.container.getBoundingClientRect();t.show(e.clientX - a.left, e.clientY - a.top), t.player.template.mask.addEventListener("click", function () {t.hide();});}}, this.player.container.addEventListener("contextmenu", this.contextmenuHandler);}var e, t;return e = n, (t = [{ key: "show", value: function value(n, e) {this.player.template.menu.classList.add("dplayer-menu-show");var t = this.player.container.getBoundingClientRect();n + this.player.template.menu.offsetWidth >= t.width ? (this.player.template.menu.style.right = t.width - n + "px", this.player.template.menu.style.left = "initial") : (this.player.template.menu.style.left = n + "px", this.player.template.menu.style.right = "initial"), e + this.player.template.menu.offsetHeight >= t.height ? (this.player.template.menu.style.bottom = t.height - e + "px", this.player.template.menu.style.top = "initial") : (this.player.template.menu.style.top = e + "px", this.player.template.menu.style.bottom = "initial"), this.player.template.mask.classList.add("dplayer-mask-show"), this.shown = !0, this.player.events.trigger("contextmenu_show");} }, { key: "hide", value: function value() {this.player.template.mask.classList.remove("dplayer-mask-show"), this.player.template.menu.classList.remove("dplayer-menu-show"), this.shown = !1, this.player.events.trigger("contextmenu_hide");} }, { key: "destroy", value: function value() {this.player.container.removeEventListener("contextmenu", this.contextmenuHandler);} }]) && za(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var qa = Ta;function Oa(n) {return Oa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Oa(n);}function ja(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, (void 0, o = function (n, e) {if ("object" !== Oa(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Oa(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(a.key), "symbol" === Oa(o) ? o : String(o)), a);}var o;}var Da = function () {function n(e) {var t = this;!function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");}(this, n), this.container = e.template.infoPanel, this.template = e.template, this.video = e.video, this.player = e, this.template.infoPanelClose.addEventListener("click", function () {t.hide();});}var e, t;return e = n, (t = [{ key: "show", value: function value() {this.beginTime = Date.now(), this.update(), this.player.timer.enable("info"), this.player.timer.enable("fps"), this.container.classList.remove("dplayer-info-panel-hide");} }, { key: "hide", value: function value() {this.player.timer.disable("info"), this.player.timer.disable("fps"), this.container.classList.add("dplayer-info-panel-hide");} }, { key: "triggle", value: function value() {this.container.classList.contains("dplayer-info-panel-hide") ? this.show() : this.hide();} }, { key: "update", value: function value() {this.template.infoVersion.innerHTML = "v".concat("1.27.1", " ").concat("v1.27.0-12-g4f61091"), this.template.infoType.innerHTML = this.player.type, this.template.infoUrl.innerHTML = this.player.options.video.url, this.template.infoResolution.innerHTML = "".concat(this.player.video.videoWidth, " x ").concat(this.player.video.videoHeight), this.template.infoDuration.innerHTML = this.player.video.duration, this.player.options.danmaku && (this.template.infoDanmakuId.innerHTML = this.player.options.danmaku.id, this.template.infoDanmakuApi.innerHTML = this.player.options.danmaku.api, this.template.infoDanmakuAmount.innerHTML = this.player.danmaku.dan.length);} }, { key: "fps", value: function value(n) {this.template.infoFPS.innerHTML = "".concat(n.toFixed(1));} }]) && ja(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Pa = Da;var Ra = t(568),Ya = t.n(Ra);function Ma(n) {return Ma = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (n) {return typeof n;} : function (n) {return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n;}, Ma(n);}function Fa(n, e) {var t = Object.keys(n);if (Object.getOwnPropertySymbols) {var a = Object.getOwnPropertySymbols(n);e && (a = a.filter(function (e) {return Object.getOwnPropertyDescriptor(n, e).enumerable;})), t.push.apply(t, a);}return t;}function Wa(n, e, t) {return (e = Na(e)) in n ? Object.defineProperty(n, e, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = t, n;}function Ua(n, e) {for (var t = 0; t < e.length; t++) {var a = e[t];a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(n, Na(a.key), a);}}function Na(n) {var e = function (n, e) {if ("object" !== Ma(n) || null === n) return n;var t = n[Symbol.toPrimitive];if (void 0 !== t) {var a = t.call(n, "string");if ("object" !== Ma(a)) return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(n);}(n);return "symbol" === Ma(e) ? e : String(e);}var Qa = 0,Ha = [],_a = function () {function n(e) {var t = this;(function (n, e) {if (!(n instanceof e)) throw new TypeError("Cannot call a class as a function");})(this, n), this.options = function (n) {var e = { container: n.element || document.getElementsByClassName("dplayer")[0], live: !1, autoplay: !1, theme: "#b7daff", loop: !1, lang: (navigator.language || navigator.browserLanguage).toLowerCase(), screenshot: !1, airplay: !0, chromecast: !1, hotkey: !0, preload: "metadata", volume: .7, playbackSpeed: [.5, .75, 1, 1.25, 1.5, 2], apiBackend: qe, video: {}, contextmenu: [], mutex: !0, pluginOptions: { hls: {}, flv: {}, dash: {}, webtorrent: {} }, preventClickToggle: !1 };for (var t in e) {e.hasOwnProperty(t) && !n.hasOwnProperty(t) && (n[t] = e[t]);}return n.video && !n.video.type && (n.video.type = "auto"), "object" === Oe(n.danmaku) && n.danmaku && !n.danmaku.user && (n.danmaku.user = "DIYgod"), n.subtitle && (!n.subtitle.type && (n.subtitle.type = "webvtt"), !n.subtitle.fontSize && (n.subtitle.fontSize = "20px"), !n.subtitle.bottom && (n.subtitle.bottom = "40px"), !n.subtitle.color && (n.subtitle.color = "#fff")), n.video.quality && (n.video.url = n.video.quality[n.video.defaultQuality].url), n.lang && (n.lang = n.lang.toLowerCase()), n.contextmenu = n.contextmenu.concat([{ key: "video-info", click: function click(n) {n.infoPanel.triggle();} }, { key: "about-author", link: "https://diygod.me" }, { text: "DPlayer v".concat("1.27.1"), link: "https://github.com/MoePlayer/DPlayer" }]), n;}(function (n) {for (var e = 1; e < arguments.length; e++) {var t = null != arguments[e] ? arguments[e] : {};e % 2 ? Fa(Object(t), !0).forEach(function (e) {Wa(n, e, t[e]);}) : Object.getOwnPropertyDescriptors ? Object.defineProperties(n, Object.getOwnPropertyDescriptors(t)) : Fa(Object(t)).forEach(function (e) {Object.defineProperty(n, e, Object.getOwnPropertyDescriptor(t, e));});}return n;}({ preload: "webtorrent" === e.video.type ? "none" : "metadata" }, e)), this.options.video.quality && (this.qualityIndex = this.options.video.defaultQuality, this.quality = this.options.video.quality[this.options.video.defaultQuality]), this.tran = new je(this.options.lang).tran, this.events = new qt(), this.user = new Ft(this), this.container = this.options.container, this.noticeList = {}, this.container.classList.add("dplayer"), this.options.danmaku || this.container.classList.add("dplayer-no-danmaku"), this.options.live ? this.container.classList.add("dplayer-live") : this.container.classList.remove("dplayer-live"), T.isMobile && this.container.classList.add("dplayer-mobile"), this.arrow = this.container.offsetWidth <= 500, this.arrow && this.container.classList.add("dplayer-arrow"), this.options.subtitle && Array.isArray(this.options.subtitle.url) && (this.options.subtitle.url.push({ subtitle: "", lang: "off" }), this.options.subtitle.defaultSubtitle && ("string" == typeof this.options.subtitle.defaultSubtitle ? this.options.subtitle.index = this.options.subtitle.url.findIndex(function (n) {return n.lang === t.options.subtitle.defaultSubtitle || n.name === t.options.subtitle.defaultSubtitle;}) : "number" == typeof this.options.subtitle.defaultSubtitle && (this.options.subtitle.index = this.options.subtitle.defaultSubtitle)), (-1 === this.options.subtitle.index || !this.options.subtitle.index || this.options.subtitle.index > this.options.subtitle.url.length - 1) && (this.options.subtitle.index = this.options.subtitle.url.findIndex(function (n) {return n.lang === t.options.lang;})), -1 === this.options.subtitle.index && (this.options.subtitle.index = this.options.subtitle.url.length - 1)), this.template = new kt({ container: this.container, options: this.options, index: Qa, tran: this.tran }), this.video = this.template.video, this.bar = new Gt(this.template), this.bezel = new ra(this.template.bezel), this.fullScreen = new Pt(this), this.controller = new ha(this), this.options.danmaku && (this.danmaku = new Lt({ player: this, container: this.template.danmaku, opacity: this.user.get("opacity"), callback: function callback() {setTimeout(function () {t.template.danmakuLoading.style.display = "none", t.options.autoplay && t.play();}, 0);}, error: function error(n) {t.notice(n);}, apiBackend: this.options.apiBackend, borderColor: this.options.theme, height: this.arrow ? 24 : 30, time: function time() {return t.video.currentTime;}, unlimited: this.user.get("unlimited"), api: { id: this.options.danmaku.id, address: this.options.danmaku.api, token: this.options.danmaku.token, maximum: this.options.danmaku.maximum, addition: this.options.danmaku.addition, user: this.options.danmaku.user, speedRate: this.options.danmaku.speedRate }, events: this.events, tran: function tran(n) {return t.tran(n);} }), this.comment = new Ca(this)), this.setting = new va(this), this.plugins = {}, this.docClickFun = function () {t.focus = !1;}, this.containerClickFun = function () {t.focus = !0;}, document.addEventListener("click", this.docClickFun, !0), this.container.addEventListener("click", this.containerClickFun, !0), this.paused = !0, this.timer = new ta(this), this.hotkey = new Ia(this), this.contextmenu = new qa(this), this.initVideo(this.video, this.quality && this.quality.type || this.options.video.type), this.infoPanel = new Pa(this), !this.danmaku && this.options.autoplay && this.play(), Qa++, Ha.push(this);}var e, t, a;return e = n, t = [{ key: "seek", value: function value(n) {n = Math.max(n, 0), this.video.duration && (n = Math.min(n, this.video.duration)), this.video.currentTime < n ? this.notice("".concat(this.tran("ff").replace("%s", (n - this.video.currentTime).toFixed(0)))) : this.video.currentTime > n && this.notice("".concat(this.tran("rew").replace("%s", (this.video.currentTime - n).toFixed(0)))), this.video.currentTime = n, this.danmaku && this.danmaku.seek(), this.bar.set("played", n / this.video.duration, "width"), this.template.ptime.innerHTML = T.secondToTime(n);} }, { key: "play", value: function value(n) {var e = this;if (this.paused = !1, this.video.paused && !T.isMobile && this.bezel.switch(gt.play), this.template.playButton.innerHTML = gt.pause, this.template.mobilePlayButton.innerHTML = gt.pause, n || L.resolve(this.video.play()).catch(function () {e.pause();}).then(function () {}), this.timer.enable("loading"), this.container.classList.remove("dplayer-paused"), this.container.classList.add("dplayer-playing"), this.danmaku && this.danmaku.play(), this.options.mutex) for (var t = 0; t < Ha.length; t++) {this !== Ha[t] && Ha[t].pause();}} }, { key: "pause", value: function value(n) {this.paused = !0, this.container.classList.remove("dplayer-loading"), this.video.paused || T.isMobile || this.bezel.switch(gt.pause), this.template.playButton.innerHTML = gt.play, this.template.mobilePlayButton.innerHTML = gt.play, n || this.video.pause(), this.timer.disable("loading"), this.container.classList.remove("dplayer-playing"), this.container.classList.add("dplayer-paused"), this.danmaku && this.danmaku.pause();} }, { key: "switchVolumeIcon", value: function value() {this.volume() >= .95 ? this.template.volumeIcon.innerHTML = gt.volumeUp : this.volume() > 0 ? this.template.volumeIcon.innerHTML = gt.volumeDown : this.template.volumeIcon.innerHTML = gt.volumeOff;} }, { key: "volume", value: function value(n, e, t) {if (n = parseFloat(n), !isNaN(n)) {n = Math.max(n, 0), n = Math.min(n, 1), this.bar.set("volume", n, "width");var a = "".concat((100 * n).toFixed(0), "%");this.template.volumeBarWrapWrap.dataset.balloon = a, e || this.user.set("volume", n), t || this.notice("".concat(this.tran("volume"), " ").concat((100 * n).toFixed(0), "%"), void 0, void 0, "volume"), this.video.volume = n, this.video.muted && (this.video.muted = !1), this.switchVolumeIcon();}return this.video.volume;} }, { key: "toggle", value: function value() {this.video.paused ? this.play() : this.pause();} }, { key: "on", value: function value(n, e) {this.events.on(n, e);} }, { key: "switchVideo", value: function value(n, e) {this.pause(), this.video.poster = n.pic ? n.pic : "", this.video.src = n.url, this.initMSE(this.video, n.type || "auto"), e && (this.template.danmakuLoading.style.display = "block", this.bar.set("played", 0, "width"), this.bar.set("loaded", 0, "width"), this.template.ptime.innerHTML = "00:00", this.template.danmaku.innerHTML = "", this.danmaku && this.danmaku.reload({ id: e.id, address: e.api, token: e.token, maximum: e.maximum, addition: e.addition, user: e.user }));} }, { key: "initMSE", value: function value(n, e) {var t = this;if (this.type = e, this.options.video.customType && this.options.video.customType[e]) "[object Function]" === Object.prototype.toString.call(this.options.video.customType[e]) ? this.options.video.customType[e](this.video, this) : console.error("Illegal customType: ".concat(e));else switch ("auto" === this.type && (/m3u8(#|\?|$)/i.exec(n.src) ? this.type = "hls" : /.flv(#|\?|$)/i.exec(n.src) ? this.type = "flv" : /.mpd(#|\?|$)/i.exec(n.src) ? this.type = "dash" : this.type = "normal"), "hls" === this.type && (n.canPlayType("application/x-mpegURL") || n.canPlayType("application/vnd.apple.mpegURL")) && (this.type = "normal"), this.type) {case "hls":if (window.Hls) {if (window.Hls.isSupported()) {var a = this.options.pluginOptions.hls,o = new window.Hls(a);this.plugins.hls = o, o.loadSource(n.src), o.attachMedia(n), this.events.on("destroy", function () {o.destroy(), delete t.plugins.hls;});} else this.notice("Error: Hls is not supported.");} else this.notice("Error: Can't find Hls.");break;case "flv":if (window.flvjs) {if (window.flvjs.isSupported()) {var r = window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource || {}, { type: "flv", url: n.src }), this.options.pluginOptions.flv.config);this.plugins.flvjs = r, r.attachMediaElement(n), r.load(), this.events.on("destroy", function () {r.unload(), r.detachMediaElement(), r.destroy(), delete t.plugins.flvjs;});} else this.notice("Error: flvjs is not supported.");} else this.notice("Error: Can't find flvjs.");break;case "dash":if (window.dashjs) {var i = window.dashjs.MediaPlayer().create().initialize(n, n.src, !1),l = this.options.pluginOptions.dash;i.updateSettings(l), this.plugins.dash = i, this.events.on("destroy", function () {window.dashjs.MediaPlayer().reset(), delete t.plugins.dash;});} else this.notice("Error: Can't find dashjs.");break;case "webtorrent":if (window.WebTorrent) {if (window.WebTorrent.WEBRTC_SUPPORT) {this.container.classList.add("dplayer-loading");var s = this.options.pluginOptions.webtorrent,p = new window.WebTorrent(s);this.plugins.webtorrent = p;var d = n.src;n.src = "", n.preload = "metadata", n.addEventListener("durationchange", function () {return t.container.classList.remove("dplayer-loading");}, { once: !0 }), p.add(d, function (n) {n.files.find(function (n) {return n.name.endsWith(".mp4");}).renderTo(t.video, { autoplay: t.options.autoplay, controls: !1 });}), this.events.on("destroy", function () {p.remove(d), p.destroy(), delete t.plugins.webtorrent;});} else this.notice("Error: Webtorrent is not supported.");} else this.notice("Error: Can't find Webtorrent.");}} }, { key: "initVideo", value: function value(n, e) {var t = this;this.initMSE(n, e), this.on("durationchange", function () {1 !== n.duration && n.duration !== 1 / 0 && (t.template.dtime.innerHTML = T.secondToTime(n.duration));}), this.on("progress", function () {var e = n.buffered.length ? n.buffered.end(n.buffered.length - 1) / n.duration : 0;t.bar.set("loaded", e, "width");}), this.on("error", function () {t.video.error && t.tran && t.notice && "webtorrent" !== t.type && t.notice(t.tran("video-failed"));}), this.on("ended", function () {t.bar.set("played", 1, "width"), t.setting.loop ? (t.seek(0), t.play()) : t.pause(), t.danmaku && (t.danmaku.danIndex = 0);}), this.on("play", function () {t.paused && t.play(!0);}), this.on("pause", function () {t.paused || t.pause(!0);}), this.on("timeupdate", function () {t.bar.set("played", t.video.currentTime / t.video.duration, "width");var n = T.secondToTime(t.video.currentTime);t.template.ptime.innerHTML !== n && (t.template.ptime.innerHTML = n);});for (var a = function a(e) {n.addEventListener(t.events.videoEvents[e], function (n) {t.events.trigger(t.events.videoEvents[e], n);});}, o = 0; o < this.events.videoEvents.length; o++) {a(o);}this.volume(this.user.get("volume"), !0, !0), this.options.subtitle && (this.subtitle = new Qt(this.template.subtitle, this.video, this.options.subtitle, this.events), Array.isArray(this.options.subtitle.url) && (this.subtitles = new Zt(this)), this.user.get("subtitle") || this.subtitle.hide());} }, { key: "switchQuality", value: function value(n) {var e = this;if (n = "string" == typeof n ? parseInt(n) : n, this.qualityIndex !== n && !this.switchingQuality) {this.prevIndex = this.qualityIndex, this.qualityIndex = n, this.switchingQuality = !0, this.quality = this.options.video.quality[n], this.template.qualityButton.innerHTML = this.quality.name;var t = this.video.paused;this.video.pause();var a = Ya()({ current: !1, pic: null, screenshot: this.options.screenshot, preload: "auto", url: this.quality.url, subtitle: this.options.subtitle }),o = new DOMParser().parseFromString(a, "text/html").body.firstChild;this.template.videoWrap.insertBefore(o, this.template.videoWrap.getElementsByTagName("div")[0]), this.prevVideo = this.video, this.video = o, this.initVideo(this.video, this.quality.type || this.options.video.type), this.seek(this.prevVideo.currentTime), this.notice("".concat(this.tran("switching-quality").replace("%q", this.quality.name)), -1, void 0, "switch-quality"), this.events.trigger("quality_start", this.quality), this.on("canplay", function () {if (e.prevVideo) {if (e.video.currentTime !== e.prevVideo.currentTime) return void e.seek(e.prevVideo.currentTime);e.template.videoWrap.removeChild(e.prevVideo), e.video.classList.add("dplayer-video-current"), t || e.video.play(), e.prevVideo = null, e.notice("".concat(e.tran("switched-quality").replace("%q", e.quality.name)), void 0, void 0, "switch-quality"), e.switchingQuality = !1, e.events.trigger("quality_end");}}), this.on("error", function () {e.video.error && e.prevVideo && (e.template.videoWrap.removeChild(e.video), e.video = e.prevVideo, t || e.video.play(), e.qualityIndex = e.prevIndex, e.quality = e.options.video.quality[e.qualityIndex], e.noticeTime = setTimeout(function () {e.template.notice.style.opacity = 0, e.events.trigger("notice_hide");}, 3e3), e.prevVideo = null, e.switchingQuality = !1);});}} }, { key: "notice", value: function value(n) {var e,t,a,o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2e3,r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : .8,i = arguments.length > 3 ? arguments[3] : void 0;if (i && ((e = document.getElementById("dplayer-notice-".concat(i))) && (e.innerHTML = n), this.noticeList[i] && (clearTimeout(this.noticeList[i]), this.noticeList[i] = null)), !e) {var l = kt.NewNotice(n, r, i);this.template.noticeList.appendChild(l), e = l;}this.events.trigger("notice_show", e), o > 0 && (this.noticeList[i] = setTimeout((t = e, a = this, function () {t.addEventListener("animationend", function () {a.template.noticeList.removeChild(t);}), t.classList.add("remove-notice"), a.events.trigger("notice_hide"), a.noticeList[i] = null;}), o));} }, { key: "resize", value: function value() {this.danmaku && this.danmaku.resize(), this.controller.thumbnails && this.controller.thumbnails.resize(160, this.video.videoHeight / this.video.videoWidth * 160, this.template.barWrap.offsetWidth), this.events.trigger("resize");} }, { key: "speed", value: function value(n) {this.video.playbackRate = n;} }, { key: "destroy", value: function value() {Ha.splice(Ha.indexOf(this), 1), this.pause(), document.removeEventListener("click", this.docClickFun, !0), this.container.removeEventListener("click", this.containerClickFun, !0), this.fullScreen.destroy(), this.hotkey.destroy(), this.contextmenu.destroy(), this.controller.destroy(), this.timer.destroy(), this.video.src = "", this.container.innerHTML = "", this.events.trigger("destroy");} }], a = [{ key: "version", get: function get() {return "1.27.1";} }], t && Ua(e.prototype, t), a && Ua(e, a), Object.defineProperty(e, "prototype", { writable: !1 }), n;}();var Ka = _a;console.log("\n".concat(" %c DPlayer v", "1.27.1", " ").concat("v1.27.0-12-g4f61091", " %c https://dplayer.diygod.dev ", "\n", "\n"), "color: #fadfa3; background: #030307; padding:5px 0;", "background: #fadfa3; padding:5px 0;");var Za = Ka;}(), a.default;}();});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/webpack/buildin/global.js */ 2), __webpack_require__(/*! ./../../../../../../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/buffer/index.js */ 35).Buffer))

/***/ }),
/* 198 */,
/* 199 */,
/* 200 */,
/* 201 */,
/* 202 */,
/* 203 */,
/* 204 */,
/* 205 */,
/* 206 */,
/* 207 */,
/* 208 */,
/* 209 */,
/* 210 */,
/* 211 */,
/* 212 */,
/* 213 */,
/* 214 */,
/* 215 */,
/* 216 */,
/* 217 */,
/* 218 */,
/* 219 */,
/* 220 */,
/* 221 */,
/* 222 */,
/* 223 */,
/* 224 */,
/* 225 */,
/* 226 */,
/* 227 */,
/* 228 */,
/* 229 */,
/* 230 */,
/* 231 */,
/* 232 */,
/* 233 */,
/* 234 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-image/props.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 图片地址
    src: {
      type: String,
      default: uni.$u.props.image.src },

    // 裁剪模式
    mode: {
      type: String,
      default: uni.$u.props.image.mode },

    // 宽度，单位任意
    width: {
      type: [String, Number],
      default: uni.$u.props.image.width },

    // 高度，单位任意
    height: {
      type: [String, Number],
      default: uni.$u.props.image.height },

    // 图片形状，circle-圆形，square-方形
    shape: {
      type: String,
      default: uni.$u.props.image.shape },

    // 圆角，单位任意
    radius: {
      type: [String, Number],
      default: uni.$u.props.image.radius },

    // 是否懒加载，微信小程序、App、百度小程序、字节跳动小程序
    lazyLoad: {
      type: Boolean,
      default: uni.$u.props.image.lazyLoad },

    // 开启长按图片显示识别微信小程序码菜单
    showMenuByLongpress: {
      type: Boolean,
      default: uni.$u.props.image.showMenuByLongpress },

    // 加载中的图标，或者小图片
    loadingIcon: {
      type: String,
      default: uni.$u.props.image.loadingIcon },

    // 加载失败的图标，或者小图片
    errorIcon: {
      type: String,
      default: uni.$u.props.image.errorIcon },

    // 是否显示加载中的图标或者自定义的slot
    showLoading: {
      type: Boolean,
      default: uni.$u.props.image.showLoading },

    // 是否显示加载错误的图标或者自定义的slot
    showError: {
      type: Boolean,
      default: uni.$u.props.image.showError },

    // 是否需要淡入效果
    fade: {
      type: Boolean,
      default: uni.$u.props.image.fade },

    // 只支持网络资源，只对微信小程序有效
    webp: {
      type: Boolean,
      default: uni.$u.props.image.webp },

    // 过渡时间，单位ms
    duration: {
      type: [String, Number],
      default: uni.$u.props.image.duration },

    // 背景颜色，用于深色页面加载图片时，为了和背景色融合
    bgColor: {
      type: String,
      default: uni.$u.props.image.bgColor } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 235 */,
/* 236 */,
/* 237 */,
/* 238 */,
/* 239 */,
/* 240 */
/*!*****************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/mixin/button.js ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    lang: String,
    sessionFrom: String,
    sendMessageTitle: String,
    sendMessagePath: String,
    sendMessageImg: String,
    showMessageCard: Boolean,
    appParameter: String,
    formType: String,
    openType: String } };exports.default = _default;

/***/ }),
/* 241 */
/*!*******************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/mixin/openType.js ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    openType: String },

  methods: {
    onGetUserInfo: function onGetUserInfo(event) {
      this.$emit('getuserinfo', event.detail);
    },
    onContact: function onContact(event) {
      this.$emit('contact', event.detail);
    },
    onGetPhoneNumber: function onGetPhoneNumber(event) {
      this.$emit('getphonenumber', event.detail);
    },
    onError: function onError(event) {
      this.$emit('error', event.detail);
    },
    onLaunchApp: function onLaunchApp(event) {
      this.$emit('launchapp', event.detail);
    },
    onOpenSetting: function onOpenSetting(event) {
      this.$emit('opensetting', event.detail);
    } } };exports.default = _default;

/***/ }),
/* 242 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-button/props.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; /*
                                                                                                      * @Author       : LQ
                                                                                                      * @Description  :
                                                                                                      * @version      : 1.0
                                                                                                      * @Date         : 2021-08-16 10:04:04
                                                                                                      * @LastAuthor   : LQ
                                                                                                      * @lastTime     : 2021-08-16 10:04:24
                                                                                                      * @FilePath     : /u-view2.0/uview-ui/components/u-button/props.js
                                                                                                      */var _default =
{
  props: {
    // 是否细边框
    hairline: {
      type: Boolean,
      default: uni.$u.props.button.hairline },

    // 按钮的预置样式，info，primary，error，warning，success
    type: {
      type: String,
      default: uni.$u.props.button.type },

    // 按钮尺寸，large，normal，small，mini
    size: {
      type: String,
      default: uni.$u.props.button.size },

    // 按钮形状，circle（两边为半圆），square（带圆角）
    shape: {
      type: String,
      default: uni.$u.props.button.shape },

    // 按钮是否镂空
    plain: {
      type: Boolean,
      default: uni.$u.props.button.plain },

    // 是否禁止状态
    disabled: {
      type: Boolean,
      default: uni.$u.props.button.disabled },

    // 是否加载中
    loading: {
      type: Boolean,
      default: uni.$u.props.button.loading },

    // 加载中提示文字
    loadingText: {
      type: [String, Number],
      default: uni.$u.props.button.loadingText },

    // 加载状态图标类型
    loadingMode: {
      type: String,
      default: uni.$u.props.button.loadingMode },

    // 加载图标大小
    loadingSize: {
      type: [String, Number],
      default: uni.$u.props.button.loadingSize },

    // 开放能力，具体请看uniapp稳定关于button组件部分说明
    // https://uniapp.dcloud.io/component/button
    openType: {
      type: String,
      default: uni.$u.props.button.openType },

    // 用于 <form> 组件，点击分别会触发 <form> 组件的 submit/reset 事件
    // 取值为submit（提交表单），reset（重置表单）
    formType: {
      type: String,
      default: uni.$u.props.button.formType },

    // 打开 APP 时，向 APP 传递的参数，open-type=launchApp时有效
    // 只微信小程序、QQ小程序有效
    appParameter: {
      type: String,
      default: uni.$u.props.button.appParameter },

    // 指定是否阻止本节点的祖先节点出现点击态，微信小程序有效
    hoverStopPropagation: {
      type: Boolean,
      default: uni.$u.props.button.hoverStopPropagation },

    // 指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文。只微信小程序有效
    lang: {
      type: String,
      default: uni.$u.props.button.lang },

    // 会话来源，open-type="contact"时有效。只微信小程序有效
    sessionFrom: {
      type: String,
      default: uni.$u.props.button.sessionFrom },

    // 会话内消息卡片标题，open-type="contact"时有效
    // 默认当前标题，只微信小程序有效
    sendMessageTitle: {
      type: String,
      default: uni.$u.props.button.sendMessageTitle },

    // 会话内消息卡片点击跳转小程序路径，open-type="contact"时有效
    // 默认当前分享路径，只微信小程序有效
    sendMessagePath: {
      type: String,
      default: uni.$u.props.button.sendMessagePath },

    // 会话内消息卡片图片，open-type="contact"时有效
    // 默认当前页面截图，只微信小程序有效
    sendMessageImg: {
      type: String,
      default: uni.$u.props.button.sendMessageImg },

    // 是否显示会话内消息卡片，设置此参数为 true，用户进入客服会话会在右下角显示"可能要发送的小程序"提示，
    // 用户点击后可以快速发送小程序消息，open-type="contact"时有效
    showMessageCard: {
      type: Boolean,
      default: uni.$u.props.button.showMessageCard },

    // 额外传参参数，用于小程序的data-xxx属性，通过target.dataset.name获取
    dataName: {
      type: String,
      default: uni.$u.props.button.dataName },

    // 节流，一定时间内只能触发一次
    throttleTime: {
      type: [String, Number],
      default: uni.$u.props.button.throttleTime },

    // 按住后多久出现点击态，单位毫秒
    hoverStartTime: {
      type: [String, Number],
      default: uni.$u.props.button.hoverStartTime },

    // 手指松开后点击态保留时间，单位毫秒
    hoverStayTime: {
      type: [String, Number],
      default: uni.$u.props.button.hoverStayTime },

    // 按钮文字，之所以通过props传入，是因为slot传入的话
    // nvue中无法控制文字的样式
    text: {
      type: [String, Number],
      default: uni.$u.props.button.text },

    // 按钮图标
    icon: {
      type: String,
      default: uni.$u.props.button.icon },

    // 按钮图标
    iconColor: {
      type: String,
      default: uni.$u.props.button.icon },

    // 按钮颜色，支持传入linear-gradient渐变色
    color: {
      type: String,
      default: uni.$u.props.button.color } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 243 */,
/* 244 */,
/* 245 */,
/* 246 */,
/* 247 */,
/* 248 */,
/* 249 */,
/* 250 */,
/* 251 */,
/* 252 */,
/* 253 */,
/* 254 */,
/* 255 */,
/* 256 */,
/* 257 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-cell-group/props.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 分组标题
    title: {
      type: String,
      default: uni.$u.props.cellGroup.title },

    // 是否显示外边框
    border: {
      type: Boolean,
      default: uni.$u.props.cellGroup.border } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 258 */,
/* 259 */,
/* 260 */,
/* 261 */,
/* 262 */,
/* 263 */,
/* 264 */,
/* 265 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-cell/props.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default2 = {
  props: {
    // 标题
    title: {
      type: [String, Number],
      default: uni.$u.props.cell.title },

    // 标题下方的描述信息
    label: {
      type: [String, Number],
      default: uni.$u.props.cell.label },

    // 右侧的内容
    value: {
      type: [String, Number],
      default: uni.$u.props.cell.value },

    // 左侧图标名称，或者图片链接(本地文件建议使用绝对地址)
    icon: {
      type: String,
      default: uni.$u.props.cell.icon },

    // 是否禁用cell
    disabled: {
      type: Boolean,
      default: uni.$u.props.cell.disabled },

    // 是否显示下边框
    border: {
      type: Boolean,
      default: uni.$u.props.cell.border },

    // 内容是否垂直居中(主要是针对右侧的value部分)
    center: {
      type: Boolean,
      default: uni.$u.props.cell.center },

    // 点击后跳转的URL地址
    url: {
      type: String,
      default: uni.$u.props.cell.url },

    // 链接跳转的方式，内部使用的是uView封装的route方法，可能会进行拦截操作
    linkType: {
      type: String,
      default: uni.$u.props.cell.linkType },

    // 是否开启点击反馈(表现为点击时加上灰色背景)
    clickable: {
      type: Boolean,
      default: uni.$u.props.cell.clickable },

    // 是否展示右侧箭头并开启点击反馈
    isLink: {
      type: Boolean,
      default: uni.$u.props.cell.isLink },

    // 是否显示表单状态下的必填星号(此组件可能会内嵌入input组件)
    required: {
      type: Boolean,
      default: uni.$u.props.cell.required },

    // 右侧的图标箭头
    rightIcon: {
      type: String,
      default: uni.$u.props.cell.rightIcon },

    // 右侧箭头的方向，可选值为：left，up，down
    arrowDirection: {
      type: String,
      default: uni.$u.props.cell.arrowDirection },

    // 左侧图标样式
    iconStyle: {
      type: [Object, String],
      default: function _default() {
        return uni.$u.props.cell.iconStyle;
      } },

    // 右侧箭头图标的样式
    rightIconStyle: {
      type: [Object, String],
      default: function _default() {
        return uni.$u.props.cell.rightIconStyle;
      } },

    // 标题的样式
    titleStyle: {
      type: [Object, String],
      default: function _default() {
        return uni.$u.props.cell.titleStyle;
      } },

    // 单位元的大小，可选值为large
    size: {
      type: String,
      default: uni.$u.props.cell.size },

    // 点击cell是否阻止事件传播
    stop: {
      type: Boolean,
      default: uni.$u.props.cell.stop },

    // 标识符，cell被点击时返回
    name: {
      type: [Number, String],
      default: uni.$u.props.cell.name } } };exports.default = _default2;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 266 */,
/* 267 */,
/* 268 */,
/* 269 */,
/* 270 */,
/* 271 */,
/* 272 */,
/* 273 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-avatar/props.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 头像图片路径(不能为相对路径)
    src: {
      type: String,
      default: uni.$u.props.avatar.src },

    // 头像形状，circle-圆形，square-方形
    shape: {
      type: String,
      default: uni.$u.props.avatar.shape },

    // 头像尺寸
    size: {
      type: [String, Number],
      default: uni.$u.props.avatar.size },

    // 裁剪模式
    mode: {
      type: String,
      default: uni.$u.props.avatar.mode },

    // 显示的文字
    text: {
      type: String,
      default: uni.$u.props.avatar.text },

    // 背景色
    bgColor: {
      type: String,
      default: uni.$u.props.avatar.bgColor },

    // 文字颜色
    color: {
      type: String,
      default: uni.$u.props.avatar.color },

    // 文字大小
    fontSize: {
      type: [String, Number],
      default: uni.$u.props.avatar.fontSize },

    // 显示的图标
    icon: {
      type: String,
      default: uni.$u.props.avatar.icon },

    // 显示小程序头像，只对百度，微信，QQ小程序有效
    mpAvatar: {
      type: Boolean,
      default: uni.$u.props.avatar.mpAvatar },

    // 是否使用随机背景色
    randomBgColor: {
      type: Boolean,
      default: uni.$u.props.avatar.randomBgColor },

    // 加载失败的默认头像(组件有内置默认图片)
    defaultUrl: {
      type: String,
      default: uni.$u.props.avatar.defaultUrl },

    // 如果配置了randomBgColor为true，且配置了此值，则从默认的背景色数组中取出对应索引的颜色值，取值0-19之间
    colorIndex: {
      type: [String, Number],
      // 校验参数规则，索引在0-19之间
      validator: function validator(n) {
        return uni.$u.test.range(n, [0, 19]) || n === '';
      },
      default: uni.$u.props.avatar.colorIndex },

    // 组件标识符
    name: {
      type: String,
      default: uni.$u.props.avatar.name } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 274 */,
/* 275 */,
/* 276 */,
/* 277 */,
/* 278 */,
/* 279 */,
/* 280 */,
/* 281 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-icon/icons.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  'uicon-level': "\uE693",
  'uicon-column-line': "\uE68E",
  'uicon-checkbox-mark': "\uE807",
  'uicon-folder': "\uE7F5",
  'uicon-movie': "\uE7F6",
  'uicon-star-fill': "\uE669",
  'uicon-star': "\uE65F",
  'uicon-phone-fill': "\uE64F",
  'uicon-phone': "\uE622",
  'uicon-apple-fill': "\uE881",
  'uicon-chrome-circle-fill': "\uE885",
  'uicon-backspace': "\uE67B",
  'uicon-attach': "\uE632",
  'uicon-cut': "\uE948",
  'uicon-empty-car': "\uE602",
  'uicon-empty-coupon': "\uE682",
  'uicon-empty-address': "\uE646",
  'uicon-empty-favor': "\uE67C",
  'uicon-empty-permission': "\uE686",
  'uicon-empty-news': "\uE687",
  'uicon-empty-search': "\uE664",
  'uicon-github-circle-fill': "\uE887",
  'uicon-rmb': "\uE608",
  'uicon-person-delete-fill': "\uE66A",
  'uicon-reload': "\uE788",
  'uicon-order': "\uE68F",
  'uicon-server-man': "\uE6BC",
  'uicon-search': "\uE62A",
  'uicon-fingerprint': "\uE955",
  'uicon-more-dot-fill': "\uE630",
  'uicon-scan': "\uE662",
  'uicon-share-square': "\uE60B",
  'uicon-map': "\uE61D",
  'uicon-map-fill': "\uE64E",
  'uicon-tags': "\uE629",
  'uicon-tags-fill': "\uE651",
  'uicon-bookmark-fill': "\uE63B",
  'uicon-bookmark': "\uE60A",
  'uicon-eye': "\uE613",
  'uicon-eye-fill': "\uE641",
  'uicon-mic': "\uE64A",
  'uicon-mic-off': "\uE649",
  'uicon-calendar': "\uE66E",
  'uicon-calendar-fill': "\uE634",
  'uicon-trash': "\uE623",
  'uicon-trash-fill': "\uE658",
  'uicon-play-left': "\uE66D",
  'uicon-play-right': "\uE610",
  'uicon-minus': "\uE618",
  'uicon-plus': "\uE62D",
  'uicon-info': "\uE653",
  'uicon-info-circle': "\uE7D2",
  'uicon-info-circle-fill': "\uE64B",
  'uicon-question': "\uE715",
  'uicon-error': "\uE6D3",
  'uicon-close': "\uE685",
  'uicon-checkmark': "\uE6A8",
  'uicon-android-circle-fill': "\uE67E",
  'uicon-android-fill': "\uE67D",
  'uicon-ie': "\uE87B",
  'uicon-IE-circle-fill': "\uE889",
  'uicon-google': "\uE87A",
  'uicon-google-circle-fill': "\uE88A",
  'uicon-setting-fill': "\uE872",
  'uicon-setting': "\uE61F",
  'uicon-minus-square-fill': "\uE855",
  'uicon-plus-square-fill': "\uE856",
  'uicon-heart': "\uE7DF",
  'uicon-heart-fill': "\uE851",
  'uicon-camera': "\uE7D7",
  'uicon-camera-fill': "\uE870",
  'uicon-more-circle': "\uE63E",
  'uicon-more-circle-fill': "\uE645",
  'uicon-chat': "\uE620",
  'uicon-chat-fill': "\uE61E",
  'uicon-bag-fill': "\uE617",
  'uicon-bag': "\uE619",
  'uicon-error-circle-fill': "\uE62C",
  'uicon-error-circle': "\uE624",
  'uicon-close-circle': "\uE63F",
  'uicon-close-circle-fill': "\uE637",
  'uicon-checkmark-circle': "\uE63D",
  'uicon-checkmark-circle-fill': "\uE635",
  'uicon-question-circle-fill': "\uE666",
  'uicon-question-circle': "\uE625",
  'uicon-share': "\uE631",
  'uicon-share-fill': "\uE65E",
  'uicon-shopping-cart': "\uE621",
  'uicon-shopping-cart-fill': "\uE65D",
  'uicon-bell': "\uE609",
  'uicon-bell-fill': "\uE640",
  'uicon-list': "\uE650",
  'uicon-list-dot': "\uE616",
  'uicon-zhihu': "\uE6BA",
  'uicon-zhihu-circle-fill': "\uE709",
  'uicon-zhifubao': "\uE6B9",
  'uicon-zhifubao-circle-fill': "\uE6B8",
  'uicon-weixin-circle-fill': "\uE6B1",
  'uicon-weixin-fill': "\uE6B2",
  'uicon-twitter-circle-fill': "\uE6AB",
  'uicon-twitter': "\uE6AA",
  'uicon-taobao-circle-fill': "\uE6A7",
  'uicon-taobao': "\uE6A6",
  'uicon-weibo-circle-fill': "\uE6A5",
  'uicon-weibo': "\uE6A4",
  'uicon-qq-fill': "\uE6A1",
  'uicon-qq-circle-fill': "\uE6A0",
  'uicon-moments-circel-fill': "\uE69A",
  'uicon-moments': "\uE69B",
  'uicon-qzone': "\uE695",
  'uicon-qzone-circle-fill': "\uE696",
  'uicon-baidu-circle-fill': "\uE680",
  'uicon-baidu': "\uE681",
  'uicon-facebook-circle-fill': "\uE68A",
  'uicon-facebook': "\uE689",
  'uicon-car': "\uE60C",
  'uicon-car-fill': "\uE636",
  'uicon-warning-fill': "\uE64D",
  'uicon-warning': "\uE694",
  'uicon-clock-fill': "\uE638",
  'uicon-clock': "\uE60F",
  'uicon-edit-pen': "\uE612",
  'uicon-edit-pen-fill': "\uE66B",
  'uicon-email': "\uE611",
  'uicon-email-fill': "\uE642",
  'uicon-minus-circle': "\uE61B",
  'uicon-minus-circle-fill': "\uE652",
  'uicon-plus-circle': "\uE62E",
  'uicon-plus-circle-fill': "\uE661",
  'uicon-file-text': "\uE663",
  'uicon-file-text-fill': "\uE665",
  'uicon-pushpin': "\uE7E3",
  'uicon-pushpin-fill': "\uE86E",
  'uicon-grid': "\uE673",
  'uicon-grid-fill': "\uE678",
  'uicon-play-circle': "\uE647",
  'uicon-play-circle-fill': "\uE655",
  'uicon-pause-circle-fill': "\uE654",
  'uicon-pause': "\uE8FA",
  'uicon-pause-circle': "\uE643",
  'uicon-eye-off': "\uE648",
  'uicon-eye-off-outline': "\uE62B",
  'uicon-gift-fill': "\uE65C",
  'uicon-gift': "\uE65B",
  'uicon-rmb-circle-fill': "\uE657",
  'uicon-rmb-circle': "\uE677",
  'uicon-kefu-ermai': "\uE656",
  'uicon-server-fill': "\uE751",
  'uicon-coupon-fill': "\uE8C4",
  'uicon-coupon': "\uE8AE",
  'uicon-integral': "\uE704",
  'uicon-integral-fill': "\uE703",
  'uicon-home-fill': "\uE964",
  'uicon-home': "\uE965",
  'uicon-hourglass-half-fill': "\uE966",
  'uicon-hourglass': "\uE967",
  'uicon-account': "\uE628",
  'uicon-plus-people-fill': "\uE626",
  'uicon-minus-people-fill': "\uE615",
  'uicon-account-fill': "\uE614",
  'uicon-thumb-down-fill': "\uE726",
  'uicon-thumb-down': "\uE727",
  'uicon-thumb-up': "\uE733",
  'uicon-thumb-up-fill': "\uE72F",
  'uicon-lock-fill': "\uE979",
  'uicon-lock-open': "\uE973",
  'uicon-lock-opened-fill': "\uE974",
  'uicon-lock': "\uE97A",
  'uicon-red-packet-fill': "\uE690",
  'uicon-photo-fill': "\uE98B",
  'uicon-photo': "\uE98D",
  'uicon-volume-off-fill': "\uE659",
  'uicon-volume-off': "\uE644",
  'uicon-volume-fill': "\uE670",
  'uicon-volume': "\uE633",
  'uicon-red-packet': "\uE691",
  'uicon-download': "\uE63C",
  'uicon-arrow-up-fill': "\uE6B0",
  'uicon-arrow-down-fill': "\uE600",
  'uicon-play-left-fill': "\uE675",
  'uicon-play-right-fill': "\uE676",
  'uicon-rewind-left-fill': "\uE679",
  'uicon-rewind-right-fill': "\uE67A",
  'uicon-arrow-downward': "\uE604",
  'uicon-arrow-leftward': "\uE601",
  'uicon-arrow-rightward': "\uE603",
  'uicon-arrow-upward': "\uE607",
  'uicon-arrow-down': "\uE60D",
  'uicon-arrow-right': "\uE605",
  'uicon-arrow-left': "\uE60E",
  'uicon-arrow-up': "\uE606",
  'uicon-skip-back-left': "\uE674",
  'uicon-skip-forward-right': "\uE672",
  'uicon-rewind-right': "\uE66F",
  'uicon-rewind-left': "\uE671",
  'uicon-arrow-right-double': "\uE68D",
  'uicon-arrow-left-double': "\uE68C",
  'uicon-wifi-off': "\uE668",
  'uicon-wifi': "\uE667",
  'uicon-empty-data': "\uE62F",
  'uicon-empty-history': "\uE684",
  'uicon-empty-list': "\uE68B",
  'uicon-empty-page': "\uE627",
  'uicon-empty-order': "\uE639",
  'uicon-man': "\uE697",
  'uicon-woman': "\uE69C",
  'uicon-man-add': "\uE61C",
  'uicon-man-add-fill': "\uE64C",
  'uicon-man-delete': "\uE61A",
  'uicon-man-delete-fill': "\uE66A",
  'uicon-zh': "\uE70A",
  'uicon-en': "\uE692" };exports.default = _default;

/***/ }),
/* 282 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-icon/props.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 图标类名
    name: {
      type: String,
      default: uni.$u.props.icon.name },

    // 图标颜色，可接受主题色
    color: {
      type: String,
      default: uni.$u.props.icon.color },

    // 字体大小，单位px
    size: {
      type: [String, Number],
      default: uni.$u.props.icon.size },

    // 是否显示粗体
    bold: {
      type: Boolean,
      default: uni.$u.props.icon.bold },

    // 点击图标的时候传递事件出去的index（用于区分点击了哪一个）
    index: {
      type: [String, Number],
      default: uni.$u.props.icon.index },

    // 触摸图标时的类名
    hoverClass: {
      type: String,
      default: uni.$u.props.icon.hoverClass },

    // 自定义扩展前缀，方便用户扩展自己的图标库
    customPrefix: {
      type: String,
      default: uni.$u.props.icon.customPrefix },

    // 图标右边或者下面的文字
    label: {
      type: [String, Number],
      default: uni.$u.props.icon.label },

    // label的位置，只能右边或者下边
    labelPos: {
      type: String,
      default: uni.$u.props.icon.labelPos },

    // label的大小
    labelSize: {
      type: [String, Number],
      default: uni.$u.props.icon.labelSize },

    // label的颜色
    labelColor: {
      type: String,
      default: uni.$u.props.icon.labelColor },

    // label与图标的距离
    space: {
      type: [String, Number],
      default: uni.$u.props.icon.space },

    // 图片的mode
    imgMode: {
      type: String,
      default: uni.$u.props.icon.imgMode },

    // 用于显示图片小图标时，图片的宽度
    width: {
      type: [String, Number],
      default: uni.$u.props.icon.width },

    // 用于显示图片小图标时，图片的高度
    height: {
      type: [String, Number],
      default: uni.$u.props.icon.height },

    // 用于解决某些情况下，让图标垂直居中的用途
    top: {
      type: [String, Number],
      default: uni.$u.props.icon.top },

    // 是否阻止事件传播
    stop: {
      type: Boolean,
      default: uni.$u.props.icon.stop } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 283 */,
/* 284 */,
/* 285 */,
/* 286 */,
/* 287 */,
/* 288 */,
/* 289 */,
/* 290 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-form/props.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 当前form的需要验证字段的集合
    model: {
      type: Object,
      default: uni.$u.props.form.model },

    // 验证规则
    rules: {
      type: [Object, Function, Array],
      default: uni.$u.props.form.rules },

    // 有错误时的提示方式，message-提示信息，toast-进行toast提示
    // border-bottom-下边框呈现红色，none-无提示
    errorType: {
      type: String,
      default: uni.$u.props.form.errorType },

    // 是否显示表单域的下划线边框
    borderBottom: {
      type: Boolean,
      default: uni.$u.props.form.borderBottom },

    // label的位置，left-左边，top-上边
    labelPosition: {
      type: String,
      default: uni.$u.props.form.labelPosition },

    // label的宽度，单位px
    labelWidth: {
      type: [String, Number],
      default: uni.$u.props.form.labelWidth },

    // lable字体的对齐方式
    labelAlign: {
      type: String,
      default: uni.$u.props.form.labelAlign },

    // lable的样式，对象形式
    labelStyle: {
      type: Object,
      default: uni.$u.props.form.labelStyle } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 291 */,
/* 292 */,
/* 293 */,
/* 294 */,
/* 295 */,
/* 296 */
/*!****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-form-item/props.js ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // input的label提示语
    label: {
      type: String,
      default: uni.$u.props.formItem.label },

    // 绑定的值
    prop: {
      type: String,
      default: uni.$u.props.formItem.prop },

    // 是否显示表单域的下划线边框
    borderBottom: {
      type: [String, Boolean],
      default: uni.$u.props.formItem.borderBottom },

    // label的位置，left-左边，top-上边
    labelPosition: {
      type: String,
      default: uni.$u.props.formItem.labelPosition },

    // label的宽度，单位px
    labelWidth: {
      type: [String, Number],
      default: uni.$u.props.formItem.labelWidth },

    // 右侧图标
    rightIcon: {
      type: String,
      default: uni.$u.props.formItem.rightIcon },

    // 左侧图标
    leftIcon: {
      type: String,
      default: uni.$u.props.formItem.leftIcon },

    // 是否显示左边的必填星号，只作显示用，具体校验必填的逻辑，请在rules中配置
    required: {
      type: Boolean,
      default: uni.$u.props.formItem.required },

    leftIconStyle: {
      type: [String, Object],
      default: uni.$u.props.formItem.leftIconStyle } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 297 */,
/* 298 */,
/* 299 */,
/* 300 */,
/* 301 */,
/* 302 */,
/* 303 */,
/* 304 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-input/props.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 输入的值
    value: {
      type: [String, Number],
      default: uni.$u.props.input.value },

    // 输入框类型
    // number-数字输入键盘，app-vue下可以输入浮点数，app-nvue和小程序平台下只能输入整数
    // idcard-身份证输入键盘，微信、支付宝、百度、QQ小程序
    // digit-带小数点的数字键盘，App的nvue页面、微信、支付宝、百度、头条、QQ小程序
    // text-文本输入键盘
    type: {
      type: String,
      default: uni.$u.props.input.type },

    // 如果 textarea 是在一个 position:fixed 的区域，需要显示指定属性 fixed 为 true，
    // 兼容性：微信小程序、百度小程序、字节跳动小程序、QQ小程序
    fixed: {
      type: Boolean,
      default: uni.$u.props.input.fixed },

    // 是否禁用输入框
    disabled: {
      type: Boolean,
      default: uni.$u.props.input.disabled },

    // 禁用状态时的背景色
    disabledColor: {
      type: String,
      default: uni.$u.props.input.disabledColor },

    // 是否显示清除控件
    clearable: {
      type: Boolean,
      default: uni.$u.props.input.clearable },

    // 是否密码类型
    password: {
      type: Boolean,
      default: uni.$u.props.input.password },

    // 最大输入长度，设置为 -1 的时候不限制最大长度
    maxlength: {
      type: [String, Number],
      default: uni.$u.props.input.maxlength },

    // 	输入框为空时的占位符
    placeholder: {
      type: String,
      default: uni.$u.props.input.placeholder },

    // 指定placeholder的样式类，注意页面或组件的style中写了scoped时，需要在类名前写/deep/
    placeholderClass: {
      type: String,
      default: uni.$u.props.input.placeholderClass },

    // 指定placeholder的样式
    placeholderStyle: {
      type: [String, Object],
      default: uni.$u.props.input.placeholderStyle },

    // 是否显示输入字数统计，只在 type ="text"或type ="textarea"时有效
    showWordLimit: {
      type: Boolean,
      default: uni.$u.props.input.showWordLimit },

    // 设置右下角按钮的文字，有效值：send|search|next|go|done，兼容性详见uni-app文档
    // https://uniapp.dcloud.io/component/input
    // https://uniapp.dcloud.io/component/textarea
    confirmType: {
      type: String,
      default: uni.$u.props.input.confirmType },

    // 点击键盘右下角按钮时是否保持键盘不收起，H5无效
    confirmHold: {
      type: Boolean,
      default: uni.$u.props.input.confirmHold },

    // focus时，点击页面的时候不收起键盘，微信小程序有效
    holdKeyboard: {
      type: Boolean,
      default: uni.$u.props.input.holdKeyboard },

    // 自动获取焦点
    // 在 H5 平台能否聚焦以及软键盘是否跟随弹出，取决于当前浏览器本身的实现。nvue 页面不支持，需使用组件的 focus()、blur() 方法控制焦点
    focus: {
      type: Boolean,
      default: uni.$u.props.input.focus },

    // 键盘收起时，是否自动失去焦点，目前仅App3.0.0+有效
    autoBlur: {
      type: Boolean,
      default: uni.$u.props.input.autoBlur },

    // 是否去掉 iOS 下的默认内边距，仅微信小程序，且type=textarea时有效
    disableDefaultPadding: {
      type: Boolean,
      default: uni.$u.props.input.disableDefaultPadding },

    // 指定focus时光标的位置
    cursor: {
      type: [String, Number],
      default: uni.$u.props.input.cursor },

    // 输入框聚焦时底部与键盘的距离
    cursorSpacing: {
      type: [String, Number],
      default: uni.$u.props.input.cursorSpacing },

    // 光标起始位置，自动聚集时有效，需与selection-end搭配使用
    selectionStart: {
      type: [String, Number],
      default: uni.$u.props.input.selectionStart },

    // 光标结束位置，自动聚集时有效，需与selection-start搭配使用
    selectionEnd: {
      type: [String, Number],
      default: uni.$u.props.input.selectionEnd },

    // 键盘弹起时，是否自动上推页面
    adjustPosition: {
      type: Boolean,
      default: uni.$u.props.input.adjustPosition },

    // 输入框内容对齐方式，可选值为：left|center|right
    inputAlign: {
      type: String,
      default: uni.$u.props.input.inputAlign },

    // 输入框字体的大小
    fontSize: {
      type: [String, Number],
      default: uni.$u.props.input.fontSize },

    // 输入框字体颜色
    color: {
      type: String,
      default: uni.$u.props.input.color },

    // 输入框前置图标
    prefixIcon: {
      type: String,
      default: uni.$u.props.input.prefixIcon },

    // 前置图标样式，对象或字符串
    prefixIconStyle: {
      type: [String, Object],
      default: uni.$u.props.input.prefixIconStyle },

    // 输入框后置图标
    suffixIcon: {
      type: String,
      default: uni.$u.props.input.suffixIcon },

    // 后置图标样式，对象或字符串
    suffixIconStyle: {
      type: [String, Object],
      default: uni.$u.props.input.suffixIconStyle },

    // 边框类型，surround-四周边框，bottom-底部边框，none-无边框
    border: {
      type: String,
      default: uni.$u.props.input.border },

    // 是否只读，与disabled不同之处在于disabled会置灰组件，而readonly则不会
    readonly: {
      type: Boolean,
      default: uni.$u.props.input.readonly },

    // 输入框形状，circle-圆形，square-方形
    shape: {
      type: String,
      default: uni.$u.props.input.shape },

    // 用于处理或者过滤输入框内容的方法
    formatter: {
      type: [Function, null],
      default: uni.$u.props.input.formatter },

    // 是否忽略组件内对文本合成系统事件的处理
    ignoreCompositionEvent: {
      type: Boolean,
      default: true } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 305 */,
/* 306 */,
/* 307 */,
/* 308 */,
/* 309 */,
/* 310 */,
/* 311 */,
/* 312 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-navbar/props.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 是否开启顶部安全区适配
    safeAreaInsetTop: {
      type: Boolean,
      default: uni.$u.props.navbar.safeAreaInsetTop },

    // 固定在顶部时，是否生成一个等高元素，以防止塌陷
    placeholder: {
      type: Boolean,
      default: uni.$u.props.navbar.placeholder },

    // 是否固定在顶部
    fixed: {
      type: Boolean,
      default: uni.$u.props.navbar.fixed },

    // 是否显示下边框
    border: {
      type: Boolean,
      default: uni.$u.props.navbar.border },

    // 左边的图标
    leftIcon: {
      type: String,
      default: uni.$u.props.navbar.leftIcon },

    // 左边的提示文字
    leftText: {
      type: String,
      default: uni.$u.props.navbar.leftText },

    // 左右的提示文字
    rightText: {
      type: String,
      default: uni.$u.props.navbar.rightText },

    // 右边的图标
    rightIcon: {
      type: String,
      default: uni.$u.props.navbar.rightIcon },

    // 标题
    title: {
      type: [String, Number],
      default: uni.$u.props.navbar.title },

    // 背景颜色
    bgColor: {
      type: String,
      default: uni.$u.props.navbar.bgColor },

    // 标题的宽度
    titleWidth: {
      type: [String, Number],
      default: uni.$u.props.navbar.titleWidth },

    // 导航栏高度
    height: {
      type: [String, Number],
      default: uni.$u.props.navbar.height },

    // 左侧返回图标的大小
    leftIconSize: {
      type: [String, Number],
      default: uni.$u.props.navbar.leftIconSize },

    // 左侧返回图标的颜色
    leftIconColor: {
      type: String,
      default: uni.$u.props.navbar.leftIconColor },

    // 点击左侧区域(返回图标)，是否自动返回上一页
    autoBack: {
      type: Boolean,
      default: uni.$u.props.navbar.autoBack },

    // 标题的样式，对象或字符串
    titleStyle: {
      type: [String, Object],
      default: uni.$u.props.navbar.titleStyle } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 313 */,
/* 314 */,
/* 315 */,
/* 316 */,
/* 317 */,
/* 318 */,
/* 319 */,
/* 320 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-search/props.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 搜索框形状，round-圆形，square-方形
    shape: {
      type: String,
      default: uni.$u.props.search.shape },

    // 搜索框背景色，默认值#f2f2f2
    bgColor: {
      type: String,
      default: uni.$u.props.search.bgColor },

    // 占位提示文字
    placeholder: {
      type: String,
      default: uni.$u.props.search.placeholder },

    // 是否启用清除控件
    clearabled: {
      type: Boolean,
      default: uni.$u.props.search.clearabled },

    // 是否自动聚焦
    focus: {
      type: Boolean,
      default: uni.$u.props.search.focus },

    // 是否在搜索框右侧显示取消按钮
    showAction: {
      type: Boolean,
      default: uni.$u.props.search.showAction },

    // 右边控件的样式
    actionStyle: {
      type: Object,
      default: uni.$u.props.search.actionStyle },

    // 取消按钮文字
    actionText: {
      type: String,
      default: uni.$u.props.search.actionText },

    // 输入框内容对齐方式，可选值为 left|center|right
    inputAlign: {
      type: String,
      default: uni.$u.props.search.inputAlign },

    // input输入框的样式，可以定义文字颜色，大小等，对象形式
    inputStyle: {
      type: Object,
      default: uni.$u.props.search.inputStyle },

    // 是否启用输入框
    disabled: {
      type: Boolean,
      default: uni.$u.props.search.disabled },

    // 边框颜色
    borderColor: {
      type: String,
      default: uni.$u.props.search.borderColor },

    // 搜索图标的颜色，默认同输入框字体颜色
    searchIconColor: {
      type: String,
      default: uni.$u.props.search.searchIconColor },

    // 输入框字体颜色
    color: {
      type: String,
      default: uni.$u.props.search.color },

    // placeholder的颜色
    placeholderColor: {
      type: String,
      default: uni.$u.props.search.placeholderColor },

    // 左边输入框的图标，可以为uView图标名称或图片路径
    searchIcon: {
      type: String,
      default: uni.$u.props.search.searchIcon },

    searchIconSize: {
      type: [Number, String],
      default: uni.$u.props.search.searchIconSize },

    // 组件与其他上下左右元素之间的距离，带单位的字符串形式，如"30px"、"30px 20px"等写法
    margin: {
      type: String,
      default: uni.$u.props.search.margin },

    // 开启showAction时，是否在input获取焦点时才显示
    animation: {
      type: Boolean,
      default: uni.$u.props.search.animation },

    // 输入框的初始化内容
    value: {
      type: String,
      default: uni.$u.props.search.value },

    // 输入框最大能输入的长度，-1为不限制长度(来自uniapp文档)
    maxlength: {
      type: [String, Number],
      default: uni.$u.props.search.maxlength },

    // 搜索框高度，单位px
    height: {
      type: [String, Number],
      default: uni.$u.props.search.height },

    // 搜索框左侧文本
    label: {
      type: [String, Number, null],
      default: uni.$u.props.search.label } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 321 */,
/* 322 */,
/* 323 */,
/* 324 */,
/* 325 */,
/* 326 */,
/* 327 */,
/* 328 */
/*!**********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-tag/props.js ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 标签类型info、primary、success、warning、error
    type: {
      type: String,
      default: uni.$u.props.tag.type },

    // 不可用
    disabled: {
      type: [Boolean, String],
      default: uni.$u.props.tag.disabled },

    // 标签的大小，large，medium，mini
    size: {
      type: String,
      default: uni.$u.props.tag.size },

    // tag的形状，circle（两边半圆形）, square（方形，带圆角）
    shape: {
      type: String,
      default: uni.$u.props.tag.shape },

    // 标签文字
    text: {
      type: [String, Number],
      default: uni.$u.props.tag.text },

    // 背景颜色，默认为空字符串，即不处理
    bgColor: {
      type: String,
      default: uni.$u.props.tag.bgColor },

    // 标签字体颜色，默认为空字符串，即不处理
    color: {
      type: String,
      default: uni.$u.props.tag.color },

    // 标签的边框颜色
    borderColor: {
      type: String,
      default: uni.$u.props.tag.borderColor },

    // 关闭按钮图标的颜色
    closeColor: {
      type: String,
      default: uni.$u.props.tag.closeColor },

    // 点击时返回的索引值，用于区分例遍的数组哪个元素被点击了
    name: {
      type: [String, Number],
      default: uni.$u.props.tag.name },

    // // 模式选择，dark|light|plain
    // mode: {
    // 	type: String,
    // 	default: 'light'
    // },
    // 镂空时是否填充背景色
    plainFill: {
      type: Boolean,
      default: uni.$u.props.tag.plainFill },

    // 是否镂空
    plain: {
      type: Boolean,
      default: uni.$u.props.tag.plain },

    // 是否可关闭
    closable: {
      type: Boolean,
      default: uni.$u.props.tag.closable },

    // 是否显示
    show: {
      type: Boolean,
      default: uni.$u.props.tag.show },

    // 内置图标，或绝对路径的图片
    icon: {
      type: String,
      default: uni.$u.props.tag.icon } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 329 */,
/* 330 */,
/* 331 */,
/* 332 */,
/* 333 */,
/* 334 */,
/* 335 */,
/* 336 */
/*!****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-read-more/props.js ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default2 = {
  props: {
    // 默认的显示占位高度
    showHeight: {
      type: [String, Number],
      default: uni.$u.props.readMore.showHeight },

    // 展开后是否显示"收起"按钮
    toggle: {
      type: Boolean,
      default: uni.$u.props.readMore.toggle },

    // 关闭时的提示文字
    closeText: {
      type: String,
      default: uni.$u.props.readMore.closeText },

    // 展开时的提示文字
    openText: {
      type: String,
      default: uni.$u.props.readMore.openText },

    // 提示的文字颜色
    color: {
      type: String,
      default: uni.$u.props.readMore.color },

    // 提示文字的大小
    fontSize: {
      type: [String, Number],
      default: uni.$u.props.readMore.fontSize },

    // 是否显示阴影
    // 此参数不能写在props/readMore.js中进行默认配置，因为使用了条件编译，在外部js中
    // uni无法准确识别当前是否处于nvue还是非nvue下
    shadowStyle: {
      type: Object,
      default: function _default() {return {

          backgroundImage: 'linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 80%)',





          paddingTop: '100px',
          marginTop: '-100px' };} },


    // 段落首行缩进的字符个数
    textIndent: {
      type: String,
      default: uni.$u.props.readMore.textIndent },

    // open和close事件时，将此参数返回在回调参数中
    name: {
      type: [String, Number],
      default: uni.$u.props.readMore.name } } };exports.default = _default2;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 337 */,
/* 338 */,
/* 339 */,
/* 340 */,
/* 341 */,
/* 342 */,
/* 343 */,
/* 344 */
/*!************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-popup/props.js ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 是否展示弹窗
    show: {
      type: Boolean,
      default: uni.$u.props.popup.show },

    // 是否显示遮罩
    overlay: {
      type: Boolean,
      default: uni.$u.props.popup.overlay },

    // 弹出的方向，可选值为 top bottom right left center
    mode: {
      type: String,
      default: uni.$u.props.popup.mode },

    // 动画时长，单位ms
    duration: {
      type: [String, Number],
      default: uni.$u.props.popup.duration },

    // 是否显示关闭图标
    closeable: {
      type: Boolean,
      default: uni.$u.props.popup.closeable },

    // 自定义遮罩的样式
    overlayStyle: {
      type: [Object, String],
      default: uni.$u.props.popup.overlayStyle },

    // 点击遮罩是否关闭弹窗
    closeOnClickOverlay: {
      type: Boolean,
      default: uni.$u.props.popup.closeOnClickOverlay },

    // 层级
    zIndex: {
      type: [String, Number],
      default: uni.$u.props.popup.zIndex },

    // 是否为iPhoneX留出底部安全距离
    safeAreaInsetBottom: {
      type: Boolean,
      default: uni.$u.props.popup.safeAreaInsetBottom },

    // 是否留出顶部安全距离（状态栏高度）
    safeAreaInsetTop: {
      type: Boolean,
      default: uni.$u.props.popup.safeAreaInsetTop },

    // 自定义关闭图标位置，top-left为左上角，top-right为右上角，bottom-left为左下角，bottom-right为右下角
    closeIconPos: {
      type: String,
      default: uni.$u.props.popup.closeIconPos },

    // 是否显示圆角
    round: {
      type: [Boolean, String, Number],
      default: uni.$u.props.popup.round },

    // mode=center，也即中部弹出时，是否使用缩放模式
    zoom: {
      type: Boolean,
      default: uni.$u.props.popup.zoom },

    // 弹窗背景色，设置为transparent可去除白色背景
    bgColor: {
      type: String,
      default: uni.$u.props.popup.bgColor },

    // 遮罩的透明度，0-1之间
    overlayOpacity: {
      type: [Number, String],
      default: uni.$u.props.popup.overlayOpacity } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 345 */,
/* 346 */,
/* 347 */,
/* 348 */,
/* 349 */,
/* 350 */,
/* 351 */,
/* 352 */
/*!***************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-loadmore/props.js ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 组件状态，loadmore-加载前的状态，loading-加载中的状态，nomore-没有更多的状态
    status: {
      type: String,
      default: uni.$u.props.loadmore.status },

    // 组件背景色
    bgColor: {
      type: String,
      default: uni.$u.props.loadmore.bgColor },

    // 是否显示加载中的图标
    icon: {
      type: Boolean,
      default: uni.$u.props.loadmore.icon },

    // 字体大小
    fontSize: {
      type: [String, Number],
      default: uni.$u.props.loadmore.fontSize },

    // 图标大小
    iconSize: {
      type: [String, Number],
      default: uni.$u.props.loadmore.iconSize },

    // 字体颜色
    color: {
      type: String,
      default: uni.$u.props.loadmore.color },

    // 加载中状态的图标，spinner-花朵状图标，circle-圆圈状，semicircle-半圆
    loadingIcon: {
      type: String,
      default: uni.$u.props.loadmore.loadingIcon },

    // 加载前的提示语
    loadmoreText: {
      type: String,
      default: uni.$u.props.loadmore.loadmoreText },

    // 加载中提示语
    loadingText: {
      type: String,
      default: uni.$u.props.loadmore.loadingText },

    // 没有更多的提示语
    nomoreText: {
      type: String,
      default: uni.$u.props.loadmore.nomoreText },

    // 在“没有更多”状态下，是否显示粗点
    isDot: {
      type: Boolean,
      default: uni.$u.props.loadmore.isDot },

    // 加载中图标的颜色
    iconColor: {
      type: String,
      default: uni.$u.props.loadmore.iconColor },

    // 上边距
    marginTop: {
      type: [String, Number],
      default: uni.$u.props.loadmore.marginTop },

    // 下边距
    marginBottom: {
      type: [String, Number],
      default: uni.$u.props.loadmore.marginBottom },

    // 高度，单位px
    height: {
      type: [String, Number],
      default: uni.$u.props.loadmore.height },

    // 是否显示左边分割线
    line: {
      type: Boolean,
      default: uni.$u.props.loadmore.line },

    // 线条颜色
    lineColor: {
      type: String,
      default: uni.$u.props.loadmore.lineColor },

    // 是否虚线，true-虚线，false-实线
    dashed: {
      type: Boolean,
      default: uni.$u.props.loadmore.dashed } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 353 */,
/* 354 */,
/* 355 */,
/* 356 */,
/* 357 */,
/* 358 */,
/* 359 */,
/* 360 */,
/* 361 */,
/* 362 */,
/* 363 */,
/* 364 */,
/* 365 */,
/* 366 */,
/* 367 */
/*!*******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-loading-icon/props.js ***!
  \*******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 是否显示组件
    show: {
      type: Boolean,
      default: uni.$u.props.loadingIcon.show },

    // 颜色
    color: {
      type: String,
      default: uni.$u.props.loadingIcon.color },

    // 提示文字颜色
    textColor: {
      type: String,
      default: uni.$u.props.loadingIcon.textColor },

    // 文字和图标是否垂直排列
    vertical: {
      type: Boolean,
      default: uni.$u.props.loadingIcon.vertical },

    // 模式选择，circle-圆形，spinner-花朵形，semicircle-半圆形
    mode: {
      type: String,
      default: uni.$u.props.loadingIcon.mode },

    // 图标大小，单位默认px
    size: {
      type: [String, Number],
      default: uni.$u.props.loadingIcon.size },

    // 文字大小
    textSize: {
      type: [String, Number],
      default: uni.$u.props.loadingIcon.textSize },

    // 文字内容
    text: {
      type: [String, Number],
      default: uni.$u.props.loadingIcon.text },

    // 动画模式
    timingFunction: {
      type: String,
      default: uni.$u.props.loadingIcon.timingFunction },

    // 动画执行周期时间
    duration: {
      type: [String, Number],
      default: uni.$u.props.loadingIcon.duration },

    // mode=circle时的暗边颜色
    inactiveColor: {
      type: String,
      default: uni.$u.props.loadingIcon.inactiveColor } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 368 */,
/* 369 */,
/* 370 */,
/* 371 */,
/* 372 */,
/* 373 */,
/* 374 */,
/* 375 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-line/props.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    color: {
      type: String,
      default: uni.$u.props.line.color },

    // 长度，竖向时表现为高度，横向时表现为长度，可以为百分比，带px单位的值等
    length: {
      type: [String, Number],
      default: uni.$u.props.line.length },

    // 线条方向，col-竖向，row-横向
    direction: {
      type: String,
      default: uni.$u.props.line.direction },

    // 是否显示细边框
    hairline: {
      type: Boolean,
      default: uni.$u.props.line.hairline },

    // 线条与上下左右元素的间距，字符串形式，如"30px"、"20px 30px"
    margin: {
      type: [String, Number],
      default: uni.$u.props.line.margin },

    // 是否虚线，true-虚线，false-实线
    dashed: {
      type: Boolean,
      default: uni.$u.props.line.dashed } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 376 */,
/* 377 */,
/* 378 */,
/* 379 */,
/* 380 */,
/* 381 */,
/* 382 */,
/* 383 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-text/props.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 主题颜色
    type: {
      type: String,
      default: uni.$u.props.text.type },

    // 是否显示
    show: {
      type: Boolean,
      default: uni.$u.props.text.show },

    // 显示的值
    text: {
      type: [String, Number],
      default: uni.$u.props.text.text },

    // 前置图标
    prefixIcon: {
      type: String,
      default: uni.$u.props.text.prefixIcon },

    // 后置图标
    suffixIcon: {
      type: String,
      default: uni.$u.props.text.suffixIcon },

    // 文本处理的匹配模式
    // text-普通文本，price-价格，phone-手机号，name-姓名，date-日期，link-超链接
    mode: {
      type: String,
      default: uni.$u.props.text.mode },

    // mode=link下，配置的链接
    href: {
      type: String,
      default: uni.$u.props.text.href },

    // 格式化规则
    format: {
      type: [String, Function],
      default: uni.$u.props.text.format },

    // mode=phone时，点击文本是否拨打电话
    call: {
      type: Boolean,
      default: uni.$u.props.text.call },

    // 小程序的打开方式
    openType: {
      type: String,
      default: uni.$u.props.text.openType },

    // 是否粗体，默认normal
    bold: {
      type: Boolean,
      default: uni.$u.props.text.bold },

    // 是否块状
    block: {
      type: Boolean,
      default: uni.$u.props.text.block },

    // 文本显示的行数，如果设置，超出此行数，将会显示省略号
    lines: {
      type: [String, Number],
      default: uni.$u.props.text.lines },

    // 文本颜色
    color: {
      type: String,
      default: uni.$u.props.text.color },

    // 字体大小
    size: {
      type: [String, Number],
      default: uni.$u.props.text.size },

    // 图标的样式
    iconStyle: {
      type: [Object, String],
      default: uni.$u.props.text.iconStyle },

    // 文字装饰，下划线，中划线等，可选值 none|underline|line-through
    decoration: {
      tepe: String,
      default: uni.$u.props.text.decoration },

    // 外边距，对象、字符串，数值形式均可
    margin: {
      type: [Object, String, Number],
      default: uni.$u.props.text.margin },

    // 文本行高
    lineHeight: {
      type: [String, Number],
      default: uni.$u.props.text.lineHeight },

    // 文本对齐方式，可选值left|center|right
    align: {
      type: String,
      default: uni.$u.props.text.align },

    // 文字换行，可选值break-word|normal|anywhere
    wordWrap: {
      type: String,
      default: uni.$u.props.text.wordWrap } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 384 */,
/* 385 */,
/* 386 */,
/* 387 */,
/* 388 */,
/* 389 */
/*!*************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/libs/util/async-validator.js ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/* eslint no-console:0 */
var formatRegExp = /%[sdj%]/g;
var warning = function warning() {}; // don't print warning message when in production env or node runtime

if (typeof process !== 'undefined' && Object({"VUE_APP_NAME":"ruishi-video-user","VUE_APP_PLATFORM":"mp-weixin","NODE_ENV":"development","BASE_URL":"/"}) && "development" !== 'production' && typeof window !==
'undefined' && typeof document !== 'undefined') {
  warning = function warning(type, errors) {
    if (typeof console !== 'undefined' && console.warn) {
      if (errors.every(function (e) {return typeof e === 'string';})) {
        console.warn(type, errors);
      }
    }
  };
}

function convertFieldsError(errors) {
  if (!errors || !errors.length) return null;
  var fields = {};
  errors.forEach(function (error) {var
    field = error.field;
    fields[field] = fields[field] || [];
    fields[field].push(error);
  });
  return fields;
}

function format() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var i = 1;
  var f = args[0];
  var len = args.length;

  if (typeof f === 'function') {
    return f.apply(null, args.slice(1));
  }

  if (typeof f === 'string') {
    var str = String(f).replace(formatRegExp, function (x) {
      if (x === '%%') {
        return '%';
      }

      if (i >= len) {
        return x;
      }

      switch (x) {
        case '%s':
          return String(args[i++]);

        case '%d':
          return Number(args[i++]);

        case '%j':
          try {
            return JSON.stringify(args[i++]);
          } catch (_) {
            return '[Circular]';
          }

          break;

        default:
          return x;}

    });

    for (var arg = args[i]; i < len; arg = args[++i]) {
      str += " ".concat(arg);
    }

    return str;
  }

  return f;
}

function isNativeStringType(type) {
  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern';
}

function isEmptyValue(value, type) {
  if (value === undefined || value === null) {
    return true;
  }

  if (type === 'array' && Array.isArray(value) && !value.length) {
    return true;
  }

  if (isNativeStringType(type) && typeof value === 'string' && !value) {
    return true;
  }

  return false;
}

function asyncParallelArray(arr, func, callback) {
  var results = [];
  var total = 0;
  var arrLength = arr.length;

  function count(errors) {
    results.push.apply(results, errors);
    total++;

    if (total === arrLength) {
      callback(results);
    }
  }

  arr.forEach(function (a) {
    func(a, count);
  });
}

function asyncSerialArray(arr, func, callback) {
  var index = 0;
  var arrLength = arr.length;

  function next(errors) {
    if (errors && errors.length) {
      callback(errors);
      return;
    }

    var original = index;
    index += 1;

    if (original < arrLength) {
      func(arr[original], next);
    } else {
      callback([]);
    }
  }

  next([]);
}

function flattenObjArr(objArr) {
  var ret = [];
  Object.keys(objArr).forEach(function (k) {
    ret.push.apply(ret, objArr[k]);
  });
  return ret;
}

function asyncMap(objArr, option, func, callback) {
  if (option.first) {
    var _pending = new Promise(function (resolve, reject) {
      var next = function next(errors) {
        callback(errors);
        return errors.length ? reject({
          errors: errors,
          fields: convertFieldsError(errors) }) :
        resolve();
      };

      var flattenArr = flattenObjArr(objArr);
      asyncSerialArray(flattenArr, func, next);
    });

    _pending.catch(function (e) {return e;});

    return _pending;
  }

  var firstFields = option.firstFields || [];

  if (firstFields === true) {
    firstFields = Object.keys(objArr);
  }

  var objArrKeys = Object.keys(objArr);
  var objArrLength = objArrKeys.length;
  var total = 0;
  var results = [];
  var pending = new Promise(function (resolve, reject) {
    var next = function next(errors) {
      results.push.apply(results, errors);
      total++;

      if (total === objArrLength) {
        callback(results);
        return results.length ? reject({
          errors: results,
          fields: convertFieldsError(results) }) :
        resolve();
      }
    };

    if (!objArrKeys.length) {
      callback(results);
      resolve();
    }

    objArrKeys.forEach(function (key) {
      var arr = objArr[key];

      if (firstFields.indexOf(key) !== -1) {
        asyncSerialArray(arr, func, next);
      } else {
        asyncParallelArray(arr, func, next);
      }
    });
  });
  pending.catch(function (e) {return e;});
  return pending;
}

function complementError(rule) {
  return function (oe) {
    if (oe && oe.message) {
      oe.field = oe.field || rule.fullField;
      return oe;
    }

    return {
      message: typeof oe === 'function' ? oe() : oe,
      field: oe.field || rule.fullField };

  };
}

function deepMerge(target, source) {
  if (source) {
    for (var s in source) {
      if (source.hasOwnProperty(s)) {
        var value = source[s];

        if (typeof value === 'object' && typeof target[s] === 'object') {
          target[s] = _objectSpread(_objectSpread({}, target[s]), value);
        } else {
          target[s] = value;
        }
      }
    }
  }

  return target;
}

/**
   *  Rule for validating required fields.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param source The source object being validated.
   *  @param errors An array of errors that this rule may add
   *  validation errors to.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function required(rule, value, source, errors, options, type) {
  if (rule.required && (!source.hasOwnProperty(rule.field) || isEmptyValue(value, type || rule.type))) {
    errors.push(format(options.messages.required, rule.fullField));
  }
}

/**
   *  Rule for validating whitespace.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param source The source object being validated.
   *  @param errors An array of errors that this rule may add
   *  validation errors to.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function whitespace(rule, value, source, errors, options) {
  if (/^\s+$/.test(value) || value === '') {
    errors.push(format(options.messages.whitespace, rule.fullField));
  }
}

/* eslint max-len:0 */

var pattern = {
  // http://emailregex.com/
  email: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
  url: new RegExp(
  "^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$",
  'i'),

  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i };

var types = {
  integer: function integer(value) {
    return /^(-)?\d+$/.test(value);
  },
  float: function float(value) {
    return /^(-)?\d+(\.\d+)?$/.test(value);
  },
  array: function array(value) {
    return Array.isArray(value);
  },
  regexp: function regexp(value) {
    if (value instanceof RegExp) {
      return true;
    }

    try {
      return !!new RegExp(value);
    } catch (e) {
      return false;
    }
  },
  date: function date(value) {
    return typeof value.getTime === 'function' && typeof value.getMonth === 'function' && typeof value.getYear ===
    'function';
  },
  number: function number(value) {
    if (isNaN(value)) {
      return false;
    }

    // 修改源码，将字符串数值先转为数值
    return typeof +value === 'number';
  },
  object: function object(value) {
    return typeof value === 'object' && !types.array(value);
  },
  method: function method(value) {
    return typeof value === 'function';
  },
  email: function email(value) {
    return typeof value === 'string' && !!value.match(pattern.email) && value.length < 255;
  },
  url: function url(value) {
    return typeof value === 'string' && !!value.match(pattern.url);
  },
  hex: function hex(value) {
    return typeof value === 'string' && !!value.match(pattern.hex);
  } };

/**
        *  Rule for validating the type of a value.
        *
        *  @param rule The validation rule.
        *  @param value The value of the field on the source object.
        *  @param source The source object being validated.
        *  @param errors An array of errors that this rule may add
        *  validation errors to.
        *  @param options The validation options.
        *  @param options.messages The validation messages.
        */

function type(rule, value, source, errors, options) {
  if (rule.required && value === undefined) {
    required(rule, value, source, errors, options);
    return;
  }

  var custom = ['integer', 'float', 'array', 'regexp', 'object', 'method', 'email', 'number', 'date', 'url', 'hex'];
  var ruleType = rule.type;

  if (custom.indexOf(ruleType) > -1) {
    if (!types[ruleType](value)) {
      errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type));
    } // straight typeof check
  } else if (ruleType && typeof value !== rule.type) {
    errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type));
  }
}

/**
   *  Rule for validating minimum and maximum allowed values.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param source The source object being validated.
   *  @param errors An array of errors that this rule may add
   *  validation errors to.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function range(rule, value, source, errors, options) {
  var len = typeof rule.len === 'number';
  var min = typeof rule.min === 'number';
  var max = typeof rule.max === 'number'; // 正则匹配码点范围从U+010000一直到U+10FFFF的文字（补充平面Supplementary Plane）

  var spRegexp = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
  var val = value;
  var key = null;
  var num = typeof value === 'number';
  var str = typeof value === 'string';
  var arr = Array.isArray(value);

  if (num) {
    key = 'number';
  } else if (str) {
    key = 'string';
  } else if (arr) {
    key = 'array';
  } // if the value is not of a supported type for range validation
  // the validation rule rule should use the
  // type property to also test for a particular type

  if (!key) {
    return false;
  }

  if (arr) {
    val = value.length;
  }

  if (str) {
    // 处理码点大于U+010000的文字length属性不准确的bug，如"𠮷𠮷𠮷".lenght !== 3
    val = value.replace(spRegexp, '_').length;
  }

  if (len) {
    if (val !== rule.len) {
      errors.push(format(options.messages[key].len, rule.fullField, rule.len));
    }
  } else if (min && !max && val < rule.min) {
    errors.push(format(options.messages[key].min, rule.fullField, rule.min));
  } else if (max && !min && val > rule.max) {
    errors.push(format(options.messages[key].max, rule.fullField, rule.max));
  } else if (min && max && (val < rule.min || val > rule.max)) {
    errors.push(format(options.messages[key].range, rule.fullField, rule.min, rule.max));
  }
}

var ENUM = 'enum';
/**
                    *  Rule for validating a value exists in an enumerable list.
                    *
                    *  @param rule The validation rule.
                    *  @param value The value of the field on the source object.
                    *  @param source The source object being validated.
                    *  @param errors An array of errors that this rule may add
                    *  validation errors to.
                    *  @param options The validation options.
                    *  @param options.messages The validation messages.
                    */

function enumerable(rule, value, source, errors, options) {
  rule[ENUM] = Array.isArray(rule[ENUM]) ? rule[ENUM] : [];

  if (rule[ENUM].indexOf(value) === -1) {
    errors.push(format(options.messages[ENUM], rule.fullField, rule[ENUM].join(', ')));
  }
}

/**
   *  Rule for validating a regular expression pattern.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param source The source object being validated.
   *  @param errors An array of errors that this rule may add
   *  validation errors to.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function pattern$1(rule, value, source, errors, options) {
  if (rule.pattern) {
    if (rule.pattern instanceof RegExp) {
      // if a RegExp instance is passed, reset `lastIndex` in case its `global`
      // flag is accidentally set to `true`, which in a validation scenario
      // is not necessary and the result might be misleading
      rule.pattern.lastIndex = 0;

      if (!rule.pattern.test(value)) {
        errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));
      }
    } else if (typeof rule.pattern === 'string') {
      var _pattern = new RegExp(rule.pattern);

      if (!_pattern.test(value)) {
        errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));
      }
    }
  }
}

var rules = {
  required: required,
  whitespace: whitespace,
  type: type,
  range: range,
  enum: enumerable,
  pattern: pattern$1 };


/**
                         *  Performs validation for string types.
                         *
                         *  @param rule The validation rule.
                         *  @param value The value of the field on the source object.
                         *  @param callback The callback function.
                         *  @param source The source object being validated.
                         *  @param options The validation options.
                         *  @param options.messages The validation messages.
                         */

function string(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value, 'string') && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options, 'string');

    if (!isEmptyValue(value, 'string')) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
      rules.pattern(rule, value, source, errors, options);

      if (rule.whitespace === true) {
        rules.whitespace(rule, value, source, errors, options);
      }
    }
  }

  callback(errors);
}

/**
   *  Validates a function.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function method(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates a number.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function number(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (value === '') {
      value = undefined;
    }

    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates a boolean.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function _boolean(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates the regular expression type.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function regexp(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (!isEmptyValue(value)) {
      rules.type(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates a number is an integer.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function integer(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates a number is a floating point number.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function floatFn(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates an array.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function array(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value, 'array') && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options, 'array');

    if (!isEmptyValue(value, 'array')) {
      rules.type(rule, value, source, errors, options);
      rules.range(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates an object.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function object(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (value !== undefined) {
      rules.type(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

var ENUM$1 = 'enum';
/**
                      *  Validates an enumerable list.
                      *
                      *  @param rule The validation rule.
                      *  @param value The value of the field on the source object.
                      *  @param callback The callback function.
                      *  @param source The source object being validated.
                      *  @param options The validation options.
                      *  @param options.messages The validation messages.
                      */

function enumerable$1(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (value !== undefined) {
      rules[ENUM$1](rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Validates a regular expression pattern.
   *
   *  Performs validation when a rule only contains
   *  a pattern property but is not declared as a string type.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function pattern$2(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value, 'string') && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (!isEmptyValue(value, 'string')) {
      rules.pattern(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

function date(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);

    if (!isEmptyValue(value)) {
      var dateObject;

      if (typeof value === 'number') {
        dateObject = new Date(value);
      } else {
        dateObject = value;
      }

      rules.type(rule, dateObject, source, errors, options);

      if (dateObject) {
        rules.range(rule, dateObject.getTime(), source, errors, options);
      }
    }
  }

  callback(errors);
}

function required$1(rule, value, callback, source, options) {
  var errors = [];
  var type = Array.isArray(value) ? 'array' : typeof value;
  rules.required(rule, value, source, errors, options, type);
  callback(errors);
}

function type$1(rule, value, callback, source, options) {
  var ruleType = rule.type;
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value, ruleType) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options, ruleType);

    if (!isEmptyValue(value, ruleType)) {
      rules.type(rule, value, source, errors, options);
    }
  }

  callback(errors);
}

/**
   *  Performs validation for any type.
   *
   *  @param rule The validation rule.
   *  @param value The value of the field on the source object.
   *  @param callback The callback function.
   *  @param source The source object being validated.
   *  @param options The validation options.
   *  @param options.messages The validation messages.
   */

function any(rule, value, callback, source, options) {
  var errors = [];
  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);

  if (validate) {
    if (isEmptyValue(value) && !rule.required) {
      return callback();
    }

    rules.required(rule, value, source, errors, options);
  }

  callback(errors);
}

var validators = {
  string: string,
  method: method,
  number: number,
  boolean: _boolean,
  regexp: regexp,
  integer: integer,
  float: floatFn,
  array: array,
  object: object,
  enum: enumerable$1,
  pattern: pattern$2,
  date: date,
  url: type$1,
  hex: type$1,
  email: type$1,
  required: required$1,
  any: any };


function newMessages() {
  return {
    default: 'Validation error on field %s',
    required: '%s is required',
    enum: '%s must be one of %s',
    whitespace: '%s cannot be empty',
    date: {
      format: '%s date %s is invalid for format %s',
      parse: '%s date could not be parsed, %s is invalid ',
      invalid: '%s date %s is invalid' },

    types: {
      string: '%s is not a %s',
      method: '%s is not a %s (function)',
      array: '%s is not an %s',
      object: '%s is not an %s',
      number: '%s is not a %s',
      date: '%s is not a %s',
      boolean: '%s is not a %s',
      integer: '%s is not an %s',
      float: '%s is not a %s',
      regexp: '%s is not a valid %s',
      email: '%s is not a valid %s',
      url: '%s is not a valid %s',
      hex: '%s is not a valid %s' },

    string: {
      len: '%s must be exactly %s characters',
      min: '%s must be at least %s characters',
      max: '%s cannot be longer than %s characters',
      range: '%s must be between %s and %s characters' },

    number: {
      len: '%s must equal %s',
      min: '%s cannot be less than %s',
      max: '%s cannot be greater than %s',
      range: '%s must be between %s and %s' },

    array: {
      len: '%s must be exactly %s in length',
      min: '%s cannot be less than %s in length',
      max: '%s cannot be greater than %s in length',
      range: '%s must be between %s and %s in length' },

    pattern: {
      mismatch: '%s value %s does not match pattern %s' },

    clone: function clone() {
      var cloned = JSON.parse(JSON.stringify(this));
      cloned.clone = this.clone;
      return cloned;
    } };

}
var messages = newMessages();

/**
                               *  Encapsulates a validation schema.
                               *
                               *  @param descriptor An object declaring validation rules
                               *  for this schema.
                               */

function Schema(descriptor) {
  this.rules = null;
  this._messages = messages;
  this.define(descriptor);
}

Schema.prototype = {
  messages: function messages(_messages) {
    if (_messages) {
      this._messages = deepMerge(newMessages(), _messages);
    }

    return this._messages;
  },
  define: function define(rules) {
    if (!rules) {
      throw new Error('Cannot configure a schema with no rules');
    }

    if (typeof rules !== 'object' || Array.isArray(rules)) {
      throw new Error('Rules must be an object');
    }

    this.rules = {};
    var z;
    var item;

    for (z in rules) {
      if (rules.hasOwnProperty(z)) {
        item = rules[z];
        this.rules[z] = Array.isArray(item) ? item : [item];
      }
    }
  },
  validate: function validate(source_, o, oc) {
    var _this = this;

    if (o === void 0) {
      o = {};
    }

    if (oc === void 0) {
      oc = function oc() {};
    }

    var source = source_;
    var options = o;
    var callback = oc;

    if (typeof options === 'function') {
      callback = options;
      options = {};
    }

    if (!this.rules || Object.keys(this.rules).length === 0) {
      if (callback) {
        callback();
      }

      return Promise.resolve();
    }

    function complete(results) {
      var i;
      var errors = [];
      var fields = {};

      function add(e) {
        if (Array.isArray(e)) {
          var _errors;

          errors = (_errors = errors).concat.apply(_errors, e);
        } else {
          errors.push(e);
        }
      }

      for (i = 0; i < results.length; i++) {
        add(results[i]);
      }

      if (!errors.length) {
        errors = null;
        fields = null;
      } else {
        fields = convertFieldsError(errors);
      }

      callback(errors, fields);
    }

    if (options.messages) {
      var messages$1 = this.messages();

      if (messages$1 === messages) {
        messages$1 = newMessages();
      }

      deepMerge(messages$1, options.messages);
      options.messages = messages$1;
    } else {
      options.messages = this.messages();
    }

    var arr;
    var value;
    var series = {};
    var keys = options.keys || Object.keys(this.rules);
    keys.forEach(function (z) {
      arr = _this.rules[z];
      value = source[z];
      arr.forEach(function (r) {
        var rule = r;

        if (typeof rule.transform === 'function') {
          if (source === source_) {
            source = _objectSpread({}, source);
          }

          value = source[z] = rule.transform(value);
        }

        if (typeof rule === 'function') {
          rule = {
            validator: rule };

        } else {
          rule = _objectSpread({}, rule);
        }

        rule.validator = _this.getValidationMethod(rule);
        rule.field = z;
        rule.fullField = rule.fullField || z;
        rule.type = _this.getType(rule);

        if (!rule.validator) {
          return;
        }

        series[z] = series[z] || [];
        series[z].push({
          rule: rule,
          value: value,
          source: source,
          field: z });

      });
    });
    var errorFields = {};
    return asyncMap(series, options, function (data, doIt) {var
      rule = data.rule;
      var deep = (rule.type === 'object' || rule.type === 'array') && (typeof rule.fields === 'object' || typeof rule.defaultField ===
      'object');
      deep = deep && (rule.required || !rule.required && data.value);
      rule.field = data.field;

      function addFullfield(key, schema) {
        return _objectSpread(_objectSpread({}, schema), {}, { fullField: "".concat(rule.fullField, ".").concat(key) });
      }

      function cb(e) {
        if (e === void 0) {
          e = [];
        }

        var errors = e;

        if (!Array.isArray(errors)) {
          errors = [errors];
        }

        if (!options.suppressWarning && errors.length) {
          Schema.warning('async-validator:', errors);
        }

        if (errors.length && rule.message) {
          errors = [].concat(rule.message);
        }

        errors = errors.map(complementError(rule));

        if (options.first && errors.length) {
          errorFields[rule.field] = 1;
          return doIt(errors);
        }

        if (!deep) {
          doIt(errors);
        } else {
          // if rule is required but the target object
          // does not exist fail at the rule level and don't
          // go deeper
          if (rule.required && !data.value) {
            if (rule.message) {
              errors = [].concat(rule.message).map(complementError(rule));
            } else if (options.error) {
              errors = [options.error(rule, format(options.messages.required, rule.field))];
            } else {
              errors = [];
            }

            return doIt(errors);
          }

          var fieldsSchema = {};

          if (rule.defaultField) {
            for (var k in data.value) {
              if (data.value.hasOwnProperty(k)) {
                fieldsSchema[k] = rule.defaultField;
              }
            }
          }

          fieldsSchema = _objectSpread(_objectSpread({}, fieldsSchema), data.rule.fields);

          for (var f in fieldsSchema) {
            if (fieldsSchema.hasOwnProperty(f)) {
              var fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]];
              fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f));
            }
          }

          var schema = new Schema(fieldsSchema);
          schema.messages(options.messages);

          if (data.rule.options) {
            data.rule.options.messages = options.messages;
            data.rule.options.error = options.error;
          }

          schema.validate(data.value, data.rule.options || options, function (errs) {
            var finalErrors = [];

            if (errors && errors.length) {
              finalErrors.push.apply(finalErrors, errors);
            }

            if (errs && errs.length) {
              finalErrors.push.apply(finalErrors, errs);
            }

            doIt(finalErrors.length ? finalErrors : null);
          });
        }
      }

      var res;

      if (rule.asyncValidator) {
        res = rule.asyncValidator(rule, data.value, cb, data.source, options);
      } else if (rule.validator) {
        res = rule.validator(rule, data.value, cb, data.source, options);

        if (res === true) {
          cb();
        } else if (res === false) {
          cb(rule.message || "".concat(rule.field, " fails"));
        } else if (res instanceof Array) {
          cb(res);
        } else if (res instanceof Error) {
          cb(res.message);
        }
      }

      if (res && res.then) {
        res.then(function () {return cb();}, function (e) {return cb(e);});
      }
    }, function (results) {
      complete(results);
    });
  },
  getType: function getType(rule) {
    if (rule.type === undefined && rule.pattern instanceof RegExp) {
      rule.type = 'pattern';
    }

    if (typeof rule.validator !== 'function' && rule.type && !validators.hasOwnProperty(rule.type)) {
      throw new Error(format('Unknown rule type %s', rule.type));
    }

    return rule.type || 'string';
  },
  getValidationMethod: function getValidationMethod(rule) {
    if (typeof rule.validator === 'function') {
      return rule.validator;
    }

    var keys = Object.keys(rule);
    var messageIndex = keys.indexOf('message');

    if (messageIndex !== -1) {
      keys.splice(messageIndex, 1);
    }

    if (keys.length === 1 && keys[0] === 'required') {
      return validators.required;
    }

    return validators[this.getType(rule)] || false;
  } };


Schema.register = function register(type, validator) {
  if (typeof validator !== 'function') {
    throw new Error('Cannot register a validator by type, validator is not a function');
  }

  validators[type] = validator;
};

Schema.warning = warning;
Schema.messages = messages;var _default =

Schema;
// # sourceMappingURL=index.js.map
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/node-libs-browser/mock/process.js */ 390)))

/***/ }),
/* 390 */
/*!********************************************************!*\
  !*** ./node_modules/node-libs-browser/mock/process.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports.nextTick = function nextTick(fn) {
    var args = Array.prototype.slice.call(arguments);
    args.shift();
    setTimeout(function () {
        fn.apply(null, args);
    }, 0);
};

exports.platform = exports.arch = 
exports.execPath = exports.title = 'browser';
exports.pid = 1;
exports.browser = true;
exports.env = {};
exports.argv = [];

exports.binding = function (name) {
	throw new Error('No such module. (Possibly not yet loaded)')
};

(function () {
    var cwd = '/';
    var path;
    exports.cwd = function () { return cwd };
    exports.chdir = function (dir) {
        if (!path) path = __webpack_require__(/*! path */ 391);
        cwd = path.resolve(dir, cwd);
    };
})();

exports.exit = exports.kill = 
exports.umask = exports.dlopen = 
exports.uptime = exports.memoryUsage = 
exports.uvCounters = function() {};
exports.features = {};


/***/ }),
/* 391 */
/*!***********************************************!*\
  !*** ./node_modules/path-browserify/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,
// backported and transplited with Babel, with backwards-compat fixes

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function (path) {
  if (typeof path !== 'string') path = path + '';
  if (path.length === 0) return '.';
  var code = path.charCodeAt(0);
  var hasRoot = code === 47 /*/*/;
  var end = -1;
  var matchedSlash = true;
  for (var i = path.length - 1; i >= 1; --i) {
    code = path.charCodeAt(i);
    if (code === 47 /*/*/) {
        if (!matchedSlash) {
          end = i;
          break;
        }
      } else {
      // We saw the first non-path separator
      matchedSlash = false;
    }
  }

  if (end === -1) return hasRoot ? '/' : '.';
  if (hasRoot && end === 1) {
    // return '//';
    // Backwards-compat fix:
    return '/';
  }
  return path.slice(0, end);
};

function basename(path) {
  if (typeof path !== 'string') path = path + '';

  var start = 0;
  var end = -1;
  var matchedSlash = true;
  var i;

  for (i = path.length - 1; i >= 0; --i) {
    if (path.charCodeAt(i) === 47 /*/*/) {
        // If we reached a path separator that was not part of a set of path
        // separators at the end of the string, stop now
        if (!matchedSlash) {
          start = i + 1;
          break;
        }
      } else if (end === -1) {
      // We saw the first non-path separator, mark this as the end of our
      // path component
      matchedSlash = false;
      end = i + 1;
    }
  }

  if (end === -1) return '';
  return path.slice(start, end);
}

// Uses a mixed approach for backwards-compatibility, as ext behavior changed
// in new Node.js versions, so only basename() above is backported here
exports.basename = function (path, ext) {
  var f = basename(path);
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};

exports.extname = function (path) {
  if (typeof path !== 'string') path = path + '';
  var startDot = -1;
  var startPart = 0;
  var end = -1;
  var matchedSlash = true;
  // Track the state of characters (if any) we see before our first dot and
  // after any path separator we find
  var preDotState = 0;
  for (var i = path.length - 1; i >= 0; --i) {
    var code = path.charCodeAt(i);
    if (code === 47 /*/*/) {
        // If we reached a path separator that was not part of a set of path
        // separators at the end of the string, stop now
        if (!matchedSlash) {
          startPart = i + 1;
          break;
        }
        continue;
      }
    if (end === -1) {
      // We saw the first non-path separator, mark this as the end of our
      // extension
      matchedSlash = false;
      end = i + 1;
    }
    if (code === 46 /*.*/) {
        // If this is our first dot, mark it as the start of our extension
        if (startDot === -1)
          startDot = i;
        else if (preDotState !== 1)
          preDotState = 1;
    } else if (startDot !== -1) {
      // We saw a non-dot and non-path separator before our dot, so we should
      // have a good chance at having a non-empty extension
      preDotState = -1;
    }
  }

  if (startDot === -1 || end === -1 ||
      // We saw a non-dot character immediately before the dot
      preDotState === 0 ||
      // The (right-most) trimmed path component is exactly '..'
      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
    return '';
  }
  return path.slice(startDot, end);
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node-libs-browser/mock/process.js */ 390)))

/***/ }),
/* 392 */,
/* 393 */,
/* 394 */,
/* 395 */,
/* 396 */,
/* 397 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-status-bar/props.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    bgColor: {
      type: String,
      default: uni.$u.props.statusBar.bgColor } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 398 */,
/* 399 */,
/* 400 */,
/* 401 */,
/* 402 */,
/* 403 */,
/* 404 */,
/* 405 */
/*!*****************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-transition/props.js ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 是否展示组件
    show: {
      type: Boolean,
      default: uni.$u.props.transition.show },

    // 使用的动画模式
    mode: {
      type: String,
      default: uni.$u.props.transition.mode },

    // 动画的执行时间，单位ms
    duration: {
      type: [String, Number],
      default: uni.$u.props.transition.duration },

    // 使用的动画过渡函数
    timingFunction: {
      type: String,
      default: uni.$u.props.transition.timingFunction } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 406 */
/*!**********************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-transition/transition.js ***!
  \**********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 40));


var _nvueAniMap = _interopRequireDefault(__webpack_require__(/*! ./nvue.ani-map.js */ 407));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};} // 定义一个一定时间后自动成功的promise，让调用nextTick方法处，进入下一个then方法
var nextTick = function nextTick() {return new Promise(function (resolve) {return setTimeout(resolve, 1000 / 50);});}; // nvue动画模块实现细节抽离在外部文件

// 定义类名，通过给元素动态切换类名，赋予元素一定的css动画样式
var getClassNames = function getClassNames(name) {return {
    enter: "u-".concat(name, "-enter u-").concat(name, "-enter-active"),
    'enter-to': "u-".concat(name, "-enter-to u-").concat(name, "-enter-active"),
    leave: "u-".concat(name, "-leave u-").concat(name, "-leave-active"),
    'leave-to': "u-".concat(name, "-leave-to u-").concat(name, "-leave-active") };};var _default =










{
  methods: {
    // 组件被点击发出事件
    clickHandler: function clickHandler() {
      this.$emit('click');
    },

    // vue版本的组件进场处理
    vueEnter: function vueEnter() {var _this = this;
      // 动画进入时的类名
      var classNames = getClassNames(this.mode);
      // 定义状态和发出动画进入前事件
      this.status = 'enter';
      this.$emit('beforeEnter');
      this.inited = true;
      this.display = true;
      this.classes = classNames.enter;
      this.$nextTick( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee() {return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:



                // 标识动画尚未结束
                _this.$emit('enter');
                _this.transitionEnded = false;
                // 组件动画进入后触发的事件
                _this.$emit('afterEnter');
                // 赋予组件enter-to类名
                _this.classes = classNames['enter-to'];case 4:case "end":return _context.stop();}}}, _callee);})));

    },
    // 动画离场处理
    vueLeave: function vueLeave() {var _this2 = this;
      // 如果不是展示状态，无需执行逻辑
      if (!this.display) return;
      var classNames = getClassNames(this.mode);
      // 标记离开状态和发出事件
      this.status = 'leave';
      this.$emit('beforeLeave');
      // 获得类名
      this.classes = classNames.leave;

      this.$nextTick(function () {
        // 动画正在离场的状态
        _this2.transitionEnded = false;
        _this2.$emit('leave');
        // 组件执行动画，到了执行的执行时间后，执行一些额外处理
        setTimeout(_this2.onTransitionEnd, _this2.duration);
        _this2.classes = classNames['leave-to'];
      });
    },







































































    // 完成过渡后触发
    onTransitionEnd: function onTransitionEnd() {
      // 如果已经是结束的状态，无需再处理
      if (this.transitionEnded) return;
      this.transitionEnded = true;
      // 发出组件动画执行后的事件
      this.$emit(this.status === 'leave' ? 'afterLeave' : 'afterEnter');
      if (!this.show && this.display) {
        this.display = false;
        this.inited = false;
      }
    } } };exports.default = _default;

/***/ }),
/* 407 */
/*!************************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-transition/nvue.ani-map.js ***!
  \************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  fade: {
    enter: { opacity: 0 },
    'enter-to': { opacity: 1 },
    leave: { opacity: 1 },
    'leave-to': { opacity: 0 } },

  'fade-up': {
    enter: { opacity: 0, transform: 'translateY(100%)' },
    'enter-to': { opacity: 1, transform: 'translateY(0)' },
    leave: { opacity: 1, transform: 'translateY(0)' },
    'leave-to': { opacity: 0, transform: 'translateY(100%)' } },

  'fade-down': {
    enter: { opacity: 0, transform: 'translateY(-100%)' },
    'enter-to': { opacity: 1, transform: 'translateY(0)' },
    leave: { opacity: 1, transform: 'translateY(0)' },
    'leave-to': { opacity: 0, transform: 'translateY(-100%)' } },

  'fade-left': {
    enter: { opacity: 0, transform: 'translateX(-100%)' },
    'enter-to': { opacity: 1, transform: 'translateY(0)' },
    leave: { opacity: 1, transform: 'translateY(0)' },
    'leave-to': { opacity: 0, transform: 'translateX(-100%)' } },

  'fade-right': {
    enter: { opacity: 0, transform: 'translateX(100%)' },
    'enter-to': { opacity: 1, transform: 'translateY(0)' },
    leave: { opacity: 1, transform: 'translateY(0)' },
    'leave-to': { opacity: 0, transform: 'translateX(100%)' } },

  'slide-up': {
    enter: { transform: 'translateY(100%)' },
    'enter-to': { transform: 'translateY(0)' },
    leave: { transform: 'translateY(0)' },
    'leave-to': { transform: 'translateY(100%)' } },

  'slide-down': {
    enter: { transform: 'translateY(-100%)' },
    'enter-to': { transform: 'translateY(0)' },
    leave: { transform: 'translateY(0)' },
    'leave-to': { transform: 'translateY(-100%)' } },

  'slide-left': {
    enter: { transform: 'translateX(-100%)' },
    'enter-to': { transform: 'translateY(0)' },
    leave: { transform: 'translateY(0)' },
    'leave-to': { transform: 'translateX(-100%)' } },

  'slide-right': {
    enter: { transform: 'translateX(100%)' },
    'enter-to': { transform: 'translateY(0)' },
    leave: { transform: 'translateY(0)' },
    'leave-to': { transform: 'translateX(100%)' } },

  zoom: {
    enter: { transform: 'scale(0.95)' },
    'enter-to': { transform: 'scale(1)' },
    leave: { transform: 'scale(1)' },
    'leave-to': { transform: 'scale(0.95)' } },

  'fade-zoom': {
    enter: { opacity: 0, transform: 'scale(0.95)' },
    'enter-to': { opacity: 1, transform: 'scale(1)' },
    leave: { opacity: 1, transform: 'scale(1)' },
    'leave-to': { opacity: 0, transform: 'scale(0.95)' } } };exports.default = _default;

/***/ }),
/* 408 */,
/* 409 */,
/* 410 */,
/* 411 */,
/* 412 */,
/* 413 */,
/* 414 */,
/* 415 */
/*!**************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-overlay/props.js ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 是否显示遮罩
    show: {
      type: Boolean,
      default: uni.$u.props.overlay.show },

    // 层级z-index
    zIndex: {
      type: [String, Number],
      default: uni.$u.props.overlay.zIndex },

    // 遮罩的过渡时间，单位为ms
    duration: {
      type: [String, Number],
      default: uni.$u.props.overlay.duration },

    // 不透明度值，当做rgba的第四个参数
    opacity: {
      type: [String, Number],
      default: uni.$u.props.overlay.opacity } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 416 */,
/* 417 */,
/* 418 */,
/* 419 */,
/* 420 */,
/* 421 */,
/* 422 */,
/* 423 */
/*!******************************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-safe-bottom/props.js ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {} };exports.default = _default;

/***/ }),
/* 424 */,
/* 425 */,
/* 426 */,
/* 427 */,
/* 428 */,
/* 429 */,
/* 430 */,
/* 431 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-text/value.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  computed: {
    // 经处理后需要显示的值
    value: function value() {var

      text =



      this.text,mode = this.mode,format = this.format,href = this.href;
      // 价格类型
      if (mode === 'price') {
        // 如果text不为金额进行提示
        if (!/^\d+(\.\d+)?$/.test(text)) {
          uni.$u.error('金额模式下，text参数需要为金额格式');
        }
        // 进行格式化，判断用户传入的format参数为正则，或者函数，如果没有传入format，则使用默认的金额格式化处理
        if (uni.$u.test.func(format)) {
          // 如果用户传入的是函数，使用函数格式化
          return format(text);
        }
        // 如果format非正则，非函数，则使用默认的金额格式化方法进行操作
        return uni.$u.priceFormat(text, 2);
      }if (mode === 'date') {
        // 判断是否合法的日期或者时间戳
        !uni.$u.test.date(text) && uni.$u.error('日期模式下，text参数需要为日期或时间戳格式');
        // 进行格式化，判断用户传入的format参数为正则，或者函数，如果没有传入format，则使用默认的格式化处理
        if (uni.$u.test.func(format)) {
          // 如果用户传入的是函数，使用函数格式化
          return format(text);
        }if (format) {
          // 如果format非正则，非函数，则使用默认的时间格式化方法进行操作
          return uni.$u.timeFormat(text, format);
        }
        // 如果没有设置format，则设置为默认的时间格式化形式
        return uni.$u.timeFormat(text, 'yyyy-mm-dd');
      }if (mode === 'phone') {
        // 判断是否合法的手机号
        // !uni.$u.test.mobile(text) && uni.$u.error('手机号模式下，text参数需要为手机号码格式')
        if (uni.$u.test.func(format)) {
          // 如果用户传入的是函数，使用函数格式化
          return format(text);
        }if (format === 'encrypt') {
          // 如果format为encrypt，则将手机号进行星号加密处理
          return "".concat(text.substr(0, 3), "****").concat(text.substr(7));
        }
        return text;
      }if (mode === 'name') {
        // 判断是否合法的字符粗
        !(typeof text === 'string') && uni.$u.error('姓名模式下，text参数需要为字符串格式');
        if (uni.$u.test.func(format)) {
          // 如果用户传入的是函数，使用函数格式化
          return format(text);
        }if (format === 'encrypt') {
          // 如果format为encrypt，则将姓名进行星号加密处理
          return this.formatName(text);
        }
        return text;
      }if (mode === 'link') {
        // 判断是否合法的字符粗
        !uni.$u.test.url(href) && uni.$u.error('超链接模式下，href参数需要为URL格式');
        return text;
      }
      return text;
    } },

  methods: {
    // 默认的姓名脱敏规则
    formatName: function formatName(name) {
      var value = '';
      if (name.length === 2) {
        value = name.substr(0, 1) + '*';
      } else if (name.length > 2) {
        var char = '';
        for (var i = 0, len = name.length - 2; i < len; i++) {
          char += '*';
        }
        value = name.substr(0, 1) + char + name.substr(-1, 1);
      } else {
        value = name;
      }
      return value;
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 432 */,
/* 433 */,
/* 434 */,
/* 435 */,
/* 436 */,
/* 437 */,
/* 438 */,
/* 439 */
/*!***********************************************************************************************************************************!*\
  !*** D:/Users/DHAN/Desktop/code/ruishi-video/ruishi-video-user/ruishi-video-user/uni_modules/uview-ui/components/u-link/props.js ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default = {
  props: {
    // 文字颜色
    color: {
      type: String,
      default: uni.$u.props.link.color },

    // 字体大小，单位px
    fontSize: {
      type: [String, Number],
      default: uni.$u.props.link.fontSize },

    // 是否显示下划线
    underLine: {
      type: Boolean,
      default: uni.$u.props.link.underLine },

    // 要跳转的链接
    href: {
      type: String,
      default: uni.$u.props.link.href },

    // 小程序中复制到粘贴板的提示语
    mpTips: {
      type: String,
      default: uni.$u.props.link.mpTips },

    // 下划线颜色
    lineColor: {
      type: String,
      default: uni.$u.props.link.lineColor },

    // 超链接的问题，不使用slot形式传入，是因为nvue下无法修改颜色
    text: {
      type: String,
      default: uni.$u.props.link.text } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ })
]]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/common/vendor.js.map